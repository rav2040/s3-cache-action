"use strict";var k_=Object.create;var Ks=Object.defineProperty;var T_=Object.getOwnPropertyDescriptor;var N_=Object.getOwnPropertyNames;var v_=Object.getPrototypeOf,P_=Object.prototype.hasOwnProperty;var Pe=(e,t)=>()=>(e&&(t=e(e=0)),t);var R=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),jn=(e,t)=>{for(var r in t)Ks(e,r,{get:t[r],enumerable:!0})},Tf=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of N_(t))!P_.call(e,o)&&o!==r&&Ks(e,o,{get:()=>t[o],enumerable:!(n=T_(t,o))||n.enumerable});return e};var Tt=(e,t,r)=>(r=e!=null?k_(v_(e)):{},Tf(t||!e||!e.__esModule?Ks(r,"default",{value:e,enumerable:!0}):r,e)),Hn=e=>Tf(Ks({},"__esModule",{value:!0}),e);var Vs=R(Gn=>{"use strict";Object.defineProperty(Gn,"__esModule",{value:!0});Gn.toCommandProperties=Gn.toCommandValue=void 0;function O_(e){return e==null?"":typeof e=="string"||e instanceof String?e:JSON.stringify(e)}Gn.toCommandValue=O_;function I_(e){return Object.keys(e).length?{title:e.title,file:e.file,line:e.startLine,endLine:e.endLine,col:e.startColumn,endColumn:e.endColumn}:{}}Gn.toCommandProperties=I_});var Of=R(ht=>{"use strict";var D_=ht&&ht.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),B_=ht&&ht.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),M_=ht&&ht.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&D_(t,e,r);return B_(t,e),t};Object.defineProperty(ht,"__esModule",{value:!0});ht.issue=ht.issueCommand=void 0;var F_=M_(require("os")),vf=Vs();function Pf(e,t,r){let n=new cc(e,t,r);process.stdout.write(n.toString()+F_.EOL)}ht.issueCommand=Pf;function L_(e,t=""){Pf(e,{},t)}ht.issue=L_;var Nf="::",cc=class{constructor(t,r,n){t||(t="missing.command"),this.command=t,this.properties=r,this.message=n}toString(){let t=Nf+this.command;if(this.properties&&Object.keys(this.properties).length>0){t+=" ";let r=!0;for(let n in this.properties)if(this.properties.hasOwnProperty(n)){let o=this.properties[n];o&&(r?r=!1:t+=",",t+=`${n}=${U_(o)}`)}}return t+=`${Nf}${$_(this.message)}`,t}};function $_(e){return vf.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function U_(e){return vf.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}});function Qo(){return Ws>Ys.length-16&&(If.default.randomFillSync(Ys),Ws=0),Ys.slice(Ws,Ws+=16)}var If,Ys,Ws,dc=Pe(()=>{If=Tt(require("crypto")),Ys=new Uint8Array(256),Ws=Ys.length});var Df,Bf=Pe(()=>{Df=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function z_(e){return typeof e=="string"&&Df.test(e)}var Ar,Xo=Pe(()=>{Bf();Ar=z_});function q_(e,t=0){let r=(Ue[e[t+0]]+Ue[e[t+1]]+Ue[e[t+2]]+Ue[e[t+3]]+"-"+Ue[e[t+4]]+Ue[e[t+5]]+"-"+Ue[e[t+6]]+Ue[e[t+7]]+"-"+Ue[e[t+8]]+Ue[e[t+9]]+"-"+Ue[e[t+10]]+Ue[e[t+11]]+Ue[e[t+12]]+Ue[e[t+13]]+Ue[e[t+14]]+Ue[e[t+15]]).toLowerCase();if(!Ar(r))throw TypeError("Stringified UUID is invalid");return r}var Ue,Rr,Jo=Pe(()=>{Xo();Ue=[];for(let e=0;e<256;++e)Ue.push((e+256).toString(16).substr(1));Rr=q_});function j_(e,t,r){let n=t&&r||0,o=t||new Array(16);e=e||{};let s=e.node||Mf,i=e.clockseq!==void 0?e.clockseq:lc;if(s==null||i==null){let f=e.random||(e.rng||Qo)();s==null&&(s=Mf=[f[0]|1,f[1],f[2],f[3],f[4],f[5]]),i==null&&(i=lc=(f[6]<<8|f[7])&16383)}let a=e.msecs!==void 0?e.msecs:Date.now(),c=e.nsecs!==void 0?e.nsecs:fc+1,d=a-uc+(c-fc)/1e4;if(d<0&&e.clockseq===void 0&&(i=i+1&16383),(d<0||a>uc)&&e.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");uc=a,fc=c,lc=i,a+=122192928e5;let l=((a&268435455)*1e4+c)%4294967296;o[n++]=l>>>24&255,o[n++]=l>>>16&255,o[n++]=l>>>8&255,o[n++]=l&255;let m=a/4294967296*1e4&268435455;o[n++]=m>>>8&255,o[n++]=m&255,o[n++]=m>>>24&15|16,o[n++]=m>>>16&255,o[n++]=i>>>8|128,o[n++]=i&255;for(let f=0;f<6;++f)o[n+f]=s[f];return t||Rr(o)}var Mf,lc,uc,fc,Ff,Lf=Pe(()=>{dc();Jo();uc=0,fc=0;Ff=j_});function H_(e){if(!Ar(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var Qs,mc=Pe(()=>{Xo();Qs=H_});function G_(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}function Xs(e,t,r){function n(o,s,i,a){if(typeof o=="string"&&(o=G_(o)),typeof s=="string"&&(s=Qs(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let c=new Uint8Array(16+o.length);if(c.set(s),c.set(o,s.length),c=r(c),c[6]=c[6]&15|t,c[8]=c[8]&63|128,i){a=a||0;for(let d=0;d<16;++d)i[a+d]=c[d];return i}return Rr(c)}try{n.name=e}catch{}return n.DNS=K_,n.URL=V_,n}var K_,V_,hc=Pe(()=>{Jo();mc();K_="6ba7b810-9dad-11d1-80b4-00c04fd430c8",V_="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function W_(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),$f.default.createHash("md5").update(e).digest()}var $f,Uf,zf=Pe(()=>{$f=Tt(require("crypto"));Uf=W_});var Y_,qf,jf=Pe(()=>{hc();zf();Y_=Xs("v3",48,Uf),qf=Y_});function Q_(e,t,r){e=e||{};let n=e.random||(e.rng||Qo)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let o=0;o<16;++o)t[r+o]=n[o];return t}return Rr(n)}var Js,Hf=Pe(()=>{dc();Jo();Js=Q_});function X_(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),Gf.default.createHash("sha1").update(e).digest()}var Gf,Kf,Vf=Pe(()=>{Gf=Tt(require("crypto"));Kf=X_});var J_,Wf,Yf=Pe(()=>{hc();Vf();J_=Xs("v5",80,Kf),Wf=J_});var Qf,Xf=Pe(()=>{Qf="00000000-0000-0000-0000-000000000000"});function Z_(e){if(!Ar(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}var Jf,Zf=Pe(()=>{Xo();Jf=Z_});var em={};jn(em,{NIL:()=>Qf,parse:()=>Qs,stringify:()=>Rr,v1:()=>Ff,v3:()=>qf,v4:()=>Js,v5:()=>Wf,validate:()=>Ar,version:()=>Jf});var pc=Pe(()=>{Lf();jf();Hf();Yf();Xf();Zf();Xo();Jo();mc()});var om=R(pt=>{"use strict";var e0=pt&&pt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),t0=pt&&pt.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),rm=pt&&pt.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&e0(t,e,r);return t0(t,e),t};Object.defineProperty(pt,"__esModule",{value:!0});pt.prepareKeyValueMessage=pt.issueFileCommand=void 0;var tm=rm(require("fs")),yc=rm(require("os")),r0=(pc(),Hn(em)),nm=Vs();function n0(e,t){let r=process.env[`GITHUB_${e}`];if(!r)throw new Error(`Unable to find environment variable for file command ${e}`);if(!tm.existsSync(r))throw new Error(`Missing file at path: ${r}`);tm.appendFileSync(r,`${nm.toCommandValue(t)}${yc.EOL}`,{encoding:"utf8"})}pt.issueFileCommand=n0;function o0(e,t){let r=`ghadelimiter_${r0.v4()}`,n=nm.toCommandValue(t);if(e.includes(r))throw new Error(`Unexpected input: name should not contain the delimiter "${r}"`);if(n.includes(r))throw new Error(`Unexpected input: value should not contain the delimiter "${r}"`);return`${e}<<${r}${yc.EOL}${n}${yc.EOL}${r}`}pt.prepareKeyValueMessage=o0});var im=R(Kn=>{"use strict";Object.defineProperty(Kn,"__esModule",{value:!0});Kn.checkBypass=Kn.getProxyUrl=void 0;function s0(e){let t=e.protocol==="https:";if(sm(e))return;let r=(()=>t?process.env.https_proxy||process.env.HTTPS_PROXY:process.env.http_proxy||process.env.HTTP_PROXY)();if(r)return new URL(r)}Kn.getProxyUrl=s0;function sm(e){if(!e.hostname)return!1;let t=e.hostname;if(i0(t))return!0;let r=process.env.no_proxy||process.env.NO_PROXY||"";if(!r)return!1;let n;e.port?n=Number(e.port):e.protocol==="http:"?n=80:e.protocol==="https:"&&(n=443);let o=[e.hostname.toUpperCase()];typeof n=="number"&&o.push(`${o[0]}:${n}`);for(let s of r.split(",").map(i=>i.trim().toUpperCase()).filter(i=>i))if(s==="*"||o.some(i=>i===s||i.endsWith(`.${s}`)||s.startsWith(".")&&i.endsWith(`${s}`)))return!0;return!1}Kn.checkBypass=sm;function i0(e){let t=e.toLowerCase();return t==="localhost"||t.startsWith("127.")||t.startsWith("[::1]")||t.startsWith("[0:0:0:0:0:0:0:1]")}});var lm=R(Vn=>{"use strict";var X1=require("net"),a0=require("tls"),gc=require("http"),am=require("https"),c0=require("events"),J1=require("assert"),d0=require("util");Vn.httpOverHttp=l0;Vn.httpsOverHttp=u0;Vn.httpOverHttps=f0;Vn.httpsOverHttps=m0;function l0(e){var t=new ir(e);return t.request=gc.request,t}function u0(e){var t=new ir(e);return t.request=gc.request,t.createSocket=cm,t.defaultPort=443,t}function f0(e){var t=new ir(e);return t.request=am.request,t}function m0(e){var t=new ir(e);return t.request=am.request,t.createSocket=cm,t.defaultPort=443,t}function ir(e){var t=this;t.options=e||{},t.proxyOptions=t.options.proxy||{},t.maxSockets=t.options.maxSockets||gc.Agent.defaultMaxSockets,t.requests=[],t.sockets=[],t.on("free",function(n,o,s,i){for(var a=dm(o,s,i),c=0,d=t.requests.length;c<d;++c){var l=t.requests[c];if(l.host===a.host&&l.port===a.port){t.requests.splice(c,1),l.request.onSocket(n);return}}n.destroy(),t.removeSocket(n)})}d0.inherits(ir,c0.EventEmitter);ir.prototype.addRequest=function(t,r,n,o){var s=this,i=xc({request:t},s.options,dm(r,n,o));if(s.sockets.length>=this.maxSockets){s.requests.push(i);return}s.createSocket(i,function(a){a.on("free",c),a.on("close",d),a.on("agentRemove",d),t.onSocket(a);function c(){s.emit("free",a,i)}function d(l){s.removeSocket(a),a.removeListener("free",c),a.removeListener("close",d),a.removeListener("agentRemove",d)}})};ir.prototype.createSocket=function(t,r){var n=this,o={};n.sockets.push(o);var s=xc({},n.proxyOptions,{method:"CONNECT",path:t.host+":"+t.port,agent:!1,headers:{host:t.host+":"+t.port}});t.localAddress&&(s.localAddress=t.localAddress),s.proxyAuth&&(s.headers=s.headers||{},s.headers["Proxy-Authorization"]="Basic "+new Buffer(s.proxyAuth).toString("base64")),kr("making CONNECT request");var i=n.request(s);i.useChunkedEncodingByDefault=!1,i.once("response",a),i.once("upgrade",c),i.once("connect",d),i.once("error",l),i.end();function a(m){m.upgrade=!0}function c(m,f,E){process.nextTick(function(){d(m,f,E)})}function d(m,f,E){if(i.removeAllListeners(),f.removeAllListeners(),m.statusCode!==200){kr("tunneling socket could not be established, statusCode=%d",m.statusCode),f.destroy();var g=new Error("tunneling socket could not be established, statusCode="+m.statusCode);g.code="ECONNRESET",t.request.emit("error",g),n.removeSocket(o);return}if(E.length>0){kr("got illegal response body from proxy"),f.destroy();var g=new Error("got illegal response body from proxy");g.code="ECONNRESET",t.request.emit("error",g),n.removeSocket(o);return}return kr("tunneling connection has established"),n.sockets[n.sockets.indexOf(o)]=f,r(f)}function l(m){i.removeAllListeners(),kr(`tunneling socket could not be established, cause=%s
`,m.message,m.stack);var f=new Error("tunneling socket could not be established, cause="+m.message);f.code="ECONNRESET",t.request.emit("error",f),n.removeSocket(o)}};ir.prototype.removeSocket=function(t){var r=this.sockets.indexOf(t);if(r!==-1){this.sockets.splice(r,1);var n=this.requests.shift();n&&this.createSocket(n,function(o){n.request.onSocket(o)})}};function cm(e,t){var r=this;ir.prototype.createSocket.call(r,e,function(n){var o=e.request.getHeader("host"),s=xc({},r.options,{socket:n,servername:o?o.replace(/:.*$/,""):e.host}),i=a0.connect(0,s);r.sockets[r.sockets.indexOf(n)]=i,t(i)})}function dm(e,t,r){return typeof e=="string"?{host:e,port:t,localAddress:r}:e}function xc(e){for(var t=1,r=arguments.length;t<r;++t){var n=arguments[t];if(typeof n=="object")for(var o=Object.keys(n),s=0,i=o.length;s<i;++s){var a=o[s];n[a]!==void 0&&(e[a]=n[a])}}return e}var kr;process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)?kr=function(){var e=Array.prototype.slice.call(arguments);typeof e[0]=="string"?e[0]="TUNNEL: "+e[0]:e.unshift("TUNNEL:"),console.error.apply(console,e)}:kr=function(){};Vn.debug=kr});var fm=R((e3,um)=>{um.exports=lm()});var hm=R(me=>{"use strict";var h0=me&&me.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),p0=me&&me.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),ni=me&&me.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&h0(t,e,r);return p0(t,e),t},Be=me&&me.__awaiter||function(e,t,r,n){function o(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function a(l){try{d(n.next(l))}catch(m){i(m)}}function c(l){try{d(n.throw(l))}catch(m){i(m)}}function d(l){l.done?s(l.value):o(l.value).then(a,c)}d((n=n.apply(e,t||[])).next())})};Object.defineProperty(me,"__esModule",{value:!0});me.HttpClient=me.isHttps=me.HttpClientResponse=me.HttpClientError=me.getProxyUrl=me.MediaTypes=me.Headers=me.HttpCodes=void 0;var Zs=ni(require("http")),Cc=ni(require("https")),mm=ni(im()),ei=ni(fm()),Nt;(function(e){e[e.OK=200]="OK",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.ResourceMoved=302]="ResourceMoved",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.SwitchProxy=306]="SwitchProxy",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.TooManyRequests=429]="TooManyRequests",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout"})(Nt=me.HttpCodes||(me.HttpCodes={}));var Ze;(function(e){e.Accept="accept",e.ContentType="content-type"})(Ze=me.Headers||(me.Headers={}));var Tr;(function(e){e.ApplicationJson="application/json"})(Tr=me.MediaTypes||(me.MediaTypes={}));function y0(e){let t=mm.getProxyUrl(new URL(e));return t?t.href:""}me.getProxyUrl=y0;var g0=[Nt.MovedPermanently,Nt.ResourceMoved,Nt.SeeOther,Nt.TemporaryRedirect,Nt.PermanentRedirect],x0=[Nt.BadGateway,Nt.ServiceUnavailable,Nt.GatewayTimeout],C0=["OPTIONS","GET","DELETE","HEAD"],E0=10,w0=5,Wn=class extends Error{constructor(t,r){super(t),this.name="HttpClientError",this.statusCode=r,Object.setPrototypeOf(this,Wn.prototype)}};me.HttpClientError=Wn;var ri=class{constructor(t){this.message=t}readBody(){return Be(this,void 0,void 0,function*(){return new Promise(t=>Be(this,void 0,void 0,function*(){let r=Buffer.alloc(0);this.message.on("data",n=>{r=Buffer.concat([r,n])}),this.message.on("end",()=>{t(r.toString())})}))})}};me.HttpClientResponse=ri;function S0(e){return new URL(e).protocol==="https:"}me.isHttps=S0;var Ec=class{constructor(t,r,n){this._ignoreSslError=!1,this._allowRedirects=!0,this._allowRedirectDowngrade=!1,this._maxRedirects=50,this._allowRetries=!1,this._maxRetries=1,this._keepAlive=!1,this._disposed=!1,this.userAgent=t,this.handlers=r||[],this.requestOptions=n,n&&(n.ignoreSslError!=null&&(this._ignoreSslError=n.ignoreSslError),this._socketTimeout=n.socketTimeout,n.allowRedirects!=null&&(this._allowRedirects=n.allowRedirects),n.allowRedirectDowngrade!=null&&(this._allowRedirectDowngrade=n.allowRedirectDowngrade),n.maxRedirects!=null&&(this._maxRedirects=Math.max(n.maxRedirects,0)),n.keepAlive!=null&&(this._keepAlive=n.keepAlive),n.allowRetries!=null&&(this._allowRetries=n.allowRetries),n.maxRetries!=null&&(this._maxRetries=n.maxRetries))}options(t,r){return Be(this,void 0,void 0,function*(){return this.request("OPTIONS",t,null,r||{})})}get(t,r){return Be(this,void 0,void 0,function*(){return this.request("GET",t,null,r||{})})}del(t,r){return Be(this,void 0,void 0,function*(){return this.request("DELETE",t,null,r||{})})}post(t,r,n){return Be(this,void 0,void 0,function*(){return this.request("POST",t,r,n||{})})}patch(t,r,n){return Be(this,void 0,void 0,function*(){return this.request("PATCH",t,r,n||{})})}put(t,r,n){return Be(this,void 0,void 0,function*(){return this.request("PUT",t,r,n||{})})}head(t,r){return Be(this,void 0,void 0,function*(){return this.request("HEAD",t,null,r||{})})}sendStream(t,r,n,o){return Be(this,void 0,void 0,function*(){return this.request(t,r,n,o)})}getJson(t,r={}){return Be(this,void 0,void 0,function*(){r[Ze.Accept]=this._getExistingOrDefaultHeader(r,Ze.Accept,Tr.ApplicationJson);let n=yield this.get(t,r);return this._processResponse(n,this.requestOptions)})}postJson(t,r,n={}){return Be(this,void 0,void 0,function*(){let o=JSON.stringify(r,null,2);n[Ze.Accept]=this._getExistingOrDefaultHeader(n,Ze.Accept,Tr.ApplicationJson),n[Ze.ContentType]=this._getExistingOrDefaultHeader(n,Ze.ContentType,Tr.ApplicationJson);let s=yield this.post(t,o,n);return this._processResponse(s,this.requestOptions)})}putJson(t,r,n={}){return Be(this,void 0,void 0,function*(){let o=JSON.stringify(r,null,2);n[Ze.Accept]=this._getExistingOrDefaultHeader(n,Ze.Accept,Tr.ApplicationJson),n[Ze.ContentType]=this._getExistingOrDefaultHeader(n,Ze.ContentType,Tr.ApplicationJson);let s=yield this.put(t,o,n);return this._processResponse(s,this.requestOptions)})}patchJson(t,r,n={}){return Be(this,void 0,void 0,function*(){let o=JSON.stringify(r,null,2);n[Ze.Accept]=this._getExistingOrDefaultHeader(n,Ze.Accept,Tr.ApplicationJson),n[Ze.ContentType]=this._getExistingOrDefaultHeader(n,Ze.ContentType,Tr.ApplicationJson);let s=yield this.patch(t,o,n);return this._processResponse(s,this.requestOptions)})}request(t,r,n,o){return Be(this,void 0,void 0,function*(){if(this._disposed)throw new Error("Client has already been disposed.");let s=new URL(r),i=this._prepareRequest(t,s,o),a=this._allowRetries&&C0.includes(t)?this._maxRetries+1:1,c=0,d;do{if(d=yield this.requestRaw(i,n),d&&d.message&&d.message.statusCode===Nt.Unauthorized){let m;for(let f of this.handlers)if(f.canHandleAuthentication(d)){m=f;break}return m?m.handleAuthentication(this,i,n):d}let l=this._maxRedirects;for(;d.message.statusCode&&g0.includes(d.message.statusCode)&&this._allowRedirects&&l>0;){let m=d.message.headers.location;if(!m)break;let f=new URL(m);if(s.protocol==="https:"&&s.protocol!==f.protocol&&!this._allowRedirectDowngrade)throw new Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.");if(yield d.readBody(),f.hostname!==s.hostname)for(let E in o)E.toLowerCase()==="authorization"&&delete o[E];i=this._prepareRequest(t,f,o),d=yield this.requestRaw(i,n),l--}if(!d.message.statusCode||!x0.includes(d.message.statusCode))return d;c+=1,c<a&&(yield d.readBody(),yield this._performExponentialBackoff(c))}while(c<a);return d})}dispose(){this._agent&&this._agent.destroy(),this._disposed=!0}requestRaw(t,r){return Be(this,void 0,void 0,function*(){return new Promise((n,o)=>{function s(i,a){i?o(i):a?n(a):o(new Error("Unknown error"))}this.requestRawWithCallback(t,r,s)})})}requestRawWithCallback(t,r,n){typeof r=="string"&&(t.options.headers||(t.options.headers={}),t.options.headers["Content-Length"]=Buffer.byteLength(r,"utf8"));let o=!1;function s(c,d){o||(o=!0,n(c,d))}let i=t.httpModule.request(t.options,c=>{let d=new ri(c);s(void 0,d)}),a;i.on("socket",c=>{a=c}),i.setTimeout(this._socketTimeout||3*6e4,()=>{a&&a.end(),s(new Error(`Request timeout: ${t.options.path}`))}),i.on("error",function(c){s(c)}),r&&typeof r=="string"&&i.write(r,"utf8"),r&&typeof r!="string"?(r.on("close",function(){i.end()}),r.pipe(i)):i.end()}getAgent(t){let r=new URL(t);return this._getAgent(r)}_prepareRequest(t,r,n){let o={};o.parsedUrl=r;let s=o.parsedUrl.protocol==="https:";o.httpModule=s?Cc:Zs;let i=s?443:80;if(o.options={},o.options.host=o.parsedUrl.hostname,o.options.port=o.parsedUrl.port?parseInt(o.parsedUrl.port):i,o.options.path=(o.parsedUrl.pathname||"")+(o.parsedUrl.search||""),o.options.method=t,o.options.headers=this._mergeHeaders(n),this.userAgent!=null&&(o.options.headers["user-agent"]=this.userAgent),o.options.agent=this._getAgent(o.parsedUrl),this.handlers)for(let a of this.handlers)a.prepareRequest(o.options);return o}_mergeHeaders(t){return this.requestOptions&&this.requestOptions.headers?Object.assign({},ti(this.requestOptions.headers),ti(t||{})):ti(t||{})}_getExistingOrDefaultHeader(t,r,n){let o;return this.requestOptions&&this.requestOptions.headers&&(o=ti(this.requestOptions.headers)[r]),t[r]||o||n}_getAgent(t){let r,n=mm.getProxyUrl(t),o=n&&n.hostname;if(this._keepAlive&&o&&(r=this._proxyAgent),this._keepAlive&&!o&&(r=this._agent),r)return r;let s=t.protocol==="https:",i=100;if(this.requestOptions&&(i=this.requestOptions.maxSockets||Zs.globalAgent.maxSockets),n&&n.hostname){let a={maxSockets:i,keepAlive:this._keepAlive,proxy:Object.assign(Object.assign({},(n.username||n.password)&&{proxyAuth:`${n.username}:${n.password}`}),{host:n.hostname,port:n.port})},c,d=n.protocol==="https:";s?c=d?ei.httpsOverHttps:ei.httpsOverHttp:c=d?ei.httpOverHttps:ei.httpOverHttp,r=c(a),this._proxyAgent=r}if(this._keepAlive&&!r){let a={keepAlive:this._keepAlive,maxSockets:i};r=s?new Cc.Agent(a):new Zs.Agent(a),this._agent=r}return r||(r=s?Cc.globalAgent:Zs.globalAgent),s&&this._ignoreSslError&&(r.options=Object.assign(r.options||{},{rejectUnauthorized:!1})),r}_performExponentialBackoff(t){return Be(this,void 0,void 0,function*(){t=Math.min(E0,t);let r=w0*Math.pow(2,t);return new Promise(n=>setTimeout(()=>n(),r))})}_processResponse(t,r){return Be(this,void 0,void 0,function*(){return new Promise((n,o)=>Be(this,void 0,void 0,function*(){let s=t.message.statusCode||0,i={statusCode:s,result:null,headers:{}};s===Nt.NotFound&&n(i);function a(l,m){if(typeof m=="string"){let f=new Date(m);if(!isNaN(f.valueOf()))return f}return m}let c,d;try{d=yield t.readBody(),d&&d.length>0&&(r&&r.deserializeDates?c=JSON.parse(d,a):c=JSON.parse(d),i.result=c),i.headers=t.message.headers}catch{}if(s>299){let l;c&&c.message?l=c.message:d&&d.length>0?l=d:l=`Failed request: (${s})`;let m=new Wn(l,s);m.result=i.result,o(m)}else n(i)}))})}};me.HttpClient=Ec;var ti=e=>Object.keys(e).reduce((t,r)=>(t[r.toLowerCase()]=e[r],t),{})});var pm=R(Bt=>{"use strict";var _c=Bt&&Bt.__awaiter||function(e,t,r,n){function o(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function a(l){try{d(n.next(l))}catch(m){i(m)}}function c(l){try{d(n.throw(l))}catch(m){i(m)}}function d(l){l.done?s(l.value):o(l.value).then(a,c)}d((n=n.apply(e,t||[])).next())})};Object.defineProperty(Bt,"__esModule",{value:!0});Bt.PersonalAccessTokenCredentialHandler=Bt.BearerCredentialHandler=Bt.BasicCredentialHandler=void 0;var wc=class{constructor(t,r){this.username=t,this.password=r}prepareRequest(t){if(!t.headers)throw Error("The request has no headers");t.headers.Authorization=`Basic ${Buffer.from(`${this.username}:${this.password}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return _c(this,void 0,void 0,function*(){throw new Error("not implemented")})}};Bt.BasicCredentialHandler=wc;var Sc=class{constructor(t){this.token=t}prepareRequest(t){if(!t.headers)throw Error("The request has no headers");t.headers.Authorization=`Bearer ${this.token}`}canHandleAuthentication(){return!1}handleAuthentication(){return _c(this,void 0,void 0,function*(){throw new Error("not implemented")})}};Bt.BearerCredentialHandler=Sc;var bc=class{constructor(t){this.token=t}prepareRequest(t){if(!t.headers)throw Error("The request has no headers");t.headers.Authorization=`Basic ${Buffer.from(`PAT:${this.token}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return _c(this,void 0,void 0,function*(){throw new Error("not implemented")})}};Bt.PersonalAccessTokenCredentialHandler=bc});var xm=R(Yn=>{"use strict";var ym=Yn&&Yn.__awaiter||function(e,t,r,n){function o(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function a(l){try{d(n.next(l))}catch(m){i(m)}}function c(l){try{d(n.throw(l))}catch(m){i(m)}}function d(l){l.done?s(l.value):o(l.value).then(a,c)}d((n=n.apply(e,t||[])).next())})};Object.defineProperty(Yn,"__esModule",{value:!0});Yn.OidcClient=void 0;var b0=hm(),_0=pm(),gm=Ac(),Nr=class{static createHttpClient(t=!0,r=10){let n={allowRetries:t,maxRetries:r};return new b0.HttpClient("actions/oidc-client",[new _0.BearerCredentialHandler(Nr.getRequestToken())],n)}static getRequestToken(){let t=process.env.ACTIONS_ID_TOKEN_REQUEST_TOKEN;if(!t)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_TOKEN env variable");return t}static getIDTokenUrl(){let t=process.env.ACTIONS_ID_TOKEN_REQUEST_URL;if(!t)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_URL env variable");return t}static getCall(t){var r;return ym(this,void 0,void 0,function*(){let s=(r=(yield Nr.createHttpClient().getJson(t).catch(i=>{throw new Error(`Failed to get ID Token. 
 
        Error Code : ${i.statusCode}
 
        Error Message: ${i.result.message}`)})).result)===null||r===void 0?void 0:r.value;if(!s)throw new Error("Response json body do not have ID Token field");return s})}static getIDToken(t){return ym(this,void 0,void 0,function*(){try{let r=Nr.getIDTokenUrl();if(t){let o=encodeURIComponent(t);r=`${r}&audience=${o}`}gm.debug(`ID token url is ${r}`);let n=yield Nr.getCall(r);return gm.setSecret(n),n}catch(r){throw new Error(`Error message: ${r.message}`)}})}};Yn.OidcClient=Nr});var Nc=R(tt=>{"use strict";var Rc=tt&&tt.__awaiter||function(e,t,r,n){function o(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function a(l){try{d(n.next(l))}catch(m){i(m)}}function c(l){try{d(n.throw(l))}catch(m){i(m)}}function d(l){l.done?s(l.value):o(l.value).then(a,c)}d((n=n.apply(e,t||[])).next())})};Object.defineProperty(tt,"__esModule",{value:!0});tt.summary=tt.markdownSummary=tt.SUMMARY_DOCS_URL=tt.SUMMARY_ENV_VAR=void 0;var A0=require("os"),kc=require("fs"),{access:R0,appendFile:k0,writeFile:T0}=kc.promises;tt.SUMMARY_ENV_VAR="GITHUB_STEP_SUMMARY";tt.SUMMARY_DOCS_URL="https://docs.github.com/actions/using-workflows/workflow-commands-for-github-actions#adding-a-job-summary";var Tc=class{constructor(){this._buffer=""}filePath(){return Rc(this,void 0,void 0,function*(){if(this._filePath)return this._filePath;let t=process.env[tt.SUMMARY_ENV_VAR];if(!t)throw new Error(`Unable to find environment variable for $${tt.SUMMARY_ENV_VAR}. Check if your runtime environment supports job summaries.`);try{yield R0(t,kc.constants.R_OK|kc.constants.W_OK)}catch{throw new Error(`Unable to access summary file: '${t}'. Check if the file has correct read/write permissions.`)}return this._filePath=t,this._filePath})}wrap(t,r,n={}){let o=Object.entries(n).map(([s,i])=>` ${s}="${i}"`).join("");return r?`<${t}${o}>${r}</${t}>`:`<${t}${o}>`}write(t){return Rc(this,void 0,void 0,function*(){let r=!!(t!=null&&t.overwrite),n=yield this.filePath();return yield(r?T0:k0)(n,this._buffer,{encoding:"utf8"}),this.emptyBuffer()})}clear(){return Rc(this,void 0,void 0,function*(){return this.emptyBuffer().write({overwrite:!0})})}stringify(){return this._buffer}isEmptyBuffer(){return this._buffer.length===0}emptyBuffer(){return this._buffer="",this}addRaw(t,r=!1){return this._buffer+=t,r?this.addEOL():this}addEOL(){return this.addRaw(A0.EOL)}addCodeBlock(t,r){let n=Object.assign({},r&&{lang:r}),o=this.wrap("pre",this.wrap("code",t),n);return this.addRaw(o).addEOL()}addList(t,r=!1){let n=r?"ol":"ul",o=t.map(i=>this.wrap("li",i)).join(""),s=this.wrap(n,o);return this.addRaw(s).addEOL()}addTable(t){let r=t.map(o=>{let s=o.map(i=>{if(typeof i=="string")return this.wrap("td",i);let{header:a,data:c,colspan:d,rowspan:l}=i,m=a?"th":"td",f=Object.assign(Object.assign({},d&&{colspan:d}),l&&{rowspan:l});return this.wrap(m,c,f)}).join("");return this.wrap("tr",s)}).join(""),n=this.wrap("table",r);return this.addRaw(n).addEOL()}addDetails(t,r){let n=this.wrap("details",this.wrap("summary",t)+r);return this.addRaw(n).addEOL()}addImage(t,r,n){let{width:o,height:s}=n||{},i=Object.assign(Object.assign({},o&&{width:o}),s&&{height:s}),a=this.wrap("img",null,Object.assign({src:t,alt:r},i));return this.addRaw(a).addEOL()}addHeading(t,r){let n=`h${r}`,o=["h1","h2","h3","h4","h5","h6"].includes(n)?n:"h1",s=this.wrap(o,t);return this.addRaw(s).addEOL()}addSeparator(){let t=this.wrap("hr",null);return this.addRaw(t).addEOL()}addBreak(){let t=this.wrap("br",null);return this.addRaw(t).addEOL()}addQuote(t,r){let n=Object.assign({},r&&{cite:r}),o=this.wrap("blockquote",t,n);return this.addRaw(o).addEOL()}addLink(t,r){let n=this.wrap("a",t,{href:r});return this.addRaw(n).addEOL()}},Cm=new Tc;tt.markdownSummary=Cm;tt.summary=Cm});var Em=R(rt=>{"use strict";var N0=rt&&rt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),v0=rt&&rt.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),P0=rt&&rt.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&N0(t,e,r);return v0(t,e),t};Object.defineProperty(rt,"__esModule",{value:!0});rt.toPlatformPath=rt.toWin32Path=rt.toPosixPath=void 0;var O0=P0(require("path"));function I0(e){return e.replace(/[\\]/g,"/")}rt.toPosixPath=I0;function D0(e){return e.replace(/[/]/g,"\\")}rt.toWin32Path=D0;function B0(e){return e.replace(/[/\\]/g,O0.sep)}rt.toPlatformPath=B0});var Ac=R(F=>{"use strict";var M0=F&&F.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),F0=F&&F.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),wm=F&&F.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&M0(t,e,r);return F0(t,e),t},Sm=F&&F.__awaiter||function(e,t,r,n){function o(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function a(l){try{d(n.next(l))}catch(m){i(m)}}function c(l){try{d(n.throw(l))}catch(m){i(m)}}function d(l){l.done?s(l.value):o(l.value).then(a,c)}d((n=n.apply(e,t||[])).next())})};Object.defineProperty(F,"__esModule",{value:!0});F.getIDToken=F.getState=F.saveState=F.group=F.endGroup=F.startGroup=F.info=F.notice=F.warning=F.error=F.debug=F.isDebug=F.setFailed=F.setCommandEcho=F.setOutput=F.getBooleanInput=F.getMultilineInput=F.getInput=F.addPath=F.setSecret=F.exportVariable=F.ExitCode=void 0;var yt=Of(),Cn=om(),Qn=Vs(),bm=wm(require("os")),L0=wm(require("path")),$0=xm(),_m;(function(e){e[e.Success=0]="Success",e[e.Failure=1]="Failure"})(_m=F.ExitCode||(F.ExitCode={}));function U0(e,t){let r=Qn.toCommandValue(t);if(process.env[e]=r,process.env.GITHUB_ENV||"")return Cn.issueFileCommand("ENV",Cn.prepareKeyValueMessage(e,t));yt.issueCommand("set-env",{name:e},r)}F.exportVariable=U0;function z0(e){yt.issueCommand("add-mask",{},e)}F.setSecret=z0;function q0(e){process.env.GITHUB_PATH||""?Cn.issueFileCommand("PATH",e):yt.issueCommand("add-path",{},e),process.env.PATH=`${e}${L0.delimiter}${process.env.PATH}`}F.addPath=q0;function vc(e,t){let r=process.env[`INPUT_${e.replace(/ /g,"_").toUpperCase()}`]||"";if(t&&t.required&&!r)throw new Error(`Input required and not supplied: ${e}`);return t&&t.trimWhitespace===!1?r:r.trim()}F.getInput=vc;function j0(e,t){let r=vc(e,t).split(`
`).filter(n=>n!=="");return t&&t.trimWhitespace===!1?r:r.map(n=>n.trim())}F.getMultilineInput=j0;function H0(e,t){let r=["true","True","TRUE"],n=["false","False","FALSE"],o=vc(e,t);if(r.includes(o))return!0;if(n.includes(o))return!1;throw new TypeError(`Input does not meet YAML 1.2 "Core Schema" specification: ${e}
Support boolean input list: \`true | True | TRUE | false | False | FALSE\``)}F.getBooleanInput=H0;function G0(e,t){if(process.env.GITHUB_OUTPUT||"")return Cn.issueFileCommand("OUTPUT",Cn.prepareKeyValueMessage(e,t));process.stdout.write(bm.EOL),yt.issueCommand("set-output",{name:e},Qn.toCommandValue(t))}F.setOutput=G0;function K0(e){yt.issue("echo",e?"on":"off")}F.setCommandEcho=K0;function V0(e){process.exitCode=_m.Failure,Am(e)}F.setFailed=V0;function W0(){return process.env.RUNNER_DEBUG==="1"}F.isDebug=W0;function Y0(e){yt.issueCommand("debug",{},e)}F.debug=Y0;function Am(e,t={}){yt.issueCommand("error",Qn.toCommandProperties(t),e instanceof Error?e.toString():e)}F.error=Am;function Q0(e,t={}){yt.issueCommand("warning",Qn.toCommandProperties(t),e instanceof Error?e.toString():e)}F.warning=Q0;function X0(e,t={}){yt.issueCommand("notice",Qn.toCommandProperties(t),e instanceof Error?e.toString():e)}F.notice=X0;function J0(e){process.stdout.write(e+bm.EOL)}F.info=J0;function Rm(e){yt.issue("group",e)}F.startGroup=Rm;function km(){yt.issue("endgroup")}F.endGroup=km;function Z0(e,t){return Sm(this,void 0,void 0,function*(){Rm(e);let r;try{r=yield t()}finally{km()}return r})}F.group=Z0;function eA(e,t){if(process.env.GITHUB_STATE||"")return Cn.issueFileCommand("STATE",Cn.prepareKeyValueMessage(e,t));yt.issueCommand("save-state",{name:e},Qn.toCommandValue(t))}F.saveState=eA;function tA(e){return process.env[`STATE_${e}`]||""}F.getState=tA;function rA(e){return Sm(this,void 0,void 0,function*(){return yield $0.OidcClient.getIDToken(e)})}F.getIDToken=rA;var nA=Nc();Object.defineProperty(F,"summary",{enumerable:!0,get:function(){return nA.summary}});var oA=Nc();Object.defineProperty(F,"markdownSummary",{enumerable:!0,get:function(){return oA.markdownSummary}});var Pc=Em();Object.defineProperty(F,"toPosixPath",{enumerable:!0,get:function(){return Pc.toPosixPath}});Object.defineProperty(F,"toWin32Path",{enumerable:!0,get:function(){return Pc.toWin32Path}});Object.defineProperty(F,"toPlatformPath",{enumerable:!0,get:function(){return Pc.toPlatformPath}})});var Lc=R(dr=>{"use strict";var Xm=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",OA=Xm+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",Jm="["+Xm+"]["+OA+"]*",IA=new RegExp("^"+Jm+"$"),DA=function(e,t){let r=[],n=t.exec(e);for(;n;){let o=[];o.startIndex=t.lastIndex-n[0].length;let s=n.length;for(let i=0;i<s;i++)o.push(n[i]);r.push(o),n=t.exec(e)}return r},BA=function(e){let t=IA.exec(e);return!(t===null||typeof t>"u")};dr.isExist=function(e){return typeof e<"u"};dr.isEmptyObject=function(e){return Object.keys(e).length===0};dr.merge=function(e,t,r){if(t){let n=Object.keys(t),o=n.length;for(let s=0;s<o;s++)r==="strict"?e[n[s]]=[t[n[s]]]:e[n[s]]=t[n[s]]}};dr.getValue=function(e){return dr.isExist(e)?e:""};dr.isName=BA;dr.getAllMatches=DA;dr.nameRegexp=Jm});var Uc=R(nh=>{"use strict";var $c=Lc(),MA={allowBooleanAttributes:!1,unpairedTags:[]};nh.validate=function(e,t){t=Object.assign({},MA,t);let r=[],n=!1,o=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let s=0;s<e.length;s++)if(e[s]==="<"&&e[s+1]==="?"){if(s+=2,s=eh(e,s),s.err)return s}else if(e[s]==="<"){let i=s;if(s++,e[s]==="!"){s=th(e,s);continue}else{let a=!1;e[s]==="/"&&(a=!0,s++);let c="";for(;s<e.length&&e[s]!==">"&&e[s]!==" "&&e[s]!=="	"&&e[s]!==`
`&&e[s]!=="\r";s++)c+=e[s];if(c=c.trim(),c[c.length-1]==="/"&&(c=c.substring(0,c.length-1),s--),!HA(c)){let m;return c.trim().length===0?m="Invalid space after '<'.":m="Tag '"+c+"' is an invalid name.",Oe("InvalidTag",m,ot(e,s))}let d=$A(e,s);if(d===!1)return Oe("InvalidAttr","Attributes for '"+c+"' have open quote.",ot(e,s));let l=d.value;if(s=d.index,l[l.length-1]==="/"){let m=s-l.length;l=l.substring(0,l.length-1);let f=rh(l,t);if(f===!0)n=!0;else return Oe(f.err.code,f.err.msg,ot(e,m+f.err.line))}else if(a)if(d.tagClosed){if(l.trim().length>0)return Oe("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",ot(e,i));{let m=r.pop();if(c!==m.tagName){let f=ot(e,m.tagStartPos);return Oe("InvalidTag","Expected closing tag '"+m.tagName+"' (opened in line "+f.line+", col "+f.col+") instead of closing tag '"+c+"'.",ot(e,i))}r.length==0&&(o=!0)}}else return Oe("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",ot(e,s));else{let m=rh(l,t);if(m!==!0)return Oe(m.err.code,m.err.msg,ot(e,s-l.length+m.err.line));if(o===!0)return Oe("InvalidXml","Multiple possible root nodes found.",ot(e,s));t.unpairedTags.indexOf(c)!==-1||r.push({tagName:c,tagStartPos:i}),n=!0}for(s++;s<e.length;s++)if(e[s]==="<")if(e[s+1]==="!"){s++,s=th(e,s);continue}else if(e[s+1]==="?"){if(s=eh(e,++s),s.err)return s}else break;else if(e[s]==="&"){let m=qA(e,s);if(m==-1)return Oe("InvalidChar","char '&' is not expected.",ot(e,s));s=m}else if(o===!0&&!Zm(e[s]))return Oe("InvalidXml","Extra text at the end",ot(e,s));e[s]==="<"&&s--}}else{if(Zm(e[s]))continue;return Oe("InvalidChar","char '"+e[s]+"' is not expected.",ot(e,s))}if(n){if(r.length==1)return Oe("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",ot(e,r[0].tagStartPos));if(r.length>0)return Oe("InvalidXml","Invalid '"+JSON.stringify(r.map(s=>s.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return Oe("InvalidXml","Start tag expected.",1);return!0};function Zm(e){return e===" "||e==="	"||e===`
`||e==="\r"}function eh(e,t){let r=t;for(;t<e.length;t++)if(e[t]=="?"||e[t]==" "){let n=e.substr(r,t-r);if(t>5&&n==="xml")return Oe("InvalidXml","XML declaration allowed only at the start of the document.",ot(e,t));if(e[t]=="?"&&e[t+1]==">"){t++;break}else continue}return t}function th(e,t){if(e.length>t+5&&e[t+1]==="-"&&e[t+2]==="-"){for(t+=3;t<e.length;t++)if(e[t]==="-"&&e[t+1]==="-"&&e[t+2]===">"){t+=2;break}}else if(e.length>t+8&&e[t+1]==="D"&&e[t+2]==="O"&&e[t+3]==="C"&&e[t+4]==="T"&&e[t+5]==="Y"&&e[t+6]==="P"&&e[t+7]==="E"){let r=1;for(t+=8;t<e.length;t++)if(e[t]==="<")r++;else if(e[t]===">"&&(r--,r===0))break}else if(e.length>t+9&&e[t+1]==="["&&e[t+2]==="C"&&e[t+3]==="D"&&e[t+4]==="A"&&e[t+5]==="T"&&e[t+6]==="A"&&e[t+7]==="["){for(t+=8;t<e.length;t++)if(e[t]==="]"&&e[t+1]==="]"&&e[t+2]===">"){t+=2;break}}return t}var FA='"',LA="'";function $A(e,t){let r="",n="",o=!1;for(;t<e.length;t++){if(e[t]===FA||e[t]===LA)n===""?n=e[t]:n!==e[t]||(n="");else if(e[t]===">"&&n===""){o=!0;break}r+=e[t]}return n!==""?!1:{value:r,index:t,tagClosed:o}}var UA=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function rh(e,t){let r=$c.getAllMatches(e,UA),n={};for(let o=0;o<r.length;o++){if(r[o][1].length===0)return Oe("InvalidAttr","Attribute '"+r[o][2]+"' has no space in starting.",rs(r[o]));if(r[o][3]!==void 0&&r[o][4]===void 0)return Oe("InvalidAttr","Attribute '"+r[o][2]+"' is without value.",rs(r[o]));if(r[o][3]===void 0&&!t.allowBooleanAttributes)return Oe("InvalidAttr","boolean attribute '"+r[o][2]+"' is not allowed.",rs(r[o]));let s=r[o][2];if(!jA(s))return Oe("InvalidAttr","Attribute '"+s+"' is an invalid name.",rs(r[o]));if(!n.hasOwnProperty(s))n[s]=1;else return Oe("InvalidAttr","Attribute '"+s+"' is repeated.",rs(r[o]))}return!0}function zA(e,t){let r=/\d/;for(e[t]==="x"&&(t++,r=/[\da-fA-F]/);t<e.length;t++){if(e[t]===";")return t;if(!e[t].match(r))break}return-1}function qA(e,t){if(t++,e[t]===";")return-1;if(e[t]==="#")return t++,zA(e,t);let r=0;for(;t<e.length;t++,r++)if(!(e[t].match(/\w/)&&r<20)){if(e[t]===";")break;return-1}return t}function Oe(e,t,r){return{err:{code:e,msg:t,line:r.line||r,col:r.col}}}function jA(e){return $c.isName(e)}function HA(e){return $c.isName(e)}function ot(e,t){let r=e.substring(0,t).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function rs(e){return e.startIndex+e[1].length}});var sh=R(zc=>{var oh={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1},GA=function(e){return Object.assign({},oh,e)};zc.buildOptions=GA;zc.defaultOptions=oh});var ah=R((wF,ih)=>{"use strict";var qc=class{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,r){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:r})}addChild(t){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,[":@"]:t[":@"]}):this.child.push({[t.tagname]:t.child})}};ih.exports=qc});var dh=R((SF,ch)=>{function KA(e,t){let r={};if(e[t+3]==="O"&&e[t+4]==="C"&&e[t+5]==="T"&&e[t+6]==="Y"&&e[t+7]==="P"&&e[t+8]==="E"){t=t+9;let n=1,o=!1,s=!1,i=!1,a="";for(;t<e.length;t++)if(e[t]==="<"&&!i){if(o&&e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="N"&&e[t+4]==="T"&&e[t+5]==="I"&&e[t+6]==="T"&&e[t+7]==="Y")t+=7,s=!0;else if(o&&e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="L"&&e[t+4]==="E"&&e[t+5]==="M"&&e[t+6]==="E"&&e[t+7]==="N"&&e[t+8]==="T")t+=8;else if(o&&e[t+1]==="!"&&e[t+2]==="A"&&e[t+3]==="T"&&e[t+4]==="T"&&e[t+5]==="L"&&e[t+6]==="I"&&e[t+7]==="S"&&e[t+8]==="T")t+=8;else if(o&&e[t+1]==="!"&&e[t+2]==="N"&&e[t+3]==="O"&&e[t+4]==="T"&&e[t+5]==="A"&&e[t+6]==="T"&&e[t+7]==="I"&&e[t+8]==="O"&&e[t+9]==="N")t+=9;else if(e[t+1]==="!"&&e[t+2]==="-"&&e[t+3]==="-")i=!0;else throw new Error("Invalid DOCTYPE");n++,a=""}else if(e[t]===">"){if(i?e[t-1]==="-"&&e[t-2]==="-"&&(i=!1,n--):(s&&(WA(a,r),s=!1),n--),n===0)break}else e[t]==="["?o=!0:a+=e[t];if(n!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:t}}var VA=RegExp(`^\\s([a-zA-z0-0]+)[ 	](['"])([^&]+)\\2`);function WA(e,t){let r=VA.exec(e);r&&(t[r[1]]={regx:RegExp(`&${r[1]};`,"g"),val:r[3]})}ch.exports=KA});var uh=R((bF,lh)=>{var YA=/^[-+]?0x[a-fA-F0-9]+$/,QA=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt);!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);var XA={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function JA(e,t={}){if(t=Object.assign({},XA,t),!e||typeof e!="string")return e;let r=e.trim();if(t.skipLike!==void 0&&t.skipLike.test(r))return e;if(t.hex&&YA.test(r))return Number.parseInt(r,16);{let n=QA.exec(r);if(n){let o=n[1],s=n[2],i=ZA(n[3]),a=n[4]||n[6];if(!t.leadingZeros&&s.length>0&&o&&r[2]!==".")return e;if(!t.leadingZeros&&s.length>0&&!o&&r[1]!==".")return e;{let c=Number(r),d=""+c;return d.search(/[eE]/)!==-1||a?t.eNotation?c:e:r.indexOf(".")!==-1?d==="0"&&i===""||d===i||o&&d==="-"+i?c:e:s?i===d||o+i===d?c:e:r===d||r===o+d?c:e}}else return e}}function ZA(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substr(0,e.length-1))),e}lh.exports=JA});var mh=R((AF,fh)=>{"use strict";var Kc=Lc(),ns=ah(),eR=dh(),tR=uh(),_F="<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,Kc.nameRegexp),jc=class{constructor(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"}},this.addExternalEntities=rR,this.parseXml=aR,this.parseTextData=nR,this.resolveNameSpace=oR,this.buildAttributesMap=iR,this.isItStopNode=lR,this.replaceEntitiesValue=cR,this.readStopNodeData=fR,this.saveTextToParentTag=dR}};function rR(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:e[n]}}}function nR(e,t,r,n,o,s,i){if(e!==void 0&&(this.options.trimValues&&!n&&(e=e.trim()),e.length>0)){i||(e=this.replaceEntitiesValue(e));let a=this.options.tagValueProcessor(t,e,r,o,s);return a==null?e:typeof a!=typeof e||a!==e?a:this.options.trimValues?Gc(e,this.options.parseTagValue,this.options.numberParseOptions):e.trim()===e?Gc(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function oR(e){if(this.options.removeNSPrefix){let t=e.split(":"),r=e.charAt(0)==="/"?"/":"";if(t[0]==="xmlns")return"";t.length===2&&(e=r+t[1])}return e}var sR=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function iR(e,t){if(!this.options.ignoreAttributes&&typeof e=="string"){let r=Kc.getAllMatches(e,sR),n=r.length,o={};for(let s=0;s<n;s++){let i=this.resolveNameSpace(r[s][1]),a=r[s][4],c=this.options.attributeNamePrefix+i;if(i.length)if(this.options.transformAttributeName&&(c=this.options.transformAttributeName(c)),c==="__proto__"&&(c="#__proto__"),a!==void 0){this.options.trimValues&&(a=a.trim()),a=this.replaceEntitiesValue(a);let d=this.options.attributeValueProcessor(i,a,t);d==null?o[c]=a:typeof d!=typeof a||d!==a?o[c]=d:o[c]=Gc(a,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(o[c]=!0)}if(!Object.keys(o).length)return;if(this.options.attributesGroupName){let s={};return s[this.options.attributesGroupName]=o,s}return o}}var aR=function(e){e=e.replace(/\r\n?/g,`
`);let t=new ns("!xml"),r=t,n="",o="";for(let s=0;s<e.length;s++)if(e[s]==="<")if(e[s+1]==="/"){let a=wn(e,">",s,"Closing Tag is not closed."),c=e.substring(s+2,a).trim();if(this.options.removeNSPrefix){let d=c.indexOf(":");d!==-1&&(c=c.substr(d+1))}this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&(n=this.saveTextToParentTag(n,r,o)),o=o.substr(0,o.lastIndexOf(".")),r=this.tagsNodeStack.pop(),n="",s=a}else if(e[s+1]==="?"){let a=Hc(e,s,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,o),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){let c=new ns(a.tagName);c.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(c[":@"]=this.buildAttributesMap(a.tagExp,o)),r.addChild(c)}s=a.closeIndex+1}else if(e.substr(s+1,3)==="!--"){let a=wn(e,"-->",s+4,"Comment is not closed.");if(this.options.commentPropName){let c=e.substring(s+4,a-2);n=this.saveTextToParentTag(n,r,o),r.add(this.options.commentPropName,[{[this.options.textNodeName]:c}])}s=a}else if(e.substr(s+1,2)==="!D"){let a=eR(e,s);this.docTypeEntities=a.entities,s=a.i}else if(e.substr(s+1,2)==="!["){let a=wn(e,"]]>",s,"CDATA is not closed.")-2,c=e.substring(s+9,a);if(n=this.saveTextToParentTag(n,r,o),this.options.cdataPropName)r.add(this.options.cdataPropName,[{[this.options.textNodeName]:c}]);else{let d=this.parseTextData(c,r.tagname,o,!0,!1,!0);d==null&&(d=""),r.add(this.options.textNodeName,d)}s=a+2}else{let a=Hc(e,s,this.options.removeNSPrefix),c=a.tagName,d=a.tagExp,l=a.attrExpPresent,m=a.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&n&&r.tagname!=="!xml"&&(n=this.saveTextToParentTag(n,r,o,!1)),c!==t.tagname&&(o+=o?"."+c:c);let f=r;if(f&&this.options.unpairedTags.indexOf(f.tagname)!==-1&&(r=this.tagsNodeStack.pop()),this.isItStopNode(this.options.stopNodes,o,c)){let E="";if(d.length>0&&d.lastIndexOf("/")===d.length-1)s=a.closeIndex;else if(this.options.unpairedTags.indexOf(c)!==-1)s=a.closeIndex;else{let b=this.readStopNodeData(e,c,m+1);if(!b)throw new Error(`Unexpected end of ${c}`);s=b.i,E=b.tagContent}let g=new ns(c);c!==d&&l&&(g[":@"]=this.buildAttributesMap(d,o)),E&&(E=this.parseTextData(E,c,o,!0,l,!0,!0)),o=o.substr(0,o.lastIndexOf(".")),g.add(this.options.textNodeName,E),r.addChild(g)}else{if(d.length>0&&d.lastIndexOf("/")===d.length-1){c[c.length-1]==="/"?(c=c.substr(0,c.length-1),d=c):d=d.substr(0,d.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));let E=new ns(c);c!==d&&l&&(E[":@"]=this.buildAttributesMap(d,o)),o=o.substr(0,o.lastIndexOf(".")),r.addChild(E)}else{let E=new ns(c);this.tagsNodeStack.push(r),c!==d&&l&&(E[":@"]=this.buildAttributesMap(d,o)),r.addChild(E),r=E}n="",s=m}}else n+=e[s];return t.child},cR=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){let r=this.docTypeEntities[t];e=e.replace(r.regx,r.val)}for(let t in this.lastEntities){let r=this.lastEntities[t];e=e.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){let r=this.htmlEntities[t];e=e.replace(r.regex,r.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};function dR(e,t,r,n){return e&&(n===void 0&&(n=Object.keys(t.child).length===0),e=this.parseTextData(e,t.tagname,r,!1,t[":@"]?Object.keys(t[":@"]).length!==0:!1,n),e!==void 0&&e!==""&&t.add(this.options.textNodeName,e),e=""),e}function lR(e,t,r){let n="*."+r;for(let o in e){let s=e[o];if(n===s||t===s)return!0}return!1}function uR(e,t,r=">"){let n,o="";for(let s=t;s<e.length;s++){let i=e[s];if(n)i===n&&(n="");else if(i==='"'||i==="'")n=i;else if(i===r[0])if(r[1]){if(e[s+1]===r[1])return{data:o,index:s}}else return{data:o,index:s};else i==="	"&&(i=" ");o+=i}}function wn(e,t,r,n){let o=e.indexOf(t,r);if(o===-1)throw new Error(n);return o+t.length-1}function Hc(e,t,r,n=">"){let o=uR(e,t+1,n);if(!o)return;let s=o.data,i=o.index,a=s.search(/\s/),c=s,d=!0;if(a!==-1&&(c=s.substr(0,a).replace(/\s\s*$/,""),s=s.substr(a+1)),r){let l=c.indexOf(":");l!==-1&&(c=c.substr(l+1),d=c!==o.data.substr(l+1))}return{tagName:c,tagExp:s,closeIndex:i,attrExpPresent:d}}function fR(e,t,r){let n=r,o=1;for(;r<e.length;r++)if(e[r]==="<")if(e[r+1]==="/"){let s=wn(e,">",r,`${t} is not closed`);if(e.substring(r+2,s).trim()===t&&(o--,o===0))return{tagContent:e.substring(n,r),i:s};r=s}else if(e[r+1]==="?")r=wn(e,"?>",r+1,"StopNode is not closed.");else if(e.substr(r+1,3)==="!--")r=wn(e,"-->",r+3,"StopNode is not closed.");else if(e.substr(r+1,2)==="![")r=wn(e,"]]>",r,"StopNode is not closed.")-2;else{let s=Hc(e,r,">");s&&((s&&s.tagName)===t&&s.tagExp[s.tagExp.length-1]!=="/"&&o++,r=s.closeIndex)}}function Gc(e,t,r){if(t&&typeof e=="string"){let n=e.trim();return n==="true"?!0:n==="false"?!1:tR(e,r)}else return Kc.isExist(e)?e:""}fh.exports=jc});var yh=R(ph=>{"use strict";function mR(e,t){return hh(e,t)}function hh(e,t,r){let n,o={};for(let s=0;s<e.length;s++){let i=e[s],a=hR(i),c="";if(r===void 0?c=a:c=r+"."+a,a===t.textNodeName)n===void 0?n=i[a]:n+=""+i[a];else{if(a===void 0)continue;if(i[a]){let d=hh(i[a],t,c),l=yR(d,t);i[":@"]?pR(d,i[":@"],c,t):Object.keys(d).length===1&&d[t.textNodeName]!==void 0&&!t.alwaysCreateTextNode?d=d[t.textNodeName]:Object.keys(d).length===0&&(t.alwaysCreateTextNode?d[t.textNodeName]="":d=""),o[a]!==void 0&&o.hasOwnProperty(a)?(Array.isArray(o[a])||(o[a]=[o[a]]),o[a].push(d)):t.isArray(a,c,l)?o[a]=[d]:o[a]=d}}}return typeof n=="string"?n.length>0&&(o[t.textNodeName]=n):n!==void 0&&(o[t.textNodeName]=n),o}function hR(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];if(n!==":@")return n}}function pR(e,t,r,n){if(t){let o=Object.keys(t),s=o.length;for(let i=0;i<s;i++){let a=o[i];n.isArray(a,r+"."+a,!0,!0)?e[a]=[t[a]]:e[a]=t[a]}}}function yR(e,t){let r=Object.keys(e).length;return!!(r===0||r===1&&e[t.textNodeName])}ph.prettify=mR});var xh=R((kF,gh)=>{var{buildOptions:gR}=sh(),xR=mh(),{prettify:CR}=yh(),ER=Uc(),Vc=class{constructor(t){this.externalEntities={},this.options=gR(t)}parse(t,r){if(typeof t!="string")if(t.toString)t=t.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});let s=ER.validate(t,r);if(s!==!0)throw Error(`${s.err.msg}:${s.err.line}:${s.err.col}`)}let n=new xR(this.options);n.addExternalEntities(this.externalEntities);let o=n.parseXml(t);return this.options.preserveOrder||o===void 0?o:CR(o,this.options)}addEntity(t,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(t.indexOf("&")!==-1||t.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=r}};gh.exports=Vc});var bh=R((TF,Sh)=>{var wR=`
`;function SR(e,t){let r="";return t.format&&t.indentBy.length>0&&(r=wR),Eh(e,t,"",r)}function Eh(e,t,r,n){let o="",s=!1;for(let i=0;i<e.length;i++){let a=e[i],c=bR(a),d="";if(r.length===0?d=c:d=`${r}.${c}`,c===t.textNodeName){let g=a[c];_R(d,t)||(g=t.tagValueProcessor(c,g),g=wh(g,t)),s&&(o+=n),o+=g,s=!1;continue}else if(c===t.cdataPropName){s&&(o+=n),o+=`<![CDATA[${a[c][0][t.textNodeName]}]]>`,s=!1;continue}else if(c===t.commentPropName){o+=n+`<!--${a[c][0][t.textNodeName]}-->`,s=!0;continue}else if(c[0]==="?"){let g=Ch(a[":@"],t),b=c==="?xml"?"":n,T=a[c][0][t.textNodeName];T=T.length!==0?" "+T:"",o+=b+`<${c}${T}${g}?>`,s=!0;continue}let l=n;l!==""&&(l+=t.indentBy);let m=Ch(a[":@"],t),f=n+`<${c}${m}`,E=Eh(a[c],t,d,l);t.unpairedTags.indexOf(c)!==-1?t.suppressUnpairedNode?o+=f+">":o+=f+"/>":(!E||E.length===0)&&t.suppressEmptyNode?o+=f+"/>":E&&E.endsWith(">")?o+=f+`>${E}${n}</${c}>`:(o+=f+">",E&&n!==""&&(E.includes("/>")||E.includes("</"))?o+=n+t.indentBy+E+n:o+=E,o+=`</${c}>`),s=!0}return o}function bR(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];if(n!==":@")return n}}function Ch(e,t){let r="";if(e&&!t.ignoreAttributes)for(let n in e){let o=t.attributeValueProcessor(n,e[n]);o=wh(o,t),o===!0&&t.suppressBooleanAttributes?r+=` ${n.substr(t.attributeNamePrefix.length)}`:r+=` ${n.substr(t.attributeNamePrefix.length)}="${o}"`}return r}function _R(e,t){e=e.substr(0,e.length-t.textNodeName.length-1);let r=e.substr(e.lastIndexOf(".")+1);for(let n in t.stopNodes)if(t.stopNodes[n]===e||t.stopNodes[n]==="*."+r)return!0;return!1}function wh(e,t){if(e&&e.length>0&&t.processEntities)for(let r=0;r<t.entities.length;r++){let n=t.entities[r];e=e.replace(n.regex,n.val)}return e}Sh.exports=SR});var Ah=R((NF,_h)=>{"use strict";var AR=bh(),RR={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[]};function Ir(e){this.options=Object.assign({},RR,e),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=NR),this.processTextOrObjNode=kR,this.options.format?(this.indentate=TR,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}Ir.prototype.build=function(e){return this.options.preserveOrder?AR(e,this.options):(Array.isArray(e)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(e={[this.options.arrayNodeName]:e}),this.j2x(e,0).val)};Ir.prototype.j2x=function(e,t){let r="",n="";for(let o in e)if(!(typeof e[o]>"u"))if(e[o]===null)o[0]==="?"?n+=this.indentate(t)+"<"+o+"?"+this.tagEndChar:n+=this.indentate(t)+"<"+o+"/"+this.tagEndChar;else if(e[o]instanceof Date)n+=this.buildTextValNode(e[o],o,"",t);else if(typeof e[o]!="object"){let s=this.isAttribute(o);if(s)r+=this.buildAttrPairStr(s,""+e[o]);else if(o===this.options.textNodeName){let i=this.options.tagValueProcessor(o,""+e[o]);n+=this.replaceEntitiesValue(i)}else n+=this.buildTextValNode(e[o],o,"",t)}else if(Array.isArray(e[o])){let s=e[o].length;for(let i=0;i<s;i++){let a=e[o][i];typeof a>"u"||(a===null?o[0]==="?"?n+=this.indentate(t)+"<"+o+"?"+this.tagEndChar:n+=this.indentate(t)+"<"+o+"/"+this.tagEndChar:typeof a=="object"?n+=this.processTextOrObjNode(a,o,t):n+=this.buildTextValNode(a,o,"",t))}}else if(this.options.attributesGroupName&&o===this.options.attributesGroupName){let s=Object.keys(e[o]),i=s.length;for(let a=0;a<i;a++)r+=this.buildAttrPairStr(s[a],""+e[o][s[a]])}else n+=this.processTextOrObjNode(e[o],o,t);return{attrStr:r,val:n}};Ir.prototype.buildAttrPairStr=function(e,t){return t=this.options.attributeValueProcessor(e,""+t),t=this.replaceEntitiesValue(t),this.options.suppressBooleanAttributes&&t==="true"?" "+e:" "+e+'="'+t+'"'};function kR(e,t,r){let n=this.j2x(e,r+1);return e[this.options.textNodeName]!==void 0&&Object.keys(e).length===1?this.buildTextValNode(e[this.options.textNodeName],t,n.attrStr,r):this.buildObjectNode(n.val,t,n.attrStr,r)}Ir.prototype.buildObjectNode=function(e,t,r,n){if(e==="")return t[0]==="?"?this.indentate(n)+"<"+t+r+"?"+this.tagEndChar:this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar;{let o="</"+t+this.tagEndChar,s="";return t[0]==="?"&&(s="?",o=""),r&&e.indexOf("<")===-1?this.indentate(n)+"<"+t+r+s+">"+e+o:this.options.commentPropName!==!1&&t===this.options.commentPropName&&s.length===0?this.indentate(n)+`<!--${e}-->`+this.newLine:this.indentate(n)+"<"+t+r+s+this.tagEndChar+e+this.indentate(n)+o}};Ir.prototype.closeTag=function(e){let t="";return this.options.unpairedTags.indexOf(e)!==-1?this.options.suppressUnpairedNode||(t="/"):this.options.suppressEmptyNode?t="/":t=`></${e}`,t};Ir.prototype.buildTextValNode=function(e,t,r,n){if(this.options.cdataPropName!==!1&&t===this.options.cdataPropName)return this.indentate(n)+`<![CDATA[${e}]]>`+this.newLine;if(this.options.commentPropName!==!1&&t===this.options.commentPropName)return this.indentate(n)+`<!--${e}-->`+this.newLine;if(t[0]==="?")return this.indentate(n)+"<"+t+r+"?"+this.tagEndChar;{let o=this.options.tagValueProcessor(t,e);return o=this.replaceEntitiesValue(o),o===""?this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar:this.indentate(n)+"<"+t+r+">"+o+"</"+t+this.tagEndChar}};Ir.prototype.replaceEntitiesValue=function(e){if(e&&e.length>0&&this.options.processEntities)for(let t=0;t<this.options.entities.length;t++){let r=this.options.entities[t];e=e.replace(r.regex,r.val)}return e};function TR(e){return this.options.indentBy.repeat(e)}function NR(e){return e.startsWith(this.options.attributeNamePrefix)?e.substr(this.attrPrefixLen):!1}_h.exports=Ir});var Wc=R((vF,Rh)=>{"use strict";var vR=Uc(),PR=xh(),OR=Ah();Rh.exports={XMLParser:PR,XMLValidator:vR,XMLBuilder:OR}});var ed={};jn(ed,{__assign:()=>Jc,__asyncDelegator:()=>ok,__asyncGenerator:()=>nk,__asyncValues:()=>sk,__await:()=>is,__awaiter:()=>XR,__classPrivateFieldGet:()=>dk,__classPrivateFieldSet:()=>lk,__createBinding:()=>ZR,__decorate:()=>WR,__exportStar:()=>ek,__extends:()=>KR,__generator:()=>JR,__importDefault:()=>ck,__importStar:()=>ak,__makeTemplateObject:()=>ik,__metadata:()=>QR,__param:()=>YR,__read:()=>Gh,__rest:()=>VR,__spread:()=>tk,__spreadArrays:()=>rk,__values:()=>Zc});function KR(e,t){Xc(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function VR(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function WR(e,t,r,n){var o=arguments.length,s=o<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s}function YR(e,t){return function(r,n){t(r,n,e)}}function QR(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function XR(e,t,r,n){function o(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function a(l){try{d(n.next(l))}catch(m){i(m)}}function c(l){try{d(n.throw(l))}catch(m){i(m)}}function d(l){l.done?s(l.value):o(l.value).then(a,c)}d((n=n.apply(e,t||[])).next())})}function JR(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,o,s,i;return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(d){return function(l){return c([d,l])}}function c(d){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(s=d[0]&2?o.return:d[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,d[1])).done)return s;switch(o=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,o=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){r.label=d[1];break}if(d[0]===6&&r.label<s[1]){r.label=s[1],s=d;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(d);break}s[2]&&r.ops.pop(),r.trys.pop();continue}d=t.call(e,r)}catch(l){d=[6,l],o=0}finally{n=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function ZR(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function ek(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function Zc(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Gh(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,s=[],i;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(a){i={error:a}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return s}function tk(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Gh(arguments[t]));return e}function rk(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),o=0,t=0;t<r;t++)for(var s=arguments[t],i=0,a=s.length;i<a;i++,o++)n[o]=s[i];return n}function is(e){return this instanceof is?(this.v=e,this):new is(e)}function nk(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),o,s=[];return o={},i("next"),i("throw"),i("return"),o[Symbol.asyncIterator]=function(){return this},o;function i(f){n[f]&&(o[f]=function(E){return new Promise(function(g,b){s.push([f,E,g,b])>1||a(f,E)})})}function a(f,E){try{c(n[f](E))}catch(g){m(s[0][3],g)}}function c(f){f.value instanceof is?Promise.resolve(f.value.v).then(d,l):m(s[0][2],f)}function d(f){a("next",f)}function l(f){a("throw",f)}function m(f,E){f(E),s.shift(),s.length&&a(s[0][0],s[0][1])}}function ok(e){var t,r;return t={},n("next"),n("throw",function(o){throw o}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(o,s){t[o]=e[o]?function(i){return(r=!r)?{value:is(e[o](i)),done:o==="return"}:s?s(i):i}:s}}function sk(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Zc=="function"?Zc(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(i){return new Promise(function(a,c){i=e[s](i),o(a,c,i.done,i.value)})}}function o(s,i,a,c){Promise.resolve(c).then(function(d){s({value:d,done:a})},i)}}function ik(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function ak(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function ck(e){return e&&e.__esModule?e:{default:e}}function dk(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function lk(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}var Xc,Jc,td=Pe(()=>{Xc=function(e,t){return Xc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},Xc(e,t)};Jc=function(){return Jc=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Jc.apply(this,arguments)}});var Kh,Vh,Wh=Pe(()=>{Kh=e=>{let t=[];for(let r=0,n=e.length;r<n;r++){let o=e.charCodeAt(r);if(o<128)t.push(o);else if(o<2048)t.push(o>>6|192,o&63|128);else if(r+1<e.length&&(o&64512)===55296&&(e.charCodeAt(r+1)&64512)===56320){let s=65536+((o&1023)<<10)+(e.charCodeAt(++r)&1023);t.push(s>>18|240,s>>12&63|128,s>>6&63|128,s&63|128)}else t.push(o>>12|224,o>>6&63|128,o&63|128)}return Uint8Array.from(t)},Vh=e=>{let t="";for(let r=0,n=e.length;r<n;r++){let o=e[r];if(o<128)t+=String.fromCharCode(o);else if(192<=o&&o<224){let s=e[++r];t+=String.fromCharCode((o&31)<<6|s&63)}else if(240<=o&&o<365){let i="%"+[o,e[++r],e[++r],e[++r]].map(a=>a.toString(16)).join("%");t+=decodeURIComponent(i)}else t+=String.fromCharCode((o&15)<<12|(e[++r]&63)<<6|e[++r]&63)}return t}});function Yh(e){return new TextEncoder().encode(e)}function Qh(e){return new TextDecoder("utf-8").decode(e)}var Xh=Pe(()=>{});var Jh={};jn(Jh,{fromUtf8:()=>uk,toUtf8:()=>fk});var uk,fk,Zh=Pe(()=>{Wh();Xh();uk=e=>typeof TextEncoder=="function"?Yh(e):Kh(e),fk=e=>typeof TextDecoder=="function"?Qh(e):Vh(e)});var ep=R(li=>{"use strict";Object.defineProperty(li,"__esModule",{value:!0});li.convertToBuffer=void 0;var mk=(Zh(),Hn(Jh)),hk=typeof Buffer<"u"&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:mk.fromUtf8;function pk(e){return e instanceof Uint8Array?e:typeof e=="string"?hk(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}li.convertToBuffer=pk});var tp=R(ui=>{"use strict";Object.defineProperty(ui,"__esModule",{value:!0});ui.isEmptyData=void 0;function yk(e){return typeof e=="string"?e.length===0:e.byteLength===0}ui.isEmptyData=yk});var rp=R(fi=>{"use strict";Object.defineProperty(fi,"__esModule",{value:!0});fi.numToUint8=void 0;function gk(e){return new Uint8Array([(e&4278190080)>>24,(e&16711680)>>16,(e&65280)>>8,e&255])}fi.numToUint8=gk});var np=R(mi=>{"use strict";Object.defineProperty(mi,"__esModule",{value:!0});mi.uint32ArrayFrom=void 0;function xk(e){if(!Uint32Array.from){for(var t=new Uint32Array(e.length),r=0;r<e.length;)t[r]=e[r],r+=1;return t}return Uint32Array.from(e)}mi.uint32ArrayFrom=xk});var as=R(zt=>{"use strict";Object.defineProperty(zt,"__esModule",{value:!0});zt.uint32ArrayFrom=zt.numToUint8=zt.isEmptyData=zt.convertToBuffer=void 0;var Ck=ep();Object.defineProperty(zt,"convertToBuffer",{enumerable:!0,get:function(){return Ck.convertToBuffer}});var Ek=tp();Object.defineProperty(zt,"isEmptyData",{enumerable:!0,get:function(){return Ek.isEmptyData}});var wk=rp();Object.defineProperty(zt,"numToUint8",{enumerable:!0,get:function(){return wk.numToUint8}});var Sk=np();Object.defineProperty(zt,"uint32ArrayFrom",{enumerable:!0,get:function(){return Sk.uint32ArrayFrom}})});var ip=R(hi=>{"use strict";Object.defineProperty(hi,"__esModule",{value:!0});hi.AwsCrc32=void 0;var op=(td(),Hn(ed)),rd=as(),sp=cs(),bk=function(){function e(){this.crc32=new sp.Crc32}return e.prototype.update=function(t){(0,rd.isEmptyData)(t)||this.crc32.update((0,rd.convertToBuffer)(t))},e.prototype.digest=function(){return op.__awaiter(this,void 0,void 0,function(){return op.__generator(this,function(t){return[2,(0,rd.numToUint8)(this.crc32.digest())]})})},e.prototype.reset=function(){this.crc32=new sp.Crc32},e}();hi.AwsCrc32=bk});var cs=R(Dr=>{"use strict";Object.defineProperty(Dr,"__esModule",{value:!0});Dr.AwsCrc32=Dr.Crc32=Dr.crc32=void 0;var _k=(td(),Hn(ed)),Ak=as();function Rk(e){return new ap().update(e).digest()}Dr.crc32=Rk;var ap=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(t){var r,n;try{for(var o=_k.__values(t),s=o.next();!s.done;s=o.next()){var i=s.value;this.checksum=this.checksum>>>8^Tk[(this.checksum^i)&255]}}catch(a){r={error:a}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return this},e.prototype.digest=function(){return(this.checksum^4294967295)>>>0},e}();Dr.Crc32=ap;var kk=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],Tk=(0,Ak.uint32ArrayFrom)(kk),Nk=ip();Object.defineProperty(Dr,"AwsCrc32",{enumerable:!0,get:function(){return Nk.AwsCrc32}})});var id={};jn(id,{__assign:()=>od,__asyncDelegator:()=>qk,__asyncGenerator:()=>zk,__asyncValues:()=>jk,__await:()=>ds,__awaiter:()=>Bk,__classPrivateFieldGet:()=>Vk,__classPrivateFieldSet:()=>Wk,__createBinding:()=>Fk,__decorate:()=>Ok,__exportStar:()=>Lk,__extends:()=>vk,__generator:()=>Mk,__importDefault:()=>Kk,__importStar:()=>Gk,__makeTemplateObject:()=>Hk,__metadata:()=>Dk,__param:()=>Ik,__read:()=>cp,__rest:()=>Pk,__spread:()=>$k,__spreadArrays:()=>Uk,__values:()=>sd});function vk(e,t){nd(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function Pk(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function Ok(e,t,r,n){var o=arguments.length,s=o<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s}function Ik(e,t){return function(r,n){t(r,n,e)}}function Dk(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Bk(e,t,r,n){function o(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function a(l){try{d(n.next(l))}catch(m){i(m)}}function c(l){try{d(n.throw(l))}catch(m){i(m)}}function d(l){l.done?s(l.value):o(l.value).then(a,c)}d((n=n.apply(e,t||[])).next())})}function Mk(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,o,s,i;return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(d){return function(l){return c([d,l])}}function c(d){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(s=d[0]&2?o.return:d[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,d[1])).done)return s;switch(o=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,o=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){r.label=d[1];break}if(d[0]===6&&r.label<s[1]){r.label=s[1],s=d;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(d);break}s[2]&&r.ops.pop(),r.trys.pop();continue}d=t.call(e,r)}catch(l){d=[6,l],o=0}finally{n=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function Fk(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function Lk(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function sd(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function cp(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,s=[],i;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(a){i={error:a}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return s}function $k(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(cp(arguments[t]));return e}function Uk(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),o=0,t=0;t<r;t++)for(var s=arguments[t],i=0,a=s.length;i<a;i++,o++)n[o]=s[i];return n}function ds(e){return this instanceof ds?(this.v=e,this):new ds(e)}function zk(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),o,s=[];return o={},i("next"),i("throw"),i("return"),o[Symbol.asyncIterator]=function(){return this},o;function i(f){n[f]&&(o[f]=function(E){return new Promise(function(g,b){s.push([f,E,g,b])>1||a(f,E)})})}function a(f,E){try{c(n[f](E))}catch(g){m(s[0][3],g)}}function c(f){f.value instanceof ds?Promise.resolve(f.value.v).then(d,l):m(s[0][2],f)}function d(f){a("next",f)}function l(f){a("throw",f)}function m(f,E){f(E),s.shift(),s.length&&a(s[0][0],s[0][1])}}function qk(e){var t,r;return t={},n("next"),n("throw",function(o){throw o}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(o,s){t[o]=e[o]?function(i){return(r=!r)?{value:ds(e[o](i)),done:o==="return"}:s?s(i):i}:s}}function jk(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof sd=="function"?sd(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(i){return new Promise(function(a,c){i=e[s](i),o(a,c,i.done,i.value)})}}function o(s,i,a,c){Promise.resolve(c).then(function(d){s({value:d,done:a})},i)}}function Hk(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function Gk(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function Kk(e){return e&&e.__esModule?e:{default:e}}function Vk(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function Wk(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}var nd,od,ad=Pe(()=>{nd=function(e,t){return nd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},nd(e,t)};od=function(){return od=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},od.apply(this,arguments)}});var up=R(pi=>{"use strict";Object.defineProperty(pi,"__esModule",{value:!0});pi.AwsCrc32c=void 0;var dp=(ad(),Hn(id)),cd=as(),lp=dd(),Yk=function(){function e(){this.crc32c=new lp.Crc32c}return e.prototype.update=function(t){(0,cd.isEmptyData)(t)||this.crc32c.update((0,cd.convertToBuffer)(t))},e.prototype.digest=function(){return dp.__awaiter(this,void 0,void 0,function(){return dp.__generator(this,function(t){return[2,(0,cd.numToUint8)(this.crc32c.digest())]})})},e.prototype.reset=function(){this.crc32c=new lp.Crc32c},e}();pi.AwsCrc32c=Yk});var dd=R(Br=>{"use strict";Object.defineProperty(Br,"__esModule",{value:!0});Br.AwsCrc32c=Br.Crc32c=Br.crc32c=void 0;var Qk=(ad(),Hn(id)),Xk=as();function Jk(e){return new fp().update(e).digest()}Br.crc32c=Jk;var fp=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(t){var r,n;try{for(var o=Qk.__values(t),s=o.next();!s.done;s=o.next()){var i=s.value;this.checksum=this.checksum>>>8^eT[(this.checksum^i)&255]}}catch(a){r={error:a}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return this},e.prototype.digest=function(){return(this.checksum^4294967295)>>>0},e}();Br.Crc32c=fp;var Zk=[0,4067132163,3778769143,324072436,3348797215,904991772,648144872,3570033899,2329499855,2024987596,1809983544,2575936315,1296289744,3207089363,2893594407,1578318884,274646895,3795141740,4049975192,51262619,3619967088,632279923,922689671,3298075524,2592579488,1760304291,2075979607,2312596564,1562183871,2943781820,3156637768,1313733451,549293790,3537243613,3246849577,871202090,3878099393,357341890,102525238,4101499445,2858735121,1477399826,1264559846,3107202533,1845379342,2677391885,2361733625,2125378298,820201905,3263744690,3520608582,598981189,4151959214,85089709,373468761,3827903834,3124367742,1213305469,1526817161,2842354314,2107672161,2412447074,2627466902,1861252501,1098587580,3004210879,2688576843,1378610760,2262928035,1955203488,1742404180,2511436119,3416409459,969524848,714683780,3639785095,205050476,4266873199,3976438427,526918040,1361435347,2739821008,2954799652,1114974503,2529119692,1691668175,2005155131,2247081528,3690758684,697762079,986182379,3366744552,476452099,3993867776,4250756596,255256311,1640403810,2477592673,2164122517,1922457750,2791048317,1412925310,1197962378,3037525897,3944729517,427051182,170179418,4165941337,746937522,3740196785,3451792453,1070968646,1905808397,2213795598,2426610938,1657317369,3053634322,1147748369,1463399397,2773627110,4215344322,153784257,444234805,3893493558,1021025245,3467647198,3722505002,797665321,2197175160,1889384571,1674398607,2443626636,1164749927,3070701412,2757221520,1446797203,137323447,4198817972,3910406976,461344835,3484808360,1037989803,781091935,3705997148,2460548119,1623424788,1939049696,2180517859,1429367560,2807687179,3020495871,1180866812,410100952,3927582683,4182430767,186734380,3756733383,763408580,1053836080,3434856499,2722870694,1344288421,1131464017,2971354706,1708204729,2545590714,2229949006,1988219213,680717673,3673779818,3383336350,1002577565,4010310262,493091189,238226049,4233660802,2987750089,1082061258,1395524158,2705686845,1972364758,2279892693,2494862625,1725896226,952904198,3399985413,3656866545,731699698,4283874585,222117402,510512622,3959836397,3280807620,837199303,582374963,3504198960,68661723,4135334616,3844915500,390545967,1230274059,3141532936,2825850620,1510247935,2395924756,2091215383,1878366691,2644384480,3553878443,565732008,854102364,3229815391,340358836,3861050807,4117890627,119113024,1493875044,2875275879,3090270611,1247431312,2660249211,1828433272,2141937292,2378227087,3811616794,291187481,34330861,4032846830,615137029,3603020806,3314634738,939183345,1776939221,2609017814,2295496738,2058945313,2926798794,1545135305,1330124605,3173225534,4084100981,17165430,307568514,3762199681,888469610,3332340585,3587147933,665062302,2042050490,2346497209,2559330125,1793573966,3190661285,1279665062,1595330642,2910671697],eT=(0,Xk.uint32ArrayFrom)(Zk),tT=up();Object.defineProperty(Br,"AwsCrc32c",{enumerable:!0,get:function(){return tT.AwsCrc32c}})});var ow=R((WY,nw)=>{"use strict";nw.exports=(...e)=>[...new Set([].concat(...e))]});var vl=R((YY,aw)=>{"use strict";var AP=require("stream"),sw=AP.PassThrough,RP=Array.prototype.slice;aw.exports=kP;function kP(){let e=[],t=RP.call(arguments),r=!1,n=t[t.length-1];n&&!Array.isArray(n)&&n.pipe==null?t.pop():n={};let o=n.end!==!1,s=n.pipeError===!0;n.objectMode==null&&(n.objectMode=!0),n.highWaterMark==null&&(n.highWaterMark=64*1024);let i=sw(n);function a(){for(let l=0,m=arguments.length;l<m;l++)e.push(iw(arguments[l],n));return c(),this}function c(){if(r)return;r=!0;let l=e.shift();if(!l){process.nextTick(d);return}Array.isArray(l)||(l=[l]);let m=l.length+1;function f(){--m>0||(r=!1,c())}function E(g){function b(){g.removeListener("merge2UnpipeEnd",b),g.removeListener("end",b),s&&g.removeListener("error",T),f()}function T(U){i.emit("error",U)}if(g._readableState.endEmitted)return f();g.on("merge2UnpipeEnd",b),g.on("end",b),s&&g.on("error",T),g.pipe(i,{end:!1}),g.resume()}for(let g=0;g<l.length;g++)E(l[g]);f()}function d(){r=!1,i.emit("queueDrain"),o&&i.end()}return i.setMaxListeners(0),i.add=a,i.on("unpipe",function(l){l.emit("merge2UnpipeEnd")}),t.length&&a.apply(null,t),i}function iw(e,t){if(Array.isArray(e))for(let r=0,n=e.length;r<n;r++)e[r]=iw(e[r],t);else{if(!e._readableState&&e.pipe&&(e=e.pipe(sw(t))),!e._readableState||!e.pause||!e.pipe)throw new Error("Only readable stream can be merged.");e.pause()}return e}});var cw=R(Uo=>{"use strict";Object.defineProperty(Uo,"__esModule",{value:!0});Uo.splitWhen=Uo.flatten=void 0;function TP(e){return e.reduce((t,r)=>[].concat(t,r),[])}Uo.flatten=TP;function NP(e,t){let r=[[]],n=0;for(let o of e)t(o)?(n++,r[n]=[]):r[n].push(o);return r}Uo.splitWhen=NP});var dw=R(Ra=>{"use strict";Object.defineProperty(Ra,"__esModule",{value:!0});Ra.isEnoentCodeError=void 0;function vP(e){return e.code==="ENOENT"}Ra.isEnoentCodeError=vP});var lw=R(ka=>{"use strict";Object.defineProperty(ka,"__esModule",{value:!0});ka.createDirentFromStats=void 0;var Pl=class{constructor(t,r){this.name=t,this.isBlockDevice=r.isBlockDevice.bind(r),this.isCharacterDevice=r.isCharacterDevice.bind(r),this.isDirectory=r.isDirectory.bind(r),this.isFIFO=r.isFIFO.bind(r),this.isFile=r.isFile.bind(r),this.isSocket=r.isSocket.bind(r),this.isSymbolicLink=r.isSymbolicLink.bind(r)}};function PP(e,t){return new Pl(e,t)}ka.createDirentFromStats=PP});var uw=R(tr=>{"use strict";Object.defineProperty(tr,"__esModule",{value:!0});tr.removeLeadingDotSegment=tr.escape=tr.makeAbsolute=tr.unixify=void 0;var OP=require("path"),IP=2,DP=/(\\?)([()*?[\]{|}]|^!|[!+@](?=\())/g;function BP(e){return e.replace(/\\/g,"/")}tr.unixify=BP;function MP(e,t){return OP.resolve(e,t)}tr.makeAbsolute=MP;function FP(e){return e.replace(DP,"\\$2")}tr.escape=FP;function LP(e){if(e.charAt(0)==="."){let t=e.charAt(1);if(t==="/"||t==="\\")return e.slice(IP)}return e}tr.removeLeadingDotSegment=LP});var mw=R((eQ,fw)=>{fw.exports=function(t){if(typeof t!="string"||t==="")return!1;for(var r;r=/(\\).|([@?!+*]\(.*\))/g.exec(t);){if(r[2])return!0;t=t.slice(r.index+r[0].length)}return!1}});var yw=R((tQ,pw)=>{var $P=mw(),hw={"{":"}","(":")","[":"]"},UP=function(e){if(e[0]==="!")return!0;for(var t=0,r=-2,n=-2,o=-2,s=-2,i=-2;t<e.length;){if(e[t]==="*"||e[t+1]==="?"&&/[\].+)]/.test(e[t])||n!==-1&&e[t]==="["&&e[t+1]!=="]"&&(n<t&&(n=e.indexOf("]",t)),n>t&&(i===-1||i>n||(i=e.indexOf("\\",t),i===-1||i>n)))||o!==-1&&e[t]==="{"&&e[t+1]!=="}"&&(o=e.indexOf("}",t),o>t&&(i=e.indexOf("\\",t),i===-1||i>o))||s!==-1&&e[t]==="("&&e[t+1]==="?"&&/[:!=]/.test(e[t+2])&&e[t+3]!==")"&&(s=e.indexOf(")",t),s>t&&(i=e.indexOf("\\",t),i===-1||i>s))||r!==-1&&e[t]==="("&&e[t+1]!=="|"&&(r<t&&(r=e.indexOf("|",t)),r!==-1&&e[r+1]!==")"&&(s=e.indexOf(")",r),s>r&&(i=e.indexOf("\\",r),i===-1||i>s))))return!0;if(e[t]==="\\"){var a=e[t+1];t+=2;var c=hw[a];if(c){var d=e.indexOf(c,t);d!==-1&&(t=d+1)}if(e[t]==="!")return!0}else t++}return!1},zP=function(e){if(e[0]==="!")return!0;for(var t=0;t<e.length;){if(/[*?{}()[\]]/.test(e[t]))return!0;if(e[t]==="\\"){var r=e[t+1];t+=2;var n=hw[r];if(n){var o=e.indexOf(n,t);o!==-1&&(t=o+1)}if(e[t]==="!")return!0}else t++}return!1};pw.exports=function(t,r){if(typeof t!="string"||t==="")return!1;if($P(t))return!0;var n=UP;return r&&r.strict===!1&&(n=zP),n(t)}});var xw=R((rQ,gw)=>{"use strict";var qP=yw(),jP=require("path").posix.dirname,HP=require("os").platform()==="win32",Ol="/",GP=/\\/g,KP=/[\{\[].*[\}\]]$/,VP=/(^|[^\\])([\{\[]|\([^\)]+$)/,WP=/\\([\!\*\?\|\[\]\(\)\{\}])/g;gw.exports=function(t,r){var n=Object.assign({flipBackslashes:!0},r);n.flipBackslashes&&HP&&t.indexOf(Ol)<0&&(t=t.replace(GP,Ol)),KP.test(t)&&(t+=Ol),t+="a";do t=jP(t);while(qP(t)||VP.test(t));return t.replace(WP,"$1")}});var Ta=R(Rt=>{"use strict";Rt.isInteger=e=>typeof e=="number"?Number.isInteger(e):typeof e=="string"&&e.trim()!==""?Number.isInteger(Number(e)):!1;Rt.find=(e,t)=>e.nodes.find(r=>r.type===t);Rt.exceedsLimit=(e,t,r=1,n)=>n===!1||!Rt.isInteger(e)||!Rt.isInteger(t)?!1:(Number(t)-Number(e))/Number(r)>=n;Rt.escapeNode=(e,t=0,r)=>{let n=e.nodes[t];n&&(r&&n.type===r||n.type==="open"||n.type==="close")&&n.escaped!==!0&&(n.value="\\"+n.value,n.escaped=!0)};Rt.encloseBrace=e=>e.type!=="brace"||e.commas>>0+e.ranges>>0?!1:(e.invalid=!0,!0);Rt.isInvalidBrace=e=>e.type!=="brace"?!1:e.invalid===!0||e.dollar?!0:!(e.commas>>0+e.ranges>>0)||e.open!==!0||e.close!==!0?(e.invalid=!0,!0):!1;Rt.isOpenOrClose=e=>e.type==="open"||e.type==="close"?!0:e.open===!0||e.close===!0;Rt.reduce=e=>e.reduce((t,r)=>(r.type==="text"&&t.push(r.value),r.type==="range"&&(r.type="text"),t),[]);Rt.flatten=(...e)=>{let t=[],r=n=>{for(let o=0;o<n.length;o++){let s=n[o];Array.isArray(s)?r(s,t):s!==void 0&&t.push(s)}return t};return r(e),t}});var Na=R((oQ,Ew)=>{"use strict";var Cw=Ta();Ew.exports=(e,t={})=>{let r=(n,o={})=>{let s=t.escapeInvalid&&Cw.isInvalidBrace(o),i=n.invalid===!0&&t.escapeInvalid===!0,a="";if(n.value)return(s||i)&&Cw.isOpenOrClose(n)?"\\"+n.value:n.value;if(n.value)return n.value;if(n.nodes)for(let c of n.nodes)a+=r(c);return a};return r(e)}});var Sw=R((sQ,ww)=>{"use strict";ww.exports=function(e){return typeof e=="number"?e-e===0:typeof e=="string"&&e.trim()!==""?Number.isFinite?Number.isFinite(+e):isFinite(+e):!1}});var Pw=R((iQ,vw)=>{"use strict";var bw=Sw(),Dn=(e,t,r)=>{if(bw(e)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(t===void 0||e===t)return String(e);if(bw(t)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let n={relaxZeros:!0,...r};typeof n.strictZeros=="boolean"&&(n.relaxZeros=n.strictZeros===!1);let o=String(n.relaxZeros),s=String(n.shorthand),i=String(n.capture),a=String(n.wrap),c=e+":"+t+"="+o+s+i+a;if(Dn.cache.hasOwnProperty(c))return Dn.cache[c].result;let d=Math.min(e,t),l=Math.max(e,t);if(Math.abs(d-l)===1){let b=e+"|"+t;return n.capture?`(${b})`:n.wrap===!1?b:`(?:${b})`}let m=Nw(e)||Nw(t),f={min:e,max:t,a:d,b:l},E=[],g=[];if(m&&(f.isPadded=m,f.maxLen=String(f.max).length),d<0){let b=l<0?Math.abs(l):1;g=_w(b,Math.abs(d),f,n),d=f.a=0}return l>=0&&(E=_w(d,l,f,n)),f.negatives=g,f.positives=E,f.result=YP(g,E,n),n.capture===!0?f.result=`(${f.result})`:n.wrap!==!1&&E.length+g.length>1&&(f.result=`(?:${f.result})`),Dn.cache[c]=f,f.result};function YP(e,t,r){let n=Il(e,t,"-",!1,r)||[],o=Il(t,e,"",!1,r)||[],s=Il(e,t,"-?",!0,r)||[];return n.concat(s).concat(o).join("|")}function QP(e,t){let r=1,n=1,o=Rw(e,r),s=new Set([t]);for(;e<=o&&o<=t;)s.add(o),r+=1,o=Rw(e,r);for(o=kw(t+1,n)-1;e<o&&o<=t;)s.add(o),n+=1,o=kw(t+1,n)-1;return s=[...s],s.sort(ZP),s}function XP(e,t,r){if(e===t)return{pattern:e,count:[],digits:0};let n=JP(e,t),o=n.length,s="",i=0;for(let a=0;a<o;a++){let[c,d]=n[a];c===d?s+=c:c!=="0"||d!=="9"?s+=eO(c,d,r):i++}return i&&(s+=r.shorthand===!0?"\\d":"[0-9]"),{pattern:s,count:[i],digits:o}}function _w(e,t,r,n){let o=QP(e,t),s=[],i=e,a;for(let c=0;c<o.length;c++){let d=o[c],l=XP(String(i),String(d),n),m="";if(!r.isPadded&&a&&a.pattern===l.pattern){a.count.length>1&&a.count.pop(),a.count.push(l.count[0]),a.string=a.pattern+Tw(a.count),i=d+1;continue}r.isPadded&&(m=tO(d,r,n)),l.string=m+l.pattern+Tw(l.count),s.push(l),i=d+1,a=l}return s}function Il(e,t,r,n,o){let s=[];for(let i of e){let{string:a}=i;!n&&!Aw(t,"string",a)&&s.push(r+a),n&&Aw(t,"string",a)&&s.push(r+a)}return s}function JP(e,t){let r=[];for(let n=0;n<e.length;n++)r.push([e[n],t[n]]);return r}function ZP(e,t){return e>t?1:t>e?-1:0}function Aw(e,t,r){return e.some(n=>n[t]===r)}function Rw(e,t){return Number(String(e).slice(0,-t)+"9".repeat(t))}function kw(e,t){return e-e%Math.pow(10,t)}function Tw(e){let[t=0,r=""]=e;return r||t>1?`{${t+(r?","+r:"")}}`:""}function eO(e,t,r){return`[${e}${t-e===1?"":"-"}${t}]`}function Nw(e){return/^-?(0+)\d/.test(e)}function tO(e,t,r){if(!t.isPadded)return e;let n=Math.abs(t.maxLen-String(e).length),o=r.relaxZeros!==!1;switch(n){case 0:return"";case 1:return o?"0?":"0";case 2:return o?"0{0,2}":"00";default:return o?`0{0,${n}}`:`0{${n}}`}}Dn.cache={};Dn.clearCache=()=>Dn.cache={};vw.exports=Dn});var Ml=R((aQ,$w)=>{"use strict";var rO=require("util"),Dw=Pw(),Ow=e=>e!==null&&typeof e=="object"&&!Array.isArray(e),nO=e=>t=>e===!0?Number(t):String(t),Dl=e=>typeof e=="number"||typeof e=="string"&&e!=="",Fs=e=>Number.isInteger(+e),Bl=e=>{let t=`${e}`,r=-1;if(t[0]==="-"&&(t=t.slice(1)),t==="0")return!1;for(;t[++r]==="0";);return r>0},oO=(e,t,r)=>typeof e=="string"||typeof t=="string"?!0:r.stringify===!0,sO=(e,t,r)=>{if(t>0){let n=e[0]==="-"?"-":"";n&&(e=e.slice(1)),e=n+e.padStart(n?t-1:t,"0")}return r===!1?String(e):e},Iw=(e,t)=>{let r=e[0]==="-"?"-":"";for(r&&(e=e.slice(1),t--);e.length<t;)e="0"+e;return r?"-"+e:e},iO=(e,t)=>{e.negatives.sort((i,a)=>i<a?-1:i>a?1:0),e.positives.sort((i,a)=>i<a?-1:i>a?1:0);let r=t.capture?"":"?:",n="",o="",s;return e.positives.length&&(n=e.positives.join("|")),e.negatives.length&&(o=`-(${r}${e.negatives.join("|")})`),n&&o?s=`${n}|${o}`:s=n||o,t.wrap?`(${r}${s})`:s},Bw=(e,t,r,n)=>{if(r)return Dw(e,t,{wrap:!1,...n});let o=String.fromCharCode(e);if(e===t)return o;let s=String.fromCharCode(t);return`[${o}-${s}]`},Mw=(e,t,r)=>{if(Array.isArray(e)){let n=r.wrap===!0,o=r.capture?"":"?:";return n?`(${o}${e.join("|")})`:e.join("|")}return Dw(e,t,r)},Fw=(...e)=>new RangeError("Invalid range arguments: "+rO.inspect(...e)),Lw=(e,t,r)=>{if(r.strictRanges===!0)throw Fw([e,t]);return[]},aO=(e,t)=>{if(t.strictRanges===!0)throw new TypeError(`Expected step "${e}" to be a number`);return[]},cO=(e,t,r=1,n={})=>{let o=Number(e),s=Number(t);if(!Number.isInteger(o)||!Number.isInteger(s)){if(n.strictRanges===!0)throw Fw([e,t]);return[]}o===0&&(o=0),s===0&&(s=0);let i=o>s,a=String(e),c=String(t),d=String(r);r=Math.max(Math.abs(r),1);let l=Bl(a)||Bl(c)||Bl(d),m=l?Math.max(a.length,c.length,d.length):0,f=l===!1&&oO(e,t,n)===!1,E=n.transform||nO(f);if(n.toRegex&&r===1)return Bw(Iw(e,m),Iw(t,m),!0,n);let g={negatives:[],positives:[]},b=se=>g[se<0?"negatives":"positives"].push(Math.abs(se)),T=[],U=0;for(;i?o>=s:o<=s;)n.toRegex===!0&&r>1?b(o):T.push(sO(E(o,U),m,f)),o=i?o-r:o+r,U++;return n.toRegex===!0?r>1?iO(g,n):Mw(T,null,{wrap:!1,...n}):T},dO=(e,t,r=1,n={})=>{if(!Fs(e)&&e.length>1||!Fs(t)&&t.length>1)return Lw(e,t,n);let o=n.transform||(f=>String.fromCharCode(f)),s=`${e}`.charCodeAt(0),i=`${t}`.charCodeAt(0),a=s>i,c=Math.min(s,i),d=Math.max(s,i);if(n.toRegex&&r===1)return Bw(c,d,!1,n);let l=[],m=0;for(;a?s>=i:s<=i;)l.push(o(s,m)),s=a?s-r:s+r,m++;return n.toRegex===!0?Mw(l,null,{wrap:!1,options:n}):l},va=(e,t,r,n={})=>{if(t==null&&Dl(e))return[e];if(!Dl(e)||!Dl(t))return Lw(e,t,n);if(typeof r=="function")return va(e,t,1,{transform:r});if(Ow(r))return va(e,t,0,r);let o={...n};return o.capture===!0&&(o.wrap=!0),r=r||o.step||1,Fs(r)?Fs(e)&&Fs(t)?cO(e,t,r,o):dO(e,t,Math.max(Math.abs(r),1),o):r!=null&&!Ow(r)?aO(r,o):va(e,t,1,r)};$w.exports=va});var qw=R((cQ,zw)=>{"use strict";var lO=Ml(),Uw=Ta(),uO=(e,t={})=>{let r=(n,o={})=>{let s=Uw.isInvalidBrace(o),i=n.invalid===!0&&t.escapeInvalid===!0,a=s===!0||i===!0,c=t.escapeInvalid===!0?"\\":"",d="";if(n.isOpen===!0||n.isClose===!0)return c+n.value;if(n.type==="open")return a?c+n.value:"(";if(n.type==="close")return a?c+n.value:")";if(n.type==="comma")return n.prev.type==="comma"?"":a?n.value:"|";if(n.value)return n.value;if(n.nodes&&n.ranges>0){let l=Uw.reduce(n.nodes),m=lO(...l,{...t,wrap:!1,toRegex:!0});if(m.length!==0)return l.length>1&&m.length>1?`(${m})`:m}if(n.nodes)for(let l of n.nodes)d+=r(l,n);return d};return r(e)};zw.exports=uO});var Gw=R((dQ,Hw)=>{"use strict";var fO=Ml(),jw=Na(),zo=Ta(),Bn=(e="",t="",r=!1)=>{let n=[];if(e=[].concat(e),t=[].concat(t),!t.length)return e;if(!e.length)return r?zo.flatten(t).map(o=>`{${o}}`):t;for(let o of e)if(Array.isArray(o))for(let s of o)n.push(Bn(s,t,r));else for(let s of t)r===!0&&typeof s=="string"&&(s=`{${s}}`),n.push(Array.isArray(s)?Bn(o,s,r):o+s);return zo.flatten(n)},mO=(e,t={})=>{let r=t.rangeLimit===void 0?1e3:t.rangeLimit,n=(o,s={})=>{o.queue=[];let i=s,a=s.queue;for(;i.type!=="brace"&&i.type!=="root"&&i.parent;)i=i.parent,a=i.queue;if(o.invalid||o.dollar){a.push(Bn(a.pop(),jw(o,t)));return}if(o.type==="brace"&&o.invalid!==!0&&o.nodes.length===2){a.push(Bn(a.pop(),["{}"]));return}if(o.nodes&&o.ranges>0){let m=zo.reduce(o.nodes);if(zo.exceedsLimit(...m,t.step,r))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let f=fO(...m,t);f.length===0&&(f=jw(o,t)),a.push(Bn(a.pop(),f)),o.nodes=[];return}let c=zo.encloseBrace(o),d=o.queue,l=o;for(;l.type!=="brace"&&l.type!=="root"&&l.parent;)l=l.parent,d=l.queue;for(let m=0;m<o.nodes.length;m++){let f=o.nodes[m];if(f.type==="comma"&&o.type==="brace"){m===1&&d.push(""),d.push("");continue}if(f.type==="close"){a.push(Bn(a.pop(),d,c));continue}if(f.value&&f.type!=="open"){d.push(Bn(d.pop(),f.value));continue}f.nodes&&n(f,o)}return d};return zo.flatten(n(e))};Hw.exports=mO});var Vw=R((lQ,Kw)=>{"use strict";Kw.exports={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:" ",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}});var Jw=R((uQ,Xw)=>{"use strict";var hO=Na(),{MAX_LENGTH:Ww,CHAR_BACKSLASH:Fl,CHAR_BACKTICK:pO,CHAR_COMMA:yO,CHAR_DOT:gO,CHAR_LEFT_PARENTHESES:xO,CHAR_RIGHT_PARENTHESES:CO,CHAR_LEFT_CURLY_BRACE:EO,CHAR_RIGHT_CURLY_BRACE:wO,CHAR_LEFT_SQUARE_BRACKET:Yw,CHAR_RIGHT_SQUARE_BRACKET:Qw,CHAR_DOUBLE_QUOTE:SO,CHAR_SINGLE_QUOTE:bO,CHAR_NO_BREAK_SPACE:_O,CHAR_ZERO_WIDTH_NOBREAK_SPACE:AO}=Vw(),RO=(e,t={})=>{if(typeof e!="string")throw new TypeError("Expected a string");let r=t||{},n=typeof r.maxLength=="number"?Math.min(Ww,r.maxLength):Ww;if(e.length>n)throw new SyntaxError(`Input length (${e.length}), exceeds max characters (${n})`);let o={type:"root",input:e,nodes:[]},s=[o],i=o,a=o,c=0,d=e.length,l=0,m=0,f,E={},g=()=>e[l++],b=T=>{if(T.type==="text"&&a.type==="dot"&&(a.type="text"),a&&a.type==="text"&&T.type==="text"){a.value+=T.value;return}return i.nodes.push(T),T.parent=i,T.prev=a,a=T,T};for(b({type:"bos"});l<d;)if(i=s[s.length-1],f=g(),!(f===AO||f===_O)){if(f===Fl){b({type:"text",value:(t.keepEscaping?f:"")+g()});continue}if(f===Qw){b({type:"text",value:"\\"+f});continue}if(f===Yw){c++;let T=!0,U;for(;l<d&&(U=g());){if(f+=U,U===Yw){c++;continue}if(U===Fl){f+=g();continue}if(U===Qw&&(c--,c===0))break}b({type:"text",value:f});continue}if(f===xO){i=b({type:"paren",nodes:[]}),s.push(i),b({type:"text",value:f});continue}if(f===CO){if(i.type!=="paren"){b({type:"text",value:f});continue}i=s.pop(),b({type:"text",value:f}),i=s[s.length-1];continue}if(f===SO||f===bO||f===pO){let T=f,U;for(t.keepQuotes!==!0&&(f="");l<d&&(U=g());){if(U===Fl){f+=U+g();continue}if(U===T){t.keepQuotes===!0&&(f+=U);break}f+=U}b({type:"text",value:f});continue}if(f===EO){m++;let U={type:"brace",open:!0,close:!1,dollar:a.value&&a.value.slice(-1)==="$"||i.dollar===!0,depth:m,commas:0,ranges:0,nodes:[]};i=b(U),s.push(i),b({type:"open",value:f});continue}if(f===wO){if(i.type!=="brace"){b({type:"text",value:f});continue}let T="close";i=s.pop(),i.close=!0,b({type:T,value:f}),m--,i=s[s.length-1];continue}if(f===yO&&m>0){if(i.ranges>0){i.ranges=0;let T=i.nodes.shift();i.nodes=[T,{type:"text",value:hO(i)}]}b({type:"comma",value:f}),i.commas++;continue}if(f===gO&&m>0&&i.commas===0){let T=i.nodes;if(m===0||T.length===0){b({type:"text",value:f});continue}if(a.type==="dot"){if(i.range=[],a.value+=f,a.type="range",i.nodes.length!==3&&i.nodes.length!==5){i.invalid=!0,i.ranges=0,a.type="text";continue}i.ranges++,i.args=[];continue}if(a.type==="range"){T.pop();let U=T[T.length-1];U.value+=a.value+f,a=U,i.ranges--;continue}b({type:"dot",value:f});continue}b({type:"text",value:f})}do if(i=s.pop(),i.type!=="root"){i.nodes.forEach(se=>{se.nodes||(se.type==="open"&&(se.isOpen=!0),se.type==="close"&&(se.isClose=!0),se.nodes||(se.type="text"),se.invalid=!0)});let T=s[s.length-1],U=T.nodes.indexOf(i);T.nodes.splice(U,1,...i.nodes)}while(s.length>0);return b({type:"eos"}),o};Xw.exports=RO});var tS=R((fQ,eS)=>{"use strict";var Zw=Na(),kO=qw(),TO=Gw(),NO=Jw(),ft=(e,t={})=>{let r=[];if(Array.isArray(e))for(let n of e){let o=ft.create(n,t);Array.isArray(o)?r.push(...o):r.push(o)}else r=[].concat(ft.create(e,t));return t&&t.expand===!0&&t.nodupes===!0&&(r=[...new Set(r)]),r};ft.parse=(e,t={})=>NO(e,t);ft.stringify=(e,t={})=>Zw(typeof e=="string"?ft.parse(e,t):e,t);ft.compile=(e,t={})=>(typeof e=="string"&&(e=ft.parse(e,t)),kO(e,t));ft.expand=(e,t={})=>{typeof e=="string"&&(e=ft.parse(e,t));let r=TO(e,t);return t.noempty===!0&&(r=r.filter(Boolean)),t.nodupes===!0&&(r=[...new Set(r)]),r};ft.create=(e,t={})=>e===""||e.length<3?[e]:t.expand!==!0?ft.compile(e,t):ft.expand(e,t);eS.exports=ft});var Ls=R((mQ,iS)=>{"use strict";var vO=require("path"),rr="\\\\/",rS=`[^${rr}]`,Cr="\\.",PO="\\+",OO="\\?",Pa="\\/",IO="(?=.)",nS="[^/]",Ll=`(?:${Pa}|$)`,oS=`(?:^|${Pa})`,$l=`${Cr}{1,2}${Ll}`,DO=`(?!${Cr})`,BO=`(?!${oS}${$l})`,MO=`(?!${Cr}{0,1}${Ll})`,FO=`(?!${$l})`,LO=`[^.${Pa}]`,$O=`${nS}*?`,sS={DOT_LITERAL:Cr,PLUS_LITERAL:PO,QMARK_LITERAL:OO,SLASH_LITERAL:Pa,ONE_CHAR:IO,QMARK:nS,END_ANCHOR:Ll,DOTS_SLASH:$l,NO_DOT:DO,NO_DOTS:BO,NO_DOT_SLASH:MO,NO_DOTS_SLASH:FO,QMARK_NO_DOT:LO,STAR:$O,START_ANCHOR:oS},UO={...sS,SLASH_LITERAL:`[${rr}]`,QMARK:rS,STAR:`${rS}*?`,DOTS_SLASH:`${Cr}{1,2}(?:[${rr}]|$)`,NO_DOT:`(?!${Cr})`,NO_DOTS:`(?!(?:^|[${rr}])${Cr}{1,2}(?:[${rr}]|$))`,NO_DOT_SLASH:`(?!${Cr}{0,1}(?:[${rr}]|$))`,NO_DOTS_SLASH:`(?!${Cr}{1,2}(?:[${rr}]|$))`,QMARK_NO_DOT:`[^.${rr}]`,START_ANCHOR:`(?:^|[${rr}])`,END_ANCHOR:`(?:[${rr}]|$)`},zO={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};iS.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:zO,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:vO.sep,extglobChars(e){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(e){return e===!0?UO:sS}}});var $s=R(dt=>{"use strict";var qO=require("path"),jO=process.platform==="win32",{REGEX_BACKSLASH:HO,REGEX_REMOVE_BACKSLASH:GO,REGEX_SPECIAL_CHARS:KO,REGEX_SPECIAL_CHARS_GLOBAL:VO}=Ls();dt.isObject=e=>e!==null&&typeof e=="object"&&!Array.isArray(e);dt.hasRegexChars=e=>KO.test(e);dt.isRegexChar=e=>e.length===1&&dt.hasRegexChars(e);dt.escapeRegex=e=>e.replace(VO,"\\$1");dt.toPosixSlashes=e=>e.replace(HO,"/");dt.removeBackslashes=e=>e.replace(GO,t=>t==="\\"?"":t);dt.supportsLookbehinds=()=>{let e=process.version.slice(1).split(".").map(Number);return e.length===3&&e[0]>=9||e[0]===8&&e[1]>=10};dt.isWindows=e=>e&&typeof e.windows=="boolean"?e.windows:jO===!0||qO.sep==="\\";dt.escapeLast=(e,t,r)=>{let n=e.lastIndexOf(t,r);return n===-1?e:e[n-1]==="\\"?dt.escapeLast(e,t,n-1):`${e.slice(0,n)}\\${e.slice(n)}`};dt.removePrefix=(e,t={})=>{let r=e;return r.startsWith("./")&&(r=r.slice(2),t.prefix="./"),r};dt.wrapOutput=(e,t={},r={})=>{let n=r.contains?"":"^",o=r.contains?"":"$",s=`${n}(?:${e})${o}`;return t.negated===!0&&(s=`(?:^(?!${s}).*$)`),s}});var hS=R((pQ,mS)=>{"use strict";var aS=$s(),{CHAR_ASTERISK:Ul,CHAR_AT:WO,CHAR_BACKWARD_SLASH:Us,CHAR_COMMA:YO,CHAR_DOT:zl,CHAR_EXCLAMATION_MARK:ql,CHAR_FORWARD_SLASH:fS,CHAR_LEFT_CURLY_BRACE:jl,CHAR_LEFT_PARENTHESES:Hl,CHAR_LEFT_SQUARE_BRACKET:QO,CHAR_PLUS:XO,CHAR_QUESTION_MARK:cS,CHAR_RIGHT_CURLY_BRACE:JO,CHAR_RIGHT_PARENTHESES:dS,CHAR_RIGHT_SQUARE_BRACKET:ZO}=Ls(),lS=e=>e===fS||e===Us,uS=e=>{e.isPrefix!==!0&&(e.depth=e.isGlobstar?1/0:1)},eI=(e,t)=>{let r=t||{},n=e.length-1,o=r.parts===!0||r.scanToEnd===!0,s=[],i=[],a=[],c=e,d=-1,l=0,m=0,f=!1,E=!1,g=!1,b=!1,T=!1,U=!1,se=!1,Z=!1,ve=!1,Q=!1,ge=0,J,K,fe={value:"",depth:0,isGlob:!1},$e=()=>d>=n,k=()=>c.charCodeAt(d+1),Se=()=>(J=K,c.charCodeAt(++d));for(;d<n;){K=Se();let Xe;if(K===Us){se=fe.backslashes=!0,K=Se(),K===jl&&(U=!0);continue}if(U===!0||K===jl){for(ge++;$e()!==!0&&(K=Se());){if(K===Us){se=fe.backslashes=!0,Se();continue}if(K===jl){ge++;continue}if(U!==!0&&K===zl&&(K=Se())===zl){if(f=fe.isBrace=!0,g=fe.isGlob=!0,Q=!0,o===!0)continue;break}if(U!==!0&&K===YO){if(f=fe.isBrace=!0,g=fe.isGlob=!0,Q=!0,o===!0)continue;break}if(K===JO&&(ge--,ge===0)){U=!1,f=fe.isBrace=!0,Q=!0;break}}if(o===!0)continue;break}if(K===fS){if(s.push(d),i.push(fe),fe={value:"",depth:0,isGlob:!1},Q===!0)continue;if(J===zl&&d===l+1){l+=2;continue}m=d+1;continue}if(r.noext!==!0&&(K===XO||K===WO||K===Ul||K===cS||K===ql)===!0&&k()===Hl){if(g=fe.isGlob=!0,b=fe.isExtglob=!0,Q=!0,K===ql&&d===l&&(ve=!0),o===!0){for(;$e()!==!0&&(K=Se());){if(K===Us){se=fe.backslashes=!0,K=Se();continue}if(K===dS){g=fe.isGlob=!0,Q=!0;break}}continue}break}if(K===Ul){if(J===Ul&&(T=fe.isGlobstar=!0),g=fe.isGlob=!0,Q=!0,o===!0)continue;break}if(K===cS){if(g=fe.isGlob=!0,Q=!0,o===!0)continue;break}if(K===QO){for(;$e()!==!0&&(Xe=Se());){if(Xe===Us){se=fe.backslashes=!0,Se();continue}if(Xe===ZO){E=fe.isBracket=!0,g=fe.isGlob=!0,Q=!0;break}}if(o===!0)continue;break}if(r.nonegate!==!0&&K===ql&&d===l){Z=fe.negated=!0,l++;continue}if(r.noparen!==!0&&K===Hl){if(g=fe.isGlob=!0,o===!0){for(;$e()!==!0&&(K=Se());){if(K===Hl){se=fe.backslashes=!0,K=Se();continue}if(K===dS){Q=!0;break}}continue}break}if(g===!0){if(Q=!0,o===!0)continue;break}}r.noext===!0&&(b=!1,g=!1);let xe=c,_r="",_="";l>0&&(_r=c.slice(0,l),c=c.slice(l),m-=l),xe&&g===!0&&m>0?(xe=c.slice(0,m),_=c.slice(m)):g===!0?(xe="",_=c):xe=c,xe&&xe!==""&&xe!=="/"&&xe!==c&&lS(xe.charCodeAt(xe.length-1))&&(xe=xe.slice(0,-1)),r.unescape===!0&&(_&&(_=aS.removeBackslashes(_)),xe&&se===!0&&(xe=aS.removeBackslashes(xe)));let A={prefix:_r,input:e,start:l,base:xe,glob:_,isBrace:f,isBracket:E,isGlob:g,isExtglob:b,isGlobstar:T,negated:Z,negatedExtglob:ve};if(r.tokens===!0&&(A.maxDepth=0,lS(K)||i.push(fe),A.tokens=i),r.parts===!0||r.tokens===!0){let Xe;for(let ae=0;ae<s.length;ae++){let It=Xe?Xe+1:l,Dt=s[ae],lt=e.slice(It,Dt);r.tokens&&(ae===0&&l!==0?(i[ae].isPrefix=!0,i[ae].value=_r):i[ae].value=lt,uS(i[ae]),A.maxDepth+=i[ae].depth),(ae!==0||lt!=="")&&a.push(lt),Xe=Dt}if(Xe&&Xe+1<e.length){let ae=e.slice(Xe+1);a.push(ae),r.tokens&&(i[i.length-1].value=ae,uS(i[i.length-1]),A.maxDepth+=i[i.length-1].depth)}A.slashes=s,A.parts=a}return A};mS.exports=eI});var gS=R((yQ,yS)=>{"use strict";var Oa=Ls(),mt=$s(),{MAX_LENGTH:Ia,POSIX_REGEX_SOURCE:tI,REGEX_NON_SPECIAL_CHARS:rI,REGEX_SPECIAL_CHARS_BACKREF:nI,REPLACEMENTS:pS}=Oa,oI=(e,t)=>{if(typeof t.expandRange=="function")return t.expandRange(...e,t);e.sort();let r=`[${e.join("-")}]`;try{new RegExp(r)}catch{return e.map(o=>mt.escapeRegex(o)).join("..")}return r},qo=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,Gl=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");e=pS[e]||e;let r={...t},n=typeof r.maxLength=="number"?Math.min(Ia,r.maxLength):Ia,o=e.length;if(o>n)throw new SyntaxError(`Input length: ${o}, exceeds maximum allowed length: ${n}`);let s={type:"bos",value:"",output:r.prepend||""},i=[s],a=r.capture?"":"?:",c=mt.isWindows(t),d=Oa.globChars(c),l=Oa.extglobChars(d),{DOT_LITERAL:m,PLUS_LITERAL:f,SLASH_LITERAL:E,ONE_CHAR:g,DOTS_SLASH:b,NO_DOT:T,NO_DOT_SLASH:U,NO_DOTS_SLASH:se,QMARK:Z,QMARK_NO_DOT:ve,STAR:Q,START_ANCHOR:ge}=d,J=B=>`(${a}(?:(?!${ge}${B.dot?b:m}).)*?)`,K=r.dot?"":T,fe=r.dot?Z:ve,$e=r.bash===!0?J(r):Q;r.capture&&($e=`(${$e})`),typeof r.noext=="boolean"&&(r.noextglob=r.noext);let k={input:e,index:-1,start:0,dot:r.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:i};e=mt.removePrefix(e,k),o=e.length;let Se=[],xe=[],_r=[],_=s,A,Xe=()=>k.index===o-1,ae=k.peek=(B=1)=>e[k.index+B],It=k.advance=()=>e[++k.index]||"",Dt=()=>e.slice(k.index+1),lt=(B="",Ce=0)=>{k.consumed+=B,k.index+=Ce},qs=B=>{k.output+=B.output!=null?B.output:B.value,lt(B.value)},A_=()=>{let B=1;for(;ae()==="!"&&(ae(2)!=="("||ae(3)==="?");)It(),k.start++,B++;return B%2===0?!1:(k.negated=!0,k.start++,!0)},js=B=>{k[B]++,_r.push(B)},xn=B=>{k[B]--,_r.pop()},te=B=>{if(_.type==="globstar"){let Ce=k.braces>0&&(B.type==="comma"||B.type==="brace"),v=B.extglob===!0||Se.length&&(B.type==="pipe"||B.type==="paren");B.type!=="slash"&&B.type!=="paren"&&!Ce&&!v&&(k.output=k.output.slice(0,-_.output.length),_.type="star",_.value="*",_.output=$e,k.output+=_.output)}if(Se.length&&B.type!=="paren"&&(Se[Se.length-1].inner+=B.value),(B.value||B.output)&&qs(B),_&&_.type==="text"&&B.type==="text"){_.value+=B.value,_.output=(_.output||"")+B.value;return}B.prev=_,i.push(B),_=B},Hs=(B,Ce)=>{let v={...l[Ce],conditions:1,inner:""};v.prev=_,v.parens=k.parens,v.output=k.output;let ee=(r.capture?"(":"")+v.open;js("parens"),te({type:B,value:Ce,output:k.output?"":g}),te({type:"paren",extglob:!0,value:It(),output:ee}),Se.push(v)},R_=B=>{let Ce=B.close+(r.capture?")":""),v;if(B.type==="negate"){let ee=$e;if(B.inner&&B.inner.length>1&&B.inner.includes("/")&&(ee=J(r)),(ee!==$e||Xe()||/^\)+$/.test(Dt()))&&(Ce=B.close=`)$))${ee}`),B.inner.includes("*")&&(v=Dt())&&/^\.[^\\/.]+$/.test(v)){let Re=Gl(v,{...t,fastpaths:!1}).output;Ce=B.close=`)${Re})${ee})`}B.prev.type==="bos"&&(k.negatedExtglob=!0)}te({type:"paren",extglob:!0,value:A,output:Ce}),xn("parens")};if(r.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(e)){let B=!1,Ce=e.replace(nI,(v,ee,Re,Je,De,ac)=>Je==="\\"?(B=!0,v):Je==="?"?ee?ee+Je+(De?Z.repeat(De.length):""):ac===0?fe+(De?Z.repeat(De.length):""):Z.repeat(Re.length):Je==="."?m.repeat(Re.length):Je==="*"?ee?ee+Je+(De?$e:""):$e:ee?v:`\\${v}`);return B===!0&&(r.unescape===!0?Ce=Ce.replace(/\\/g,""):Ce=Ce.replace(/\\+/g,v=>v.length%2===0?"\\\\":v?"\\":"")),Ce===e&&r.contains===!0?(k.output=e,k):(k.output=mt.wrapOutput(Ce,k,t),k)}for(;!Xe();){if(A=It(),A==="\0")continue;if(A==="\\"){let v=ae();if(v==="/"&&r.bash!==!0||v==="."||v===";")continue;if(!v){A+="\\",te({type:"text",value:A});continue}let ee=/^\\+/.exec(Dt()),Re=0;if(ee&&ee[0].length>2&&(Re=ee[0].length,k.index+=Re,Re%2!==0&&(A+="\\")),r.unescape===!0?A=It():A+=It(),k.brackets===0){te({type:"text",value:A});continue}}if(k.brackets>0&&(A!=="]"||_.value==="["||_.value==="[^")){if(r.posix!==!1&&A===":"){let v=_.value.slice(1);if(v.includes("[")&&(_.posix=!0,v.includes(":"))){let ee=_.value.lastIndexOf("["),Re=_.value.slice(0,ee),Je=_.value.slice(ee+2),De=tI[Je];if(De){_.value=Re+De,k.backtrack=!0,It(),!s.output&&i.indexOf(_)===1&&(s.output=g);continue}}}(A==="["&&ae()!==":"||A==="-"&&ae()==="]")&&(A=`\\${A}`),A==="]"&&(_.value==="["||_.value==="[^")&&(A=`\\${A}`),r.posix===!0&&A==="!"&&_.value==="["&&(A="^"),_.value+=A,qs({value:A});continue}if(k.quotes===1&&A!=='"'){A=mt.escapeRegex(A),_.value+=A,qs({value:A});continue}if(A==='"'){k.quotes=k.quotes===1?0:1,r.keepQuotes===!0&&te({type:"text",value:A});continue}if(A==="("){js("parens"),te({type:"paren",value:A});continue}if(A===")"){if(k.parens===0&&r.strictBrackets===!0)throw new SyntaxError(qo("opening","("));let v=Se[Se.length-1];if(v&&k.parens===v.parens+1){R_(Se.pop());continue}te({type:"paren",value:A,output:k.parens?")":"\\)"}),xn("parens");continue}if(A==="["){if(r.nobracket===!0||!Dt().includes("]")){if(r.nobracket!==!0&&r.strictBrackets===!0)throw new SyntaxError(qo("closing","]"));A=`\\${A}`}else js("brackets");te({type:"bracket",value:A});continue}if(A==="]"){if(r.nobracket===!0||_&&_.type==="bracket"&&_.value.length===1){te({type:"text",value:A,output:`\\${A}`});continue}if(k.brackets===0){if(r.strictBrackets===!0)throw new SyntaxError(qo("opening","["));te({type:"text",value:A,output:`\\${A}`});continue}xn("brackets");let v=_.value.slice(1);if(_.posix!==!0&&v[0]==="^"&&!v.includes("/")&&(A=`/${A}`),_.value+=A,qs({value:A}),r.literalBrackets===!1||mt.hasRegexChars(v))continue;let ee=mt.escapeRegex(_.value);if(k.output=k.output.slice(0,-_.value.length),r.literalBrackets===!0){k.output+=ee,_.value=ee;continue}_.value=`(${a}${ee}|${_.value})`,k.output+=_.value;continue}if(A==="{"&&r.nobrace!==!0){js("braces");let v={type:"brace",value:A,output:"(",outputIndex:k.output.length,tokensIndex:k.tokens.length};xe.push(v),te(v);continue}if(A==="}"){let v=xe[xe.length-1];if(r.nobrace===!0||!v){te({type:"text",value:A,output:A});continue}let ee=")";if(v.dots===!0){let Re=i.slice(),Je=[];for(let De=Re.length-1;De>=0&&(i.pop(),Re[De].type!=="brace");De--)Re[De].type!=="dots"&&Je.unshift(Re[De].value);ee=oI(Je,r),k.backtrack=!0}if(v.comma!==!0&&v.dots!==!0){let Re=k.output.slice(0,v.outputIndex),Je=k.tokens.slice(v.tokensIndex);v.value=v.output="\\{",A=ee="\\}",k.output=Re;for(let De of Je)k.output+=De.output||De.value}te({type:"brace",value:A,output:ee}),xn("braces"),xe.pop();continue}if(A==="|"){Se.length>0&&Se[Se.length-1].conditions++,te({type:"text",value:A});continue}if(A===","){let v=A,ee=xe[xe.length-1];ee&&_r[_r.length-1]==="braces"&&(ee.comma=!0,v="|"),te({type:"comma",value:A,output:v});continue}if(A==="/"){if(_.type==="dot"&&k.index===k.start+1){k.start=k.index+1,k.consumed="",k.output="",i.pop(),_=s;continue}te({type:"slash",value:A,output:E});continue}if(A==="."){if(k.braces>0&&_.type==="dot"){_.value==="."&&(_.output=m);let v=xe[xe.length-1];_.type="dots",_.output+=A,_.value+=A,v.dots=!0;continue}if(k.braces+k.parens===0&&_.type!=="bos"&&_.type!=="slash"){te({type:"text",value:A,output:m});continue}te({type:"dot",value:A,output:m});continue}if(A==="?"){if(!(_&&_.value==="(")&&r.noextglob!==!0&&ae()==="("&&ae(2)!=="?"){Hs("qmark",A);continue}if(_&&_.type==="paren"){let ee=ae(),Re=A;if(ee==="<"&&!mt.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(_.value==="("&&!/[!=<:]/.test(ee)||ee==="<"&&!/<([!=]|\w+>)/.test(Dt()))&&(Re=`\\${A}`),te({type:"text",value:A,output:Re});continue}if(r.dot!==!0&&(_.type==="slash"||_.type==="bos")){te({type:"qmark",value:A,output:ve});continue}te({type:"qmark",value:A,output:Z});continue}if(A==="!"){if(r.noextglob!==!0&&ae()==="("&&(ae(2)!=="?"||!/[!=<:]/.test(ae(3)))){Hs("negate",A);continue}if(r.nonegate!==!0&&k.index===0){A_();continue}}if(A==="+"){if(r.noextglob!==!0&&ae()==="("&&ae(2)!=="?"){Hs("plus",A);continue}if(_&&_.value==="("||r.regex===!1){te({type:"plus",value:A,output:f});continue}if(_&&(_.type==="bracket"||_.type==="paren"||_.type==="brace")||k.parens>0){te({type:"plus",value:A});continue}te({type:"plus",value:f});continue}if(A==="@"){if(r.noextglob!==!0&&ae()==="("&&ae(2)!=="?"){te({type:"at",extglob:!0,value:A,output:""});continue}te({type:"text",value:A});continue}if(A!=="*"){(A==="$"||A==="^")&&(A=`\\${A}`);let v=rI.exec(Dt());v&&(A+=v[0],k.index+=v[0].length),te({type:"text",value:A});continue}if(_&&(_.type==="globstar"||_.star===!0)){_.type="star",_.star=!0,_.value+=A,_.output=$e,k.backtrack=!0,k.globstar=!0,lt(A);continue}let B=Dt();if(r.noextglob!==!0&&/^\([^?]/.test(B)){Hs("star",A);continue}if(_.type==="star"){if(r.noglobstar===!0){lt(A);continue}let v=_.prev,ee=v.prev,Re=v.type==="slash"||v.type==="bos",Je=ee&&(ee.type==="star"||ee.type==="globstar");if(r.bash===!0&&(!Re||B[0]&&B[0]!=="/")){te({type:"star",value:A,output:""});continue}let De=k.braces>0&&(v.type==="comma"||v.type==="brace"),ac=Se.length&&(v.type==="pipe"||v.type==="paren");if(!Re&&v.type!=="paren"&&!De&&!ac){te({type:"star",value:A,output:""});continue}for(;B.slice(0,3)==="/**";){let Gs=e[k.index+4];if(Gs&&Gs!=="/")break;B=B.slice(3),lt("/**",3)}if(v.type==="bos"&&Xe()){_.type="globstar",_.value+=A,_.output=J(r),k.output=_.output,k.globstar=!0,lt(A);continue}if(v.type==="slash"&&v.prev.type!=="bos"&&!Je&&Xe()){k.output=k.output.slice(0,-(v.output+_.output).length),v.output=`(?:${v.output}`,_.type="globstar",_.output=J(r)+(r.strictSlashes?")":"|$)"),_.value+=A,k.globstar=!0,k.output+=v.output+_.output,lt(A);continue}if(v.type==="slash"&&v.prev.type!=="bos"&&B[0]==="/"){let Gs=B[1]!==void 0?"|$":"";k.output=k.output.slice(0,-(v.output+_.output).length),v.output=`(?:${v.output}`,_.type="globstar",_.output=`${J(r)}${E}|${E}${Gs})`,_.value+=A,k.output+=v.output+_.output,k.globstar=!0,lt(A+It()),te({type:"slash",value:"/",output:""});continue}if(v.type==="bos"&&B[0]==="/"){_.type="globstar",_.value+=A,_.output=`(?:^|${E}|${J(r)}${E})`,k.output=_.output,k.globstar=!0,lt(A+It()),te({type:"slash",value:"/",output:""});continue}k.output=k.output.slice(0,-_.output.length),_.type="globstar",_.output=J(r),_.value+=A,k.output+=_.output,k.globstar=!0,lt(A);continue}let Ce={type:"star",value:A,output:$e};if(r.bash===!0){Ce.output=".*?",(_.type==="bos"||_.type==="slash")&&(Ce.output=K+Ce.output),te(Ce);continue}if(_&&(_.type==="bracket"||_.type==="paren")&&r.regex===!0){Ce.output=A,te(Ce);continue}(k.index===k.start||_.type==="slash"||_.type==="dot")&&(_.type==="dot"?(k.output+=U,_.output+=U):r.dot===!0?(k.output+=se,_.output+=se):(k.output+=K,_.output+=K),ae()!=="*"&&(k.output+=g,_.output+=g)),te(Ce)}for(;k.brackets>0;){if(r.strictBrackets===!0)throw new SyntaxError(qo("closing","]"));k.output=mt.escapeLast(k.output,"["),xn("brackets")}for(;k.parens>0;){if(r.strictBrackets===!0)throw new SyntaxError(qo("closing",")"));k.output=mt.escapeLast(k.output,"("),xn("parens")}for(;k.braces>0;){if(r.strictBrackets===!0)throw new SyntaxError(qo("closing","}"));k.output=mt.escapeLast(k.output,"{"),xn("braces")}if(r.strictSlashes!==!0&&(_.type==="star"||_.type==="bracket")&&te({type:"maybe_slash",value:"",output:`${E}?`}),k.backtrack===!0){k.output="";for(let B of k.tokens)k.output+=B.output!=null?B.output:B.value,B.suffix&&(k.output+=B.suffix)}return k};Gl.fastpaths=(e,t)=>{let r={...t},n=typeof r.maxLength=="number"?Math.min(Ia,r.maxLength):Ia,o=e.length;if(o>n)throw new SyntaxError(`Input length: ${o}, exceeds maximum allowed length: ${n}`);e=pS[e]||e;let s=mt.isWindows(t),{DOT_LITERAL:i,SLASH_LITERAL:a,ONE_CHAR:c,DOTS_SLASH:d,NO_DOT:l,NO_DOTS:m,NO_DOTS_SLASH:f,STAR:E,START_ANCHOR:g}=Oa.globChars(s),b=r.dot?m:l,T=r.dot?f:l,U=r.capture?"":"?:",se={negated:!1,prefix:""},Z=r.bash===!0?".*?":E;r.capture&&(Z=`(${Z})`);let ve=K=>K.noglobstar===!0?Z:`(${U}(?:(?!${g}${K.dot?d:i}).)*?)`,Q=K=>{switch(K){case"*":return`${b}${c}${Z}`;case".*":return`${i}${c}${Z}`;case"*.*":return`${b}${Z}${i}${c}${Z}`;case"*/*":return`${b}${Z}${a}${c}${T}${Z}`;case"**":return b+ve(r);case"**/*":return`(?:${b}${ve(r)}${a})?${T}${c}${Z}`;case"**/*.*":return`(?:${b}${ve(r)}${a})?${T}${Z}${i}${c}${Z}`;case"**/.*":return`(?:${b}${ve(r)}${a})?${i}${c}${Z}`;default:{let fe=/^(.*?)\.(\w+)$/.exec(K);if(!fe)return;let $e=Q(fe[1]);return $e?$e+i+fe[2]:void 0}}},ge=mt.removePrefix(e,se),J=Q(ge);return J&&r.strictSlashes!==!0&&(J+=`${a}?`),J};yS.exports=Gl});var CS=R((gQ,xS)=>{"use strict";var sI=require("path"),iI=hS(),Kl=gS(),Vl=$s(),aI=Ls(),cI=e=>e&&typeof e=="object"&&!Array.isArray(e),Ne=(e,t,r=!1)=>{if(Array.isArray(e)){let l=e.map(f=>Ne(f,t,r));return f=>{for(let E of l){let g=E(f);if(g)return g}return!1}}let n=cI(e)&&e.tokens&&e.input;if(e===""||typeof e!="string"&&!n)throw new TypeError("Expected pattern to be a non-empty string");let o=t||{},s=Vl.isWindows(t),i=n?Ne.compileRe(e,t):Ne.makeRe(e,t,!1,!0),a=i.state;delete i.state;let c=()=>!1;if(o.ignore){let l={...t,ignore:null,onMatch:null,onResult:null};c=Ne(o.ignore,l,r)}let d=(l,m=!1)=>{let{isMatch:f,match:E,output:g}=Ne.test(l,i,t,{glob:e,posix:s}),b={glob:e,state:a,regex:i,posix:s,input:l,output:g,match:E,isMatch:f};return typeof o.onResult=="function"&&o.onResult(b),f===!1?(b.isMatch=!1,m?b:!1):c(l)?(typeof o.onIgnore=="function"&&o.onIgnore(b),b.isMatch=!1,m?b:!1):(typeof o.onMatch=="function"&&o.onMatch(b),m?b:!0)};return r&&(d.state=a),d};Ne.test=(e,t,r,{glob:n,posix:o}={})=>{if(typeof e!="string")throw new TypeError("Expected input to be a string");if(e==="")return{isMatch:!1,output:""};let s=r||{},i=s.format||(o?Vl.toPosixSlashes:null),a=e===n,c=a&&i?i(e):e;return a===!1&&(c=i?i(e):e,a=c===n),(a===!1||s.capture===!0)&&(s.matchBase===!0||s.basename===!0?a=Ne.matchBase(e,t,r,o):a=t.exec(c)),{isMatch:!!a,match:a,output:c}};Ne.matchBase=(e,t,r,n=Vl.isWindows(r))=>(t instanceof RegExp?t:Ne.makeRe(t,r)).test(sI.basename(e));Ne.isMatch=(e,t,r)=>Ne(t,r)(e);Ne.parse=(e,t)=>Array.isArray(e)?e.map(r=>Ne.parse(r,t)):Kl(e,{...t,fastpaths:!1});Ne.scan=(e,t)=>iI(e,t);Ne.compileRe=(e,t,r=!1,n=!1)=>{if(r===!0)return e.output;let o=t||{},s=o.contains?"":"^",i=o.contains?"":"$",a=`${s}(?:${e.output})${i}`;e&&e.negated===!0&&(a=`^(?!${a}).*$`);let c=Ne.toRegex(a,t);return n===!0&&(c.state=e),c};Ne.makeRe=(e,t={},r=!1,n=!1)=>{if(!e||typeof e!="string")throw new TypeError("Expected a non-empty string");let o={negated:!1,fastpaths:!0};return t.fastpaths!==!1&&(e[0]==="."||e[0]==="*")&&(o.output=Kl.fastpaths(e,t)),o.output||(o=Kl(e,t)),Ne.compileRe(o,t,r,n)};Ne.toRegex=(e,t)=>{try{let r=t||{};return new RegExp(e,r.flags||(r.nocase?"i":""))}catch(r){if(t&&t.debug===!0)throw r;return/$^/}};Ne.constants=aI;xS.exports=Ne});var wS=R((xQ,ES)=>{"use strict";ES.exports=CS()});var RS=R((CQ,AS)=>{"use strict";var bS=require("util"),_S=tS(),nr=wS(),Wl=$s(),SS=e=>e===""||e==="./",Ae=(e,t,r)=>{t=[].concat(t),e=[].concat(e);let n=new Set,o=new Set,s=new Set,i=0,a=l=>{s.add(l.output),r&&r.onResult&&r.onResult(l)};for(let l=0;l<t.length;l++){let m=nr(String(t[l]),{...r,onResult:a},!0),f=m.state.negated||m.state.negatedExtglob;f&&i++;for(let E of e){let g=m(E,!0);(f?!g.isMatch:g.isMatch)&&(f?n.add(g.output):(n.delete(g.output),o.add(g.output)))}}let d=(i===t.length?[...s]:[...o]).filter(l=>!n.has(l));if(r&&d.length===0){if(r.failglob===!0)throw new Error(`No matches found for "${t.join(", ")}"`);if(r.nonull===!0||r.nullglob===!0)return r.unescape?t.map(l=>l.replace(/\\/g,"")):t}return d};Ae.match=Ae;Ae.matcher=(e,t)=>nr(e,t);Ae.isMatch=(e,t,r)=>nr(t,r)(e);Ae.any=Ae.isMatch;Ae.not=(e,t,r={})=>{t=[].concat(t).map(String);let n=new Set,o=[],s=a=>{r.onResult&&r.onResult(a),o.push(a.output)},i=new Set(Ae(e,t,{...r,onResult:s}));for(let a of o)i.has(a)||n.add(a);return[...n]};Ae.contains=(e,t,r)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${bS.inspect(e)}"`);if(Array.isArray(t))return t.some(n=>Ae.contains(e,n,r));if(typeof t=="string"){if(SS(e)||SS(t))return!1;if(e.includes(t)||e.startsWith("./")&&e.slice(2).includes(t))return!0}return Ae.isMatch(e,t,{...r,contains:!0})};Ae.matchKeys=(e,t,r)=>{if(!Wl.isObject(e))throw new TypeError("Expected the first argument to be an object");let n=Ae(Object.keys(e),t,r),o={};for(let s of n)o[s]=e[s];return o};Ae.some=(e,t,r)=>{let n=[].concat(e);for(let o of[].concat(t)){let s=nr(String(o),r);if(n.some(i=>s(i)))return!0}return!1};Ae.every=(e,t,r)=>{let n=[].concat(e);for(let o of[].concat(t)){let s=nr(String(o),r);if(!n.every(i=>s(i)))return!1}return!0};Ae.all=(e,t,r)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${bS.inspect(e)}"`);return[].concat(t).every(n=>nr(n,r)(e))};Ae.capture=(e,t,r)=>{let n=Wl.isWindows(r),s=nr.makeRe(String(e),{...r,capture:!0}).exec(n?Wl.toPosixSlashes(t):t);if(s)return s.slice(1).map(i=>i===void 0?"":i)};Ae.makeRe=(...e)=>nr.makeRe(...e);Ae.scan=(...e)=>nr.scan(...e);Ae.parse=(e,t)=>{let r=[];for(let n of[].concat(e||[]))for(let o of _S(String(n),t))r.push(nr.parse(o,t));return r};Ae.braces=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return t&&t.nobrace===!0||!/\{.*\}/.test(e)?[e]:_S(e,t)};Ae.braceExpand=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return Ae.braces(e,{...t,expand:!0})};AS.exports=Ae});var DS=R(Y=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0});Y.matchAny=Y.convertPatternsToRe=Y.makeRe=Y.getPatternParts=Y.expandBraceExpansion=Y.expandPatternsWithBraceExpansion=Y.isAffectDepthOfReadingPattern=Y.endsWithSlashGlobStar=Y.hasGlobStar=Y.getBaseDirectory=Y.isPatternRelatedToParentDirectory=Y.getPatternsOutsideCurrentDirectory=Y.getPatternsInsideCurrentDirectory=Y.getPositivePatterns=Y.getNegativePatterns=Y.isPositivePattern=Y.isNegativePattern=Y.convertToNegativePattern=Y.convertToPositivePattern=Y.isDynamicPattern=Y.isStaticPattern=void 0;var dI=require("path"),lI=xw(),Yl=RS(),kS="**",uI="\\",fI=/[*?]|^!/,mI=/\[[^[]*]/,hI=/(?:^|[^!*+?@])\([^(]*\|[^|]*\)/,pI=/[!*+?@]\([^(]*\)/,yI=/,|\.\./;function TS(e,t={}){return!NS(e,t)}Y.isStaticPattern=TS;function NS(e,t={}){return e===""?!1:!!(t.caseSensitiveMatch===!1||e.includes(uI)||fI.test(e)||mI.test(e)||hI.test(e)||t.extglob!==!1&&pI.test(e)||t.braceExpansion!==!1&&gI(e))}Y.isDynamicPattern=NS;function gI(e){let t=e.indexOf("{");if(t===-1)return!1;let r=e.indexOf("}",t+1);if(r===-1)return!1;let n=e.slice(t,r);return yI.test(n)}function xI(e){return Da(e)?e.slice(1):e}Y.convertToPositivePattern=xI;function CI(e){return"!"+e}Y.convertToNegativePattern=CI;function Da(e){return e.startsWith("!")&&e[1]!=="("}Y.isNegativePattern=Da;function vS(e){return!Da(e)}Y.isPositivePattern=vS;function EI(e){return e.filter(Da)}Y.getNegativePatterns=EI;function wI(e){return e.filter(vS)}Y.getPositivePatterns=wI;function SI(e){return e.filter(t=>!Ql(t))}Y.getPatternsInsideCurrentDirectory=SI;function bI(e){return e.filter(Ql)}Y.getPatternsOutsideCurrentDirectory=bI;function Ql(e){return e.startsWith("..")||e.startsWith("./..")}Y.isPatternRelatedToParentDirectory=Ql;function _I(e){return lI(e,{flipBackslashes:!1})}Y.getBaseDirectory=_I;function AI(e){return e.includes(kS)}Y.hasGlobStar=AI;function PS(e){return e.endsWith("/"+kS)}Y.endsWithSlashGlobStar=PS;function RI(e){let t=dI.basename(e);return PS(e)||TS(t)}Y.isAffectDepthOfReadingPattern=RI;function kI(e){return e.reduce((t,r)=>t.concat(OS(r)),[])}Y.expandPatternsWithBraceExpansion=kI;function OS(e){return Yl.braces(e,{expand:!0,nodupes:!0})}Y.expandBraceExpansion=OS;function TI(e,t){let{parts:r}=Yl.scan(e,Object.assign(Object.assign({},t),{parts:!0}));return r.length===0&&(r=[e]),r[0].startsWith("/")&&(r[0]=r[0].slice(1),r.unshift("")),r}Y.getPatternParts=TI;function IS(e,t){return Yl.makeRe(e,t)}Y.makeRe=IS;function NI(e,t){return e.map(r=>IS(r,t))}Y.convertPatternsToRe=NI;function vI(e,t){return t.some(r=>r.test(e))}Y.matchAny=vI});var MS=R(Ba=>{"use strict";Object.defineProperty(Ba,"__esModule",{value:!0});Ba.merge=void 0;var PI=vl();function OI(e){let t=PI(e);return e.forEach(r=>{r.once("error",n=>t.emit("error",n))}),t.once("close",()=>BS(e)),t.once("end",()=>BS(e)),t}Ba.merge=OI;function BS(e){e.forEach(t=>t.emit("close"))}});var FS=R(jo=>{"use strict";Object.defineProperty(jo,"__esModule",{value:!0});jo.isEmpty=jo.isString=void 0;function II(e){return typeof e=="string"}jo.isString=II;function DI(e){return e===""}jo.isEmpty=DI});var Er=R(Ye=>{"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});Ye.string=Ye.stream=Ye.pattern=Ye.path=Ye.fs=Ye.errno=Ye.array=void 0;var BI=cw();Ye.array=BI;var MI=dw();Ye.errno=MI;var FI=lw();Ye.fs=FI;var LI=uw();Ye.path=LI;var $I=DS();Ye.pattern=$I;var UI=MS();Ye.stream=UI;var zI=FS();Ye.string=zI});var US=R(Qe=>{"use strict";Object.defineProperty(Qe,"__esModule",{value:!0});Qe.convertPatternGroupToTask=Qe.convertPatternGroupsToTasks=Qe.groupPatternsByBaseDirectory=Qe.getNegativePatternsAsPositive=Qe.getPositivePatterns=Qe.convertPatternsToTasks=Qe.generate=void 0;var wr=Er();function qI(e,t){let r=LS(e),n=$S(e,t.ignore),o=r.filter(c=>wr.pattern.isStaticPattern(c,t)),s=r.filter(c=>wr.pattern.isDynamicPattern(c,t)),i=Xl(o,n,!1),a=Xl(s,n,!0);return i.concat(a)}Qe.generate=qI;function Xl(e,t,r){let n=[],o=wr.pattern.getPatternsOutsideCurrentDirectory(e),s=wr.pattern.getPatternsInsideCurrentDirectory(e),i=Jl(o),a=Jl(s);return n.push(...Zl(i,t,r)),"."in a?n.push(eu(".",s,t,r)):n.push(...Zl(a,t,r)),n}Qe.convertPatternsToTasks=Xl;function LS(e){return wr.pattern.getPositivePatterns(e)}Qe.getPositivePatterns=LS;function $S(e,t){return wr.pattern.getNegativePatterns(e).concat(t).map(wr.pattern.convertToPositivePattern)}Qe.getNegativePatternsAsPositive=$S;function Jl(e){let t={};return e.reduce((r,n)=>{let o=wr.pattern.getBaseDirectory(n);return o in r?r[o].push(n):r[o]=[n],r},t)}Qe.groupPatternsByBaseDirectory=Jl;function Zl(e,t,r){return Object.keys(e).map(n=>eu(n,e[n],t,r))}Qe.convertPatternGroupsToTasks=Zl;function eu(e,t,r,n){return{dynamic:n,positive:t,negative:r,base:e,patterns:[].concat(t,r.map(wr.pattern.convertToNegativePattern))}}Qe.convertPatternGroupToTask=eu});var qS=R(Ho=>{"use strict";Object.defineProperty(Ho,"__esModule",{value:!0});Ho.removeDuplicateSlashes=Ho.transform=void 0;var jI=/(?!^)\/{2,}/g;function HI(e){return e.map(t=>zS(t))}Ho.transform=HI;function zS(e){return e.replace(jI,"/")}Ho.removeDuplicateSlashes=zS});var HS=R(Ma=>{"use strict";Object.defineProperty(Ma,"__esModule",{value:!0});Ma.read=void 0;function GI(e,t,r){t.fs.lstat(e,(n,o)=>{if(n!==null){jS(r,n);return}if(!o.isSymbolicLink()||!t.followSymbolicLink){tu(r,o);return}t.fs.stat(e,(s,i)=>{if(s!==null){if(t.throwErrorOnBrokenSymbolicLink){jS(r,s);return}tu(r,o);return}t.markSymbolicLink&&(i.isSymbolicLink=()=>!0),tu(r,i)})})}Ma.read=GI;function jS(e,t){e(t)}function tu(e,t){e(null,t)}});var GS=R(Fa=>{"use strict";Object.defineProperty(Fa,"__esModule",{value:!0});Fa.read=void 0;function KI(e,t){let r=t.fs.lstatSync(e);if(!r.isSymbolicLink()||!t.followSymbolicLink)return r;try{let n=t.fs.statSync(e);return t.markSymbolicLink&&(n.isSymbolicLink=()=>!0),n}catch(n){if(!t.throwErrorOnBrokenSymbolicLink)return r;throw n}}Fa.read=KI});var KS=R(fn=>{"use strict";Object.defineProperty(fn,"__esModule",{value:!0});fn.createFileSystemAdapter=fn.FILE_SYSTEM_ADAPTER=void 0;var La=require("fs");fn.FILE_SYSTEM_ADAPTER={lstat:La.lstat,stat:La.stat,lstatSync:La.lstatSync,statSync:La.statSync};function VI(e){return e===void 0?fn.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},fn.FILE_SYSTEM_ADAPTER),e)}fn.createFileSystemAdapter=VI});var VS=R(nu=>{"use strict";Object.defineProperty(nu,"__esModule",{value:!0});var WI=KS(),ru=class{constructor(t={}){this._options=t,this.followSymbolicLink=this._getValue(this._options.followSymbolicLink,!0),this.fs=WI.createFileSystemAdapter(this._options.fs),this.markSymbolicLink=this._getValue(this._options.markSymbolicLink,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0)}_getValue(t,r){return t??r}};nu.default=ru});var Mn=R(mn=>{"use strict";Object.defineProperty(mn,"__esModule",{value:!0});mn.statSync=mn.stat=mn.Settings=void 0;var WS=HS(),YI=GS(),ou=VS();mn.Settings=ou.default;function QI(e,t,r){if(typeof t=="function"){WS.read(e,su(),t);return}WS.read(e,su(t),r)}mn.stat=QI;function XI(e,t){let r=su(t);return YI.read(e,r)}mn.statSync=XI;function su(e={}){return e instanceof ou.default?e:new ou.default(e)}});var XS=R((PQ,QS)=>{var YS;QS.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:global):e=>(YS||(YS=Promise.resolve())).then(e).catch(t=>setTimeout(()=>{throw t},0))});var ZS=R((OQ,JS)=>{JS.exports=ZI;var JI=XS();function ZI(e,t){let r,n,o,s=!0;Array.isArray(e)?(r=[],n=e.length):(o=Object.keys(e),r={},n=o.length);function i(c){function d(){t&&t(c,r),t=null}s?JI(d):d()}function a(c,d,l){r[c]=l,(--n===0||d)&&i(d)}n?o?o.forEach(function(c){e[c](function(d,l){a(c,d,l)})}):e.forEach(function(c,d){c(function(l,m){a(d,l,m)})}):i(null),s=!1}});var iu=R(Ua=>{"use strict";Object.defineProperty(Ua,"__esModule",{value:!0});Ua.IS_SUPPORT_READDIR_WITH_FILE_TYPES=void 0;var $a=process.versions.node.split(".");if($a[0]===void 0||$a[1]===void 0)throw new Error(`Unexpected behavior. The 'process.versions.node' variable has invalid value: ${process.versions.node}`);var eb=Number.parseInt($a[0],10),eD=Number.parseInt($a[1],10),tb=10,tD=10,rD=eb>tb,nD=eb===tb&&eD>=tD;Ua.IS_SUPPORT_READDIR_WITH_FILE_TYPES=rD||nD});var rb=R(za=>{"use strict";Object.defineProperty(za,"__esModule",{value:!0});za.createDirentFromStats=void 0;var au=class{constructor(t,r){this.name=t,this.isBlockDevice=r.isBlockDevice.bind(r),this.isCharacterDevice=r.isCharacterDevice.bind(r),this.isDirectory=r.isDirectory.bind(r),this.isFIFO=r.isFIFO.bind(r),this.isFile=r.isFile.bind(r),this.isSocket=r.isSocket.bind(r),this.isSymbolicLink=r.isSymbolicLink.bind(r)}};function oD(e,t){return new au(e,t)}za.createDirentFromStats=oD});var cu=R(qa=>{"use strict";Object.defineProperty(qa,"__esModule",{value:!0});qa.fs=void 0;var sD=rb();qa.fs=sD});var du=R(ja=>{"use strict";Object.defineProperty(ja,"__esModule",{value:!0});ja.joinPathSegments=void 0;function iD(e,t,r){return e.endsWith(r)?e+t:e+r+t}ja.joinPathSegments=iD});var cb=R(hn=>{"use strict";Object.defineProperty(hn,"__esModule",{value:!0});hn.readdir=hn.readdirWithFileTypes=hn.read=void 0;var aD=Mn(),nb=ZS(),cD=iu(),ob=cu(),sb=du();function dD(e,t,r){if(!t.stats&&cD.IS_SUPPORT_READDIR_WITH_FILE_TYPES){ib(e,t,r);return}ab(e,t,r)}hn.read=dD;function ib(e,t,r){t.fs.readdir(e,{withFileTypes:!0},(n,o)=>{if(n!==null){Ha(r,n);return}let s=o.map(a=>({dirent:a,name:a.name,path:sb.joinPathSegments(e,a.name,t.pathSegmentSeparator)}));if(!t.followSymbolicLinks){lu(r,s);return}let i=s.map(a=>lD(a,t));nb(i,(a,c)=>{if(a!==null){Ha(r,a);return}lu(r,c)})})}hn.readdirWithFileTypes=ib;function lD(e,t){return r=>{if(!e.dirent.isSymbolicLink()){r(null,e);return}t.fs.stat(e.path,(n,o)=>{if(n!==null){if(t.throwErrorOnBrokenSymbolicLink){r(n);return}r(null,e);return}e.dirent=ob.fs.createDirentFromStats(e.name,o),r(null,e)})}}function ab(e,t,r){t.fs.readdir(e,(n,o)=>{if(n!==null){Ha(r,n);return}let s=o.map(i=>{let a=sb.joinPathSegments(e,i,t.pathSegmentSeparator);return c=>{aD.stat(a,t.fsStatSettings,(d,l)=>{if(d!==null){c(d);return}let m={name:i,path:a,dirent:ob.fs.createDirentFromStats(i,l)};t.stats&&(m.stats=l),c(null,m)})}});nb(s,(i,a)=>{if(i!==null){Ha(r,i);return}lu(r,a)})})}hn.readdir=ab;function Ha(e,t){e(t)}function lu(e,t){e(null,t)}});var mb=R(pn=>{"use strict";Object.defineProperty(pn,"__esModule",{value:!0});pn.readdir=pn.readdirWithFileTypes=pn.read=void 0;var uD=Mn(),fD=iu(),db=cu(),lb=du();function mD(e,t){return!t.stats&&fD.IS_SUPPORT_READDIR_WITH_FILE_TYPES?ub(e,t):fb(e,t)}pn.read=mD;function ub(e,t){return t.fs.readdirSync(e,{withFileTypes:!0}).map(n=>{let o={dirent:n,name:n.name,path:lb.joinPathSegments(e,n.name,t.pathSegmentSeparator)};if(o.dirent.isSymbolicLink()&&t.followSymbolicLinks)try{let s=t.fs.statSync(o.path);o.dirent=db.fs.createDirentFromStats(o.name,s)}catch(s){if(t.throwErrorOnBrokenSymbolicLink)throw s}return o})}pn.readdirWithFileTypes=ub;function fb(e,t){return t.fs.readdirSync(e).map(n=>{let o=lb.joinPathSegments(e,n,t.pathSegmentSeparator),s=uD.statSync(o,t.fsStatSettings),i={name:n,path:o,dirent:db.fs.createDirentFromStats(n,s)};return t.stats&&(i.stats=s),i})}pn.readdir=fb});var hb=R(yn=>{"use strict";Object.defineProperty(yn,"__esModule",{value:!0});yn.createFileSystemAdapter=yn.FILE_SYSTEM_ADAPTER=void 0;var Go=require("fs");yn.FILE_SYSTEM_ADAPTER={lstat:Go.lstat,stat:Go.stat,lstatSync:Go.lstatSync,statSync:Go.statSync,readdir:Go.readdir,readdirSync:Go.readdirSync};function hD(e){return e===void 0?yn.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},yn.FILE_SYSTEM_ADAPTER),e)}yn.createFileSystemAdapter=hD});var pb=R(fu=>{"use strict";Object.defineProperty(fu,"__esModule",{value:!0});var pD=require("path"),yD=Mn(),gD=hb(),uu=class{constructor(t={}){this._options=t,this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!1),this.fs=gD.createFileSystemAdapter(this._options.fs),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,pD.sep),this.stats=this._getValue(this._options.stats,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0),this.fsStatSettings=new yD.Settings({followSymbolicLink:this.followSymbolicLinks,fs:this.fs,throwErrorOnBrokenSymbolicLink:this.throwErrorOnBrokenSymbolicLink})}_getValue(t,r){return t??r}};fu.default=uu});var Ga=R(gn=>{"use strict";Object.defineProperty(gn,"__esModule",{value:!0});gn.Settings=gn.scandirSync=gn.scandir=void 0;var yb=cb(),xD=mb(),mu=pb();gn.Settings=mu.default;function CD(e,t,r){if(typeof t=="function"){yb.read(e,hu(),t);return}yb.read(e,hu(t),r)}gn.scandir=CD;function ED(e,t){let r=hu(t);return xD.read(e,r)}gn.scandirSync=ED;function hu(e={}){return e instanceof mu.default?e:new mu.default(e)}});var xb=R((qQ,gb)=>{"use strict";function wD(e){var t=new e,r=t;function n(){var s=t;return s.next?t=s.next:(t=new e,r=t),s.next=null,s}function o(s){r.next=s,r=s}return{get:n,release:o}}gb.exports=wD});var Eb=R((jQ,pu)=>{"use strict";var SD=xb();function Cb(e,t,r){if(typeof e=="function"&&(r=t,t=e,e=null),r<1)throw new Error("fastqueue concurrency must be greater than 1");var n=SD(bD),o=null,s=null,i=0,a=null,c={push:b,drain:kt,saturated:kt,pause:l,paused:!1,concurrency:r,running:d,resume:E,idle:g,length:m,getQueue:f,unshift:T,empty:kt,kill:se,killAndDrain:Z,error:ve};return c;function d(){return i}function l(){c.paused=!0}function m(){for(var Q=o,ge=0;Q;)Q=Q.next,ge++;return ge}function f(){for(var Q=o,ge=[];Q;)ge.push(Q.value),Q=Q.next;return ge}function E(){if(c.paused){c.paused=!1;for(var Q=0;Q<c.concurrency;Q++)i++,U()}}function g(){return i===0&&c.length()===0}function b(Q,ge){var J=n.get();J.context=e,J.release=U,J.value=Q,J.callback=ge||kt,J.errorHandler=a,i===c.concurrency||c.paused?s?(s.next=J,s=J):(o=J,s=J,c.saturated()):(i++,t.call(e,J.value,J.worked))}function T(Q,ge){var J=n.get();J.context=e,J.release=U,J.value=Q,J.callback=ge||kt,i===c.concurrency||c.paused?o?(J.next=o,o=J):(o=J,s=J,c.saturated()):(i++,t.call(e,J.value,J.worked))}function U(Q){Q&&n.release(Q);var ge=o;ge?c.paused?i--:(s===o&&(s=null),o=ge.next,ge.next=null,t.call(e,ge.value,ge.worked),s===null&&c.empty()):--i===0&&c.drain()}function se(){o=null,s=null,c.drain=kt}function Z(){o=null,s=null,c.drain(),c.drain=kt}function ve(Q){a=Q}}function kt(){}function bD(){this.value=null,this.callback=kt,this.next=null,this.release=kt,this.context=null,this.errorHandler=null;var e=this;this.worked=function(r,n){var o=e.callback,s=e.errorHandler,i=e.value;e.value=null,e.callback=kt,e.errorHandler&&s(r,i),o.call(e.context,r,n),e.release(e)}}function _D(e,t,r){typeof e=="function"&&(r=t,t=e,e=null);function n(l,m){t.call(this,l).then(function(f){m(null,f)},m)}var o=Cb(e,n,r),s=o.push,i=o.unshift;return o.push=a,o.unshift=c,o.drained=d,o;function a(l){var m=new Promise(function(f,E){s(l,function(g,b){if(g){E(g);return}f(b)})});return m.catch(kt),m}function c(l){var m=new Promise(function(f,E){i(l,function(g,b){if(g){E(g);return}f(b)})});return m.catch(kt),m}function d(){if(o.idle())return new Promise(function(f){f()});var l=o.drain,m=new Promise(function(f){o.drain=function(){l(),f()}});return m}}pu.exports=Cb;pu.exports.promise=_D});var Ka=R(or=>{"use strict";Object.defineProperty(or,"__esModule",{value:!0});or.joinPathSegments=or.replacePathSegmentSeparator=or.isAppliedFilter=or.isFatalError=void 0;function AD(e,t){return e.errorFilter===null?!0:!e.errorFilter(t)}or.isFatalError=AD;function RD(e,t){return e===null||e(t)}or.isAppliedFilter=RD;function kD(e,t){return e.split(/[/\\]/).join(t)}or.replacePathSegmentSeparator=kD;function TD(e,t,r){return e===""?t:e.endsWith(r)?e+t:e+r+t}or.joinPathSegments=TD});var xu=R(gu=>{"use strict";Object.defineProperty(gu,"__esModule",{value:!0});var ND=Ka(),yu=class{constructor(t,r){this._root=t,this._settings=r,this._root=ND.replacePathSegmentSeparator(t,r.pathSegmentSeparator)}};gu.default=yu});var wu=R(Eu=>{"use strict";Object.defineProperty(Eu,"__esModule",{value:!0});var vD=require("events"),PD=Ga(),OD=Eb(),Va=Ka(),ID=xu(),Cu=class extends ID.default{constructor(t,r){super(t,r),this._settings=r,this._scandir=PD.scandir,this._emitter=new vD.EventEmitter,this._queue=OD(this._worker.bind(this),this._settings.concurrency),this._isFatalError=!1,this._isDestroyed=!1,this._queue.drain=()=>{this._isFatalError||this._emitter.emit("end")}}read(){return this._isFatalError=!1,this._isDestroyed=!1,setImmediate(()=>{this._pushToQueue(this._root,this._settings.basePath)}),this._emitter}get isDestroyed(){return this._isDestroyed}destroy(){if(this._isDestroyed)throw new Error("The reader is already destroyed");this._isDestroyed=!0,this._queue.killAndDrain()}onEntry(t){this._emitter.on("entry",t)}onError(t){this._emitter.once("error",t)}onEnd(t){this._emitter.once("end",t)}_pushToQueue(t,r){let n={directory:t,base:r};this._queue.push(n,o=>{o!==null&&this._handleError(o)})}_worker(t,r){this._scandir(t.directory,this._settings.fsScandirSettings,(n,o)=>{if(n!==null){r(n,void 0);return}for(let s of o)this._handleEntry(s,t.base);r(null,void 0)})}_handleError(t){this._isDestroyed||!Va.isFatalError(this._settings,t)||(this._isFatalError=!0,this._isDestroyed=!0,this._emitter.emit("error",t))}_handleEntry(t,r){if(this._isDestroyed||this._isFatalError)return;let n=t.path;r!==void 0&&(t.path=Va.joinPathSegments(r,t.name,this._settings.pathSegmentSeparator)),Va.isAppliedFilter(this._settings.entryFilter,t)&&this._emitEntry(t),t.dirent.isDirectory()&&Va.isAppliedFilter(this._settings.deepFilter,t)&&this._pushToQueue(n,r===void 0?void 0:t.path)}_emitEntry(t){this._emitter.emit("entry",t)}};Eu.default=Cu});var wb=R(bu=>{"use strict";Object.defineProperty(bu,"__esModule",{value:!0});var DD=wu(),Su=class{constructor(t,r){this._root=t,this._settings=r,this._reader=new DD.default(this._root,this._settings),this._storage=[]}read(t){this._reader.onError(r=>{BD(t,r)}),this._reader.onEntry(r=>{this._storage.push(r)}),this._reader.onEnd(()=>{MD(t,this._storage)}),this._reader.read()}};bu.default=Su;function BD(e,t){e(t)}function MD(e,t){e(null,t)}});var Sb=R(Au=>{"use strict";Object.defineProperty(Au,"__esModule",{value:!0});var FD=require("stream"),LD=wu(),_u=class{constructor(t,r){this._root=t,this._settings=r,this._reader=new LD.default(this._root,this._settings),this._stream=new FD.Readable({objectMode:!0,read:()=>{},destroy:()=>{this._reader.isDestroyed||this._reader.destroy()}})}read(){return this._reader.onError(t=>{this._stream.emit("error",t)}),this._reader.onEntry(t=>{this._stream.push(t)}),this._reader.onEnd(()=>{this._stream.push(null)}),this._reader.read(),this._stream}};Au.default=_u});var bb=R(ku=>{"use strict";Object.defineProperty(ku,"__esModule",{value:!0});var $D=Ga(),Wa=Ka(),UD=xu(),Ru=class extends UD.default{constructor(){super(...arguments),this._scandir=$D.scandirSync,this._storage=[],this._queue=new Set}read(){return this._pushToQueue(this._root,this._settings.basePath),this._handleQueue(),this._storage}_pushToQueue(t,r){this._queue.add({directory:t,base:r})}_handleQueue(){for(let t of this._queue.values())this._handleDirectory(t.directory,t.base)}_handleDirectory(t,r){try{let n=this._scandir(t,this._settings.fsScandirSettings);for(let o of n)this._handleEntry(o,r)}catch(n){this._handleError(n)}}_handleError(t){if(Wa.isFatalError(this._settings,t))throw t}_handleEntry(t,r){let n=t.path;r!==void 0&&(t.path=Wa.joinPathSegments(r,t.name,this._settings.pathSegmentSeparator)),Wa.isAppliedFilter(this._settings.entryFilter,t)&&this._pushToStorage(t),t.dirent.isDirectory()&&Wa.isAppliedFilter(this._settings.deepFilter,t)&&this._pushToQueue(n,r===void 0?void 0:t.path)}_pushToStorage(t){this._storage.push(t)}};ku.default=Ru});var _b=R(Nu=>{"use strict";Object.defineProperty(Nu,"__esModule",{value:!0});var zD=bb(),Tu=class{constructor(t,r){this._root=t,this._settings=r,this._reader=new zD.default(this._root,this._settings)}read(){return this._reader.read()}};Nu.default=Tu});var Ab=R(Pu=>{"use strict";Object.defineProperty(Pu,"__esModule",{value:!0});var qD=require("path"),jD=Ga(),vu=class{constructor(t={}){this._options=t,this.basePath=this._getValue(this._options.basePath,void 0),this.concurrency=this._getValue(this._options.concurrency,Number.POSITIVE_INFINITY),this.deepFilter=this._getValue(this._options.deepFilter,null),this.entryFilter=this._getValue(this._options.entryFilter,null),this.errorFilter=this._getValue(this._options.errorFilter,null),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,qD.sep),this.fsScandirSettings=new jD.Settings({followSymbolicLinks:this._options.followSymbolicLinks,fs:this._options.fs,pathSegmentSeparator:this._options.pathSegmentSeparator,stats:this._options.stats,throwErrorOnBrokenSymbolicLink:this._options.throwErrorOnBrokenSymbolicLink})}_getValue(t,r){return t??r}};Pu.default=vu});var Qa=R(sr=>{"use strict";Object.defineProperty(sr,"__esModule",{value:!0});sr.Settings=sr.walkStream=sr.walkSync=sr.walk=void 0;var Rb=wb(),HD=Sb(),GD=_b(),Ou=Ab();sr.Settings=Ou.default;function KD(e,t,r){if(typeof t=="function"){new Rb.default(e,Ya()).read(t);return}new Rb.default(e,Ya(t)).read(r)}sr.walk=KD;function VD(e,t){let r=Ya(t);return new GD.default(e,r).read()}sr.walkSync=VD;function WD(e,t){let r=Ya(t);return new HD.default(e,r).read()}sr.walkStream=WD;function Ya(e={}){return e instanceof Ou.default?e:new Ou.default(e)}});var Xa=R(Du=>{"use strict";Object.defineProperty(Du,"__esModule",{value:!0});var YD=require("path"),QD=Mn(),kb=Er(),Iu=class{constructor(t){this._settings=t,this._fsStatSettings=new QD.Settings({followSymbolicLink:this._settings.followSymbolicLinks,fs:this._settings.fs,throwErrorOnBrokenSymbolicLink:this._settings.followSymbolicLinks})}_getFullEntryPath(t){return YD.resolve(this._settings.cwd,t)}_makeEntry(t,r){let n={name:r,path:r,dirent:kb.fs.createDirentFromStats(r,t)};return this._settings.stats&&(n.stats=t),n}_isFatalError(t){return!kb.errno.isEnoentCodeError(t)&&!this._settings.suppressErrors}};Du.default=Iu});var Fu=R(Mu=>{"use strict";Object.defineProperty(Mu,"__esModule",{value:!0});var XD=require("stream"),JD=Mn(),ZD=Qa(),eB=Xa(),Bu=class extends eB.default{constructor(){super(...arguments),this._walkStream=ZD.walkStream,this._stat=JD.stat}dynamic(t,r){return this._walkStream(t,r)}static(t,r){let n=t.map(this._getFullEntryPath,this),o=new XD.PassThrough({objectMode:!0});o._write=(s,i,a)=>this._getEntry(n[s],t[s],r).then(c=>{c!==null&&r.entryFilter(c)&&o.push(c),s===n.length-1&&o.end(),a()}).catch(a);for(let s=0;s<n.length;s++)o.write(s);return o}_getEntry(t,r,n){return this._getStat(t).then(o=>this._makeEntry(o,r)).catch(o=>{if(n.errorFilter(o))return null;throw o})}_getStat(t){return new Promise((r,n)=>{this._stat(t,this._fsStatSettings,(o,s)=>o===null?r(s):n(o))})}};Mu.default=Bu});var Tb=R($u=>{"use strict";Object.defineProperty($u,"__esModule",{value:!0});var tB=Qa(),rB=Xa(),nB=Fu(),Lu=class extends rB.default{constructor(){super(...arguments),this._walkAsync=tB.walk,this._readerStream=new nB.default(this._settings)}dynamic(t,r){return new Promise((n,o)=>{this._walkAsync(t,r,(s,i)=>{s===null?n(i):o(s)})})}async static(t,r){let n=[],o=this._readerStream.static(t,r);return new Promise((s,i)=>{o.once("error",i),o.on("data",a=>n.push(a)),o.once("end",()=>s(n))})}};$u.default=Lu});var Nb=R(zu=>{"use strict";Object.defineProperty(zu,"__esModule",{value:!0});var Ko=Er(),Uu=class{constructor(t,r,n){this._patterns=t,this._settings=r,this._micromatchOptions=n,this._storage=[],this._fillStorage()}_fillStorage(){let t=Ko.pattern.expandPatternsWithBraceExpansion(this._patterns);for(let r of t){let n=this._getPatternSegments(r),o=this._splitSegmentsIntoSections(n);this._storage.push({complete:o.length<=1,pattern:r,segments:n,sections:o})}}_getPatternSegments(t){return Ko.pattern.getPatternParts(t,this._micromatchOptions).map(n=>Ko.pattern.isDynamicPattern(n,this._settings)?{dynamic:!0,pattern:n,patternRe:Ko.pattern.makeRe(n,this._micromatchOptions)}:{dynamic:!1,pattern:n})}_splitSegmentsIntoSections(t){return Ko.array.splitWhen(t,r=>r.dynamic&&Ko.pattern.hasGlobStar(r.pattern))}};zu.default=Uu});var vb=R(ju=>{"use strict";Object.defineProperty(ju,"__esModule",{value:!0});var oB=Nb(),qu=class extends oB.default{match(t){let r=t.split("/"),n=r.length,o=this._storage.filter(s=>!s.complete||s.segments.length>n);for(let s of o){let i=s.sections[0];if(!s.complete&&n>i.length||r.every((c,d)=>{let l=s.segments[d];return!!(l.dynamic&&l.patternRe.test(c)||!l.dynamic&&l.pattern===c)}))return!0}return!1}};ju.default=qu});var Pb=R(Gu=>{"use strict";Object.defineProperty(Gu,"__esModule",{value:!0});var Ja=Er(),sB=vb(),Hu=class{constructor(t,r){this._settings=t,this._micromatchOptions=r}getFilter(t,r,n){let o=this._getMatcher(r),s=this._getNegativePatternsRe(n);return i=>this._filter(t,i,o,s)}_getMatcher(t){return new sB.default(t,this._settings,this._micromatchOptions)}_getNegativePatternsRe(t){let r=t.filter(Ja.pattern.isAffectDepthOfReadingPattern);return Ja.pattern.convertPatternsToRe(r,this._micromatchOptions)}_filter(t,r,n,o){if(this._isSkippedByDeep(t,r.path)||this._isSkippedSymbolicLink(r))return!1;let s=Ja.path.removeLeadingDotSegment(r.path);return this._isSkippedByPositivePatterns(s,n)?!1:this._isSkippedByNegativePatterns(s,o)}_isSkippedByDeep(t,r){return this._settings.deep===1/0?!1:this._getEntryLevel(t,r)>=this._settings.deep}_getEntryLevel(t,r){let n=r.split("/").length;if(t==="")return n;let o=t.split("/").length;return n-o}_isSkippedSymbolicLink(t){return!this._settings.followSymbolicLinks&&t.dirent.isSymbolicLink()}_isSkippedByPositivePatterns(t,r){return!this._settings.baseNameMatch&&!r.match(t)}_isSkippedByNegativePatterns(t,r){return!Ja.pattern.matchAny(t,r)}};Gu.default=Hu});var Ob=R(Vu=>{"use strict";Object.defineProperty(Vu,"__esModule",{value:!0});var Fn=Er(),Ku=class{constructor(t,r){this._settings=t,this._micromatchOptions=r,this.index=new Map}getFilter(t,r){let n=Fn.pattern.convertPatternsToRe(t,this._micromatchOptions),o=Fn.pattern.convertPatternsToRe(r,this._micromatchOptions);return s=>this._filter(s,n,o)}_filter(t,r,n){if(this._settings.unique&&this._isDuplicateEntry(t)||this._onlyFileFilter(t)||this._onlyDirectoryFilter(t)||this._isSkippedByAbsoluteNegativePatterns(t.path,n))return!1;let o=this._settings.baseNameMatch?t.name:t.path,s=t.dirent.isDirectory(),i=this._isMatchToPatterns(o,r,s)&&!this._isMatchToPatterns(t.path,n,s);return this._settings.unique&&i&&this._createIndexRecord(t),i}_isDuplicateEntry(t){return this.index.has(t.path)}_createIndexRecord(t){this.index.set(t.path,void 0)}_onlyFileFilter(t){return this._settings.onlyFiles&&!t.dirent.isFile()}_onlyDirectoryFilter(t){return this._settings.onlyDirectories&&!t.dirent.isDirectory()}_isSkippedByAbsoluteNegativePatterns(t,r){if(!this._settings.absolute)return!1;let n=Fn.path.makeAbsolute(this._settings.cwd,t);return Fn.pattern.matchAny(n,r)}_isMatchToPatterns(t,r,n){let o=Fn.path.removeLeadingDotSegment(t),s=Fn.pattern.matchAny(o,r);return!s&&n?Fn.pattern.matchAny(o+"/",r):s}};Vu.default=Ku});var Ib=R(Yu=>{"use strict";Object.defineProperty(Yu,"__esModule",{value:!0});var iB=Er(),Wu=class{constructor(t){this._settings=t}getFilter(){return t=>this._isNonFatalError(t)}_isNonFatalError(t){return iB.errno.isEnoentCodeError(t)||this._settings.suppressErrors}};Yu.default=Wu});var Bb=R(Xu=>{"use strict";Object.defineProperty(Xu,"__esModule",{value:!0});var Db=Er(),Qu=class{constructor(t){this._settings=t}getTransformer(){return t=>this._transform(t)}_transform(t){let r=t.path;return this._settings.absolute&&(r=Db.path.makeAbsolute(this._settings.cwd,r),r=Db.path.unixify(r)),this._settings.markDirectories&&t.dirent.isDirectory()&&(r+="/"),this._settings.objectMode?Object.assign(Object.assign({},t),{path:r}):r}};Xu.default=Qu});var Za=R(Zu=>{"use strict";Object.defineProperty(Zu,"__esModule",{value:!0});var aB=require("path"),cB=Pb(),dB=Ob(),lB=Ib(),uB=Bb(),Ju=class{constructor(t){this._settings=t,this.errorFilter=new lB.default(this._settings),this.entryFilter=new dB.default(this._settings,this._getMicromatchOptions()),this.deepFilter=new cB.default(this._settings,this._getMicromatchOptions()),this.entryTransformer=new uB.default(this._settings)}_getRootDirectory(t){return aB.resolve(this._settings.cwd,t.base)}_getReaderOptions(t){let r=t.base==="."?"":t.base;return{basePath:r,pathSegmentSeparator:"/",concurrency:this._settings.concurrency,deepFilter:this.deepFilter.getFilter(r,t.positive,t.negative),entryFilter:this.entryFilter.getFilter(t.positive,t.negative),errorFilter:this.errorFilter.getFilter(),followSymbolicLinks:this._settings.followSymbolicLinks,fs:this._settings.fs,stats:this._settings.stats,throwErrorOnBrokenSymbolicLink:this._settings.throwErrorOnBrokenSymbolicLink,transform:this.entryTransformer.getTransformer()}}_getMicromatchOptions(){return{dot:this._settings.dot,matchBase:this._settings.baseNameMatch,nobrace:!this._settings.braceExpansion,nocase:!this._settings.caseSensitiveMatch,noext:!this._settings.extglob,noglobstar:!this._settings.globstar,posix:!0,strictSlashes:!1}}};Zu.default=Ju});var Mb=R(tf=>{"use strict";Object.defineProperty(tf,"__esModule",{value:!0});var fB=Tb(),mB=Za(),ef=class extends mB.default{constructor(){super(...arguments),this._reader=new fB.default(this._settings)}async read(t){let r=this._getRootDirectory(t),n=this._getReaderOptions(t);return(await this.api(r,t,n)).map(s=>n.transform(s))}api(t,r,n){return r.dynamic?this._reader.dynamic(t,n):this._reader.static(r.patterns,n)}};tf.default=ef});var Fb=R(nf=>{"use strict";Object.defineProperty(nf,"__esModule",{value:!0});var hB=require("stream"),pB=Fu(),yB=Za(),rf=class extends yB.default{constructor(){super(...arguments),this._reader=new pB.default(this._settings)}read(t){let r=this._getRootDirectory(t),n=this._getReaderOptions(t),o=this.api(r,t,n),s=new hB.Readable({objectMode:!0,read:()=>{}});return o.once("error",i=>s.emit("error",i)).on("data",i=>s.emit("data",n.transform(i))).once("end",()=>s.emit("end")),s.once("close",()=>o.destroy()),s}api(t,r,n){return r.dynamic?this._reader.dynamic(t,n):this._reader.static(r.patterns,n)}};nf.default=rf});var Lb=R(sf=>{"use strict";Object.defineProperty(sf,"__esModule",{value:!0});var gB=Mn(),xB=Qa(),CB=Xa(),of=class extends CB.default{constructor(){super(...arguments),this._walkSync=xB.walkSync,this._statSync=gB.statSync}dynamic(t,r){return this._walkSync(t,r)}static(t,r){let n=[];for(let o of t){let s=this._getFullEntryPath(o),i=this._getEntry(s,o,r);i===null||!r.entryFilter(i)||n.push(i)}return n}_getEntry(t,r,n){try{let o=this._getStat(t);return this._makeEntry(o,r)}catch(o){if(n.errorFilter(o))return null;throw o}}_getStat(t){return this._statSync(t,this._fsStatSettings)}};sf.default=of});var $b=R(cf=>{"use strict";Object.defineProperty(cf,"__esModule",{value:!0});var EB=Lb(),wB=Za(),af=class extends wB.default{constructor(){super(...arguments),this._reader=new EB.default(this._settings)}read(t){let r=this._getRootDirectory(t),n=this._getReaderOptions(t);return this.api(r,t,n).map(n.transform)}api(t,r,n){return r.dynamic?this._reader.dynamic(t,n):this._reader.static(r.patterns,n)}};cf.default=af});var Ub=R(Wo=>{"use strict";Object.defineProperty(Wo,"__esModule",{value:!0});Wo.DEFAULT_FILE_SYSTEM_ADAPTER=void 0;var Vo=require("fs"),SB=require("os"),bB=Math.max(SB.cpus().length,1);Wo.DEFAULT_FILE_SYSTEM_ADAPTER={lstat:Vo.lstat,lstatSync:Vo.lstatSync,stat:Vo.stat,statSync:Vo.statSync,readdir:Vo.readdir,readdirSync:Vo.readdirSync};var df=class{constructor(t={}){this._options=t,this.absolute=this._getValue(this._options.absolute,!1),this.baseNameMatch=this._getValue(this._options.baseNameMatch,!1),this.braceExpansion=this._getValue(this._options.braceExpansion,!0),this.caseSensitiveMatch=this._getValue(this._options.caseSensitiveMatch,!0),this.concurrency=this._getValue(this._options.concurrency,bB),this.cwd=this._getValue(this._options.cwd,process.cwd()),this.deep=this._getValue(this._options.deep,1/0),this.dot=this._getValue(this._options.dot,!1),this.extglob=this._getValue(this._options.extglob,!0),this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!0),this.fs=this._getFileSystemMethods(this._options.fs),this.globstar=this._getValue(this._options.globstar,!0),this.ignore=this._getValue(this._options.ignore,[]),this.markDirectories=this._getValue(this._options.markDirectories,!1),this.objectMode=this._getValue(this._options.objectMode,!1),this.onlyDirectories=this._getValue(this._options.onlyDirectories,!1),this.onlyFiles=this._getValue(this._options.onlyFiles,!0),this.stats=this._getValue(this._options.stats,!1),this.suppressErrors=this._getValue(this._options.suppressErrors,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!1),this.unique=this._getValue(this._options.unique,!0),this.onlyDirectories&&(this.onlyFiles=!1),this.stats&&(this.objectMode=!0)}_getValue(t,r){return t===void 0?r:t}_getFileSystemMethods(t={}){return Object.assign(Object.assign({},Wo.DEFAULT_FILE_SYSTEM_ADAPTER),t)}};Wo.default=df});var mf=R((hX,jb)=>{"use strict";var zb=US(),qb=qS(),_B=Mb(),AB=Fb(),RB=$b(),lf=Ub(),Ln=Er();async function uf(e,t){Yo(e);let r=ff(e,_B.default,t),n=await Promise.all(r);return Ln.array.flatten(n)}(function(e){function t(i,a){Yo(i);let c=ff(i,RB.default,a);return Ln.array.flatten(c)}e.sync=t;function r(i,a){Yo(i);let c=ff(i,AB.default,a);return Ln.stream.merge(c)}e.stream=r;function n(i,a){Yo(i);let c=qb.transform([].concat(i)),d=new lf.default(a);return zb.generate(c,d)}e.generateTasks=n;function o(i,a){Yo(i);let c=new lf.default(a);return Ln.pattern.isDynamicPattern(i,c)}e.isDynamicPattern=o;function s(i){return Yo(i),Ln.path.escape(i)}e.escapePath=s})(uf||(uf={}));function ff(e,t,r){let n=qb.transform([].concat(e)),o=new lf.default(r),s=zb.generate(n,o),i=new t(o);return s.map(i.read,i)}function Yo(e){if(![].concat(e).every(n=>Ln.string.isString(n)&&!Ln.string.isEmpty(n)))throw new TypeError("Patterns must be a string (non empty) or an array of strings")}jb.exports=uf});var Gb=R($n=>{"use strict";var{promisify:kB}=require("util"),Hb=require("fs");async function hf(e,t,r){if(typeof r!="string")throw new TypeError(`Expected a string, got ${typeof r}`);try{return(await kB(Hb[e])(r))[t]()}catch(n){if(n.code==="ENOENT")return!1;throw n}}function pf(e,t,r){if(typeof r!="string")throw new TypeError(`Expected a string, got ${typeof r}`);try{return Hb[e](r)[t]()}catch(n){if(n.code==="ENOENT")return!1;throw n}}$n.isFile=hf.bind(null,"stat","isFile");$n.isDirectory=hf.bind(null,"stat","isDirectory");$n.isSymlink=hf.bind(null,"lstat","isSymbolicLink");$n.isFileSync=pf.bind(null,"statSync","isFile");$n.isDirectorySync=pf.bind(null,"statSync","isDirectory");$n.isSymlinkSync=pf.bind(null,"lstatSync","isSymbolicLink")});var Qb=R((yX,yf)=>{"use strict";var Un=require("path"),Kb=Gb(),Vb=e=>e.length>1?`{${e.join(",")}}`:e[0],Wb=(e,t)=>{let r=e[0]==="!"?e.slice(1):e;return Un.isAbsolute(r)?r:Un.join(t,r)},TB=(e,t)=>Un.extname(e)?`**/${e}`:`**/${e}.${Vb(t)}`,Yb=(e,t)=>{if(t.files&&!Array.isArray(t.files))throw new TypeError(`Expected \`files\` to be of type \`Array\` but received type \`${typeof t.files}\``);if(t.extensions&&!Array.isArray(t.extensions))throw new TypeError(`Expected \`extensions\` to be of type \`Array\` but received type \`${typeof t.extensions}\``);return t.files&&t.extensions?t.files.map(r=>Un.posix.join(e,TB(r,t.extensions))):t.files?t.files.map(r=>Un.posix.join(e,`**/${r}`)):t.extensions?[Un.posix.join(e,`**/*.${Vb(t.extensions)}`)]:[Un.posix.join(e,"**")]};yf.exports=async(e,t)=>{if(t={cwd:process.cwd(),...t},typeof t.cwd!="string")throw new TypeError(`Expected \`cwd\` to be of type \`string\` but received type \`${typeof t.cwd}\``);let r=await Promise.all([].concat(e).map(async n=>await Kb.isDirectory(Wb(n,t.cwd))?Yb(n,t):n));return[].concat.apply([],r)};yf.exports.sync=(e,t)=>{if(t={cwd:process.cwd(),...t},typeof t.cwd!="string")throw new TypeError(`Expected \`cwd\` to be of type \`string\` but received type \`${typeof t.cwd}\``);let r=[].concat(e).map(n=>Kb.isDirectorySync(Wb(n,t.cwd))?Yb(n,t):n);return[].concat.apply([],r)}});var i_=R((gX,s_)=>{function Xb(e){return Array.isArray(e)?e:[e]}var t_="",Jb=" ",gf="\\",NB=/^\s+$/,vB=/(?:[^\\]|^)\\$/,PB=/^\\!/,OB=/^\\#/,IB=/\r?\n/g,DB=/^\.*\/|^\.+$/,xf="/",r_="node-ignore";typeof Symbol<"u"&&(r_=Symbol.for("node-ignore"));var Zb=r_,BB=(e,t,r)=>Object.defineProperty(e,t,{value:r}),MB=/([0-z])-([0-z])/g,n_=()=>!1,FB=e=>e.replace(MB,(t,r,n)=>r.charCodeAt(0)<=n.charCodeAt(0)?t:t_),LB=e=>{let{length:t}=e;return e.slice(0,t-t%2)},$B=[[/\\?\s+$/,e=>e.indexOf("\\")===0?Jb:t_],[/\\\s/g,()=>Jb],[/[\\$.|*+(){^]/g,e=>`\\${e}`],[/(?!\\)\?/g,()=>"[^/]"],[/^\//,()=>"^"],[/\//g,()=>"\\/"],[/^\^*\\\*\\\*\\\//,()=>"^(?:.*\\/)?"],[/^(?=[^^])/,function(){return/\/(?!$)/.test(this)?"^":"(?:^|\\/)"}],[/\\\/\\\*\\\*(?=\\\/|$)/g,(e,t,r)=>t+6<r.length?"(?:\\/[^\\/]+)*":"\\/.+"],[/(^|[^\\]+)(\\\*)+(?=.+)/g,(e,t,r)=>{let n=r.replace(/\\\*/g,"[^\\/]*");return t+n}],[/\\\\\\(?=[$.|*+(){^])/g,()=>gf],[/\\\\/g,()=>gf],[/(\\)?\[([^\]/]*?)(\\*)($|\])/g,(e,t,r,n,o)=>t===gf?`\\[${r}${LB(n)}${o}`:o==="]"&&n.length%2===0?`[${FB(r)}${n}]`:"[]"],[/(?:[^*])$/,e=>/\/$/.test(e)?`${e}$`:`${e}(?=$|\\/$)`],[/(\^|\\\/)?\\\*$/,(e,t)=>`${t?`${t}[^/]+`:"[^/]*"}(?=$|\\/$)`]],e_=Object.create(null),UB=(e,t)=>{let r=e_[e];return r||(r=$B.reduce((n,o)=>n.replace(o[0],o[1].bind(e)),e),e_[e]=r),t?new RegExp(r,"i"):new RegExp(r)},wf=e=>typeof e=="string",zB=e=>e&&wf(e)&&!NB.test(e)&&!vB.test(e)&&e.indexOf("#")!==0,qB=e=>e.split(IB),Cf=class{constructor(t,r,n,o){this.origin=t,this.pattern=r,this.negative=n,this.regex=o}},jB=(e,t)=>{let r=e,n=!1;e.indexOf("!")===0&&(n=!0,e=e.substr(1)),e=e.replace(PB,"!").replace(OB,"#");let o=UB(e,t);return new Cf(r,e,n,o)},HB=(e,t)=>{throw new t(e)},Sr=(e,t,r)=>wf(e)?e?Sr.isNotRelative(e)?r(`path should be a \`path.relative()\`d string, but got "${t}"`,RangeError):!0:r("path must not be empty",TypeError):r(`path must be a string, but got \`${t}\``,TypeError),o_=e=>DB.test(e);Sr.isNotRelative=o_;Sr.convert=e=>e;var Ef=class{constructor({ignorecase:t=!0,ignoreCase:r=t,allowRelativePaths:n=!1}={}){BB(this,Zb,!0),this._rules=[],this._ignoreCase=r,this._allowRelativePaths=n,this._initCache()}_initCache(){this._ignoreCache=Object.create(null),this._testCache=Object.create(null)}_addPattern(t){if(t&&t[Zb]){this._rules=this._rules.concat(t._rules),this._added=!0;return}if(zB(t)){let r=jB(t,this._ignoreCase);this._added=!0,this._rules.push(r)}}add(t){return this._added=!1,Xb(wf(t)?qB(t):t).forEach(this._addPattern,this),this._added&&this._initCache(),this}addPattern(t){return this.add(t)}_testOne(t,r){let n=!1,o=!1;return this._rules.forEach(s=>{let{negative:i}=s;if(o===i&&n!==o||i&&!n&&!o&&!r)return;s.regex.test(t)&&(n=!i,o=i)}),{ignored:n,unignored:o}}_test(t,r,n,o){let s=t&&Sr.convert(t);return Sr(s,t,this._allowRelativePaths?n_:HB),this._t(s,r,n,o)}_t(t,r,n,o){if(t in r)return r[t];if(o||(o=t.split(xf)),o.pop(),!o.length)return r[t]=this._testOne(t,n);let s=this._t(o.join(xf)+xf,r,n,o);return r[t]=s.ignored?s:this._testOne(t,n)}ignores(t){return this._test(t,this._ignoreCache,!1).ignored}createFilter(){return t=>!this.ignores(t)}filter(t){return Xb(t).filter(this.createFilter())}test(t){return this._test(t,this._testCache,!0)}},ec=e=>new Ef(e),GB=e=>Sr(e&&Sr.convert(e),e,n_);ec.isPathValid=GB;ec.default=ec;s_.exports=ec;if(typeof process<"u"&&(process.env&&process.env.IGNORE_TEST_WIN32||process.platform==="win32")){let e=r=>/^\\\\\?\\/.test(r)||/["<>|\u0000-\u001F]+/u.test(r)?r:r.replace(/\\/g,"/");Sr.convert=e;let t=/^[a-z]:\//i;Sr.isNotRelative=r=>t.test(r)||o_(r)}});var c_=R((xX,a_)=>{"use strict";a_.exports=e=>{let t=/^\\\\\?\\/.test(e),r=/[^\u0000-\u0080]+/.test(e);return t||r?e:e.replace(/\\/g,"/")}});var p_=R((CX,Sf)=>{"use strict";var{promisify:KB}=require("util"),d_=require("fs"),br=require("path"),l_=mf(),VB=i_(),zs=c_(),u_=["**/node_modules/**","**/flow-typed/**","**/coverage/**","**/.git"],WB=KB(d_.readFile),YB=e=>t=>t.startsWith("!")?"!"+br.posix.join(e,t.slice(1)):br.posix.join(e,t),QB=(e,t)=>{let r=zs(br.relative(t.cwd,br.dirname(t.fileName)));return e.split(/\r?\n/).filter(Boolean).filter(n=>!n.startsWith("#")).map(YB(r))},f_=e=>{let t=VB();for(let r of e)t.add(QB(r.content,{cwd:r.cwd,fileName:r.filePath}));return t},XB=(e,t)=>{if(e=zs(e),br.isAbsolute(t)){if(zs(t).startsWith(e))return t;throw new Error(`Path ${t} is not in cwd ${e}`)}return br.join(e,t)},m_=(e,t)=>r=>e.ignores(zs(br.relative(t,XB(t,r.path||r)))),JB=async(e,t)=>{let r=br.join(t,e),n=await WB(r,"utf8");return{cwd:t,filePath:r,content:n}},ZB=(e,t)=>{let r=br.join(t,e),n=d_.readFileSync(r,"utf8");return{cwd:t,filePath:r,content:n}},h_=({ignore:e=[],cwd:t=zs(process.cwd())}={})=>({ignore:e,cwd:t});Sf.exports=async e=>{e=h_(e);let t=await l_("**/.gitignore",{ignore:u_.concat(e.ignore),cwd:e.cwd}),r=await Promise.all(t.map(o=>JB(o,e.cwd))),n=f_(r);return m_(n,e.cwd)};Sf.exports.sync=e=>{e=h_(e);let r=l_.sync("**/.gitignore",{ignore:u_.concat(e.ignore),cwd:e.cwd}).map(o=>ZB(o,e.cwd)),n=f_(r);return m_(n,e.cwd)}});var g_=R((EX,y_)=>{"use strict";var{Transform:e1}=require("stream"),tc=class extends e1{constructor(){super({objectMode:!0})}},bf=class extends tc{constructor(t){super(),this._filter=t}_transform(t,r,n){this._filter(t)&&this.push(t),n()}},_f=class extends tc{constructor(){super(),this._pushed=new Set}_transform(t,r,n){this._pushed.has(t)||(this.push(t),this._pushed.add(t)),n()}};y_.exports={FilterStream:bf,UniqueStream:_f}});var S_=R((wX,zn)=>{"use strict";var C_=require("fs"),rc=ow(),t1=vl(),nc=mf(),oc=Qb(),Af=p_(),{FilterStream:r1,UniqueStream:n1}=g_(),E_=()=>!1,x_=e=>e[0]==="!",o1=e=>{if(!e.every(t=>typeof t=="string"))throw new TypeError("Patterns must be a string or an array of strings")},s1=(e={})=>{if(!e.cwd)return;let t;try{t=C_.statSync(e.cwd)}catch{return}if(!t.isDirectory())throw new Error("The `cwd` option must be a path to a directory")},i1=e=>e.stats instanceof C_.Stats?e.path:e,sc=(e,t)=>{e=rc([].concat(e)),o1(e),s1(t);let r=[];t={ignore:[],expandDirectories:!0,...t};for(let[n,o]of e.entries()){if(x_(o))continue;let s=e.slice(n).filter(a=>x_(a)).map(a=>a.slice(1)),i={...t,ignore:t.ignore.concat(s)};r.push({pattern:o,options:i})}return r},a1=(e,t)=>{let r={};return e.options.cwd&&(r.cwd=e.options.cwd),Array.isArray(e.options.expandDirectories)?r={...r,files:e.options.expandDirectories}:typeof e.options.expandDirectories=="object"&&(r={...r,...e.options.expandDirectories}),t(e.pattern,r)},Rf=(e,t)=>e.options.expandDirectories?a1(e,t):[e.pattern],w_=e=>e&&e.gitignore?Af.sync({cwd:e.cwd,ignore:e.ignore}):E_,kf=e=>t=>{let{options:r}=e;return r.ignore&&Array.isArray(r.ignore)&&r.expandDirectories&&(r.ignore=oc.sync(r.ignore)),{pattern:t,options:r}};zn.exports=async(e,t)=>{let r=sc(e,t),n=async()=>t&&t.gitignore?Af({cwd:t.cwd,ignore:t.ignore}):E_,o=async()=>{let c=await Promise.all(r.map(async d=>{let l=await Rf(d,oc);return Promise.all(l.map(kf(d)))}));return rc(...c)},[s,i]=await Promise.all([n(),o()]),a=await Promise.all(i.map(c=>nc(c.pattern,c.options)));return rc(...a).filter(c=>!s(i1(c)))};zn.exports.sync=(e,t)=>{let r=sc(e,t),n=[];for(let i of r){let a=Rf(i,oc.sync).map(kf(i));n.push(...a)}let o=w_(t),s=[];for(let i of n)s=rc(s,nc.sync(i.pattern,i.options));return s.filter(i=>!o(i))};zn.exports.stream=(e,t)=>{let r=sc(e,t),n=[];for(let a of r){let c=Rf(a,oc.sync).map(kf(a));n.push(...c)}let o=w_(t),s=new r1(a=>!o(a)),i=new n1;return t1(n.map(a=>nc.stream(a.pattern,a.options))).pipe(s).pipe(i)};zn.exports.generateGlobTasks=sc;zn.exports.hasMagic=(e,t)=>[].concat(e).some(r=>nc.isDynamicPattern(r,t));zn.exports.gitignore=Af});var ic=require("path"),b_=require("fs"),qn=Tt(Ac());var Tm=async e=>{let t=(e==null?void 0:e.Bucket)||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),dA(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!cA(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},sA=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,iA=/(\d+\.){3}\d+/,aA=/\.\./;var cA=e=>sA.test(e)&&!iA.test(e)&&!aA.test(e),dA=e=>{let[t,r,n,o,s,i]=e.split(":"),a=t==="arn"&&e.split(":").length>=6,c=[t,r,n,s,i].filter(Boolean).length===5;if(a&&!c)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return t==="arn"&&!!r&&!!n&&!!s&&!!i};var Nm=(e,t,r)=>{let n=async()=>{let o=r[e]??r[t];return typeof o=="function"?o():o};return e==="endpoint"||t==="endpoint"?async()=>{let o=await n();if(o&&typeof o=="object"){if("url"in o)return o.url.href;if("hostname"in o){let{protocol:s,hostname:i,port:a,path:c}=o;return`${s}//${i}${a?":"+a:""}${c}`}}return o}:n};var vm=async(e,t,r,n)=>{let o=await lA(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(o,n)},lA=async(e,t,r)=>{var s;let n={},o=((s=t==null?void 0:t.getEndpointParameterInstructions)==null?void 0:s.call(t))||{};for(let[i,a]of Object.entries(o))switch(a.type){case"staticContextParams":n[i]=a.value;break;case"contextParams":n[i]=e[a.name];break;case"clientContextParams":case"builtInParams":n[i]=await Nm(a.name,i,r)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(a))}return Object.keys(o).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await Tm(n),n};function Pm(e){let t={};if(e=e.replace(/^\?/,""),e)for(let r of e.split("&")){let[n,o=null]=r.split("=");n=decodeURIComponent(n),o&&(o=decodeURIComponent(o)),n in t?Array.isArray(t[n])?t[n].push(o):t[n]=[t[n],o]:t[n]=o}return t}var nt=e=>{if(typeof e=="string")return nt(new URL(e));let{hostname:t,pathname:r,port:n,protocol:o,search:s}=e,i;return s&&(i=Pm(s)),{hostname:t,port:n?parseInt(n):void 0,protocol:o,path:r,query:i}};var Om=e=>typeof e=="object"?"url"in e?nt(e.url):e:nt(e);var Im=({config:e,instructions:t})=>(r,n)=>async o=>{var a,c;let s=await vm(o.input,{getEndpointParameterInstructions(){return t}},{...e},n);n.endpointV2=s,n.authSchemes=(a=s.properties)==null?void 0:a.authSchemes;let i=(c=n.authSchemes)==null?void 0:c[0];return i&&(n.signing_region=i.signingRegion,n.signing_service=i.signingName),r({...o})};var Dm=(e,t)=>(r,n)=>async o=>{let{response:s}=await r(o);try{let i=await t(s,e);return{response:s,output:i}}catch(i){if(Object.defineProperty(i,"$response",{value:s}),!("$metadata"in i)){let a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";i.message+=`
  `+a}throw i}};var Bm=(e,t)=>(r,n)=>async o=>{var a;let s=(a=n.endpointV2)!=null&&a.url&&e.urlParser?async()=>e.urlParser(n.endpointV2.url):e.endpoint;if(!s)throw new Error("No valid endpoint provider available.");let i=await t(o.input,{...e,endpoint:s});return r({...o,request:i})};var uA={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},Oc={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function Mt(e,t,r){return{applyToStack:n=>{n.add(Dm(e,r),uA),n.add(Bm(e,t),Oc)}}}var fA={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:Oc.name},Ft=(e,t)=>({applyToStack:r=>{r.addRelativeTo(Im({config:e,instructions:t}),fA)}});var ze=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t};var vr=e=>{let t=e.tls??!0,{endpoint:r}=e,n=r!=null?async()=>Om(await ze(r)()):void 0;return{...e,endpoint:n,tls:t,isCustomEndpoint:!!r,useDualstackEndpoint:ze(e.useDualstackEndpoint??!1),useFipsEndpoint:ze(e.useFipsEndpoint??!1)}};var Lt=class{trace(){}debug(){}info(){}warn(){}error(){}};var Xn=()=>{let e=[],t=[],r=new Set,n=l=>l.sort((m,f)=>Mm[f.step]-Mm[m.step]||Fm[f.priority||"normal"]-Fm[m.priority||"normal"]),o=l=>{let m=!1,f=E=>E.name&&E.name===l?(m=!0,r.delete(l),!1):!0;return e=e.filter(f),t=t.filter(f),m},s=l=>{let m=!1,f=E=>E.middleware===l?(m=!0,E.name&&r.delete(E.name),!1):!0;return e=e.filter(f),t=t.filter(f),m},i=l=>(e.forEach(m=>{l.add(m.middleware,{...m})}),t.forEach(m=>{l.addRelativeTo(m.middleware,{...m})}),l),a=l=>{let m=[];return l.before.forEach(f=>{f.before.length===0&&f.after.length===0?m.push(f):m.push(...a(f))}),m.push(l),l.after.reverse().forEach(f=>{f.before.length===0&&f.after.length===0?m.push(f):m.push(...a(f))}),m},c=(l=!1)=>{let m=[],f=[],E={};return e.forEach(b=>{let T={...b,before:[],after:[]};T.name&&(E[T.name]=T),m.push(T)}),t.forEach(b=>{let T={...b,before:[],after:[]};T.name&&(E[T.name]=T),f.push(T)}),f.forEach(b=>{if(b.toMiddleware){let T=E[b.toMiddleware];if(T===void 0){if(l)return;throw new Error(`${b.toMiddleware} is not found when adding ${b.name||"anonymous"} middleware ${b.relation} ${b.toMiddleware}`)}b.relation==="after"&&T.after.push(b),b.relation==="before"&&T.before.push(b)}}),n(m).map(a).reduce((b,T)=>(b.push(...T),b),[])},d={add:(l,m={})=>{let{name:f,override:E}=m,g={step:"initialize",priority:"normal",middleware:l,...m};if(f){if(r.has(f)){if(!E)throw new Error(`Duplicate middleware name '${f}'`);let b=e.findIndex(U=>U.name===f),T=e[b];if(T.step!==g.step||T.priority!==g.priority)throw new Error(`"${f}" middleware with ${T.priority} priority in ${T.step} step cannot be overridden by same-name middleware with ${g.priority} priority in ${g.step} step.`);e.splice(b,1)}r.add(f)}e.push(g)},addRelativeTo:(l,m)=>{let{name:f,override:E}=m,g={middleware:l,...m};if(f){if(r.has(f)){if(!E)throw new Error(`Duplicate middleware name '${f}'`);let b=t.findIndex(U=>U.name===f),T=t[b];if(T.toMiddleware!==g.toMiddleware||T.relation!==g.relation)throw new Error(`"${f}" middleware ${T.relation} "${T.toMiddleware}" middleware cannot be overridden by same-name middleware ${g.relation} "${g.toMiddleware}" middleware.`);t.splice(b,1)}r.add(f)}t.push(g)},clone:()=>i(Xn()),use:l=>{l.applyToStack(d)},remove:l=>typeof l=="string"?o(l):s(l),removeByTag:l=>{let m=!1,f=E=>{let{tags:g,name:b}=E;return g&&g.includes(l)?(b&&r.delete(b),m=!0,!1):!0};return e=e.filter(f),t=t.filter(f),m},concat:l=>{let m=i(Xn());return m.use(l),m},applyToStack:i,identify:()=>c(!0).map(l=>l.name+": "+(l.tags||[]).join(",")),resolve:(l,m)=>{for(let f of c().map(E=>E.middleware).reverse())l=f(l,m);return l}};return d},Mm={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},Fm={high:3,normal:2,low:1};var $t=class{constructor(t){this.middlewareStack=Xn(),this.config=t}send(t,r,n){let o=typeof r!="function"?r:void 0,s=typeof r=="function"?r:n,i=t.resolveMiddleware(this.middlewareStack,this.config,o);if(s)i(t).then(a=>s(null,a.output),a=>s(a)).catch(()=>{});else return i(t).then(a=>a.output)}destroy(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}};var gt=class{constructor(){this.middlewareStack=Xn()}};var Ut="***SensitiveInformation***";var zm=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}};var mA=e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&Km.warn(Gm(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},hA=Math.ceil(34028234663852886e22),Lm=e=>{let t=mA(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>hA)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},si=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}};var oi=e=>Ic(e,32),$m=e=>Ic(e,16),Um=e=>Ic(e,8),Ic=(e,t)=>{let r=si(e);if(r!==void 0&&pA(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},pA=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},ar=(e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},Zo=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},L=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return Km.warn(Gm(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}};var qm=e=>Lm(typeof e=="string"?ii(e):e),yA=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,ii=e=>{let t=e.match(yA);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)};var ai=e=>oi(typeof e=="string"?ii(e):e),jm=e=>$m(typeof e=="string"?ii(e):e),Hm=e=>Um(typeof e=="string"?ii(e):e),Gm=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),Km={warn:console.warn};var gA=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Vm=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Wm(e){let t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),o=e.getUTCDate(),s=e.getUTCHours(),i=e.getUTCMinutes(),a=e.getUTCSeconds(),c=o<10?`0${o}`:`${o}`,d=s<10?`0${s}`:`${s}`,l=i<10?`0${i}`:`${i}`,m=a<10?`0${a}`:`${a}`;return`${gA[n]}, ${c} ${Vm[r]} ${t} ${d}:${l}:${m} GMT`}var iM=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/);var xA=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),Dc=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=xA.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,s,i,a,c,d,l]=t,m=jm(Ym(n)),f=es(o,"month",1,12),E=es(s,"day",1,31),g=CA(m,f,E,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:d});return l.toUpperCase()!="Z"&&g.setTime(g.getTime()-_A(l)),g},aM=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),cM=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),dM=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/);var CA=(e,t,r,n)=>{let o=t-1;return wA(e,o,r),new Date(Date.UTC(e,o,r,es(n.hours,"hour",0,23),es(n.minutes,"minute",0,59),es(n.seconds,"seconds",0,60),bA(n.fractionalMilliseconds)))};var lM=50*365*24*60*60*1e3;var EA=[31,28,31,30,31,30,31,31,30,31,30,31],wA=(e,t,r)=>{let n=EA[t];if(t===1&&SA(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${Vm[t]} in ${e}: ${r}`)},SA=e=>e%4===0&&(e%100!==0||e%400===0),es=(e,t,r,n)=>{let o=Hm(Ym(e));if(o<r||o>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return o},bA=e=>e==null?0:qm("0."+e)*1e3,_A=e=>{let t=e[0],r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);let n=Number(e.substring(1,3)),o=Number(e.substring(4,6));return r*(n*60+o)*60*1e3},Ym=e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)};var xt=class extends Error{constructor(t){super(t.message),Object.setPrototypeOf(this,xt.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}},pe=(e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,o])=>{(e[n]==null||e[n]==="")&&(e[n]=o)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e};var cr=({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{let o=AA(e),s=o.httpStatusCode?o.httpStatusCode+"":void 0,i=new r({name:(t==null?void 0:t.code)||(t==null?void 0:t.Code)||n||s||"UnknownError",$fault:"client",$metadata:o});throw pe(i,t)},AA=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]});var Pr=e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}};var Qm=!1,Or=e=>{e&&!Qm&&parseInt(e.substring(1,e.indexOf(".")))<14&&(Qm=!0)};function Jn(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}var ts=e=>{let t="#text";for(let r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=ts(e[r]));return e};var Bc=function(){let e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,[null,...arguments]),r=new t;return Object.setPrototypeOf(r,e.prototype),r};Bc.prototype=Object.create(String.prototype,{constructor:{value:Bc,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf(Bc,String);function En(e,t,r){let n,o,s;if(typeof t>"u"&&typeof r>"u")n={},s=e;else{if(n=e,typeof t=="function")return o=t,s=r,RA(n,o,s);s=t}for(let i of Object.keys(s)){if(!Array.isArray(s[i])){n[i]=s[i];continue}kA(n,null,s,i)}return n}var RA=(e,t,r)=>En(e,Object.entries(r).reduce((n,[o,s])=>(Array.isArray(s)?n[o]=s:typeof s=="function"?n[o]=[t,s()]:n[o]=[t,s],n),{})),kA=(e,t,r,n)=>{if(t!==null){let i=r[n];typeof i=="function"&&(i=[,i]);let[a=TA,c=NA,d=n]=i;(typeof a=="function"&&a(t[d])||typeof a!="function"&&a)&&(e[n]=c(t[d]));return}let[o,s]=r[n];if(typeof s=="function"){let i,a=o===void 0&&(i=s())!=null,c=typeof o=="function"&&!!o(void 0)||typeof o!="function"&&!!o;a?e[n]=i:c&&(e[n]=s())}else{let i=o===void 0&&s!=null,a=typeof o=="function"&&!!o(s)||typeof o!="function"&&!!o;(i||a)&&(e[n]=s)}},TA=e=>e!=null,NA=e=>e;var Mc=(e,t,r,n,o,s)=>{if(t!=null&&t[r]!==void 0){let i=n();if(i.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(o,s?i.split("/").map(a=>Jn(a)).join("/"):Jn(i))}else throw new Error("No value provided for input HTTP label: "+r+".");return e};var Fc;(function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"})(Fc||(Fc={}));var ne=class{constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/"}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){let t=new ne({...this,headers:{...this.headers}});return t.query&&(t.query=vA(t.query)),t}};function vA(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}var vt=class{constructor(t){this.statusCode=t.statusCode,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;let r=t;return typeof r.statusCode=="number"&&typeof r.headers=="object"}};var Ih=Tt(Wc());var Zn=class extends xt{constructor(t){super(t),Object.setPrototypeOf(this,Zn.prototype)}};var kh;(function(e){e.visit=(t,r)=>t.Prefix!==void 0?r.Prefix(t.Prefix):t.Tag!==void 0?r.Tag(t.Tag):t.And!==void 0?r.And(t.And):r._(t.$unknown[0],t.$unknown[1])})(kh||(kh={}));var Th;(function(e){e.visit=(t,r)=>t.Prefix!==void 0?r.Prefix(t.Prefix):t.Tag!==void 0?r.Tag(t.Tag):t.ObjectSizeGreaterThan!==void 0?r.ObjectSizeGreaterThan(t.ObjectSizeGreaterThan):t.ObjectSizeLessThan!==void 0?r.ObjectSizeLessThan(t.ObjectSizeLessThan):t.And!==void 0?r.And(t.And):r._(t.$unknown[0],t.$unknown[1])})(Th||(Th={}));var Nh;(function(e){e.visit=(t,r)=>t.Prefix!==void 0?r.Prefix(t.Prefix):t.Tag!==void 0?r.Tag(t.Tag):t.AccessPointArn!==void 0?r.AccessPointArn(t.AccessPointArn):t.And!==void 0?r.And(t.And):r._(t.$unknown[0],t.$unknown[1])})(Nh||(Nh={}));var vh;(function(e){e.visit=(t,r)=>t.Prefix!==void 0?r.Prefix(t.Prefix):t.Tag!==void 0?r.Tag(t.Tag):t.And!==void 0?r.And(t.And):r._(t.$unknown[0],t.$unknown[1])})(vh||(vh={}));var Ph=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:Ut},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Ut}}),Oh=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:Ut},...e.SSEKMSKeyId&&{SSEKMSKeyId:Ut},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Ut}});var Dh=async(e,t)=>{let{hostname:r,protocol:n="https",port:o,path:s}=await t.endpoint(),i=Yc({},os,{"content-type":e.ContentType||"application/octet-stream","x-amz-acl":e.ACL,"cache-control":e.CacheControl,"content-disposition":e.ContentDisposition,"content-encoding":e.ContentEncoding,"content-language":e.ContentLanguage,"content-length":[()=>os(e.ContentLength),()=>e.ContentLength.toString()],"content-md5":e.ContentMD5,"x-amz-sdk-checksum-algorithm":e.ChecksumAlgorithm,"x-amz-checksum-crc32":e.ChecksumCRC32,"x-amz-checksum-crc32c":e.ChecksumCRC32C,"x-amz-checksum-sha1":e.ChecksumSHA1,"x-amz-checksum-sha256":e.ChecksumSHA256,expires:[()=>os(e.Expires),()=>Wm(e.Expires).toString()],"x-amz-grant-full-control":e.GrantFullControl,"x-amz-grant-read":e.GrantRead,"x-amz-grant-read-acp":e.GrantReadACP,"x-amz-grant-write-acp":e.GrantWriteACP,"x-amz-server-side-encryption":e.ServerSideEncryption,"x-amz-storage-class":e.StorageClass,"x-amz-website-redirect-location":e.WebsiteRedirectLocation,"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm,"x-amz-server-side-encryption-customer-key":e.SSECustomerKey,"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5,"x-amz-server-side-encryption-aws-kms-key-id":e.SSEKMSKeyId,"x-amz-server-side-encryption-context":e.SSEKMSEncryptionContext,"x-amz-server-side-encryption-bucket-key-enabled":[()=>os(e.BucketKeyEnabled),()=>e.BucketKeyEnabled.toString()],"x-amz-request-payer":e.RequestPayer,"x-amz-tagging":e.Tagging,"x-amz-object-lock-mode":e.ObjectLockMode,"x-amz-object-lock-retain-until-date":[()=>os(e.ObjectLockRetainUntilDate),()=>(e.ObjectLockRetainUntilDate.toISOString().split(".")[0]+"Z").toString()],"x-amz-object-lock-legal-hold":e.ObjectLockLegalHoldStatus,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner,...e.Metadata!==void 0&&Object.keys(e.Metadata).reduce((m,f)=>(m[`x-amz-meta-${f.toLowerCase()}`]=e.Metadata[f],m),{})}),a=`${s!=null&&s.endsWith("/")?s.slice(0,-1):s||""}/{Key+}`;a=Mc(a,e,"Bucket",()=>e.Bucket,"{Bucket}",!1),a=Mc(a,e,"Key",()=>e.Key,"{Key+}",!0);let c=Yc({"x-id":[,"PutObject"]}),d;e.Body!==void 0&&(d=e.Body);let l;return e.Body!==void 0&&(l=e.Body,d=l),new ne({protocol:n,hostname:r,port:o,method:"PUT",headers:i,path:a,query:c,body:d})};var Bh=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return IR(e,t);let r=Yc({$metadata:DR(e),Expiration:[,e.headers["x-amz-expiration"]],ETag:[,e.headers.etag],ChecksumCRC32:[,e.headers["x-amz-checksum-crc32"]],ChecksumCRC32C:[,e.headers["x-amz-checksum-crc32c"]],ChecksumSHA1:[,e.headers["x-amz-checksum-sha1"]],ChecksumSHA256:[,e.headers["x-amz-checksum-sha256"]],ServerSideEncryption:[,e.headers["x-amz-server-side-encryption"]],VersionId:[,e.headers["x-amz-version-id"]],SSECustomerAlgorithm:[,e.headers["x-amz-server-side-encryption-customer-algorithm"]],SSECustomerKeyMD5:[,e.headers["x-amz-server-side-encryption-customer-key-md5"]],SSEKMSKeyId:[,e.headers["x-amz-server-side-encryption-aws-kms-key-id"]],SSEKMSEncryptionContext:[,e.headers["x-amz-server-side-encryption-context"]],BucketKeyEnabled:[()=>e.headers["x-amz-server-side-encryption-bucket-key-enabled"]!==void 0,()=>zm(e.headers["x-amz-server-side-encryption-bucket-key-enabled"])],RequestCharged:[,e.headers["x-amz-request-charged"]]});return await Mh(e.body,t),r},IR=async(e,t)=>{let r={...e,body:await FR(e.body,t)},n=LR(e,r.body),o=r.body;cr({output:e,parsedBody:o,exceptionCtor:Zn,errorCode:n})};var Yc=En;var DR=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Mh=(e=new Uint8Array,t)=>e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array),BR=(e,t)=>Mh(e,t).then(r=>t.utf8Encoder(r)),os=e=>e!=null&&e!==""&&(!Object.getOwnPropertyNames(e).includes("length")||e.length!=0)&&(!Object.getOwnPropertyNames(e).includes("size")||e.size!=0),MR=(e,t)=>BR(e,t).then(r=>{if(r.length){let n=new Ih.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,d)=>d.trim()===""&&d.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let o=n.parse(r),s="#text",i=Object.keys(o)[0],a=o[i];return a[s]&&(a[i]=a[s],delete a[s]),ts(a)}return{}}),FR=async(e,t)=>{let r=await MR(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},LR=(e,t)=>{if((t==null?void 0:t.Code)!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"};var $R="content-length";function UR(){return(e,t)=>async r=>{var o;let{request:n}=r;if(ne.isInstance(n)&&!n.headers[$R]){let s="Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.";typeof((o=t==null?void 0:t.logger)==null?void 0:o.warn)=="function"?t.logger.warn(s):console.warn(s)}return e({...r})}}var zR={step:"finalizeRequest",tags:["CHECK_CONTENT_LENGTH_HEADER"],name:"getCheckContentLengthHeaderPlugin",override:!0},Fh=e=>({applyToStack:t=>{t.add(UR(),zR)}});var Lh=e=>({...e,forcePathStyle:e.forcePathStyle??!1,useAccelerateEndpoint:e.useAccelerateEndpoint??!1,disableMultiregionAccessPoints:e.disableMultiregionAccessPoints??!1});var Qc=e=>typeof e=="string"&&e.indexOf("arn:")===0&&e.split(":").length>=6;function qR(){return e=>async t=>{let{input:{Bucket:r}}=t;if(typeof r=="string"&&!Qc(r)&&r.indexOf("/")>=0){let n=new Error(`Bucket name shouldn't contain '/', received '${r}'`);throw n.name="InvalidBucketName",n}return e({...t})}}var jR={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},$h=e=>({applyToStack:t=>{t.add(qR(),jR)}});function HR(e){return t=>async r=>{let n={...r.input},o=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}];for(let s of o){let i=n[s.target];if(i){let a=ArrayBuffer.isView(i)?new Uint8Array(i.buffer,i.byteOffset,i.byteLength):typeof i=="string"?e.utf8Decoder(i):new Uint8Array(i),c=e.base64Encoder(a),d=new e.md5;d.update(a),n={...n,[s.target]:c,[s.hash]:e.base64Encoder(await d.digest())}}}return t({...r,input:n})}}var GR={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},Uh=e=>({applyToStack:t=>{t.add(HR(e),GR)}});var Te;(function(e){e.MD5="MD5",e.CRC32="CRC32",e.CRC32C="CRC32C",e.SHA1="SHA1",e.SHA256="SHA256"})(Te||(Te={}));var zh;(function(e){e.HEADER="header",e.TRAILER="trailer"})(zh||(zh={}));var ss=[Te.CRC32,Te.CRC32C,Te.SHA1,Te.SHA256],qh=[Te.CRC32,Te.CRC32C,Te.SHA1,Te.SHA256];var jh=(e,{requestChecksumRequired:t,requestAlgorithmMember:r})=>{if(!r||!e[r])return t?Te.MD5:void 0;let n=e[r];if(!ss.includes(n))throw new Error(`The checksum algorithm "${n}" is not supported by the client. Select one of ${ss}.`);return n};var ci=e=>e===Te.MD5?"content-md5":`x-amz-checksum-${e.toLowerCase()}`;var Hh=(e,t)=>{let r=e.toLowerCase();for(let n of Object.keys(t))if(r===n.toLowerCase())return!0;return!1};var eo=e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]";var di=e=>e!==void 0&&typeof e!="string"&&!ArrayBuffer.isView(e)&&!eo(e);var mp=Tt(cs()),hp=Tt(dd());var yi=(e,t)=>({[Te.MD5]:t.md5,[Te.CRC32]:mp.AwsCrc32,[Te.CRC32C]:hp.AwsCrc32c,[Te.SHA1]:t.sha1,[Te.SHA256]:t.sha256})[e];var gi=require("buffer"),lr=(e,t=0,r=e.byteLength-t)=>{if(!eo(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return gi.Buffer.from(e,t,r)},to=(e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?gi.Buffer.from(e,t):gi.Buffer.from(e)};var qt=e=>{let t=to(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)};var st=e=>typeof e=="string"?qt(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e);var Mr=e=>lr(e.buffer,e.byteOffset,e.byteLength).toString("utf8");var xi=(e,t)=>{let r=new e;return r.update(st(t||"")),r.digest()};var pp=async(e,{streamHasher:t,checksumAlgorithmFn:r,base64Encoder:n})=>{let o=di(e)?t(r,e):xi(r,e);return n(await o)};var yp=(e=[])=>{let t=[];for(let r of qh)!e.includes(r)||!ss.includes(r)||t.push(r);return t};var gp=async(e,{config:t,responseAlgorithms:r})=>{let n=yp(r),{body:o,headers:s}=e;for(let i of n){let a=ci(i),c=s[a];if(c){let d=yi(i,t),{streamHasher:l,base64Encoder:m}=t,f=await pp(o,{streamHasher:l,checksumAlgorithmFn:d,base64Encoder:m});if(f===c)break;throw new Error(`Checksum mismatch: expected "${f}" but received "${c}" in response header "${a}".`)}}};var xp=(e,t)=>r=>async n=>{if(!ne.isInstance(n.request))return r(n);let{request:o}=n,{body:s,headers:i}=o,{base64Encoder:a,streamHasher:c}=e,{input:d,requestChecksumRequired:l,requestAlgorithmMember:m}=t,f=jh(d,{requestChecksumRequired:l,requestAlgorithmMember:m}),E=s,g=i;if(f){let se=ci(f),Z=yi(f,e);if(di(s)){let{getAwsChunkedEncodingStream:ve,bodyLengthChecker:Q}=e;E=ve(s,{base64Encoder:a,bodyLengthChecker:Q,checksumLocationName:se,checksumAlgorithmFn:Z,streamHasher:c}),g={...i,"content-encoding":i["content-encoding"]?`${i["content-encoding"]},aws-chunked`:"aws-chunked","transfer-encoding":"chunked","x-amz-decoded-content-length":i["content-length"],"x-amz-content-sha256":"STREAMING-UNSIGNED-PAYLOAD-TRAILER","x-amz-trailer":se},delete g["content-length"]}else if(!Hh(se,i)){let ve=await xi(Z,s);g={...i,[se]:a(ve)}}}let b=await r({...n,request:{...o,headers:g,body:E}}),{requestValidationModeMember:T,responseAlgorithms:U}=t;return T&&d[T]==="ENABLED"&&gp(b.response,{config:e,responseAlgorithms:U}),b};var rT={name:"flexibleChecksumsMiddleware",step:"build",tags:["BODY_CHECKSUM"],override:!0},Cp=(e,t)=>({applyToStack:r=>{r.add(xp(e,t),rT)}});var ro=class extends gt{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use(Mt(r,this.serialize,this.deserialize)),this.middlewareStack.use(Ft(r,ro.getEndpointParameterInstructions())),this.middlewareStack.use(Fh(r)),this.middlewareStack.use(Uh(r)),this.middlewareStack.use(Cp(r,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!1}));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"S3Client",commandName:"PutObjectCommand",inputFilterSensitiveLog:Oh,outputFilterSensitiveLog:Ph},{requestHandler:d}=r;return o.resolve(l=>d.handle(l.request,n||{}),c)}serialize(t,r){return Dh(t,r)}deserialize(t,r){return Bh(t,r)}};var Ct;(function(e){e.ENV="env",e.CONFIG="shared config entry"})(Ct||(Ct={}));var jt=(e,t,r)=>{if(t in e){if(e[t]==="true")return!0;if(e[t]==="false")return!1;throw new Error(`Cannot load ${r} "${t}". Expected "true" or "false", got ${e[t]}.`)}};var nT="AWS_USE_DUALSTACK_ENDPOINT",oT="use_dualstack_endpoint";var Fr={environmentVariableSelector:e=>jt(e,nT,Ct.ENV),configFileSelector:e=>jt(e,oT,Ct.CONFIG),default:!1};var sT="AWS_USE_FIPS_ENDPOINT",iT="use_fips_endpoint";var Lr={environmentVariableSelector:e=>jt(e,sT,Ct.ENV),configFileSelector:e=>jt(e,iT,Ct.CONFIG),default:!1};var aT="AWS_REGION",cT="region",Ht={environmentVariableSelector:e=>e[aT],configFileSelector:e=>e[cT],default:()=>{throw new Error("Region is missing")}},$r={preferredFile:"credentials"};var Ci=e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips"));var ld=e=>Ci(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e;var Ur=e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return{...e,region:async()=>{if(typeof t=="string")return ld(t);let n=await t();return ld(n)},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return Ci(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}}};var Ep=e=>({...e,eventStreamMarshaller:e.eventStreamSerdeProvider(e)});var wp="content-length";function dT(e){return t=>async r=>{let n=r.request;if(ne.isInstance(n)){let{body:o,headers:s}=n;if(o&&Object.keys(s).map(i=>i.toLowerCase()).indexOf(wp)===-1)try{let i=e(o);n.headers={...n.headers,[wp]:String(i)}}catch{}}return t({...r,request:n})}}var lT={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},zr=e=>({applyToStack:t=>{t.add(dT(e.bodyLengthChecker),lT)}});function uT(e){return t=>async r=>{let{request:n}=r;return ne.isInstance(n)&&n.body&&e.runtime==="node"&&(n.headers={...n.headers,Expect:"100-continue"}),t({...r,request:n})}}var fT={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},Sp=e=>({applyToStack:t=>{t.add(uT(e),fT)}});var mT=e=>t=>async r=>{if(!ne.isInstance(r.request))return t(r);let{request:n}=r,{handlerProtocol:o=""}=e.requestHandler.metadata||{};if(o.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]="";else if(!n.headers.host){let s=n.hostname;n.port!=null&&(s+=`:${n.port}`),n.headers.host=s}return t(r)},hT={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},qr=e=>({applyToStack:t=>{t.add(mT(e),hT)}});var pT=()=>(e,t)=>async r=>{var n,o;try{let s=await e(r),{clientName:i,commandName:a,logger:c,dynamoDbDocumentClientOptions:d={}}=t,{overrideInputFilterSensitiveLog:l,overrideOutputFilterSensitiveLog:m}=d,f=l??t.inputFilterSensitiveLog,E=m??t.outputFilterSensitiveLog,{$metadata:g,...b}=s.output;return(n=c==null?void 0:c.info)==null||n.call(c,{clientName:i,commandName:a,input:f(r.input),output:E(b),metadata:g}),s}catch(s){let{clientName:i,commandName:a,logger:c,dynamoDbDocumentClientOptions:d={}}=t,{overrideInputFilterSensitiveLog:l}=d,m=l??t.inputFilterSensitiveLog;throw(o=c==null?void 0:c.error)==null||o.call(c,{clientName:i,commandName:a,input:m(r.input),error:s,metadata:s.$metadata}),s}},yT={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},jr=e=>({applyToStack:t=>{t.add(pT(),yT)}});var bp="X-Amzn-Trace-Id",gT="AWS_LAMBDA_FUNCTION_NAME",xT="_X_AMZN_TRACE_ID",CT=e=>t=>async r=>{let{request:n}=r;if(!ne.isInstance(n)||e.runtime!=="node"||n.headers.hasOwnProperty(bp))return t(r);let o=process.env[gT],s=process.env[xT],i=a=>typeof a=="string"&&a.length>0;return i(o)&&i(s)&&(n.headers[bp]=s),t({...r,request:n})},ET={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},Hr=e=>({applyToStack:t=>{t.add(CT(e),ET)}});var Gt;(function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"})(Gt||(Gt={}));var Sn=3,Kt="STANDARD";var _p=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],Ap=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],Rp=[500,502,503,504],kp=["ECONNRESET","EPIPE","ETIMEDOUT"];var no=e=>{var t,r;return((t=e.$metadata)==null?void 0:t.httpStatusCode)===429||_p.includes(e.name)||((r=e.$retryable)==null?void 0:r.throttling)==!0},Ei=e=>{var t;return Ap.includes(e.name)||kp.includes((e==null?void 0:e.code)||"")||Rp.includes(((t=e.$metadata)==null?void 0:t.httpStatusCode)||0)},Tp=e=>{var t;if(((t=e.$metadata)==null?void 0:t.httpStatusCode)!==void 0){let r=e.$metadata.httpStatusCode;return 500<=r&&r<=599&&!Ei(e)}return!1};var ls=class{constructor(t){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=(t==null?void 0:t.beta)??.7,this.minCapacity=(t==null?void 0:t.minCapacity)??1,this.minFillRate=(t==null?void 0:t.minFillRate)??.5,this.scaleConstant=(t==null?void 0:t.scaleConstant)??.4,this.smooth=(t==null?void 0:t.smooth)??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){let r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>setTimeout(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){let t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}let r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),no(t)){let o=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=o,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(o),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}};var wi="amz-sdk-invocation-id",Si="amz-sdk-request";var Np=()=>{let e=100;return{computeNextBackoffDelay:n=>Math.floor(Math.min(2e4,Math.random()*2**n*e)),setDelayBase:n=>{e=n}}};var Dp=(e,t,r,n)=>{let o=e,s=(n==null?void 0:n.retryCost)??5,i=(n==null?void 0:n.timeoutRetryCost)??10,a=(n==null?void 0:n.retryBackoffStrategy)??Np(),c=e,d=Math.min(2e4,t),l,m=r??0,f=Z=>Z==="TRANSIENT"?i:s,E=()=>m,g=()=>d,b=()=>l,T=Z=>f(Z)<=c;return{getRetryCount:E,getRetryDelay:g,getLastRetryCost:b,hasRetryTokens:T,getRetryTokenCount:Z=>{let ve=Z.errorType;if(!T(ve))throw new Error("No retry token available");let Q=f(ve),ge=ve==="THROTTLING"?500:100;a.setDelayBase(ge);let J=a.computeNextBackoffDelay(m);if(Z.retryAfterHint){let K=Z.retryAfterHint.getTime()-Date.now();d=Math.max(K||0,J)}else d=J;return m++,l=Q,c-=Q,Q},releaseRetryTokens:Z=>{c+=Z??1,c=Math.min(c,o)}}};var so=class{constructor(t){this.maxAttemptsProvider=t,this.mode=Gt.STANDARD,this.retryToken=Dp(500,100),this.maxAttemptsProvider=t}async acquireInitialRetryToken(t){return this.retryToken}async refreshRetryTokenForRetry(t,r){let n=await this.getMaxAttempts();if(this.shouldRetry(t,r,n))return t.getRetryTokenCount(r),t;throw new Error("No retry token available")}recordSuccess(t){this.retryToken.releaseRetryTokens(t.getLastRetryCost())}async getMaxAttempts(){let t;try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${Sn}`),Sn}}shouldRetry(t,r,n){return t.getRetryCount()<n&&t.hasRetryTokens(r.errorType)&&this.isRetryableError(r.errorType)}isRetryableError(t){return t==="THROTTLING"||t==="TRANSIENT"}};var _i=class{constructor(t,r){this.maxAttemptsProvider=t,this.mode=Gt.ADAPTIVE;let{rateLimiter:n}=r??{};this.rateLimiter=n??new ls,this.standardRetryStrategy=new so(t)}async acquireInitialRetryToken(t){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(t)}async refreshRetryTokenForRetry(t,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(t,r)}recordSuccess(t){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(t)}};var ud=e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`);var Mp="AWS_MAX_ATTEMPTS",Fp="max_attempts",Gr={environmentVariableSelector:e=>{let t=e[Mp];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Environment variable ${Mp} mast be a number, got "${t}"`);return r},configFileSelector:e=>{let t=e[Fp];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Shared config file entry ${Fp} mast be a number, got "${t}"`);return r},default:Sn},Kr=e=>{let{retryStrategy:t}=e,r=ze(e.maxAttempts??Sn);return{...e,maxAttempts:r,retryStrategy:async()=>t||(await ze(e.retryMode)()===Gt.ADAPTIVE?new _i(r):new so(r))}},wT="AWS_RETRY_MODE",ST="retry_mode",Vr={environmentVariableSelector:e=>e[wT],configFileSelector:e=>e[ST],default:Kt};pc();var bT=e=>(t,r)=>async n=>{let o=await e.retryStrategy(),s=await e.maxAttempts();if(_T(o)){o=o;let i=await o.acquireInitialRetryToken(r.partition_id),a=new Error,c=0,d=0,{request:l}=n;for(ne.isInstance(l)&&(l.headers[wi]=Js());;)try{ne.isInstance(l)&&(l.headers[Si]=`attempt=${c+1}; max=${s}`);let{response:m,output:f}=await t(n);return o.recordSuccess(i),f.$metadata.attempts=c+1,f.$metadata.totalRetryDelay=d,{response:m,output:f}}catch(m){let f=AT(m);a=ud(m);try{i=await o.refreshRetryTokenForRetry(i,f)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=c+1,a.$metadata.totalRetryDelay=d,a}c=i.getRetryCount();let E=i.getRetryDelay();d+=E,await new Promise(g=>setTimeout(g,E))}}else return o=o,o!=null&&o.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",o.mode]]),o.retry(t,n)},_T=e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u",AT=e=>{let t={errorType:RT(e)},r=TT(e.$response);return r&&(t.retryAfterHint=r),t},RT=e=>no(e)?"THROTTLING":Ei(e)?"TRANSIENT":Tp(e)?"SERVER_ERROR":"CLIENT_ERROR",kT={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},Wr=e=>({applyToStack:t=>{t.add(bT(e),kT)}}),TT=e=>{if(!vt.isInstance(e))return;let t=Object.keys(e.headers).find(s=>s.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)};var it=class extends Error{constructor(t,r=!0){super(t),this.tryNextLink=r,this.name="ProviderError",Object.setPrototypeOf(this,it.prototype)}static from(t,r=!0){return Object.assign(new this(t.message,r),t)}};var z=class extends it{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="CredentialsProviderError",Object.setPrototypeOf(this,z.prototype)}};var at=class extends it{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="TokenProviderError",Object.setPrototypeOf(this,at.prototype)}};function Ai(...e){return()=>{let t=Promise.reject(new it("No providers in chain"));for(let r of e)t=t.catch(n=>{if(n!=null&&n.tryNextLink)return r();throw n});return t}}var Lp=e=>()=>Promise.resolve(e);var Yr=(e,t,r)=>{let n,o,s,i=!1,a=async()=>{o||(o=e());try{n=await o,s=!0,i=!1}finally{o=void 0}return n};return t===void 0?async c=>((!s||c!=null&&c.forceRefresh)&&(n=await a()),n):async c=>((!s||c!=null&&c.forceRefresh)&&(n=await a()),i?n:r&&!r(n)?(i=!0,n):(t(n)&&await a(),n))};var $p={},fd={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),$p[e]=t,fd[t]=e}function Up(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){let n=e.slice(r,r+2).toLowerCase();if(n in fd)t[r/2]=fd[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}function qe(e){let t="";for(let r=0;r<e.byteLength;r++)t+=$p[e[r]];return t}var zp="X-Amz-Algorithm",qp="X-Amz-Credential",md="X-Amz-Date",jp="X-Amz-SignedHeaders",Hp="X-Amz-Expires",hd="X-Amz-Signature",pd="X-Amz-Security-Token";var yd="authorization",gd=md.toLowerCase(),NT="date",Gp=[yd,gd,NT],Kp=hd.toLowerCase(),us="x-amz-content-sha256",Vp=pd.toLowerCase();var Wp={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},Yp=/^proxy-/,Qp=/^sec-/;var Ri="AWS4-HMAC-SHA256";var Xp="AWS4-HMAC-SHA256-PAYLOAD",Jp="UNSIGNED-PAYLOAD",Zp=50,xd="aws4_request",ey=60*60*24*7;var ki={},Cd=[],Ti=(e,t,r)=>`${e}/${t}/${r}/${xd}`,ry=async(e,t,r,n,o)=>{let s=await ty(e,t.secretAccessKey,t.accessKeyId),i=`${r}:${n}:${o}:${qe(s)}:${t.sessionToken}`;if(i in ki)return ki[i];for(Cd.push(i);Cd.length>Zp;)delete ki[Cd.shift()];let a=`AWS4${t.secretAccessKey}`;for(let c of[r,n,o,xd])a=await ty(e,a,c);return ki[i]=a};var ty=(e,t,r)=>{let n=new e(t);return n.update(st(r)),n.digest()};var Ni=({headers:e},t,r)=>{let n={};for(let o of Object.keys(e).sort()){if(e[o]==null)continue;let s=o.toLowerCase();(s in Wp||t!=null&&t.has(s)||Yp.test(s)||Qp.test(s))&&(!r||r&&!r.has(s))||(n[s]=e[o].trim().replace(/\s+/g," "))}return n};var Vt=e=>encodeURIComponent(e).replace(/[!'()*]/g,vT),vT=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`;var Ed=({query:e={}})=>{let t=[],r={};for(let n of Object.keys(e).sort()){if(n.toLowerCase()===Kp)continue;t.push(n);let o=e[n];typeof o=="string"?r[n]=`${Vt(n)}=${Vt(o)}`:Array.isArray(o)&&(r[n]=o.slice(0).sort().reduce((s,i)=>s.concat([`${Vt(n)}=${Vt(i)}`]),[]).join("&"))}return t.map(n=>r[n]).filter(n=>n).join("&")};var fs=async({headers:e,body:t},r)=>{for(let n of Object.keys(e))if(n.toLowerCase()===us)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||eo(t)){let n=new r;return n.update(st(t)),qe(await n.digest())}return Jp};var ny=(e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1};var vi=({headers:e,query:t,...r})=>({...r,headers:{...e},query:t?PT(t):void 0}),PT=e=>Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{});var wd=(e,t={})=>{var o;let{headers:r,query:n={}}=typeof e.clone=="function"?e.clone():vi(e);for(let s of Object.keys(r)){let i=s.toLowerCase();i.slice(0,6)==="x-amz-"&&!((o=t.unhoistableHeaders)!=null&&o.has(i))&&(n[s]=r[s],delete r[s])}return{...e,headers:r,query:n}};var Pi=e=>{e=typeof e.clone=="function"?e.clone():vi(e);for(let t of Object.keys(e.headers))Gp.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e};var oy=e=>OT(e).toISOString().replace(/\.\d{3}Z$/,"Z"),OT=e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e;var bn=class{constructor({applyChecksum:t,credentials:r,region:n,service:o,sha256:s,uriEscapePath:i=!0}){this.service=o,this.sha256=s,this.uriEscapePath=i,this.applyChecksum=typeof t=="boolean"?t:!0,this.regionProvider=ze(n),this.credentialProvider=ze(r)}async presign(t,r={}){let{signingDate:n=new Date,expiresIn:o=3600,unsignableHeaders:s,unhoistableHeaders:i,signableHeaders:a,signingRegion:c,signingService:d}=r,l=await this.credentialProvider();this.validateResolvedCredentials(l);let m=c??await this.regionProvider(),{longDate:f,shortDate:E}=Oi(n);if(o>ey)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let g=Ti(E,m,d??this.service),b=wd(Pi(t),{unhoistableHeaders:i});l.sessionToken&&(b.query[pd]=l.sessionToken),b.query[zp]=Ri,b.query[qp]=`${l.accessKeyId}/${g}`,b.query[md]=f,b.query[Hp]=o.toString(10);let T=Ni(b,s,a);return b.query[jp]=sy(T),b.query[hd]=await this.getSignature(f,g,this.getSigningKey(l,m,E,d),this.createCanonicalRequest(b,T,await fs(t,this.sha256))),b}async sign(t,r){return typeof t=="string"?this.signString(t,r):t.headers&&t.payload?this.signEvent(t,r):this.signRequest(t,r)}async signEvent({headers:t,payload:r},{signingDate:n=new Date,priorSignature:o,signingRegion:s,signingService:i}){let a=s??await this.regionProvider(),{shortDate:c,longDate:d}=Oi(n),l=Ti(c,a,i??this.service),m=await fs({headers:{},body:r},this.sha256),f=new this.sha256;f.update(t);let E=qe(await f.digest()),g=[Xp,d,l,o,E,m].join(`
`);return this.signString(g,{signingDate:n,signingRegion:a,signingService:i})}async signString(t,{signingDate:r=new Date,signingRegion:n,signingService:o}={}){let s=await this.credentialProvider();this.validateResolvedCredentials(s);let i=n??await this.regionProvider(),{shortDate:a}=Oi(r),c=new this.sha256(await this.getSigningKey(s,i,a,o));return c.update(st(t)),qe(await c.digest())}async signRequest(t,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:o,signingRegion:s,signingService:i}={}){let a=await this.credentialProvider();this.validateResolvedCredentials(a);let c=s??await this.regionProvider(),d=Pi(t),{longDate:l,shortDate:m}=Oi(r),f=Ti(m,c,i??this.service);d.headers[gd]=l,a.sessionToken&&(d.headers[Vp]=a.sessionToken);let E=await fs(d,this.sha256);!ny(us,d.headers)&&this.applyChecksum&&(d.headers[us]=E);let g=Ni(d,o,n),b=await this.getSignature(l,f,this.getSigningKey(a,c,m,i),this.createCanonicalRequest(d,g,E));return d.headers[yd]=`${Ri} Credential=${a.accessKeyId}/${f}, SignedHeaders=${sy(g)}, Signature=${b}`,d}createCanonicalRequest(t,r,n){let o=Object.keys(r).sort();return`${t.method}
${this.getCanonicalPath(t)}
${Ed(t)}
${o.map(s=>`${s}:${r[s]}`).join(`
`)}

${o.join(";")}
${n}`}async createStringToSign(t,r,n){let o=new this.sha256;o.update(st(n));let s=await o.digest();return`${Ri}
${t}
${r}
${qe(s)}`}getCanonicalPath({path:t}){if(this.uriEscapePath){let r=[];for(let s of t.split("/"))(s==null?void 0:s.length)!==0&&s!=="."&&(s===".."?r.pop():r.push(s));let n=`${t!=null&&t.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&(t!=null&&t.endsWith("/"))?"/":""}`;return encodeURIComponent(n).replace(/%2F/g,"/")}return t}async getSignature(t,r,n,o){let s=await this.createStringToSign(t,r,o),i=new this.sha256(await n);return i.update(st(s)),qe(await i.digest())}getSigningKey(t,r,n,o){return ry(this.sha256,t,n,r,o||this.service)}validateResolvedCredentials(t){if(typeof t!="object"||typeof t.accessKeyId!="string"||typeof t.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}},Oi=e=>{let t=oy(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}},sy=e=>Object.keys(e).sort().join(";");var IT=3e5,Ii=e=>{let t=e.credentials?DT(e.credentials):e.credentialDefaultProvider(e),{signingEscapePath:r=!0,systemClockOffset:n=e.systemClockOffset||0,sha256:o}=e,s;return e.signer?s=ze(e.signer):e.regionInfoProvider?s=()=>ze(e.region)().then(async i=>[await e.regionInfoProvider(i,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},i]).then(([i,a])=>{let{signingRegion:c,signingService:d}=i;e.signingRegion=e.signingRegion||c||a,e.signingName=e.signingName||d||e.serviceId;let l={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:r},m=e.signerConstructor||bn;return new m(l)}):s=async i=>{i=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await ze(e.region)(),properties:{}},i);let a=i.signingRegion,c=i.signingName;e.signingRegion=e.signingRegion||a,e.signingName=e.signingName||c||e.serviceId;let d={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:r},l=e.signerConstructor||bn;return new l(d)},{...e,systemClockOffset:n,signingEscapePath:r,credentials:t,signer:s}};var DT=e=>typeof e=="function"?Yr(e,t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<IT,t=>t.expiration!==void 0):ze(e);var Di=e=>new Date(Date.now()+e);var iy=(e,t)=>Math.abs(Di(t).getTime()-e)>=3e5;var Sd=(e,t)=>{let r=Date.parse(e);return iy(r,t)?r-Date.now():t};var BT=e=>(t,r)=>async function(n){var d,l,m,f;if(!ne.isInstance(n.request))return t(n);let o=(m=(l=(d=r.endpointV2)==null?void 0:d.properties)==null?void 0:l.authSchemes)==null?void 0:m[0],s=(o==null?void 0:o.name)==="sigv4a"?(f=o==null?void 0:o.signingRegionSet)==null?void 0:f.join(","):void 0,i=await e.signer(o),a=await t({...n,request:await i.sign(n.request,{signingDate:Di(e.systemClockOffset),signingRegion:s||r.signing_region,signingService:r.signing_service})}).catch(E=>{let g=E.ServerTime??ay(E.$response);throw g&&(e.systemClockOffset=Sd(g,e.systemClockOffset)),E}),c=ay(a.response);return c&&(e.systemClockOffset=Sd(c,e.systemClockOffset)),a},ay=e=>{var t,r;return vt.isInstance(e)?((t=e.headers)==null?void 0:t.date)??((r=e.headers)==null?void 0:r.Date):void 0},MT={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},Bi=e=>({applyToStack:t=>{t.addRelativeTo(BT(e),MT)}});function Qr(e){return{...e,customUserAgent:typeof e.customUserAgent=="string"?[[e.customUserAgent]]:e.customUserAgent}}var bd={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}}],version:"1.1"};var cy=bd,dy="",LT=e=>{let{partitions:t}=cy;for(let n of t){let{regions:o,outputs:s}=n;for(let[i,a]of Object.entries(o))if(i===e)return{...s,...a}}for(let n of t){let{regionRegex:o,outputs:s}=n;if(new RegExp(o).test(e))return{...s}}let r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},ly=(e,t="")=>{cy=e,dy=t},$T=()=>{ly(bd,"")},_d=()=>dy;var ur="endpoints";function Et(e){return typeof e!="object"||e==null?e:"ref"in e?`$${Et(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(Et).join(", ")})`:JSON.stringify(e,null,2)}var Ee=class extends Error{constructor(t){super(t),this.name="EndpointError"}};var Td={};jn(Td,{aws:()=>Ad,booleanEquals:()=>jT,getAttr:()=>Rd,isSet:()=>HT,isValidHostLabel:()=>Fi,not:()=>GT,parseURL:()=>KT,stringEquals:()=>VT,substring:()=>WT,uriEncode:()=>YT});var Ad={};jn(Ad,{getUserAgentPrefix:()=>_d,isVirtualHostableS3Bucket:()=>uy,parseArn:()=>qT,partition:()=>LT,setPartitionInfo:()=>ly,useDefaultPartitionInfo:()=>$T});var UT=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),Mi=e=>UT.test(e)||e.startsWith("[")&&e.endsWith("]");var zT=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),Fi=(e,t=!1)=>{if(!t)return zT.test(e);let r=e.split(".");for(let n of r)if(!Fi(n))return!1;return!0};var uy=(e,t=!1)=>{if(t){for(let r of e.split("."))if(!uy(r))return!1;return!0}return!(!Fi(e)||e.length<3||e.length>63||e!==e.toLowerCase()||Mi(e))};var qT=e=>{let t=e.split(":");if(t.length<6)return null;let[r,n,o,s,i,...a]=t;return r!=="arn"||n===""||o===""||a[0]===""?null:{partition:n,service:o,region:s,accountId:i,resourceId:a[0].includes("/")?a[0].split("/"):a}};var jT=(e,t)=>e===t;var fy=e=>{let t=e.split("."),r=[];for(let n of t){let o=n.indexOf("[");if(o!==-1){if(n.indexOf("]")!==n.length-1)throw new Ee(`Path: '${e}' does not end with ']'`);let s=n.slice(o+1,-1);if(Number.isNaN(parseInt(s)))throw new Ee(`Invalid array index: '${s}' in path: '${e}'`);o!==0&&r.push(n.slice(0,o)),r.push(s)}else r.push(n)}return r};var Rd=(e,t)=>fy(t).reduce((r,n)=>{if(typeof r!="object")throw new Ee(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e);var HT=e=>e!=null;var GT=e=>!e;var my;(function(e){e.HEADER="header",e.QUERY="query"})(my||(my={}));var hy;(function(e){e.AAAA="AAAA",e.A="A"})(hy||(hy={}));var io;(function(e){e.HTTP="http",e.HTTPS="https"})(io||(io={}));var py;(function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"})(py||(py={}));var kd={[io.HTTP]:80,[io.HTTPS]:443},KT=e=>{let t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:f,port:E,protocol:g="",path:b="",query:T={}}=e,U=new URL(`${g}//${f}${E?`:${E}`:""}${b}`);return U.search=Object.entries(T).map(([se,Z])=>`${se}=${Z}`).join("&"),U}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let r=t.href,{host:n,hostname:o,pathname:s,protocol:i,search:a}=t;if(a)return null;let c=i.slice(0,-1);if(!Object.values(io).includes(c))return null;let d=Mi(o),l=r.includes(`${n}:${kd[c]}`)||typeof e=="string"&&e.includes(`${n}:${kd[c]}`),m=`${n}${l?`:${kd[c]}`:""}`;return{scheme:c,authority:m,path:s,normalizedPath:s.endsWith("/")?s:`${s}/`,isIp:d}};var VT=(e,t)=>e===t;var WT=(e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r);var YT=e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`);var Li=(e,t)=>{let r=[],n={...t.endpointParams,...t.referenceRecord},o=0;for(;o<e.length;){let s=e.indexOf("{",o);if(s===-1){r.push(e.slice(o));break}r.push(e.slice(o,s));let i=e.indexOf("}",s);if(i===-1){r.push(e.slice(s));break}e[s+1]==="{"&&e[i+1]==="}"&&(r.push(e.slice(s+1,i)),o=i+2);let a=e.substring(s+1,i);if(a.includes("#")){let[c,d]=a.split("#");r.push(Rd(n[c],d))}else r.push(n[a]);o=i+1}return r.join("")};var yy=({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e];var Xr=(e,t,r)=>{if(typeof e=="string")return Li(e,r);if(e.fn)return $i(e,r);if(e.ref)return yy(e,r);throw new Ee(`'${t}': ${String(e)} is not a string, function or reference.`)};var $i=({fn:e,argv:t},r)=>{let n=t.map(o=>["boolean","number"].includes(typeof o)?o:Xr(o,"arg",r));return e.split(".").reduce((o,s)=>o[s],Td)(...n)};var gy=({assign:e,...t},r)=>{var o,s;if(e&&e in r.referenceRecord)throw new Ee(`'${e}' is already defined in Reference Record.`);let n=$i(t,r);return(s=(o=r.logger)==null?void 0:o.debug)==null||s.call(o,ur,`evaluateCondition: ${Et(t)} = ${Et(n)}`),{result:n===""?!0:!!n,...e!=null&&{toAssign:{name:e,value:n}}}};var ao=(e=[],t)=>{var n,o;let r={};for(let s of e){let{result:i,toAssign:a}=gy(s,{...t,referenceRecord:{...t.referenceRecord,...r}});if(!i)return{result:i};a&&(r[a.name]=a.value,(o=(n=t.logger)==null?void 0:n.debug)==null||o.call(n,ur,`assign: ${a.name} := ${Et(a.value)}`))}return{result:!0,referenceRecord:r}};var xy=(e,t)=>Object.entries(e).reduce((r,[n,o])=>({...r,[n]:o.map(s=>{let i=Xr(s,"Header value entry",t);if(typeof i!="string")throw new Ee(`Header '${n}' value '${i}' is not a string`);return i})}),{});var Nd=(e,t)=>{if(Array.isArray(e))return e.map(r=>Nd(r,t));switch(typeof e){case"string":return Li(e,t);case"object":if(e===null)throw new Ee(`Unexpected endpoint property: ${e}`);return Ui(e,t);case"boolean":return e;default:throw new Ee(`Unexpected endpoint property type: ${typeof e}`)}};var Ui=(e,t)=>Object.entries(e).reduce((r,[n,o])=>({...r,[n]:Nd(o,t)}),{});var Cy=(e,t)=>{let r=Xr(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new Ee(`Endpoint URL must be a string, got ${typeof r}`)};var Ey=(e,t)=>{var l,m;let{conditions:r,endpoint:n}=e,{result:o,referenceRecord:s}=ao(r,t);if(!o)return;let i={...t,referenceRecord:{...t.referenceRecord,...s}},{url:a,properties:c,headers:d}=n;return(m=(l=t.logger)==null?void 0:l.debug)==null||m.call(l,ur,`Resolving endpoint from template: ${Et(n)}`),{...d!=null&&{headers:xy(d,i)},...c!=null&&{properties:Ui(c,i)},url:Cy(a,i)}};var wy=(e,t)=>{let{conditions:r,error:n}=e,{result:o,referenceRecord:s}=ao(r,t);if(o)throw new Ee(Xr(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...s}}))};var Sy=(e,t)=>{let{conditions:r,rules:n}=e,{result:o,referenceRecord:s}=ao(r,t);if(o)return zi(n,{...t,referenceRecord:{...t.referenceRecord,...s}})};var zi=(e,t)=>{for(let r of e)if(r.type==="endpoint"){let n=Ey(r,t);if(n)return n}else if(r.type==="error")wy(r,t);else if(r.type==="tree"){let n=Sy(r,t);if(n)return n}else throw new Ee(`Unknown endpoint rule: ${r}`);throw new Ee("Rules evaluation failed")};var Jr=(e,t)=>{var d,l,m,f,E;let{endpointParams:r,logger:n}=t,{parameters:o,rules:s}=e;(l=(d=t.logger)==null?void 0:d.debug)==null||l.call(d,ur,`Initial EndpointParams: ${Et(r)}`);let i=Object.entries(o).filter(([,g])=>g.default!=null).map(([g,b])=>[g,b.default]);if(i.length>0)for(let[g,b]of i)r[g]=r[g]??b;let a=Object.entries(o).filter(([,g])=>g.required).map(([g])=>g);for(let g of a)if(r[g]==null)throw new Ee(`Missing required parameter: '${g}'`);let c=zi(s,{endpointParams:r,logger:n,referenceRecord:{}});if((m=t.endpointParams)!=null&&m.Endpoint)try{let g=new URL(t.endpointParams.Endpoint),{protocol:b,port:T}=g;c.url.protocol=b,c.url.port=T}catch{}return(E=(f=t.logger)==null?void 0:f.debug)==null||E.call(f,ur,`Resolved endpoint: ${Et(c)}`),c};var vd="user-agent",qi="x-amz-user-agent",Pd=" ",by=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g;var QT=e=>(t,r)=>async n=>{var f,E;let{request:o}=n;if(!ne.isInstance(o))return t(n);let{headers:s}=o,i=((f=r==null?void 0:r.userAgent)==null?void 0:f.map(Od))||[],a=(await e.defaultUserAgentProvider()).map(Od),c=((E=e==null?void 0:e.customUserAgent)==null?void 0:E.map(Od))||[],d=_d(),l=(d?[d]:[]).concat([...a,...i,...c]).join(Pd),m=[...a.filter(g=>g.startsWith("aws-sdk-")),...c].join(Pd);return e.runtime!=="browser"?(m&&(s[qi]=s[qi]?`${s[vd]} ${m}`:m),s[vd]=l):s[qi]=l,t({...n,request:o})},Od=([e,t])=>{let r=e.indexOf("/"),n=e.substring(0,r),o=e.substring(r+1);return n==="api"&&(o=o.toLowerCase()),[n,o,t].filter(s=>s&&s.length>0).map(s=>s==null?void 0:s.replace(by,"_")).join("/")},XT={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},Zr=e=>({applyToStack:t=>{t.add(QT(e),XT)}});var _y=e=>({...e,useFipsEndpoint:e.useFipsEndpoint??!1,useDualstackEndpoint:e.useDualstackEndpoint??!1,useAccelerateEndpoint:e.useAccelerateEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,disableMultiregionAccessPoints:e.disableMultiregionAccessPoints??!1,defaultSigningName:"s3"});var Ay={name:"@aws-sdk/client-s3",description:"AWS SDK for JavaScript S3 Client for Node.js, Browser and React Native",version:"3.309.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo s3",test:"yarn test:unit","test:e2e":"ts-mocha test/**/*.ispec.ts && karma start karma.conf.js","test:unit":"ts-mocha test/**/*.spec.ts"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha1-browser":"3.0.0","@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/client-sts":"3.309.0","@aws-sdk/config-resolver":"3.306.0","@aws-sdk/credential-provider-node":"3.309.0","@aws-sdk/eventstream-serde-browser":"3.306.0","@aws-sdk/eventstream-serde-config-resolver":"3.306.0","@aws-sdk/eventstream-serde-node":"3.306.0","@aws-sdk/fetch-http-handler":"3.306.0","@aws-sdk/hash-blob-browser":"3.306.0","@aws-sdk/hash-node":"3.306.0","@aws-sdk/hash-stream-node":"3.306.0","@aws-sdk/invalid-dependency":"3.306.0","@aws-sdk/md5-js":"3.306.0","@aws-sdk/middleware-bucket-endpoint":"3.306.0","@aws-sdk/middleware-content-length":"3.306.0","@aws-sdk/middleware-endpoint":"3.306.0","@aws-sdk/middleware-expect-continue":"3.306.0","@aws-sdk/middleware-flexible-checksums":"3.306.0","@aws-sdk/middleware-host-header":"3.306.0","@aws-sdk/middleware-location-constraint":"3.306.0","@aws-sdk/middleware-logger":"3.306.0","@aws-sdk/middleware-recursion-detection":"3.306.0","@aws-sdk/middleware-retry":"3.306.0","@aws-sdk/middleware-sdk-s3":"3.306.0","@aws-sdk/middleware-serde":"3.306.0","@aws-sdk/middleware-signing":"3.306.0","@aws-sdk/middleware-ssec":"3.306.0","@aws-sdk/middleware-stack":"3.306.0","@aws-sdk/middleware-user-agent":"3.306.0","@aws-sdk/node-config-provider":"3.306.0","@aws-sdk/node-http-handler":"3.306.0","@aws-sdk/protocol-http":"3.306.0","@aws-sdk/signature-v4-multi-region":"3.306.0","@aws-sdk/smithy-client":"3.309.0","@aws-sdk/types":"3.306.0","@aws-sdk/url-parser":"3.306.0","@aws-sdk/util-base64":"3.303.0","@aws-sdk/util-body-length-browser":"3.303.0","@aws-sdk/util-body-length-node":"3.303.0","@aws-sdk/util-defaults-mode-browser":"3.309.0","@aws-sdk/util-defaults-mode-node":"3.309.0","@aws-sdk/util-endpoints":"3.306.0","@aws-sdk/util-retry":"3.306.0","@aws-sdk/util-stream-browser":"3.306.0","@aws-sdk/util-stream-node":"3.306.0","@aws-sdk/util-user-agent-browser":"3.306.0","@aws-sdk/util-user-agent-node":"3.306.0","@aws-sdk/util-utf8":"3.303.0","@aws-sdk/util-waiter":"3.306.0","@aws-sdk/xml-builder":"3.303.0","fast-xml-parser":"4.1.2",tslib:"^2.5.0"},devDependencies:{"@aws-sdk/service-client-documentation-generator":"3.303.0","@tsconfig/node14":"1.0.3","@types/chai":"^4.2.11","@types/mocha":"^8.0.4","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-s3",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-s3"}};var Ry=Tt(Wc());var et=class extends xt{constructor(t){super(t),Object.setPrototypeOf(this,et.prototype)}};var co=class extends et{constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,co.prototype)}},lo=class extends et{constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),this.name="MalformedPolicyDocumentException",this.$fault="client",Object.setPrototypeOf(this,lo.prototype)}},uo=class extends et{constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),this.name="PackedPolicyTooLargeException",this.$fault="client",Object.setPrototypeOf(this,uo.prototype)}},fo=class extends et{constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),this.name="RegionDisabledException",this.$fault="client",Object.setPrototypeOf(this,fo.prototype)}},mo=class extends et{constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),this.name="IDPRejectedClaimException",this.$fault="client",Object.setPrototypeOf(this,mo.prototype)}},ho=class extends et{constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),this.name="InvalidIdentityTokenException",this.$fault="client",Object.setPrototypeOf(this,ho.prototype)}},po=class extends et{constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),this.name="IDPCommunicationErrorException",this.$fault="client",Object.setPrototypeOf(this,po.prototype)}};var ky=async(e,t)=>{let r={"content-type":"application/x-www-form-urlencoded"},n;return n=Uy({...oN(e,t),Action:"AssumeRole",Version:"2011-06-15"}),Ly(t,r,"/",void 0,n)};var Ty=async(e,t)=>{let r={"content-type":"application/x-www-form-urlencoded"},n;return n=Uy({...sN(e,t),Action:"AssumeRoleWithWebIdentity",Version:"2011-06-15"}),Ly(t,r,"/",void 0,n)};var Ny=async(e,t)=>{if(e.statusCode>=300)return ZT(e,t);let r=await Id(e.body,t),n={};n=lN(r.AssumeRoleResult,t);let o={$metadata:fr(e),...n};return Promise.resolve(o)},ZT=async(e,t)=>{let r={...e,body:await $y(e.body,t)},n=zy(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await Py(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await Oy(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await Iy(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await Dy(r,t);default:let o=r.body;cr({output:e,parsedBody:o.Error,exceptionCtor:et,errorCode:n})}};var vy=async(e,t)=>{if(e.statusCode>=300)return eN(e,t);let r=await Id(e.body,t),n={};n=uN(r.AssumeRoleWithWebIdentityResult,t);let o={$metadata:fr(e),...n};return Promise.resolve(o)},eN=async(e,t)=>{let r={...e,body:await $y(e.body,t)},n=zy(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await Py(r,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await tN(r,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await rN(r,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await nN(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await Oy(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await Iy(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await Dy(r,t);default:let o=r.body;cr({output:e,parsedBody:o.Error,exceptionCtor:et,errorCode:n})}};var Py=async(e,t)=>{let r=e.body,n=fN(r.Error,t),o=new co({$metadata:fr(e),...n});return pe(o,r)},tN=async(e,t)=>{let r=e.body,n=mN(r.Error,t),o=new po({$metadata:fr(e),...n});return pe(o,r)},rN=async(e,t)=>{let r=e.body,n=hN(r.Error,t),o=new mo({$metadata:fr(e),...n});return pe(o,r)};var nN=async(e,t)=>{let r=e.body,n=pN(r.Error,t),o=new ho({$metadata:fr(e),...n});return pe(o,r)},Oy=async(e,t)=>{let r=e.body,n=yN(r.Error,t),o=new lo({$metadata:fr(e),...n});return pe(o,r)},Iy=async(e,t)=>{let r=e.body,n=gN(r.Error,t),o=new uo({$metadata:fr(e),...n});return pe(o,r)},Dy=async(e,t)=>{let r=e.body,n=xN(r.Error,t),o=new fo({$metadata:fr(e),...n});return pe(o,r)},oN=(e,t)=>{var n,o,s;let r={};if(e.RoleArn!=null&&(r.RoleArn=e.RoleArn),e.RoleSessionName!=null&&(r.RoleSessionName=e.RoleSessionName),e.PolicyArns!=null){let i=By(e.PolicyArns,t);((n=e.PolicyArns)==null?void 0:n.length)===0&&(r.PolicyArns=[]),Object.entries(i).forEach(([a,c])=>{let d=`PolicyArns.${a}`;r[d]=c})}if(e.Policy!=null&&(r.Policy=e.Policy),e.DurationSeconds!=null&&(r.DurationSeconds=e.DurationSeconds),e.Tags!=null){let i=dN(e.Tags,t);((o=e.Tags)==null?void 0:o.length)===0&&(r.Tags=[]),Object.entries(i).forEach(([a,c])=>{let d=`Tags.${a}`;r[d]=c})}if(e.TransitiveTagKeys!=null){let i=cN(e.TransitiveTagKeys,t);((s=e.TransitiveTagKeys)==null?void 0:s.length)===0&&(r.TransitiveTagKeys=[]),Object.entries(i).forEach(([a,c])=>{let d=`TransitiveTagKeys.${a}`;r[d]=c})}return e.ExternalId!=null&&(r.ExternalId=e.ExternalId),e.SerialNumber!=null&&(r.SerialNumber=e.SerialNumber),e.TokenCode!=null&&(r.TokenCode=e.TokenCode),e.SourceIdentity!=null&&(r.SourceIdentity=e.SourceIdentity),r};var sN=(e,t)=>{var n;let r={};if(e.RoleArn!=null&&(r.RoleArn=e.RoleArn),e.RoleSessionName!=null&&(r.RoleSessionName=e.RoleSessionName),e.WebIdentityToken!=null&&(r.WebIdentityToken=e.WebIdentityToken),e.ProviderId!=null&&(r.ProviderId=e.ProviderId),e.PolicyArns!=null){let o=By(e.PolicyArns,t);((n=e.PolicyArns)==null?void 0:n.length)===0&&(r.PolicyArns=[]),Object.entries(o).forEach(([s,i])=>{let a=`PolicyArns.${s}`;r[a]=i})}return e.Policy!=null&&(r.Policy=e.Policy),e.DurationSeconds!=null&&(r.DurationSeconds=e.DurationSeconds),r};var By=(e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let s=iN(o,t);Object.entries(s).forEach(([i,a])=>{r[`member.${n}.${i}`]=a}),n++}return r},iN=(e,t)=>{let r={};return e.arn!=null&&(r.arn=e.arn),r},aN=(e,t)=>{let r={};return e.Key!=null&&(r.Key=e.Key),e.Value!=null&&(r.Value=e.Value),r},cN=(e,t)=>{let r={},n=1;for(let o of e)o!==null&&(r[`member.${n}`]=o,n++);return r},dN=(e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let s=aN(o,t);Object.entries(s).forEach(([i,a])=>{r[`member.${n}.${i}`]=a}),n++}return r},My=(e,t)=>{let r={};return e.AssumedRoleId!==void 0&&(r.AssumedRoleId=L(e.AssumedRoleId)),e.Arn!==void 0&&(r.Arn=L(e.Arn)),r},lN=(e,t)=>{let r={};return e.Credentials!==void 0&&(r.Credentials=Fy(e.Credentials,t)),e.AssumedRoleUser!==void 0&&(r.AssumedRoleUser=My(e.AssumedRoleUser,t)),e.PackedPolicySize!==void 0&&(r.PackedPolicySize=ai(e.PackedPolicySize)),e.SourceIdentity!==void 0&&(r.SourceIdentity=L(e.SourceIdentity)),r};var uN=(e,t)=>{let r={};return e.Credentials!==void 0&&(r.Credentials=Fy(e.Credentials,t)),e.SubjectFromWebIdentityToken!==void 0&&(r.SubjectFromWebIdentityToken=L(e.SubjectFromWebIdentityToken)),e.AssumedRoleUser!==void 0&&(r.AssumedRoleUser=My(e.AssumedRoleUser,t)),e.PackedPolicySize!==void 0&&(r.PackedPolicySize=ai(e.PackedPolicySize)),e.Provider!==void 0&&(r.Provider=L(e.Provider)),e.Audience!==void 0&&(r.Audience=L(e.Audience)),e.SourceIdentity!==void 0&&(r.SourceIdentity=L(e.SourceIdentity)),r},Fy=(e,t)=>{let r={};return e.AccessKeyId!==void 0&&(r.AccessKeyId=L(e.AccessKeyId)),e.SecretAccessKey!==void 0&&(r.SecretAccessKey=L(e.SecretAccessKey)),e.SessionToken!==void 0&&(r.SessionToken=L(e.SessionToken)),e.Expiration!==void 0&&(r.Expiration=ar(Dc(e.Expiration))),r};var fN=(e,t)=>{let r={};return e.message!==void 0&&(r.message=L(e.message)),r};var mN=(e,t)=>{let r={};return e.message!==void 0&&(r.message=L(e.message)),r},hN=(e,t)=>{let r={};return e.message!==void 0&&(r.message=L(e.message)),r};var pN=(e,t)=>{let r={};return e.message!==void 0&&(r.message=L(e.message)),r},yN=(e,t)=>{let r={};return e.message!==void 0&&(r.message=L(e.message)),r},gN=(e,t)=>{let r={};return e.message!==void 0&&(r.message=L(e.message)),r},xN=(e,t)=>{let r={};return e.message!==void 0&&(r.message=L(e.message)),r},fr=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),CN=(e=new Uint8Array,t)=>e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array),EN=(e,t)=>CN(e,t).then(r=>t.utf8Encoder(r)),Ly=async(e,t,r,n,o)=>{let{hostname:s,protocol:i="https",port:a,path:c}=await e.endpoint(),d={protocol:i,hostname:s,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return n!==void 0&&(d.hostname=n),o!==void 0&&(d.body=o),new ne(d)},Id=(e,t)=>EN(e,t).then(r=>{if(r.length){let n=new Ry.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,d)=>d.trim()===""&&d.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let o=n.parse(r),s="#text",i=Object.keys(o)[0],a=o[i];return a[s]&&(a[i]=a[s],delete a[s]),ts(a)}return{}}),$y=async(e,t)=>{let r=await Id(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},Uy=e=>Object.entries(e).map(([t,r])=>Jn(t)+"="+Jn(r)).join("&"),zy=(e,t)=>{var r;if(((r=t.Error)==null?void 0:r.Code)!==void 0)return t.Error.Code;if(e.statusCode==404)return"NotFound"};var yo=class extends gt{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use(Mt(r,this.serialize,this.deserialize)),this.middlewareStack.use(Ft(r,yo.getEndpointParameterInstructions())),this.middlewareStack.use(Bi(r));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"STSClient",commandName:"AssumeRoleCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l},{requestHandler:d}=r;return o.resolve(l=>d.handle(l.request,n||{}),c)}serialize(t,r){return ky(t,r)}deserialize(t,r){return Ny(t,r)}};var go=class extends gt{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use(Mt(r,this.serialize,this.deserialize)),this.middlewareStack.use(Ft(r,go.getEndpointParameterInstructions()));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"STSClient",commandName:"AssumeRoleWithWebIdentityCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l},{requestHandler:d}=r;return o.resolve(l=>d.handle(l.request,n||{}),c)}serialize(t,r){return Ty(t,r)}deserialize(t,r){return vy(t,r)}};var qy=(e,{stsClientCtor:t})=>Ii({...e,stsClientCtor:t});var jy=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"});var Hy={name:"@aws-sdk/client-sts",description:"AWS SDK for JavaScript Sts Client for Node.js, Browser and React Native",version:"3.309.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sts",test:"yarn test:unit","test:unit":"jest"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/config-resolver":"3.306.0","@aws-sdk/credential-provider-node":"3.309.0","@aws-sdk/fetch-http-handler":"3.306.0","@aws-sdk/hash-node":"3.306.0","@aws-sdk/invalid-dependency":"3.306.0","@aws-sdk/middleware-content-length":"3.306.0","@aws-sdk/middleware-endpoint":"3.306.0","@aws-sdk/middleware-host-header":"3.306.0","@aws-sdk/middleware-logger":"3.306.0","@aws-sdk/middleware-recursion-detection":"3.306.0","@aws-sdk/middleware-retry":"3.306.0","@aws-sdk/middleware-sdk-sts":"3.306.0","@aws-sdk/middleware-serde":"3.306.0","@aws-sdk/middleware-signing":"3.306.0","@aws-sdk/middleware-stack":"3.306.0","@aws-sdk/middleware-user-agent":"3.306.0","@aws-sdk/node-config-provider":"3.306.0","@aws-sdk/node-http-handler":"3.306.0","@aws-sdk/protocol-http":"3.306.0","@aws-sdk/smithy-client":"3.309.0","@aws-sdk/types":"3.306.0","@aws-sdk/url-parser":"3.306.0","@aws-sdk/util-base64":"3.303.0","@aws-sdk/util-body-length-browser":"3.303.0","@aws-sdk/util-body-length-node":"3.303.0","@aws-sdk/util-defaults-mode-browser":"3.309.0","@aws-sdk/util-defaults-mode-node":"3.309.0","@aws-sdk/util-endpoints":"3.306.0","@aws-sdk/util-retry":"3.306.0","@aws-sdk/util-user-agent-browser":"3.306.0","@aws-sdk/util-user-agent-node":"3.306.0","@aws-sdk/util-utf8":"3.303.0","fast-xml-parser":"4.1.2",tslib:"^2.5.0"},devDependencies:{"@aws-sdk/service-client-documentation-generator":"3.303.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sts",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sts"}};var Gy="us-east-1",Ky=e=>typeof e!="function"?e===void 0?Gy:e:async()=>{try{return await e()}catch{return Gy}},Dd=(e,t)=>{let r,n;return async(o,s)=>{if(n=o,!r){let{logger:a,region:c,requestHandler:d}=e;r=new t({logger:a,credentialDefaultProvider:()=>async()=>n,region:Ky(c||e.region),...d?{requestHandler:d}:{}})}let{Credentials:i}=await r.send(new yo(s));if(!i||!i.AccessKeyId||!i.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${s.RoleArn}`);return{accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.SessionToken,expiration:i.Expiration}}},Bd=(e,t)=>{let r;return async n=>{if(!r){let{logger:s,region:i,requestHandler:a}=e;r=new t({logger:s,region:Ky(i||e.region),...a?{requestHandler:a}:{}})}let{Credentials:o}=await r.send(new go(n));if(!o||!o.AccessKeyId||!o.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);return{accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.SessionToken,expiration:o.Expiration}}},Vy=e=>t=>e({roleAssumer:Dd(t,t.stsClientCtor),roleAssumerWithWebIdentity:Bd(t,t.stsClientCtor),...t});var SN="AWS_ACCESS_KEY_ID",bN="AWS_SECRET_ACCESS_KEY",_N="AWS_SESSION_TOKEN",AN="AWS_CREDENTIAL_EXPIRATION",ji=()=>async()=>{let e=process.env[SN],t=process.env[bN],r=process.env[_N],n=process.env[AN];if(e&&t)return{accessKeyId:e,secretAccessKey:t,...r&&{sessionToken:r},...n&&{expiration:new Date(n)}};throw new z("Unable to find environment variable credentials.")};var Wy=require("os"),Yy=require("path"),xo=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${Yy.sep}`}=process.env;return e||t||(r?`${n}${r}`:(0,Wy.homedir)())};var Md="AWS_PROFILE",RN="default",wt=e=>e.profile||process.env[Md]||RN;var Qy=require("crypto"),Xy=require("path");var Hi=e=>{let r=(0,Qy.createHash)("sha1").update(e).digest("hex");return(0,Xy.join)(xo(),".aws","sso","cache",`${r}.json`)};var Jy=require("fs");var{readFile:kN}=Jy.promises,Gi=async e=>{let t=Hi(e),r=await kN(t,"utf8");return JSON.parse(r)};var Zy=require("path");var TN="AWS_CONFIG_FILE",Ki=()=>process.env[TN]||(0,Zy.join)(xo(),".aws","config");var eg=require("path");var NN="AWS_SHARED_CREDENTIALS_FILE",tg=()=>process.env[NN]||(0,eg.join)(xo(),".aws","credentials");var rg=/^profile\s(["'])?([^\1]+)\1$/,ng=e=>Object.entries(e).filter(([t])=>rg.test(t)).reduce((t,[r,n])=>({...t,[rg.exec(r)[2]]:n}),{...e.default&&{default:e.default}});var vN=["__proto__","profile __proto__"],ms=e=>{let t={},r;for(let n of e.split(/\r?\n/))if(n=n.split(/(^|\s)[;#]/)[0].trim(),n[0]==="["&&n[n.length-1]==="]"){if(r=n.substring(1,n.length-1),vN.includes(r))throw new Error(`Found invalid profile name "${r}"`)}else if(r){let s=n.indexOf("="),i=0,a=n.length-1;if(s!==-1&&s!==i&&s!==a){let[d,l]=[n.substring(0,s).trim(),n.substring(s+1).trim()];t[r]=t[r]||{},t[r][d]=l}}return t};var og=require("fs"),{readFile:PN}=og.promises,Fd={},hs=(e,t)=>((!Fd[e]||t!=null&&t.ignoreCache)&&(Fd[e]=PN(e,"utf8")),Fd[e]);var sg=()=>({}),Vi=async(e={})=>{let{filepath:t=tg(),configFilepath:r=Ki()}=e,n=await Promise.all([hs(r,{ignoreCache:e.ignoreCache}).then(ms).then(ng).catch(sg),hs(t,{ignoreCache:e.ignoreCache}).then(ms).catch(sg)]);return{configFile:n[0],credentialsFile:n[1]}};var ig=/^sso-session\s(["'])?([^\1]+)\1$/,ag=e=>Object.entries(e).filter(([t])=>ig.test(t)).reduce((t,[r,n])=>({...t,[ig.exec(r)[2]]:n}),{});var ON=()=>({}),Wi=async(e={})=>hs(e.configFilepath??Ki()).then(ms).then(ag).catch(ON);var cg=(...e)=>{let t={};for(let r of e)for(let[n,o]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],o):t[n]=o;return t};var en=async e=>{let t=await Vi(e);return cg(t.configFile,t.credentialsFile)};var fg=require("url");var dg=require("buffer"),lg=require("http");function mr(e){return new Promise((t,r)=>{var o;let n=(0,lg.request)({method:"GET",...e,hostname:(o=e.hostname)==null?void 0:o.replace(/^\[(.+)\]$/,"$1")});n.on("error",s=>{r(Object.assign(new it("Unable to connect to instance metadata service"),s)),n.destroy()}),n.on("timeout",()=>{r(new it("TimeoutError from instance metadata service")),n.destroy()}),n.on("response",s=>{let{statusCode:i=400}=s;(i<200||300<=i)&&(r(Object.assign(new it("Error response received from instance metadata service"),{statusCode:i})),n.destroy());let a=[];s.on("data",c=>{a.push(c)}),s.on("end",()=>{t(dg.Buffer.concat(a)),n.destroy()})}),n.end()})}var Yi=e=>!!e&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string",Qi=e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration)});var Xi=({maxRetries:e=0,timeout:t=1e3})=>({maxRetries:e,timeout:t});var ps=(e,t)=>{let r=e();for(let n=0;n<t;n++)r=r.catch(e);return r};var ys="AWS_CONTAINER_CREDENTIALS_FULL_URI",gs="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",ug="AWS_CONTAINER_AUTHORIZATION_TOKEN",Ji=(e={})=>{let{timeout:t,maxRetries:r}=Xi(e);return()=>ps(async()=>{let n=await FN(),o=JSON.parse(await IN(t,n));if(!Yi(o))throw new z("Invalid response received from instance metadata service.");return Qi(o)},r)},IN=async(e,t)=>(process.env[ug]&&(t.headers={...t.headers,Authorization:process.env[ug]}),(await mr({...t,timeout:e})).toString()),DN="169.254.170.2",BN={localhost:!0,"127.0.0.1":!0},MN={"http:":!0,"https:":!0},FN=async()=>{if(process.env[gs])return{hostname:DN,path:process.env[gs]};if(process.env[ys]){let e=(0,fg.parse)(process.env[ys]);if(!e.hostname||!(e.hostname in BN))throw new z(`${e.hostname} is not a valid container metadata service hostname`,!1);if(!e.protocol||!(e.protocol in MN))throw new z(`${e.protocol} is not a valid container metadata service protocol`,!1);return{...e,port:e.port?parseInt(e.port,10):void 0}}throw new z(`The container metadata credential provider cannot be used unless the ${gs} or ${ys} environment variable is set`,!1)};var mg=e=>async()=>{try{let t=e(process.env);if(t===void 0)throw new Error;return t}catch(t){throw new z(t.message||`Cannot load config from environment variables with getter: ${e}`)}};var hg=(e,{preferredFile:t="config",...r}={})=>async()=>{let n=wt(r),{configFile:o,credentialsFile:s}=await Vi(r),i=s[n]||{},a=o[n]||{},c=t==="config"?{...i,...a}:{...a,...i};try{let d=e(c);if(d===void 0)throw new Error;return d}catch(d){throw new z(d.message||`Cannot load config for profile ${n} in SDK configuration files with getter: ${e}`)}};var LN=e=>typeof e=="function",pg=e=>LN(e)?async()=>await e():Lp(e);var ie=({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>Yr(Ai(mg(e),hg(t,n),pg(r)));var xs;(function(e){e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]"})(xs||(xs={}));var $N="AWS_EC2_METADATA_SERVICE_ENDPOINT",UN="ec2_metadata_service_endpoint",yg={environmentVariableSelector:e=>e[$N],configFileSelector:e=>e[UN],default:void 0};var tn;(function(e){e.IPv4="IPv4",e.IPv6="IPv6"})(tn||(tn={}));var zN="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",qN="ec2_metadata_service_endpoint_mode",gg={environmentVariableSelector:e=>e[zN],configFileSelector:e=>e[qN],default:tn.IPv4};var Cs=async()=>nt(await jN()||await HN()),jN=async()=>ie(yg)(),HN=async()=>{let e=await ie(gg)();switch(e){case tn.IPv4:return xs.IPv4;case tn.IPv6:return xs.IPv6;default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(tn)}`)}};var GN="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",Ld=(e,t)=>{let r=300+Math.floor(Math.random()*300),n=new Date(Date.now()+r*1e3);t.warn("Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(newExpiration)}.\nFor more information, please visit: "+GN);let o=e.originalExpiration??e.expiration;return{...e,...o?{originalExpiration:o}:{},expiration:n}};var xg=(e,t={})=>{let r=(t==null?void 0:t.logger)||console,n;return async()=>{let o;try{o=await e(),o.expiration&&o.expiration.getTime()<Date.now()&&(o=Ld(o,r))}catch(s){if(n)r.warn("Credential renew failed: ",s),o=Ld(n,r);else throw s}return n=o,o}};var Cg="/latest/meta-data/iam/security-credentials/",KN="/latest/api/token",Zi=(e={})=>xg(VN(e),{logger:e.logger}),VN=e=>{let t=!1,{timeout:r,maxRetries:n}=Xi(e),o=async(s,i)=>{let a=(await ps(async()=>{let c;try{c=await YN(i)}catch(d){throw d.statusCode===401&&(t=!1),d}return c},s)).trim();return ps(async()=>{let c;try{c=await QN(a,i)}catch(d){throw d.statusCode===401&&(t=!1),d}return c},s)};return async()=>{let s=await Cs();if(t)return o(n,{...s,timeout:r});{let i;try{i=(await WN({...s,timeout:r})).toString()}catch(a){if((a==null?void 0:a.statusCode)===400)throw Object.assign(a,{message:"EC2 Metadata token request returned error"});return(a.message==="TimeoutError"||[403,404,405].includes(a.statusCode))&&(t=!0),o(n,{...s,timeout:r})}return o(n,{...s,headers:{"x-aws-ec2-metadata-token":i},timeout:r})}}},WN=async e=>mr({...e,path:KN,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),YN=async e=>(await mr({...e,path:Cg})).toString(),QN=async(e,t)=>{let r=JSON.parse((await mr({...t,path:Cg+e})).toString());if(!Yi(r))throw new z("Invalid response received from instance metadata service.");return Qi(r)};var Eg=(e,t)=>{let r={EcsContainer:Ji,Ec2InstanceMetadata:Zi,Environment:ji};if(e in r)return r[e]();throw new z(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`)};var wg=e=>!!e&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(XN(e)||JN(e)),XN=e=>typeof e.source_profile=="string"&&typeof e.credential_source>"u",JN=e=>typeof e.credential_source=="string"&&typeof e.source_profile>"u",Sg=async(e,t,r,n={})=>{let o=t[e];if(!r.roleAssumer)throw new z(`Profile ${e} requires a role to be assumed, but no role assumption callback was provided.`,!1);let{source_profile:s}=o;if(s&&s in n)throw new z(`Detected a cycle attempting to resolve credentials for profile ${wt(r)}. Profiles visited: `+Object.keys(n).join(", "),!1);let i=s?ea(s,t,r,{...n,[s]:!0}):Eg(o.credential_source,e)(),a={RoleArn:o.role_arn,RoleSessionName:o.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:o.external_id},{mfa_serial:c}=o;if(c){if(!r.mfaCodeProvider)throw new z(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,!1);a.SerialNumber=c,a.TokenCode=await r.mfaCodeProvider(c)}let d=await i;return r.roleAssumer(d,a)};var _g=require("child_process"),Ag=require("util");var bg=(e,t)=>{if(t.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(t.AccessKeyId===void 0||t.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){let r=new Date;if(new Date(t.Expiration)<r)throw Error(`Profile ${e} credential_process returned expired credentials.`)}return{accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)}}};var Rg=async(e,t)=>{let r=t[e];if(t[e]){let n=r.credential_process;if(n!==void 0){let o=(0,Ag.promisify)(_g.exec);try{let{stdout:s}=await o(n),i;try{i=JSON.parse(s.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return bg(e,i)}catch(s){throw new z(s.message)}}else throw new z(`Profile ${e} did not contain credential_process.`)}else throw new z(`Profile ${e} could not be found in shared credentials file.`)};var ta=(e={})=>async()=>{let t=await en(e);return Rg(wt(e),t)};var kg=e=>!!e&&typeof e=="object"&&typeof e.credential_process=="string",Tg=async(e,t)=>ta({...e,profile:t})();var Es=e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string");var Pt=class extends xt{constructor(t){super(t),Object.setPrototypeOf(this,Pt.prototype)}};var Co=class extends Pt{constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,Co.prototype)}},Eo=class extends Pt{constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,Eo.prototype)}},wo=class extends Pt{constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),this.name="TooManyRequestsException",this.$fault="client",Object.setPrototypeOf(this,wo.prototype)}},So=class extends Pt{constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),this.name="UnauthorizedException",this.$fault="client",Object.setPrototypeOf(this,So.prototype)}},Ng=e=>({...e,...e.accessToken&&{accessToken:Ut}}),ZN=e=>({...e,...e.secretAccessKey&&{secretAccessKey:Ut},...e.sessionToken&&{sessionToken:Ut}}),vg=e=>({...e,...e.roleCredentials&&{roleCredentials:ZN(e.roleCredentials)}});var Pg=async(e,t)=>{let{hostname:r,protocol:n="https",port:o,path:s}=await t.endpoint(),i=_n({},cv,{"x-amz-sso_bearer_token":e.accessToken}),a=`${s!=null&&s.endsWith("/")?s.slice(0,-1):s||""}/federation/credentials`,c=_n({role_name:[,ar(e.roleName,"roleName")],account_id:[,ar(e.accountId,"accountId")]}),d;return new ne({protocol:n,hostname:r,port:o,method:"GET",headers:i,path:a,query:c,body:d})};var Og=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ev(e,t);let r=_n({$metadata:ws(e)}),n=ar(Zo(await Ig(e.body,t)),"body");return n.roleCredentials!=null&&(r.roleCredentials=sv(n.roleCredentials,t)),r},ev=async(e,t)=>{let r={...e,body:await dv(e.body,t)},n=lv(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await tv(r,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await rv(r,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await nv(r,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await ov(r,t);default:let o=r.body;cr({output:e,parsedBody:o,exceptionCtor:Pt,errorCode:n})}};var _n=En,tv=async(e,t)=>{let r=_n({}),n=e.body;n.message!=null&&(r.message=L(n.message));let o=new Co({$metadata:ws(e),...r});return pe(o,e.body)},rv=async(e,t)=>{let r=_n({}),n=e.body;n.message!=null&&(r.message=L(n.message));let o=new Eo({$metadata:ws(e),...r});return pe(o,e.body)},nv=async(e,t)=>{let r=_n({}),n=e.body;n.message!=null&&(r.message=L(n.message));let o=new wo({$metadata:ws(e),...r});return pe(o,e.body)},ov=async(e,t)=>{let r=_n({}),n=e.body;n.message!=null&&(r.message=L(n.message));let o=new So({$metadata:ws(e),...r});return pe(o,e.body)};var sv=(e,t)=>({accessKeyId:L(e.accessKeyId),expiration:si(e.expiration),secretAccessKey:L(e.secretAccessKey),sessionToken:L(e.sessionToken)});var ws=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),iv=(e=new Uint8Array,t)=>e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array),av=(e,t)=>iv(e,t).then(r=>t.utf8Encoder(r)),cv=e=>e!=null&&e!==""&&(!Object.getOwnPropertyNames(e).includes("length")||e.length!=0)&&(!Object.getOwnPropertyNames(e).includes("size")||e.size!=0),Ig=(e,t)=>av(e,t).then(r=>r.length?JSON.parse(r):{}),dv=async(e,t)=>{let r=await Ig(e,t);return r.message=r.message??r.Message,r},lv=(e,t)=>{let r=(s,i)=>Object.keys(s).find(a=>a.toLowerCase()===i.toLowerCase()),n=s=>{let i=s;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},o=r(e.headers,"x-amzn-errortype");if(o!==void 0)return n(e.headers[o]);if(t.code!==void 0)return n(t.code);if(t.__type!==void 0)return n(t.__type)};var bo=class extends gt{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use(Mt(r,this.serialize,this.deserialize)),this.middlewareStack.use(Ft(r,bo.getEndpointParameterInstructions()));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"SSOClient",commandName:"GetRoleCredentialsCommand",inputFilterSensitiveLog:Ng,outputFilterSensitiveLog:vg},{requestHandler:d}=r;return o.resolve(l=>d.handle(l.request,n||{}),c)}serialize(t,r){return Pg(t,r)}deserialize(t,r){return Og(t,r)}};var Dg=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"});var Bg={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.309.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/config-resolver":"3.306.0","@aws-sdk/fetch-http-handler":"3.306.0","@aws-sdk/hash-node":"3.306.0","@aws-sdk/invalid-dependency":"3.306.0","@aws-sdk/middleware-content-length":"3.306.0","@aws-sdk/middleware-endpoint":"3.306.0","@aws-sdk/middleware-host-header":"3.306.0","@aws-sdk/middleware-logger":"3.306.0","@aws-sdk/middleware-recursion-detection":"3.306.0","@aws-sdk/middleware-retry":"3.306.0","@aws-sdk/middleware-serde":"3.306.0","@aws-sdk/middleware-stack":"3.306.0","@aws-sdk/middleware-user-agent":"3.306.0","@aws-sdk/node-config-provider":"3.306.0","@aws-sdk/node-http-handler":"3.306.0","@aws-sdk/protocol-http":"3.306.0","@aws-sdk/smithy-client":"3.309.0","@aws-sdk/types":"3.306.0","@aws-sdk/url-parser":"3.306.0","@aws-sdk/util-base64":"3.303.0","@aws-sdk/util-body-length-browser":"3.303.0","@aws-sdk/util-body-length-node":"3.303.0","@aws-sdk/util-defaults-mode-browser":"3.309.0","@aws-sdk/util-defaults-mode-node":"3.309.0","@aws-sdk/util-endpoints":"3.306.0","@aws-sdk/util-retry":"3.306.0","@aws-sdk/util-user-agent-browser":"3.306.0","@aws-sdk/util-user-agent-node":"3.306.0","@aws-sdk/util-utf8":"3.303.0",tslib:"^2.5.0"},devDependencies:{"@aws-sdk/service-client-documentation-generator":"3.303.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}};var Fg=require("buffer"),ra=require("crypto"),St=class{constructor(t,r){this.algorithmIdentifier=t,this.secret=r,this.reset()}update(t,r){this.hash.update(st(Mg(t,r)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?(0,ra.createHmac)(this.algorithmIdentifier,Mg(this.secret)):(0,ra.createHash)(this.algorithmIdentifier)}};function Mg(e,t){return Fg.Buffer.isBuffer(e)?e:typeof e=="string"?to(e,t):ArrayBuffer.isView(e)?lr(e.buffer,e.byteOffset,e.byteLength):lr(e)}function $d(e){let t=[];for(let r of Object.keys(e).sort()){let n=e[r];if(r=Vt(r),Array.isArray(n))for(let o=0,s=n.length;o<s;o++)t.push(`${r}=${Vt(n[o])}`);else{let o=r;(n||typeof n=="string")&&(o+=`=${Vt(n)}`),t.push(o)}}return t.join("&")}var na=require("http"),oa=require("https");var Lg=["ECONNRESET","EPIPE","ETIMEDOUT"];var Ud=e=>{let t={};for(let r of Object.keys(e)){let n=e[r];t[r]=Array.isArray(n)?n.join(","):n}return t};var Ug=require("stream");function zd(e,t){(t.headers.Expect||t.headers.expect)==="100-continue"?e.on("continue",()=>{$g(e,t.body)}):$g(e,t.body)}function $g(e,t){t instanceof Ug.Readable?t.pipe(e):t?e.end(Buffer.from(t)):e.end()}var zg=0,Wt=class{constructor(t){this.metadata={handlerProtocol:"http/1.1"},this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(o=>{r(this.resolveDefaultConfig(o))}).catch(n):r(this.resolveDefaultConfig(t))})}resolveDefaultConfig(t){let{requestTimeout:r,connectionTimeout:n,socketTimeout:o,httpAgent:s,httpsAgent:i}=t||{},a=!0,c=50;return{connectionTimeout:n,socketTimeout:o,requestTimeout:r??n??o??zg,httpAgent:s||new na.Agent({keepAlive:a,maxSockets:c}),httpsAgent:i||new oa.Agent({keepAlive:a,maxSockets:c})}}destroy(){var t,r,n,o;(r=(t=this.config)==null?void 0:t.httpAgent)==null||r.destroy(),(o=(n=this.config)==null?void 0:n.httpsAgent)==null||o.destroy()}async handle(t,{abortSignal:r}={}){return this.config||(this.config=await this.configProvider),new Promise((n,o)=>{var m;if(!this.config)throw new Error("Node HTTP request handler config is not resolved");if(r!=null&&r.aborted){let f=new Error("Request aborted");f.name="AbortError",o(f);return}let s=t.protocol==="https:",i=$d(t.query||{}),a={headers:t.headers,host:t.hostname,method:t.method,path:i?`${t.path}?${i}`:t.path,port:t.port,agent:s?this.config.httpsAgent:this.config.httpAgent},d=(s?oa.request:na.request)(a,f=>{let E=new vt({statusCode:f.statusCode||-1,headers:Ud(f.headers),body:f});n({response:E})});d.on("error",f=>{Lg.includes(f.code)?o(Object.assign(f,{name:"TimeoutError"})):o(f)});let l=((m=this.config)==null?void 0:m.requestTimeout)??zg;d.setTimeout(l,()=>{d.destroy(),o(Object.assign(new Error(`Connection timed out after ${l} ms`),{name:"TimeoutError"}))}),r&&(r.onabort=()=>{d.abort();let f=new Error("Request aborted");f.name="AbortError",o(f)}),zd(d,t)})}};var qd=class{constructor(t){this.sessions=[],this.sessions=t??[]}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(t){this.sessions.push(t)}contains(t){return this.sessions.includes(t)}remove(t){this.sessions=this.sessions.filter(r=>r!==t)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(t){for(let r of this.sessions)r===t&&(r.destroyed||r.destroy())}};var qg=require("stream"),sa=class extends qg.Writable{constructor(){super(...arguments),this.bufferedBytes=[]}_write(t,r,n){this.bufferedBytes.push(t),n()}};var Yt=e=>new Promise((t,r)=>{let n=new sa;e.pipe(n),e.on("error",o=>{n.end(),r(o)}),n.on("error",r),n.on("finish",function(){let o=new Uint8Array(Buffer.concat(this.bufferedBytes));t(o)})});var ia=require("fs"),rn=e=>{if(!e)return 0;if(typeof e=="string")return Buffer.from(e).length;if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.path=="string"||Buffer.isBuffer(e.path))return(0,ia.lstatSync)(e.path).size;if(typeof e.fd=="number")return(0,ia.fstatSync)(e.fd).size;throw new Error(`Body Length computation failed for ${e}`)};var aa=require("os"),Ss=require("process");var jg=()=>{try{return typeof require=="function"&&typeof module<"u"&&require("aws-crt")?["md/crt-avail"]:null}catch{return null}};var fv="AWS_SDK_UA_APP_ID",mv="sdk-ua-app-id",nn=({serviceId:e,clientVersion:t})=>{let r=[["aws-sdk-js",t],[`os/${(0,aa.platform)()}`,(0,aa.release)()],["lang/js"],["md/nodejs",`${Ss.versions.node}`]],n=jg();n&&r.push(n),e&&r.push([`api/${e}`,t]),Ss.env.AWS_EXECUTION_ENV&&r.push([`exec-env/${Ss.env.AWS_EXECUTION_ENV}`]);let o=ie({environmentVariableSelector:i=>i[fv],configFileSelector:i=>i[mv],default:void 0})(),s;return async()=>{if(!s){let i=await o;s=i?[...r,[`app/${i}`]]:[...r]}return s}};var hv=/^[A-Za-z0-9+/]*={0,2}$/,on=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!hv.exec(e))throw new TypeError("Invalid base64 string.");let t=to(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};var sn=e=>lr(e.buffer,e.byteOffset,e.byteLength).toString("base64");var Xg="required",hr="fn",pr="argv",_o="ref",jd="PartitionResult",Qt="tree",bs="error",_s="endpoint",Hg={[Xg]:!1,type:"String"},Gg={[Xg]:!0,default:!1,type:"Boolean"},Jg={[_o]:"Endpoint"},Zg={[hr]:"booleanEquals",[pr]:[{[_o]:"UseFIPS"},!0]},ex={[hr]:"booleanEquals",[pr]:[{[_o]:"UseDualStack"},!0]},Xt={},Kg={[hr]:"booleanEquals",[pr]:[!0,{[hr]:"getAttr",[pr]:[{[_o]:jd},"supportsFIPS"]}]},Vg={[hr]:"booleanEquals",[pr]:[!0,{[hr]:"getAttr",[pr]:[{[_o]:jd},"supportsDualStack"]}]},Wg=[Jg],Yg=[Zg],Qg=[ex],pv={version:"1.0",parameters:{Region:Hg,UseDualStack:Gg,UseFIPS:Gg,Endpoint:Hg},rules:[{conditions:[{[hr]:"aws.partition",[pr]:[{[_o]:"Region"}],assign:jd}],type:Qt,rules:[{conditions:[{[hr]:"isSet",[pr]:Wg},{[hr]:"parseURL",[pr]:Wg,assign:"url"}],type:Qt,rules:[{conditions:Yg,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:bs},{type:Qt,rules:[{conditions:Qg,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:bs},{endpoint:{url:Jg,properties:Xt,headers:Xt},type:_s}]}]},{conditions:[Zg,ex],type:Qt,rules:[{conditions:[Kg,Vg],type:Qt,rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Xt,headers:Xt},type:_s}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:bs}]},{conditions:Yg,type:Qt,rules:[{conditions:[Kg],type:Qt,rules:[{type:Qt,rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Xt,headers:Xt},type:_s}]}]},{error:"FIPS is enabled but this partition does not support FIPS",type:bs}]},{conditions:Qg,type:Qt,rules:[{conditions:[Vg],type:Qt,rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Xt,headers:Xt},type:_s}]},{error:"DualStack is enabled but this partition does not support DualStack",type:bs}]},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:Xt,headers:Xt},type:_s}]}]},tx=pv;var rx=(e,t={})=>Jr(tx,{endpointParams:e,logger:t.logger});var nx=e=>({apiVersion:"2019-06-10",base64Decoder:(e==null?void 0:e.base64Decoder)??on,base64Encoder:(e==null?void 0:e.base64Encoder)??sn,disableHostPrefix:(e==null?void 0:e.disableHostPrefix)??!1,endpointProvider:(e==null?void 0:e.endpointProvider)??rx,logger:(e==null?void 0:e.logger)??new Lt,serviceId:(e==null?void 0:e.serviceId)??"SSO",urlParser:(e==null?void 0:e.urlParser)??nt,utf8Decoder:(e==null?void 0:e.utf8Decoder)??qt,utf8Encoder:(e==null?void 0:e.utf8Encoder)??Mr});var ox="AWS_EXECUTION_ENV",Hd="AWS_REGION",Gd="AWS_DEFAULT_REGION",sx="AWS_EC2_METADATA_DISABLED",ix=["in-region","cross-region","mobile","standard","legacy"],ax="/latest/meta-data/placement/region";var yv="AWS_DEFAULTS_MODE",gv="defaults_mode",cx={environmentVariableSelector:e=>e[yv],configFileSelector:e=>e[gv],default:"legacy"};var an=({region:e=ie(Ht),defaultsMode:t=ie(cx)}={})=>Yr(async()=>{let r=typeof t=="function"?await t():t;switch(r==null?void 0:r.toLowerCase()){case"auto":return xv(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r==null?void 0:r.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${ix.join(", ")}, got ${r}`)}}),xv=async e=>{if(e){let t=typeof e=="function"?await e():e,r=await Cv();return r?t===r?"in-region":"cross-region":"standard"}return"standard"},Cv=async()=>{if(process.env[ox]&&(process.env[Hd]||process.env[Gd]))return process.env[Hd]??process.env[Gd];if(!process.env[sx])try{let e=await Cs();return(await mr({...e,path:ax})).toString()}catch{}};var dx=e=>{Or(process.version);let t=an(e),r=()=>t().then(Pr),n=nx(e);return{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:(e==null?void 0:e.bodyLengthChecker)??rn,defaultUserAgentProvider:(e==null?void 0:e.defaultUserAgentProvider)??nn({serviceId:n.serviceId,clientVersion:Bg.version}),maxAttempts:(e==null?void 0:e.maxAttempts)??ie(Gr),region:(e==null?void 0:e.region)??ie(Ht,$r),requestHandler:(e==null?void 0:e.requestHandler)??new Wt(r),retryMode:(e==null?void 0:e.retryMode)??ie({...Vr,default:async()=>(await r()).retryMode||Kt}),sha256:(e==null?void 0:e.sha256)??St.bind(null,"sha256"),streamCollector:(e==null?void 0:e.streamCollector)??Yt,useDualstackEndpoint:(e==null?void 0:e.useDualstackEndpoint)??ie(Fr),useFipsEndpoint:(e==null?void 0:e.useFipsEndpoint)??ie(Lr)}};var ca=class extends $t{constructor(t){let r=dx(t),n=Dg(r),o=Ur(n),s=vr(o),i=Kr(s),a=i,c=Qr(a);super(c),this.config=c,this.middlewareStack.use(Wr(this.config)),this.middlewareStack.use(zr(this.config)),this.middlewareStack.use(qr(this.config)),this.middlewareStack.use(jr(this.config)),this.middlewareStack.use(Hr(this.config)),this.middlewareStack.use(Zr(this.config))}destroy(){super.destroy()}};var Ao="To refresh this SSO session run 'aws sso login' with the corresponding profile.";var Fe=class extends xt{constructor(t){super(t),Object.setPrototypeOf(this,Fe.prototype)}};var Ro=class extends Fe{constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),this.name="AccessDeniedException",this.$fault="client",Object.setPrototypeOf(this,Ro.prototype),this.error=t.error,this.error_description=t.error_description}},ko=class extends Fe{constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t}),this.name="AuthorizationPendingException",this.$fault="client",Object.setPrototypeOf(this,ko.prototype),this.error=t.error,this.error_description=t.error_description}},To=class extends Fe{constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,To.prototype),this.error=t.error,this.error_description=t.error_description}},No=class extends Fe{constructor(t){super({name:"InternalServerException",$fault:"server",...t}),this.name="InternalServerException",this.$fault="server",Object.setPrototypeOf(this,No.prototype),this.error=t.error,this.error_description=t.error_description}},vo=class extends Fe{constructor(t){super({name:"InvalidClientException",$fault:"client",...t}),this.name="InvalidClientException",this.$fault="client",Object.setPrototypeOf(this,vo.prototype),this.error=t.error,this.error_description=t.error_description}},Po=class extends Fe{constructor(t){super({name:"InvalidGrantException",$fault:"client",...t}),this.name="InvalidGrantException",this.$fault="client",Object.setPrototypeOf(this,Po.prototype),this.error=t.error,this.error_description=t.error_description}},Oo=class extends Fe{constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,Oo.prototype),this.error=t.error,this.error_description=t.error_description}},Io=class extends Fe{constructor(t){super({name:"InvalidScopeException",$fault:"client",...t}),this.name="InvalidScopeException",this.$fault="client",Object.setPrototypeOf(this,Io.prototype),this.error=t.error,this.error_description=t.error_description}},Do=class extends Fe{constructor(t){super({name:"SlowDownException",$fault:"client",...t}),this.name="SlowDownException",this.$fault="client",Object.setPrototypeOf(this,Do.prototype),this.error=t.error,this.error_description=t.error_description}},Bo=class extends Fe{constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t}),this.name="UnauthorizedClientException",this.$fault="client",Object.setPrototypeOf(this,Bo.prototype),this.error=t.error,this.error_description=t.error_description}},Mo=class extends Fe{constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t}),this.name="UnsupportedGrantTypeException",this.$fault="client",Object.setPrototypeOf(this,Mo.prototype),this.error=t.error,this.error_description=t.error_description}};var lx=async(e,t)=>{let{hostname:r,protocol:n="https",port:o,path:s}=await t.endpoint(),i={"content-type":"application/json"},a=`${s!=null&&s.endsWith("/")?s.slice(0,-1):s||""}/token`,c;return c=JSON.stringify({...e.clientId!=null&&{clientId:e.clientId},...e.clientSecret!=null&&{clientSecret:e.clientSecret},...e.code!=null&&{code:e.code},...e.deviceCode!=null&&{deviceCode:e.deviceCode},...e.grantType!=null&&{grantType:e.grantType},...e.redirectUri!=null&&{redirectUri:e.redirectUri},...e.refreshToken!=null&&{refreshToken:e.refreshToken},...e.scope!=null&&{scope:Ov(e.scope,t)}}),new ne({protocol:n,hostname:r,port:o,method:"POST",headers:i,path:a,body:c})};var ux=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Ev(e,t);let r=bt({$metadata:_t(e)}),n=ar(Zo(await fx(e.body,t)),"body");return n.accessToken!=null&&(r.accessToken=L(n.accessToken)),n.expiresIn!=null&&(r.expiresIn=oi(n.expiresIn)),n.idToken!=null&&(r.idToken=L(n.idToken)),n.refreshToken!=null&&(r.refreshToken=L(n.refreshToken)),n.tokenType!=null&&(r.tokenType=L(n.tokenType)),r},Ev=async(e,t)=>{let r={...e,body:await Bv(e.body,t)},n=Mv(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await wv(r,t);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await Sv(r,t);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await bv(r,t);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await _v(r,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await Av(r,t);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await Rv(r,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await kv(r,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await Tv(r,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await Nv(r,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await vv(r,t);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await Pv(r,t);default:let o=r.body;cr({output:e,parsedBody:o,exceptionCtor:Fe,errorCode:n})}};var bt=En,wv=async(e,t)=>{let r=bt({}),n=e.body;n.error!=null&&(r.error=L(n.error)),n.error_description!=null&&(r.error_description=L(n.error_description));let o=new Ro({$metadata:_t(e),...r});return pe(o,e.body)},Sv=async(e,t)=>{let r=bt({}),n=e.body;n.error!=null&&(r.error=L(n.error)),n.error_description!=null&&(r.error_description=L(n.error_description));let o=new ko({$metadata:_t(e),...r});return pe(o,e.body)},bv=async(e,t)=>{let r=bt({}),n=e.body;n.error!=null&&(r.error=L(n.error)),n.error_description!=null&&(r.error_description=L(n.error_description));let o=new To({$metadata:_t(e),...r});return pe(o,e.body)},_v=async(e,t)=>{let r=bt({}),n=e.body;n.error!=null&&(r.error=L(n.error)),n.error_description!=null&&(r.error_description=L(n.error_description));let o=new No({$metadata:_t(e),...r});return pe(o,e.body)},Av=async(e,t)=>{let r=bt({}),n=e.body;n.error!=null&&(r.error=L(n.error)),n.error_description!=null&&(r.error_description=L(n.error_description));let o=new vo({$metadata:_t(e),...r});return pe(o,e.body)};var Rv=async(e,t)=>{let r=bt({}),n=e.body;n.error!=null&&(r.error=L(n.error)),n.error_description!=null&&(r.error_description=L(n.error_description));let o=new Po({$metadata:_t(e),...r});return pe(o,e.body)},kv=async(e,t)=>{let r=bt({}),n=e.body;n.error!=null&&(r.error=L(n.error)),n.error_description!=null&&(r.error_description=L(n.error_description));let o=new Oo({$metadata:_t(e),...r});return pe(o,e.body)},Tv=async(e,t)=>{let r=bt({}),n=e.body;n.error!=null&&(r.error=L(n.error)),n.error_description!=null&&(r.error_description=L(n.error_description));let o=new Io({$metadata:_t(e),...r});return pe(o,e.body)},Nv=async(e,t)=>{let r=bt({}),n=e.body;n.error!=null&&(r.error=L(n.error)),n.error_description!=null&&(r.error_description=L(n.error_description));let o=new Do({$metadata:_t(e),...r});return pe(o,e.body)},vv=async(e,t)=>{let r=bt({}),n=e.body;n.error!=null&&(r.error=L(n.error)),n.error_description!=null&&(r.error_description=L(n.error_description));let o=new Bo({$metadata:_t(e),...r});return pe(o,e.body)},Pv=async(e,t)=>{let r=bt({}),n=e.body;n.error!=null&&(r.error=L(n.error)),n.error_description!=null&&(r.error_description=L(n.error_description));let o=new Mo({$metadata:_t(e),...r});return pe(o,e.body)},Ov=(e,t)=>e.filter(r=>r!=null).map(r=>r),_t=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Iv=(e=new Uint8Array,t)=>e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array),Dv=(e,t)=>Iv(e,t).then(r=>t.utf8Encoder(r));var fx=(e,t)=>Dv(e,t).then(r=>r.length?JSON.parse(r):{}),Bv=async(e,t)=>{let r=await fx(e,t);return r.message=r.message??r.Message,r},Mv=(e,t)=>{let r=(s,i)=>Object.keys(s).find(a=>a.toLowerCase()===i.toLowerCase()),n=s=>{let i=s;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},o=r(e.headers,"x-amzn-errortype");if(o!==void 0)return n(e.headers[o]);if(t.code!==void 0)return n(t.code);if(t.__type!==void 0)return n(t.__type)};var Fo=class extends gt{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use(Mt(r,this.serialize,this.deserialize)),this.middlewareStack.use(Ft(r,Fo.getEndpointParameterInstructions()));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"SSOOIDCClient",commandName:"CreateTokenCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l},{requestHandler:d}=r;return o.resolve(l=>d.handle(l.request,n||{}),c)}serialize(t,r){return lx(t,r)}deserialize(t,r){return ux(t,r)}};var mx=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssooidc"});var hx={name:"@aws-sdk/client-sso-oidc",description:"AWS SDK for JavaScript Sso Oidc Client for Node.js, Browser and React Native",version:"3.309.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso-oidc"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/config-resolver":"3.306.0","@aws-sdk/fetch-http-handler":"3.306.0","@aws-sdk/hash-node":"3.306.0","@aws-sdk/invalid-dependency":"3.306.0","@aws-sdk/middleware-content-length":"3.306.0","@aws-sdk/middleware-endpoint":"3.306.0","@aws-sdk/middleware-host-header":"3.306.0","@aws-sdk/middleware-logger":"3.306.0","@aws-sdk/middleware-recursion-detection":"3.306.0","@aws-sdk/middleware-retry":"3.306.0","@aws-sdk/middleware-serde":"3.306.0","@aws-sdk/middleware-stack":"3.306.0","@aws-sdk/middleware-user-agent":"3.306.0","@aws-sdk/node-config-provider":"3.306.0","@aws-sdk/node-http-handler":"3.306.0","@aws-sdk/protocol-http":"3.306.0","@aws-sdk/smithy-client":"3.309.0","@aws-sdk/types":"3.306.0","@aws-sdk/url-parser":"3.306.0","@aws-sdk/util-base64":"3.303.0","@aws-sdk/util-body-length-browser":"3.303.0","@aws-sdk/util-body-length-node":"3.303.0","@aws-sdk/util-defaults-mode-browser":"3.309.0","@aws-sdk/util-defaults-mode-node":"3.309.0","@aws-sdk/util-endpoints":"3.306.0","@aws-sdk/util-retry":"3.306.0","@aws-sdk/util-user-agent-browser":"3.306.0","@aws-sdk/util-user-agent-node":"3.306.0","@aws-sdk/util-utf8":"3.303.0",tslib:"^2.5.0"},devDependencies:{"@aws-sdk/service-client-documentation-generator":"3.303.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso-oidc",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso-oidc"}};var Sx="required",yr="fn",gr="argv",Lo="ref",Vd="PartitionResult",Jt="tree",As="error",Rs="endpoint",px={[Sx]:!1,type:"String"},yx={[Sx]:!0,default:!1,type:"Boolean"},bx={[Lo]:"Endpoint"},_x={[yr]:"booleanEquals",[gr]:[{[Lo]:"UseFIPS"},!0]},Ax={[yr]:"booleanEquals",[gr]:[{[Lo]:"UseDualStack"},!0]},Zt={},gx={[yr]:"booleanEquals",[gr]:[!0,{[yr]:"getAttr",[gr]:[{[Lo]:Vd},"supportsFIPS"]}]},xx={[yr]:"booleanEquals",[gr]:[!0,{[yr]:"getAttr",[gr]:[{[Lo]:Vd},"supportsDualStack"]}]},Cx=[bx],Ex=[_x],wx=[Ax],Lv={version:"1.0",parameters:{Region:px,UseDualStack:yx,UseFIPS:yx,Endpoint:px},rules:[{conditions:[{[yr]:"aws.partition",[gr]:[{[Lo]:"Region"}],assign:Vd}],type:Jt,rules:[{conditions:[{[yr]:"isSet",[gr]:Cx},{[yr]:"parseURL",[gr]:Cx,assign:"url"}],type:Jt,rules:[{conditions:Ex,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:As},{type:Jt,rules:[{conditions:wx,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:As},{endpoint:{url:bx,properties:Zt,headers:Zt},type:Rs}]}]},{conditions:[_x,Ax],type:Jt,rules:[{conditions:[gx,xx],type:Jt,rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Zt,headers:Zt},type:Rs}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:As}]},{conditions:Ex,type:Jt,rules:[{conditions:[gx],type:Jt,rules:[{type:Jt,rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Zt,headers:Zt},type:Rs}]}]},{error:"FIPS is enabled but this partition does not support FIPS",type:As}]},{conditions:wx,type:Jt,rules:[{conditions:[xx],type:Jt,rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Zt,headers:Zt},type:Rs}]},{error:"DualStack is enabled but this partition does not support DualStack",type:As}]},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:Zt,headers:Zt},type:Rs}]}]},Rx=Lv;var kx=(e,t={})=>Jr(Rx,{endpointParams:e,logger:t.logger});var Tx=e=>({apiVersion:"2019-06-10",base64Decoder:(e==null?void 0:e.base64Decoder)??on,base64Encoder:(e==null?void 0:e.base64Encoder)??sn,disableHostPrefix:(e==null?void 0:e.disableHostPrefix)??!1,endpointProvider:(e==null?void 0:e.endpointProvider)??kx,logger:(e==null?void 0:e.logger)??new Lt,serviceId:(e==null?void 0:e.serviceId)??"SSO OIDC",urlParser:(e==null?void 0:e.urlParser)??nt,utf8Decoder:(e==null?void 0:e.utf8Decoder)??qt,utf8Encoder:(e==null?void 0:e.utf8Encoder)??Mr});var Nx=e=>{Or(process.version);let t=an(e),r=()=>t().then(Pr),n=Tx(e);return{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:(e==null?void 0:e.bodyLengthChecker)??rn,defaultUserAgentProvider:(e==null?void 0:e.defaultUserAgentProvider)??nn({serviceId:n.serviceId,clientVersion:hx.version}),maxAttempts:(e==null?void 0:e.maxAttempts)??ie(Gr),region:(e==null?void 0:e.region)??ie(Ht,$r),requestHandler:(e==null?void 0:e.requestHandler)??new Wt(r),retryMode:(e==null?void 0:e.retryMode)??ie({...Vr,default:async()=>(await r()).retryMode||Kt}),sha256:(e==null?void 0:e.sha256)??St.bind(null,"sha256"),streamCollector:(e==null?void 0:e.streamCollector)??Yt,useDualstackEndpoint:(e==null?void 0:e.useDualstackEndpoint)??ie(Fr),useFipsEndpoint:(e==null?void 0:e.useFipsEndpoint)??ie(Lr)}};var da=class extends $t{constructor(t){let r=Nx(t),n=mx(r),o=Ur(n),s=vr(o),i=Kr(s),a=i,c=Qr(a);super(c),this.config=c,this.middlewareStack.use(Wr(this.config)),this.middlewareStack.use(zr(this.config)),this.middlewareStack.use(qr(this.config)),this.middlewareStack.use(jr(this.config)),this.middlewareStack.use(Hr(this.config)),this.middlewareStack.use(Zr(this.config))}destroy(){super.destroy()}};var Wd={},vx=e=>{if(Wd[e])return Wd[e];let t=new da({region:e});return Wd[e]=t,t};var Px=(e,t)=>vx(t).send(new Fo({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}));var Yd=e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new at(`Token is expired. ${Ao}`,!1)};var cn=(e,t,r=!1)=>{if(typeof t>"u")throw new at(`Value not present for '${e}' in SSO Token${r?". Cannot refresh":""}. ${Ao}`,!1)};var Ox=require("fs"),{writeFile:$v}=Ox.promises,Ix=(e,t)=>{let r=Hi(e),n=JSON.stringify(t,null,2);return $v(r,n)};var Dx=new Date(0),Bx=(e={})=>async()=>{let t=await en(e),r=wt(e),n=t[r];if(n){if(!n.sso_session)throw new at(`Profile '${r}' is missing required property 'sso_session'.`)}else throw new at(`Profile '${r}' could not be found in shared credentials file.`,!1);let o=n.sso_session,i=(await Wi(e))[o];if(!i)throw new at(`Sso session '${o}' could not be found in shared credentials file.`,!1);for(let E of["sso_start_url","sso_region"])if(!i[E])throw new at(`Sso session '${o}' is missing required property '${E}'.`,!1);let a=i.sso_start_url,c=i.sso_region,d;try{d=await Gi(o)}catch{throw new at(`The SSO session token associated with profile=${r} was not found or is invalid. ${Ao}`,!1)}cn("accessToken",d.accessToken),cn("expiresAt",d.expiresAt);let{accessToken:l,expiresAt:m}=d,f={token:l,expiration:new Date(m)};if(f.expiration.getTime()-Date.now()>3e5)return f;if(Date.now()-Dx.getTime()<30*1e3)return Yd(f),f;cn("clientId",d.clientId,!0),cn("clientSecret",d.clientSecret,!0),cn("refreshToken",d.refreshToken,!0);try{Dx.setTime(Date.now());let E=await Px(d,c);cn("accessToken",E.accessToken),cn("expiresIn",E.expiresIn);let g=new Date(Date.now()+E.expiresIn*1e3);try{await Ix(o,{...d,accessToken:E.accessToken,expiresAt:g.toISOString(),refreshToken:E.refreshToken})}catch{}return{token:E.accessToken,expiration:g}}catch{return Yd(f),f}};var zv=15*60*1e3,ks=!1,Qd=async({ssoStartUrl:e,ssoSession:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:o,ssoClient:s,profile:i})=>{let a,c="To refresh this SSO session run aws sso login with the corresponding profile.";if(t)try{let T=await Bx({profile:i})();a={accessToken:T.token,expiresAt:new Date(T.expiration).toISOString()}}catch(T){throw new z(T.message,ks)}else try{a=await Gi(e)}catch{throw new z(`The SSO session associated with this profile is invalid. ${c}`,ks)}if(new Date(a.expiresAt).getTime()-Date.now()<=zv)throw new z(`The SSO session associated with this profile has expired. ${c}`,ks);let{accessToken:d}=a,l=s||new ca({region:n}),m;try{m=await l.send(new bo({accountId:r,roleName:o,accessToken:d}))}catch(T){throw z.from(T,ks)}let{roleCredentials:{accessKeyId:f,secretAccessKey:E,sessionToken:g,expiration:b}={}}=m;if(!f||!E||!g||!b)throw new z("SSO returns an invalid temporary credential.",ks);return{accessKeyId:f,secretAccessKey:E,sessionToken:g,expiration:new Date(b)}};var la=e=>{let{sso_start_url:t,sso_account_id:r,sso_region:n,sso_role_name:o}=e;if(!t||!r||!n||!o)throw new z(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,!1);return e};var ua=(e={})=>async()=>{let{ssoStartUrl:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:o,ssoClient:s,ssoSession:i}=e,a=wt(e);if(!t&&!r&&!n&&!o&&!i){let d=(await en(e))[a];if(!d)throw new z(`Profile ${a} was not found.`);if(!Es(d))throw new z(`Profile ${a} is not configured with SSO credentials.`);if(d!=null&&d.sso_session){let T=(await Wi(e))[d.sso_session],U=` configurations in profile ${a} and sso-session ${d.sso_session}`;if(n&&n!==T.sso_region)throw new z("Conflicting SSO region"+U,!1);if(t&&t!==T.sso_start_url)throw new z("Conflicting SSO start_url"+U,!1);d.sso_region=T.sso_region,d.sso_start_url=T.sso_start_url}let{sso_start_url:l,sso_account_id:m,sso_region:f,sso_role_name:E,sso_session:g}=la(d);return Qd({ssoStartUrl:l,ssoSession:g,ssoAccountId:m,ssoRegion:f,ssoRoleName:E,ssoClient:s,profile:a})}else{if(!t||!r||!n||!o)throw new z('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"');return Qd({ssoStartUrl:t,ssoSession:i,ssoAccountId:r,ssoRegion:n,ssoRoleName:o,ssoClient:s,profile:a})}};var Mx=e=>{let{sso_start_url:t,sso_account_id:r,sso_session:n,sso_region:o,sso_role_name:s}=la(e);return ua({ssoStartUrl:t,ssoAccountId:r,ssoSession:n,ssoRegion:o,ssoRoleName:s})()};var Xd=e=>!!e&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1,Jd=e=>Promise.resolve({accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token});var Lx=require("fs");var Fx=e=>()=>{let{roleArn:t,roleSessionName:r,webIdentityToken:n,providerId:o,policyArns:s,policy:i,durationSeconds:a,roleAssumerWithWebIdentity:c}=e;if(!c)throw new z(`Role Arn '${t}' needs to be assumed with web identity, but no role assumption callback was provided.`,!1);return c({RoleArn:t,RoleSessionName:r??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:n,ProviderId:o,PolicyArns:s,Policy:i,DurationSeconds:a})};var qv="AWS_WEB_IDENTITY_TOKEN_FILE",jv="AWS_ROLE_ARN",Hv="AWS_ROLE_SESSION_NAME",fa=(e={})=>async()=>Gv(e),Gv=e=>{let t=(e==null?void 0:e.webIdentityTokenFile)??process.env[qv],r=(e==null?void 0:e.roleArn)??process.env[jv],n=(e==null?void 0:e.roleSessionName)??process.env[Hv];if(!t||!r)throw new z("Web identity configuration not specified");return Fx({...e,webIdentityToken:(0,Lx.readFileSync)(t,{encoding:"ascii"}),roleArn:r,roleSessionName:n})()};var $x=e=>!!e&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,Ux=async(e,t)=>fa({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity})();var ea=async(e,t,r,n={})=>{let o=t[e];if(Object.keys(n).length>0&&Xd(o))return Jd(o);if(wg(o))return Sg(e,t,r,n);if(Xd(o))return Jd(o);if($x(o))return Ux(o,r);if(kg(o))return Tg(r,e);if(Es(o))return Mx(o);throw new z(`Profile ${e} could not be found or parsed in shared credentials file.`)};var zx=(e={})=>async()=>{let t=await en(e);return ea(wt(e),t,e)};var Kv="AWS_EC2_METADATA_DISABLED",qx=e=>process.env[gs]||process.env[ys]?Ji(e):process.env[Kv]?async()=>{throw new z("EC2 Instance Metadata Service access disabled")}:Zi(e);var ma=(e={})=>Yr(Ai(...e.profile||process.env[Md]?[]:[ji()],ua(e),zx(e),ta(e),fa(e),qx(e),async()=>{throw new z("Could not load credentials from any providers",!1)}),t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,t=>t.expiration!==void 0);var Xx="required",X="type",de="fn",le="argv",dn="ref",An="properties",Rn="headers";var el="PartitionResult",At="tree",kn="booleanEquals",je="stringEquals",Jx="sigv4",Zx="us-east-1",eC="sts",be="endpoint",tC="https://sts.{Region}.{PartitionResult#dnsSuffix}",Ts="error",tl="getAttr",jx={[Xx]:!1,[X]:"String"},Zd={[Xx]:!0,default:!1,[X]:"Boolean"},He={[dn]:"Region"},rC={[dn]:"UseFIPS"},nC={[dn]:"UseDualStack"},Hx={[de]:"isSet",[le]:[{[dn]:"Endpoint"}]},oC={[dn]:"Endpoint"},Ge={url:"https://sts.amazonaws.com",[An]:{authSchemes:[{name:Jx,signingRegion:Zx,signingName:eC}]},[Rn]:{}},xr={},Gx={conditions:[{[de]:je,[le]:[He,"aws-global"]}],[be]:Ge,[X]:be},sC={[de]:kn,[le]:[rC,!0]},iC={[de]:kn,[le]:[nC,!0]},Kx={[de]:kn,[le]:[!0,{[de]:tl,[le]:[{[dn]:el},"supportsFIPS"]}]},aC={[dn]:el},Vx={[de]:kn,[le]:[!0,{[de]:tl,[le]:[aC,"supportsDualStack"]}]},Wx={url:tC,[An]:{},[Rn]:{}},Vv=[oC],Yx=[sC],Qx=[iC],Wv={version:"1.0",parameters:{Region:jx,UseDualStack:Zd,UseFIPS:Zd,Endpoint:jx,UseGlobalEndpoint:Zd},rules:[{conditions:[{[de]:"aws.partition",[le]:[He],assign:el}],[X]:At,rules:[{conditions:[{[de]:kn,[le]:[{[dn]:"UseGlobalEndpoint"},!0]},{[de]:kn,[le]:[rC,!1]},{[de]:kn,[le]:[nC,!1]},{[de]:"not",[le]:[Hx]}],[X]:At,rules:[{conditions:[{[de]:je,[le]:[He,"ap-northeast-1"]}],endpoint:Ge,[X]:be},{conditions:[{[de]:je,[le]:[He,"ap-south-1"]}],endpoint:Ge,[X]:be},{conditions:[{[de]:je,[le]:[He,"ap-southeast-1"]}],endpoint:Ge,[X]:be},{conditions:[{[de]:je,[le]:[He,"ap-southeast-2"]}],endpoint:Ge,[X]:be},Gx,{conditions:[{[de]:je,[le]:[He,"ca-central-1"]}],endpoint:Ge,[X]:be},{conditions:[{[de]:je,[le]:[He,"eu-central-1"]}],endpoint:Ge,[X]:be},{conditions:[{[de]:je,[le]:[He,"eu-north-1"]}],endpoint:Ge,[X]:be},{conditions:[{[de]:je,[le]:[He,"eu-west-1"]}],endpoint:Ge,[X]:be},{conditions:[{[de]:je,[le]:[He,"eu-west-2"]}],endpoint:Ge,[X]:be},{conditions:[{[de]:je,[le]:[He,"eu-west-3"]}],endpoint:Ge,[X]:be},{conditions:[{[de]:je,[le]:[He,"sa-east-1"]}],endpoint:Ge,[X]:be},{conditions:[{[de]:je,[le]:[He,Zx]}],endpoint:Ge,[X]:be},{conditions:[{[de]:je,[le]:[He,"us-east-2"]}],endpoint:Ge,[X]:be},{conditions:[{[de]:je,[le]:[He,"us-west-1"]}],endpoint:Ge,[X]:be},{conditions:[{[de]:je,[le]:[He,"us-west-2"]}],endpoint:Ge,[X]:be},{endpoint:{url:tC,[An]:{authSchemes:[{name:Jx,signingRegion:"{Region}",signingName:eC}]},[Rn]:xr},[X]:be}]},{conditions:[Hx,{[de]:"parseURL",[le]:Vv,assign:"url"}],[X]:At,rules:[{conditions:Yx,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[X]:Ts},{[X]:At,rules:[{conditions:Qx,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[X]:Ts},{endpoint:{url:oC,[An]:xr,[Rn]:xr},[X]:be}]}]},{conditions:[sC,iC],[X]:At,rules:[{conditions:[Kx,Vx],[X]:At,rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",[An]:xr,[Rn]:xr},[X]:be}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[X]:Ts}]},{conditions:Yx,[X]:At,rules:[{conditions:[Kx],[X]:At,rules:[{[X]:At,rules:[{conditions:[{[de]:je,[le]:["aws-us-gov",{[de]:tl,[le]:[aC,"name"]}]}],endpoint:Wx,[X]:be},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",[An]:xr,[Rn]:xr},[X]:be}]}]},{error:"FIPS is enabled but this partition does not support FIPS",[X]:Ts}]},{conditions:Qx,[X]:At,rules:[{conditions:[Vx],[X]:At,rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",[An]:xr,[Rn]:xr},[X]:be}]},{error:"DualStack is enabled but this partition does not support DualStack",[X]:Ts}]},{[X]:At,rules:[Gx,{endpoint:Wx,[X]:be}]}]}]},cC=Wv;var dC=(e,t={})=>Jr(cC,{endpointParams:e,logger:t.logger});var lC=e=>({apiVersion:"2011-06-15",base64Decoder:(e==null?void 0:e.base64Decoder)??on,base64Encoder:(e==null?void 0:e.base64Encoder)??sn,disableHostPrefix:(e==null?void 0:e.disableHostPrefix)??!1,endpointProvider:(e==null?void 0:e.endpointProvider)??dC,logger:(e==null?void 0:e.logger)??new Lt,serviceId:(e==null?void 0:e.serviceId)??"STS",urlParser:(e==null?void 0:e.urlParser)??nt,utf8Decoder:(e==null?void 0:e.utf8Decoder)??qt,utf8Encoder:(e==null?void 0:e.utf8Encoder)??Mr});var uC=e=>{Or(process.version);let t=an(e),r=()=>t().then(Pr),n=lC(e);return{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:(e==null?void 0:e.bodyLengthChecker)??rn,credentialDefaultProvider:(e==null?void 0:e.credentialDefaultProvider)??Vy(ma),defaultUserAgentProvider:(e==null?void 0:e.defaultUserAgentProvider)??nn({serviceId:n.serviceId,clientVersion:Hy.version}),maxAttempts:(e==null?void 0:e.maxAttempts)??ie(Gr),region:(e==null?void 0:e.region)??ie(Ht,$r),requestHandler:(e==null?void 0:e.requestHandler)??new Wt(r),retryMode:(e==null?void 0:e.retryMode)??ie({...Vr,default:async()=>(await r()).retryMode||Kt}),sha256:(e==null?void 0:e.sha256)??St.bind(null,"sha256"),streamCollector:(e==null?void 0:e.streamCollector)??Yt,useDualstackEndpoint:(e==null?void 0:e.useDualstackEndpoint)??ie(Fr),useFipsEndpoint:(e==null?void 0:e.useFipsEndpoint)??ie(Lr)}};var Tn=class extends $t{constructor(t){let r=uC(t),n=jy(r),o=Ur(n),s=vr(o),i=Kr(s),a=i,c=qy(a,{stsClientCtor:Tn}),d=Qr(c);super(d),this.config=d,this.middlewareStack.use(Wr(this.config)),this.middlewareStack.use(zr(this.config)),this.middlewareStack.use(qr(this.config)),this.middlewareStack.use(jr(this.config)),this.middlewareStack.use(Hr(this.config)),this.middlewareStack.use(Zr(this.config))}destroy(){super.destroy()}};var fC=(e,t)=>t?class extends e{constructor(n){super(n);for(let o of t)this.middlewareStack.use(o)}}:e,Yv=(e={},t)=>Dd(e,fC(Tn,t)),Qv=(e={},t)=>Bd(e,fC(Tn,t)),mC=e=>t=>e({roleAssumer:Yv(t),roleAssumerWithWebIdentity:Qv(t),...t});var EC=Tt(cs());var ln=class{constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,o=Math.abs(Math.round(t));n>-1&&o>0;n--,o/=256)r[n]=o;return t<0&&hC(r),new ln(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&hC(t),parseInt(qe(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}};function hC(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}var ha=class{constructor(t,r){this.toUtf8=t,this.fromUtf8=r}format(t){let r=[];for(let s of Object.keys(t)){let i=this.fromUtf8(s);r.push(Uint8Array.from([i.byteLength]),i,this.formatHeaderValue(t[s]))}let n=new Uint8Array(r.reduce((s,i)=>s+i.byteLength,0)),o=0;for(let s of r)n.set(s,o),o+=s.byteLength;return n}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":let r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,t.value,!1),new Uint8Array(r.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,t.value,!1),new Uint8Array(n.buffer);case"long":let o=new Uint8Array(9);return o[0]=5,o.set(t.value.bytes,1),o;case"binary":let s=new DataView(new ArrayBuffer(3+t.value.byteLength));s.setUint8(0,6),s.setUint16(1,t.value.byteLength,!1);let i=new Uint8Array(s.buffer);return i.set(t.value,3),i;case"string":let a=this.fromUtf8(t.value),c=new DataView(new ArrayBuffer(3+a.byteLength));c.setUint8(0,7),c.setUint16(1,a.byteLength,!1);let d=new Uint8Array(c.buffer);return d.set(a,3),d;case"timestamp":let l=new Uint8Array(9);return l[0]=8,l.set(ln.fromNumber(t.value.valueOf()).bytes,1),l;case"uuid":if(!sP.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);let m=new Uint8Array(17);return m[0]=9,m.set(Up(t.value.replace(/\-/g,"")),1),m}}parse(t){let r={},n=0;for(;n<t.byteLength;){let o=t.getUint8(n++),s=this.toUtf8(new Uint8Array(t.buffer,t.byteOffset+n,o));switch(n+=o,t.getUint8(n++)){case 0:r[s]={type:yC,value:!0};break;case 1:r[s]={type:yC,value:!1};break;case 2:r[s]={type:Xv,value:t.getInt8(n++)};break;case 3:r[s]={type:Jv,value:t.getInt16(n,!1)},n+=2;break;case 4:r[s]={type:Zv,value:t.getInt32(n,!1)},n+=4;break;case 5:r[s]={type:eP,value:new ln(new Uint8Array(t.buffer,t.byteOffset+n,8))},n+=8;break;case 6:let i=t.getUint16(n,!1);n+=2,r[s]={type:tP,value:new Uint8Array(t.buffer,t.byteOffset+n,i)},n+=i;break;case 7:let a=t.getUint16(n,!1);n+=2,r[s]={type:rP,value:this.toUtf8(new Uint8Array(t.buffer,t.byteOffset+n,a))},n+=a;break;case 8:r[s]={type:nP,value:new Date(new ln(new Uint8Array(t.buffer,t.byteOffset+n,8)).valueOf())},n+=8;break;case 9:let c=new Uint8Array(t.buffer,t.byteOffset+n,16);n+=16,r[s]={type:oP,value:`${qe(c.subarray(0,4))}-${qe(c.subarray(4,6))}-${qe(c.subarray(6,8))}-${qe(c.subarray(8,10))}-${qe(c.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return r}},pC;(function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"})(pC||(pC={}));var yC="boolean",Xv="byte",Jv="short",Zv="integer",eP="long",tP="binary",rP="string",nP="timestamp",oP="uuid",sP=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;var gC=Tt(cs()),xC=4,un=xC*2,Nn=4,iP=un+Nn*2;function CC({byteLength:e,byteOffset:t,buffer:r}){if(e<iP)throw new Error("Provided message too short to accommodate event stream message overhead");let n=new DataView(r,t,e),o=n.getUint32(0,!1);if(e!==o)throw new Error("Reported message length does not match received message length");let s=n.getUint32(xC,!1),i=n.getUint32(un,!1),a=n.getUint32(e-Nn,!1),c=new gC.Crc32().update(new Uint8Array(r,t,un));if(i!==c.digest())throw new Error(`The prelude checksum specified in the message (${i}) does not match the calculated CRC32 checksum (${c.digest()})`);if(c.update(new Uint8Array(r,t+un,e-(un+Nn))),a!==c.digest())throw new Error(`The message checksum (${c.digest()}) did not match the expected value of ${a}`);return{headers:new DataView(r,t+un+Nn,s),body:new Uint8Array(r,t+un+Nn+s,o-s-(un+Nn+Nn))}}var pa=class{constructor(t,r){this.headerMarshaller=new ha(t,r)}encode({headers:t,body:r}){let n=this.headerMarshaller.format(t),o=n.byteLength+r.byteLength+16,s=new Uint8Array(o),i=new DataView(s.buffer,s.byteOffset,s.byteLength),a=new EC.Crc32;return i.setUint32(0,o,!1),i.setUint32(4,n.byteLength,!1),i.setUint32(8,a.update(s.subarray(0,8)).digest(),!1),s.set(n,12),s.set(r,n.byteLength+12),i.setUint32(o-4,a.update(s.subarray(8,o-4)).digest(),!1),s}decode(t){let{headers:r,body:n}=CC(t);return{headers:this.headerMarshaller.parse(r),body:n}}formatHeaders(t){return this.headerMarshaller.format(t)}};function wC(e){let t=0,r=0,n=null,o=null,s=a=>{if(typeof a!="number")throw new Error("Attempted to allocate an event message where size was not a number: "+a);t=a,r=4,n=new Uint8Array(a),new DataView(n.buffer).setUint32(0,a,!1)},i=async function*(){let a=e[Symbol.asyncIterator]();for(;;){let{value:c,done:d}=await a.next();if(d){if(t)if(t===r)yield n;else throw new Error("Truncated event message received.");else return;return}let l=c.length,m=0;for(;m<l;){if(!n){let E=l-m;o||(o=new Uint8Array(4));let g=Math.min(4-r,E);if(o.set(c.slice(m,m+g),r),r+=g,m+=g,r<4)break;s(new DataView(o.buffer).getUint32(0,!1)),o=null}let f=Math.min(t-r,l-m);n.set(c.slice(m,m+f),r),r+=f,m+=f,t&&t===r&&(yield n,n=null,t=0,r=0)}}};return{[Symbol.asyncIterator]:i}}function SC(e,t){return{[Symbol.asyncIterator]:async function*(){for await(let r of e){let n=t.eventStreamCodec.decode(r),{value:o}=n.headers[":message-type"];if(o==="error"){let s=new Error(n.headers[":error-message"].value||"UnknownError");throw s.name=n.headers[":error-code"].value,s}else if(o==="exception"){let s=n.headers[":exception-type"].value,i={[s]:n},a=await t.deserializer(i);if(a.$unknown){let c=new Error(t.toUtf8(n.body));throw c.name=s,c}throw a[s]}else if(o==="event"){let s={[n.headers[":event-type"].value]:n},i=await t.deserializer(s);if(i.$unknown)continue;yield i}else throw Error(`Unrecognizable event type: ${n.headers[":event-type"].value}`)}}}}var Ns=class{constructor({utf8Encoder:t,utf8Decoder:r}){this.eventStreamCodec=new pa(t,r),this.utfEncoder=t}deserialize(t,r){let n=wC(t);return SC(n,{eventStreamCodec:this.eventStreamCodec,deserializer:r,toUtf8:this.utfEncoder})}serialize(t,r){let n=this,o=async function*(){for await(let s of t)yield n.eventStreamCodec.encode(r(s));yield new Uint8Array(0)};return{[Symbol.asyncIterator]:o}}};var _C=require("stream");async function*bC(e){let t=!1,r=!1,n=new Array;for(e.on("error",o=>{if(t||(t=!0),o)throw o}),e.on("data",o=>{n.push(o)}),e.on("end",()=>{t=!0});!r;){let o=await new Promise(s=>setTimeout(()=>s(n.shift()),0));o&&(yield o),r=t&&n.length===0}}var ya=class{constructor({utf8Encoder:t,utf8Decoder:r}){this.universalMarshaller=new Ns({utf8Decoder:r,utf8Encoder:t})}deserialize(t,r){let n=typeof t[Symbol.asyncIterator]=="function"?t:bC(t);return this.universalMarshaller.deserialize(n,r)}serialize(t,r){return _C.Readable.from(this.universalMarshaller.serialize(t,r))}};var AC=e=>new ya(e);var RC=require("stream"),vs=class extends RC.Writable{constructor(t,r){super(r),this.hash=t}_write(t,r,n){try{this.hash.update(st(t))}catch(o){return n(o)}n()}};var kC=(e,t)=>{if(t.readableFlowing!==null)throw new Error("Unable to calculate hash for flowing readable stream");let r=new e,n=new vs(r);return t.pipe(n),new Promise((o,s)=>{t.on("error",i=>{n.end(),s(i)}),n.on("error",s),n.on("finish",()=>{r.digest().then(o).catch(s)})})};var aP="AWS_S3_USE_ARN_REGION",cP="s3_use_arn_region",TC={environmentVariableSelector:e=>jt(e,aP,Ct.ENV),configFileSelector:e=>jt(e,cP,Ct.CONFIG),default:!1};var NC=require("stream"),vC=(e,t)=>{let{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:o,checksumLocationName:s,streamHasher:i}=t,a=r!==void 0&&o!==void 0&&s!==void 0&&i!==void 0,c=a?i(o,e):void 0,d=new NC.Readable({read:()=>{}});return e.on("data",l=>{d.push(`${(n(l)||0).toString(16)}\r
${l.toString()}\r
`)}),e.on("end",async()=>{if(d.push(`0\r
`),a){let l=r(await c);d.push(`${s}:${l}\r
`),d.push(`\r
`)}d.push(null)}),d};var ga=require("stream"),OC=require("util"),PC="The stream has already been transformed.",IC=e=>{var n,o;if(!(e instanceof ga.Readable)){let s=((o=(n=e==null?void 0:e.__proto__)==null?void 0:n.constructor)==null?void 0:o.name)||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${s}`)}let t=!1,r=async()=>{if(t)throw new Error(PC);return t=!0,await Yt(e)};return Object.assign(e,{transformToByteArray:r,transformToString:async s=>{let i=await r();return s===void 0||Buffer.isEncoding(s)?lr(i.buffer,i.byteOffset,i.byteLength).toString(s):new OC.TextDecoder(s).decode(i)},transformToWebStream:()=>{if(t)throw new Error(PC);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof ga.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please make sure you are using Node.js >= 17.0.0, or polyfill is available.");return t=!0,ga.Readable.toWeb(e)}})};var xa=class{constructor(t){this.sigv4Signer=new bn(t),this.signerOptions=t}async sign(t,r={}){if(r.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().sign(t,r)}return this.sigv4Signer.sign(t,r)}async presign(t,r={}){if(r.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().presign(t,r)}return this.sigv4Signer.presign(t,r)}getSigv4aSigner(){if(!this.sigv4aSigner){let t;try{if(t=typeof require=="function"&&require("@aws-sdk/signature-v4-crt").CrtSignerV4,typeof t!="function")throw new Error}catch(r){throw r.message=`${r.message}
Please check if you have installed "@aws-sdk/signature-v4-crt" package explicitly. 
For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`,r}this.sigv4aSigner=new t({...this.signerOptions,signingAlgorithm:1})}return this.sigv4aSigner}};var bl="required",u="type",x="rules",y="conditions",h="fn",p="argv",w="ref",Le="assign",P="url",O="properties",q="authSchemes",j="disableDoubleEncoding",H="signingName",G="signingRegion",I="headers";var C="tree",ut="isSet",Ps="substring",UE="hardwareType",zE="regionPrefix",DC="abbaSuffix",wl="outpostId",Ms="aws.partition",M="stringEquals",On="isValidHostLabel",ke="not",D="error",qE="parseURL",_l="s3-outposts",S="endpoint",N="booleanEquals",jE="aws.parseArn",V="s3",BC="aws.isVirtualHostableS3Bucket",_e="getAttr",$="name",rl="Host override cannot be combined with Dualstack, FIPS, or S3 Accelerate",HE="https://{Bucket}.s3.{partitionResult#dnsSuffix}",GE="bucketArn",KE="arnType",_a="",Al="s3-object-lambda",VE="accesspoint",Rl="accessPointName",MC="{url#scheme}://{accessPointName}-{bucketArn#accountId}.{url#authority}{url#path}",FC="mrapPartition",LC="outpostType",$C="arnPrefix",In="{url#scheme}://{url#authority}{url#path}",WE="https://s3.{partitionResult#dnsSuffix}",nl={[bl]:!1,[u]:"String"},Os={[bl]:!0,default:!1,[u]:"Boolean"},Ca={[bl]:!1,[u]:"Boolean"},YE={[h]:ut,[p]:[{[w]:"Bucket"}]},er={[w]:"Bucket"},UC={[w]:UE},zC={[y]:[{[h]:ke,[p]:[{[h]:ut,[p]:[{[w]:"Endpoint"}]}]}],[D]:"Expected a endpoint to be specified but no endpoint was found",[u]:D},W={[h]:ke,[p]:[{[h]:ut,[p]:[{[w]:"Endpoint"}]}]},re={[h]:ut,[p]:[{[w]:"Endpoint"}]},he={[h]:qE,[p]:[{[w]:"Endpoint"}],[Le]:"url"},Ea={[q]:[{[j]:!0,[$]:"sigv4",[H]:_l,[G]:"{Region}"}]},Ie={},qC={[w]:"ForcePathStyle"},jC={[y]:[{[h]:"uriEncode",[p]:[er],[Le]:"uri_encoded_bucket"}],[u]:C,[x]:[{[y]:[{[h]:N,[p]:[{[w]:"UseDualStack"},!0]},re],[D]:"Cannot set dual-stack in combination with a custom endpoint.",[u]:D},{[u]:C,[x]:[{[y]:[{[h]:Ms,[p]:[{[w]:"Region"}],[Le]:"partitionResult"}],[u]:C,[x]:[{[u]:C,[x]:[{[y]:[{[h]:N,[p]:[{[w]:"Accelerate"},!1]}],[u]:C,[x]:[{[u]:C,[x]:[{[y]:[{[h]:N,[p]:[{[w]:"UseDualStack"},!0]},W,{[h]:N,[p]:[{[w]:"UseFIPS"},!0]},{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}],[S]:{[P]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[O]:{[q]:[{[j]:!0,[$]:"sigv4",[H]:V,[G]:"us-east-1"}]},[I]:{}},[u]:S},{[y]:[{[h]:N,[p]:[{[w]:"UseDualStack"},!0]},W,{[h]:N,[p]:[{[w]:"UseFIPS"},!0]},{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}],[S]:{[P]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[O]:{[q]:[{[j]:!0,[$]:"sigv4",[H]:V,[G]:"us-east-1"}]},[I]:{}},[u]:S},{[y]:[{[h]:N,[p]:[{[w]:"UseDualStack"},!0]},W,{[h]:N,[p]:[{[w]:"UseFIPS"},!0]},{[h]:ke,[p]:[{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}]},{[h]:N,[p]:[{[w]:"UseGlobalEndpoint"},!0]}],[u]:C,[x]:[{[S]:{[P]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[O]:{[q]:[{[j]:!0,[$]:"sigv4",[H]:V,[G]:"{Region}"}]},[I]:{}},[u]:S}]},{[y]:[{[h]:N,[p]:[{[w]:"UseDualStack"},!0]},W,{[h]:N,[p]:[{[w]:"UseFIPS"},!0]},{[h]:ke,[p]:[{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}]},{[h]:N,[p]:[{[w]:"UseGlobalEndpoint"},!1]}],[S]:{[P]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[O]:{[q]:[{[j]:!0,[$]:"sigv4",[H]:V,[G]:"{Region}"}]},[I]:{}},[u]:S},{[y]:[{[h]:N,[p]:[{[w]:"UseDualStack"},!1]},re,he,{[h]:N,[p]:[{[w]:"UseFIPS"},!0]},{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}],[S]:{[P]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[O]:{[q]:[{[j]:!0,[$]:"sigv4",[H]:V,[G]:"us-east-1"}]},[I]:{}},[u]:S},{[y]:[{[h]:N,[p]:[{[w]:"UseDualStack"},!1]},re,he,{[h]:N,[p]:[{[w]:"UseFIPS"},!0]},{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}],[S]:{[P]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[O]:{[q]:[{[j]:!0,[$]:"sigv4",[H]:V,[G]:"us-east-1"}]},[I]:{}},[u]:S},{[y]:[{[h]:N,[p]:[{[w]:"UseDualStack"},!1]},re,he,{[h]:N,[p]:[{[w]:"UseFIPS"},!0]},{[h]:ke,[p]:[{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}]},{[h]:N,[p]:[{[w]:"UseGlobalEndpoint"},!0]}],[u]:C,[x]:[{[S]:{[P]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[O]:{[q]:[{[j]:!0,[$]:"sigv4",[H]:V,[G]:"{Region}"}]},[I]:{}},[u]:S}]},{[y]:[{[h]:N,[p]:[{[w]:"UseDualStack"},!1]},re,he,{[h]:N,[p]:[{[w]:"UseFIPS"},!0]},{[h]:ke,[p]:[{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}]},{[h]:N,[p]:[{[w]:"UseGlobalEndpoint"},!1]}],[S]:{[P]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[O]:{[q]:[{[j]:!0,[$]:"sigv4",[H]:V,[G]:"{Region}"}]},[I]:{}},[u]:S},{[y]:[{[h]:N,[p]:[{[w]:"UseDualStack"},!1]},W,{[h]:N,[p]:[{[w]:"UseFIPS"},!0]},{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}],[S]:{[P]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[O]:{[q]:[{[j]:!0,[$]:"sigv4",[H]:V,[G]:"us-east-1"}]},[I]:{}},[u]:S},{[y]:[{[h]:N,[p]:[{[w]:"UseDualStack"},!1]},W,{[h]:N,[p]:[{[w]:"UseFIPS"},!0]},{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}],[S]:{[P]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[O]:{[q]:[{[j]:!0,[$]:"sigv4",[H]:V,[G]:"us-east-1"}]},[I]:{}},[u]:S},{[y]:[{[h]:N,[p]:[{[w]:"UseDualStack"},!1]},W,{[h]:N,[p]:[{[w]:"UseFIPS"},!0]},{[h]:ke,[p]:[{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}]},{[h]:N,[p]:[{[w]:"UseGlobalEndpoint"},!0]}],[u]:C,[x]:[{[S]:{[P]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[O]:{[q]:[{[j]:!0,[$]:"sigv4",[H]:V,[G]:"{Region}"}]},[I]:{}},[u]:S}]},{[y]:[{[h]:N,[p]:[{[w]:"UseDualStack"},!1]},W,{[h]:N,[p]:[{[w]:"UseFIPS"},!0]},{[h]:ke,[p]:[{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}]},{[h]:N,[p]:[{[w]:"UseGlobalEndpoint"},!1]}],[S]:{[P]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[O]:{[q]:[{[j]:!0,[$]:"sigv4",[H]:V,[G]:"{Region}"}]},[I]:{}},[u]:S},{[y]:[{[h]:N,[p]:[{[w]:"UseDualStack"},!0]},W,{[h]:N,[p]:[{[w]:"UseFIPS"},!1]},{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}],[S]:{[P]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[O]:{[q]:[{[j]:!0,[$]:"sigv4",[H]:V,[G]:"us-east-1"}]},[I]:{}},[u]:S},{[y]:[{[h]:N,[p]:[{[w]:"UseDualStack"},!0]},W,{[h]:N,[p]:[{[w]:"UseFIPS"},!1]},{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}],[S]:{[P]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[O]:{[q]:[{[j]:!0,[$]:"sigv4",[H]:V,[G]:"us-east-1"}]},[I]:{}},[u]:S},{[y]:[{[h]:N,[p]:[{[w]:"UseDualStack"},!0]},W,{[h]:N,[p]:[{[w]:"UseFIPS"},!1]},{[h]:ke,[p]:[{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}]},{[h]:N,[p]:[{[w]:"UseGlobalEndpoint"},!0]}],[u]:C,[x]:[{[S]:{[P]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[O]:{[q]:[{[j]:!0,[$]:"sigv4",[H]:V,[G]:"{Region}"}]},[I]:{}},[u]:S}]},{[y]:[{[h]:N,[p]:[{[w]:"UseDualStack"},!0]},W,{[h]:N,[p]:[{[w]:"UseFIPS"},!1]},{[h]:ke,[p]:[{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}]},{[h]:N,[p]:[{[w]:"UseGlobalEndpoint"},!1]}],[S]:{[P]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[O]:{[q]:[{[j]:!0,[$]:"sigv4",[H]:V,[G]:"{Region}"}]},[I]:{}},[u]:S},{[y]:[{[h]:N,[p]:[{[w]:"UseDualStack"},!1]},re,he,{[h]:N,[p]:[{[w]:"UseFIPS"},!1]},{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}],[S]:{[P]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[O]:{[q]:[{[j]:!0,[$]:"sigv4",[H]:V,[G]:"us-east-1"}]},[I]:{}},[u]:S},{[y]:[{[h]:N,[p]:[{[w]:"UseDualStack"},!1]},re,he,{[h]:N,[p]:[{[w]:"UseFIPS"},!1]},{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}],[S]:{[P]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[O]:{[q]:[{[j]:!0,[$]:"sigv4",[H]:V,[G]:"us-east-1"}]},[I]:{}},[u]:S},{[y]:[{[h]:N,[p]:[{[w]:"UseDualStack"},!1]},re,he,{[h]:N,[p]:[{[w]:"UseFIPS"},!1]},{[h]:ke,[p]:[{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}]},{[h]:N,[p]:[{[w]:"UseGlobalEndpoint"},!0]}],[u]:C,[x]:[{[y]:[{[h]:M,[p]:[{[w]:"Region"},"us-east-1"]}],[S]:{[P]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[O]:{[q]:[{[j]:!0,[$]:"sigv4",[H]:V,[G]:"{Region}"}]},[I]:{}},[u]:S},{[S]:{[P]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[O]:{[q]:[{[j]:!0,[$]:"sigv4",[H]:V,[G]:"{Region}"}]},[I]:{}},[u]:S}]},{[y]:[{[h]:N,[p]:[{[w]:"UseDualStack"},!1]},re,he,{[h]:N,[p]:[{[w]:"UseFIPS"},!1]},{[h]:ke,[p]:[{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}]},{[h]:N,[p]:[{[w]:"UseGlobalEndpoint"},!1]}],[S]:{[P]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[O]:{[q]:[{[j]:!0,[$]:"sigv4",[H]:V,[G]:"{Region}"}]},[I]:{}},[u]:S},{[y]:[{[h]:N,[p]:[{[w]:"UseDualStack"},!1]},W,{[h]:N,[p]:[{[w]:"UseFIPS"},!1]},{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}],[S]:{[P]:"https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[O]:{[q]:[{[j]:!0,[$]:"sigv4",[H]:V,[G]:"us-east-1"}]},[I]:{}},[u]:S},{[y]:[{[h]:N,[p]:[{[w]:"UseDualStack"},!1]},W,{[h]:N,[p]:[{[w]:"UseFIPS"},!1]},{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}],[S]:{[P]:"https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[O]:{[q]:[{[j]:!0,[$]:"sigv4",[H]:V,[G]:"us-east-1"}]},[I]:{}},[u]:S},{[y]:[{[h]:N,[p]:[{[w]:"UseDualStack"},!1]},W,{[h]:N,[p]:[{[w]:"UseFIPS"},!1]},{[h]:ke,[p]:[{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}]},{[h]:N,[p]:[{[w]:"UseGlobalEndpoint"},!0]}],[u]:C,[x]:[{[y]:[{[h]:M,[p]:[{[w]:"Region"},"us-east-1"]}],[S]:{[P]:"https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[O]:{[q]:[{[j]:!0,[$]:"sigv4",[H]:V,[G]:"{Region}"}]},[I]:{}},[u]:S},{[S]:{[P]:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[O]:{[q]:[{[j]:!0,[$]:"sigv4",[H]:V,[G]:"{Region}"}]},[I]:{}},[u]:S}]},{[y]:[{[h]:N,[p]:[{[w]:"UseDualStack"},!1]},W,{[h]:N,[p]:[{[w]:"UseFIPS"},!1]},{[h]:ke,[p]:[{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}]},{[h]:N,[p]:[{[w]:"UseGlobalEndpoint"},!1]}],[S]:{[P]:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[O]:{[q]:[{[j]:!0,[$]:"sigv4",[H]:V,[G]:"{Region}"}]},[I]:{}},[u]:S}]}]},{[D]:"Path-style addressing cannot be used with S3 Accelerate",[u]:D}]}]},{[D]:"A valid partition could not be determined",[u]:D}]}]},ye={[h]:N,[p]:[{[w]:"UseDualStack"},!0]},Me={[h]:N,[p]:[{[w]:"Accelerate"},!1]},we={[h]:N,[p]:[{[w]:"UseFIPS"},!0]},ce={[h]:ke,[p]:[{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}]},Ke={[h]:N,[p]:[{[w]:"UseGlobalEndpoint"},!0]},We={[q]:[{[j]:!0,[$]:"sigv4",[H]:V,[G]:"{Region}"}]},Ve={[h]:N,[p]:[{[w]:"UseGlobalEndpoint"},!1]},ue={[h]:N,[p]:[{[w]:"UseDualStack"},!1]},oe={[h]:N,[p]:[{[w]:"UseFIPS"},!1]},vn={[D]:"A valid partition could not be determined",[u]:D},ol={[y]:[we,{[h]:M,[p]:[{[h]:_e,[p]:[{[w]:"partitionResult"},$]},"aws-cn"]}],[D]:"Partition does not support FIPS",[u]:D},xP={[h]:M,[p]:[{[h]:_e,[p]:[{[w]:"partitionResult"},$]},"aws-cn"]},Ot={[h]:N,[p]:[{[w]:"Accelerate"},!0]},HC={[y]:[ye,we,Me,W,{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}],[S]:{[P]:"https://{Bucket}.s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[O]:{[q]:[{[j]:!0,[$]:"sigv4",[H]:V,[G]:"us-east-1"}]},[I]:{}},[u]:S},GC={[P]:"https://{Bucket}.s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[O]:We,[I]:{}},KC={[y]:[ue,we,Me,W,{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}],[S]:{[P]:"https://{Bucket}.s3-fips.us-east-1.{partitionResult#dnsSuffix}",[O]:{[q]:[{[j]:!0,[$]:"sigv4",[H]:V,[G]:"us-east-1"}]},[I]:{}},[u]:S},VC={[P]:"https://{Bucket}.s3-fips.{Region}.{partitionResult#dnsSuffix}",[O]:We,[I]:{}},WC={[y]:[ye,oe,Ot,W,{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}],[S]:{[P]:"https://{Bucket}.s3-accelerate.dualstack.us-east-1.{partitionResult#dnsSuffix}",[O]:{[q]:[{[j]:!0,[$]:"sigv4",[H]:V,[G]:"us-east-1"}]},[I]:{}},[u]:S},YC={[P]:"https://{Bucket}.s3-accelerate.dualstack.{partitionResult#dnsSuffix}",[O]:We,[I]:{}},QC={[y]:[ye,oe,Me,W,{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}],[S]:{[P]:"https://{Bucket}.s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[O]:{[q]:[{[j]:!0,[$]:"sigv4",[H]:V,[G]:"us-east-1"}]},[I]:{}},[u]:S},XC={[P]:"https://{Bucket}.s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[O]:We,[I]:{}},JC={[y]:[ue,oe,Me,re,he,{[h]:N,[p]:[{[h]:_e,[p]:[{[w]:"url"},"isIp"]},!0]},{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}],[S]:{[P]:"{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",[O]:{[q]:[{[j]:!0,[$]:"sigv4",[H]:V,[G]:"us-east-1"}]},[I]:{}},[u]:S},ZC={[h]:N,[p]:[{[h]:_e,[p]:[{[w]:"url"},"isIp"]},!0]},kl={[w]:"url"},eE={[y]:[ue,oe,Me,re,he,{[h]:N,[p]:[{[h]:_e,[p]:[kl,"isIp"]},!1]},{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}],[S]:{[P]:"{url#scheme}://{Bucket}.{url#authority}{url#path}",[O]:{[q]:[{[j]:!0,[$]:"sigv4",[H]:V,[G]:"us-east-1"}]},[I]:{}},[u]:S},tE={[h]:N,[p]:[{[h]:_e,[p]:[kl,"isIp"]},!1]},sl={[P]:"{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",[O]:We,[I]:{}},Sl={[P]:"{url#scheme}://{Bucket}.{url#authority}{url#path}",[O]:We,[I]:{}},rE={[S]:Sl,[u]:S},nE={[y]:[ue,oe,Ot,W,{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}],[S]:{[P]:"https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",[O]:{[q]:[{[j]:!0,[$]:"sigv4",[H]:V,[G]:"us-east-1"}]},[I]:{}},[u]:S},il={[P]:"https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",[O]:We,[I]:{}},oE={[y]:[ue,oe,Me,W,{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}],[S]:{[P]:HE,[O]:{[q]:[{[j]:!0,[$]:"sigv4",[H]:V,[G]:"us-east-1"}]},[I]:{}},[u]:S},sE={[P]:"https://{Bucket}.s3.{Region}.{partitionResult#dnsSuffix}",[O]:We,[I]:{}},wa={[D]:"Invalid region: region was not a valid DNS name.",[u]:D},ct={[w]:GE},QE={[w]:KE},al={[h]:_e,[p]:[ct,"service"]},Tl={[w]:Rl},iE={[y]:[ye],[D]:"S3 Object Lambda does not support Dual-stack",[u]:D},aE={[y]:[Ot],[D]:"S3 Object Lambda does not support S3 Accelerate",[u]:D},cE={[y]:[{[h]:ut,[p]:[{[w]:"DisableAccessPoints"}]},{[h]:N,[p]:[{[w]:"DisableAccessPoints"},!0]}],[D]:"Access points are not supported for this operation",[u]:D},cl={[y]:[{[h]:ut,[p]:[{[w]:"UseArnRegion"}]},{[h]:N,[p]:[{[w]:"UseArnRegion"},!1]},{[h]:ke,[p]:[{[h]:M,[p]:[{[h]:_e,[p]:[ct,"region"]},"{Region}"]}]}],[D]:"Invalid configuration: region from ARN `{bucketArn#region}` does not match client region `{Region}` and UseArnRegion is `false`",[u]:D},Nl={[h]:_e,[p]:[{[w]:"bucketPartition"},$]},XE={[h]:_e,[p]:[ct,"accountId"]},dE={[y]:[we,{[h]:M,[p]:[Nl,"aws-cn"]}],[D]:"Partition does not support FIPS",[u]:D},dl={[q]:[{[j]:!0,[$]:"sigv4",[H]:Al,[G]:"{bucketArn#region}"}]},lE={[D]:"Invalid ARN: The access point name may only contain a-z, A-Z, 0-9 and `-`. Found: `{accessPointName}`",[u]:D},ll={[D]:"Invalid ARN: The account id may only contain a-z, A-Z, 0-9 and `-`. Found: `{bucketArn#accountId}`",[u]:D},ul={[D]:"Invalid region in ARN: `{bucketArn#region}` (invalid DNS name)",[u]:D},fl={[D]:"Client was configured for partition `{partitionResult#name}` but ARN (`{Bucket}`) has `{bucketPartition#name}`",[u]:D},uE={[D]:"Could not load partition for ARN region `{bucketArn#region}`",[u]:D},fE={[D]:"Invalid ARN: The ARN may only contain a single resource component after `accesspoint`.",[u]:D},mE={[D]:"Invalid ARN: bucket ARN is missing a region",[u]:D},hE={[D]:"Invalid ARN: Expected a resource of the format `accesspoint:<accesspoint name>` but no name was provided",[u]:D},Is={[q]:[{[j]:!0,[$]:"sigv4",[H]:V,[G]:"{bucketArn#region}"}]},pE={[q]:[{[j]:!0,[$]:"sigv4",[H]:_l,[G]:"{bucketArn#region}"}]},yE={[w]:"UseObjectLambdaEndpoint"},ml={[q]:[{[j]:!0,[$]:"sigv4",[H]:Al,[G]:"{Region}"}]},gE={[y]:[we,ye,re,he,{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}],[S]:{[P]:In,[O]:{[q]:[{[j]:!0,[$]:"sigv4",[H]:V,[G]:"us-east-1"}]},[I]:{}},[u]:S},JE={[S]:{[P]:In,[O]:We,[I]:{}},[u]:S},Ds={[P]:In,[O]:We,[I]:{}},xE={[y]:[we,ye,W,{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}],[S]:{[P]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[O]:{[q]:[{[j]:!0,[$]:"sigv4",[H]:V,[G]:"us-east-1"}]},[I]:{}},[u]:S},CE={[P]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[O]:We,[I]:{}},EE={[y]:[we,ue,re,he,{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}],[S]:{[P]:In,[O]:{[q]:[{[j]:!0,[$]:"sigv4",[H]:V,[G]:"us-east-1"}]},[I]:{}},[u]:S},wE={[y]:[we,ue,W,{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}],[S]:{[P]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}",[O]:{[q]:[{[j]:!0,[$]:"sigv4",[H]:V,[G]:"us-east-1"}]},[I]:{}},[u]:S},SE={[P]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}",[O]:We,[I]:{}},bE={[y]:[oe,ye,re,he,{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}],[S]:{[P]:In,[O]:{[q]:[{[j]:!0,[$]:"sigv4",[H]:V,[G]:"us-east-1"}]},[I]:{}},[u]:S},_E={[y]:[oe,ye,W,{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}],[S]:{[P]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[O]:{[q]:[{[j]:!0,[$]:"sigv4",[H]:V,[G]:"us-east-1"}]},[I]:{}},[u]:S},AE={[P]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[O]:We,[I]:{}},RE={[y]:[oe,ue,re,he,{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}],[S]:{[P]:In,[O]:{[q]:[{[j]:!0,[$]:"sigv4",[H]:V,[G]:"us-east-1"}]},[I]:{}},[u]:S},kE={[y]:[oe,ue,W,{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}],[S]:{[P]:WE,[O]:{[q]:[{[j]:!0,[$]:"sigv4",[H]:V,[G]:"us-east-1"}]},[I]:{}},[u]:S},TE={[P]:"https://s3.{Region}.{partitionResult#dnsSuffix}",[O]:We,[I]:{}},ba=[{[w]:"Region"}],CP=[er],NE=[{[h]:On,[p]:[{[w]:wl},!1]}],vE=[{[h]:M,[p]:[{[w]:zE},"beta"]}],EP=[{[w]:"Endpoint"}],Bs=[re,he],PE=[YE],OE=[{[h]:jE,[p]:[er]}],wP=[ye,re],Pn=[{[h]:Ms,[p]:ba,[Le]:"partitionResult"}],$o=[{[h]:M,[p]:[{[w]:"Region"},"us-east-1"]}],IE=[{[h]:On,[p]:[{[w]:"Region"},!1]}],hl=[{[h]:M,[p]:[QE,VE]}],DE=[{[h]:_e,[p]:[ct,"resourceId[1]"],[Le]:Rl},{[h]:ke,[p]:[{[h]:M,[p]:[Tl,_a]}]}],SP=[ct,"resourceId[1]"],BE=[ye],pl=[Ot],yl=[{[h]:ke,[p]:[{[h]:M,[p]:[{[h]:_e,[p]:[ct,"region"]},_a]}]}],ME=[{[h]:ke,[p]:[{[h]:ut,[p]:[{[h]:_e,[p]:[ct,"resourceId[2]"]}]}]}],bP=[ct,"resourceId[2]"],gl=[{[h]:Ms,[p]:[{[h]:_e,[p]:[ct,"region"]}],[Le]:"bucketPartition"}],FE=[{[h]:M,[p]:[Nl,{[h]:_e,[p]:[{[w]:"partitionResult"},$]}]}],xl=[{[h]:On,[p]:[{[h]:_e,[p]:[ct,"region"]},!0]}],Cl=[{[h]:On,[p]:[XE,!1]}],LE=[{[h]:On,[p]:[Tl,!1]}],Sa=[we],$E=[{[h]:On,[p]:[{[w]:"Region"},!0]}],El=[JE],_P={version:"1.0",parameters:{Bucket:nl,Region:nl,UseFIPS:Os,UseDualStack:Os,Endpoint:nl,ForcePathStyle:Ca,Accelerate:Os,UseGlobalEndpoint:Os,UseObjectLambdaEndpoint:Ca,DisableAccessPoints:Ca,DisableMultiRegionAccessPoints:Os,UseArnRegion:Ca},[x]:[{[u]:C,[x]:[{[y]:[{[h]:ut,[p]:ba}],[u]:C,[x]:[{[u]:C,[x]:[{[y]:[YE,{[h]:Ps,[p]:[er,49,50,!0],[Le]:UE},{[h]:Ps,[p]:[er,8,12,!0],[Le]:zE},{[h]:Ps,[p]:[er,0,7,!0],[Le]:DC},{[h]:Ps,[p]:[er,32,49,!0],[Le]:wl},{[h]:Ms,[p]:ba,[Le]:"regionPartition"},{[h]:M,[p]:[{[w]:DC},"--op-s3"]}],[u]:C,[x]:[{[y]:NE,[u]:C,[x]:[{[u]:C,[x]:[{[y]:[{[h]:M,[p]:[UC,"e"]}],[u]:C,[x]:[{[y]:vE,[u]:C,[x]:[zC,{[y]:Bs,endpoint:{[P]:"https://{Bucket}.ec2.{url#authority}",[O]:Ea,[I]:Ie},[u]:S}]},{endpoint:{[P]:"https://{Bucket}.ec2.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[O]:Ea,[I]:Ie},[u]:S}]},{[y]:[{[h]:M,[p]:[UC,"o"]}],[u]:C,[x]:[{[y]:vE,[u]:C,[x]:[zC,{[y]:Bs,endpoint:{[P]:"https://{Bucket}.op-{outpostId}.{url#authority}",[O]:Ea,[I]:Ie},[u]:S}]},{endpoint:{[P]:"https://{Bucket}.op-{outpostId}.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[O]:Ea,[I]:Ie},[u]:S}]},{error:'Unrecognized hardware type: "Expected hardware type o or e but got {hardwareType}"',[u]:D}]}]},{error:"Invalid ARN: The outpost Id must only contain a-z, A-Z, 0-9 and `-`.",[u]:D}]},{[y]:PE,[u]:C,[x]:[{[y]:[re,{[h]:ke,[p]:[{[h]:ut,[p]:[{[h]:qE,[p]:EP}]}]}],error:"Custom endpoint `{Endpoint}` was not a valid URI",[u]:D},{[u]:C,[x]:[{[y]:[{[h]:ut,[p]:[qC]},{[h]:N,[p]:[qC,!0]}],[u]:C,[x]:[{[u]:C,[x]:[{[y]:OE,error:"Path-style addressing cannot be used with ARN buckets",[u]:D},jC]}]},{[y]:[{[h]:BC,[p]:[er,!1]}],[u]:C,[x]:[{[y]:Pn,[u]:C,[x]:[{[u]:C,[x]:[{[y]:IE,[u]:C,[x]:[{[u]:C,[x]:[ol,{[u]:C,[x]:[{[y]:[Ot,we],error:"Accelerate cannot be used with FIPS",[u]:D},{[u]:C,[x]:[{[y]:[Ot,xP],error:"S3 Accelerate cannot be used in this region",[u]:D},{[u]:C,[x]:[{[y]:[re,ye],error:rl,[u]:D},{[u]:C,[x]:[{[y]:[re,we],error:rl,[u]:D},{[u]:C,[x]:[{[y]:[re,Ot],error:rl,[u]:D},{[u]:C,[x]:[HC,HC,{[y]:[ye,we,Me,W,ce,Ke],[u]:C,[x]:[{endpoint:GC,[u]:S}]},{[y]:[ye,we,Me,W,ce,Ve],endpoint:GC,[u]:S},KC,KC,{[y]:[ue,we,Me,W,ce,Ke],[u]:C,[x]:[{endpoint:VC,[u]:S}]},{[y]:[ue,we,Me,W,ce,Ve],endpoint:VC,[u]:S},WC,WC,{[y]:[ye,oe,Ot,W,ce,Ke],[u]:C,[x]:[{endpoint:YC,[u]:S}]},{[y]:[ye,oe,Ot,W,ce,Ve],endpoint:YC,[u]:S},QC,QC,{[y]:[ye,oe,Me,W,ce,Ke],[u]:C,[x]:[{endpoint:XC,[u]:S}]},{[y]:[ye,oe,Me,W,ce,Ve],endpoint:XC,[u]:S},JC,eE,JC,eE,{[y]:[ue,oe,Me,re,he,ZC,ce,Ke],[u]:C,[x]:[{[y]:$o,endpoint:sl,[u]:S},{endpoint:sl,[u]:S}]},{[y]:[ue,oe,Me,re,he,tE,ce,Ke],[u]:C,[x]:[{[y]:$o,endpoint:Sl,[u]:S},rE]},{[y]:[ue,oe,Me,re,he,ZC,ce,Ve],endpoint:sl,[u]:S},{[y]:[ue,oe,Me,re,he,tE,ce,Ve],endpoint:Sl,[u]:S},nE,nE,{[y]:[ue,oe,Ot,W,ce,Ke],[u]:C,[x]:[{[y]:$o,endpoint:il,[u]:S},{endpoint:il,[u]:S}]},{[y]:[ue,oe,Ot,W,ce,Ve],endpoint:il,[u]:S},oE,oE,{[y]:[ue,oe,Me,W,ce,Ke],[u]:C,[x]:[{[y]:$o,endpoint:{[P]:HE,[O]:We,[I]:Ie},[u]:S},{endpoint:sE,[u]:S}]},{[y]:[ue,oe,Me,W,ce,Ve],endpoint:sE,[u]:S}]}]}]}]}]}]}]}]},wa]}]},vn]},{[y]:[re,he,{[h]:M,[p]:[{[h]:_e,[p]:[kl,"scheme"]},"http"]},{[h]:BC,[p]:[er,!0]},oe,ue,Me],[u]:C,[x]:[{[y]:Pn,[u]:C,[x]:[{[u]:C,[x]:[{[y]:IE,[u]:C,[x]:[rE]},wa]}]},vn]},{[y]:[{[h]:jE,[p]:CP,[Le]:GE}],[u]:C,[x]:[{[y]:[{[h]:_e,[p]:[ct,"resourceId[0]"],[Le]:KE},{[h]:ke,[p]:[{[h]:M,[p]:[QE,_a]}]}],[u]:C,[x]:[{[u]:C,[x]:[{[y]:[{[h]:M,[p]:[al,Al]}],[u]:C,[x]:[{[y]:hl,[u]:C,[x]:[{[u]:C,[x]:[{[y]:DE,[u]:C,[x]:[{[u]:C,[x]:[iE,{[u]:C,[x]:[aE,{[u]:C,[x]:[{[y]:yl,[u]:C,[x]:[{[u]:C,[x]:[cE,{[u]:C,[x]:[{[y]:ME,[u]:C,[x]:[{[u]:C,[x]:[cl,{[u]:C,[x]:[{[y]:gl,[u]:C,[x]:[{[u]:C,[x]:[{[y]:Pn,[u]:C,[x]:[{[u]:C,[x]:[{[y]:FE,[u]:C,[x]:[{[u]:C,[x]:[{[y]:xl,[u]:C,[x]:[{[u]:C,[x]:[{[y]:[{[h]:M,[p]:[XE,_a]}],error:"Invalid ARN: Missing account id",[u]:D},{[u]:C,[x]:[{[y]:Cl,[u]:C,[x]:[{[u]:C,[x]:[{[y]:LE,[u]:C,[x]:[{[u]:C,[x]:[dE,{[u]:C,[x]:[{[y]:Bs,endpoint:{[P]:MC,[O]:dl,[I]:Ie},[u]:S},{[y]:Sa,endpoint:{[P]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[O]:dl,[I]:Ie},[u]:S},{endpoint:{[P]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda.{bucketArn#region}.{bucketPartition#dnsSuffix}",[O]:dl,[I]:Ie},[u]:S}]}]}]},lE]}]},ll]}]}]},ul]}]},fl]}]},vn]}]},uE]}]}]},fE]}]}]},mE]}]}]}]},hE]}]},{error:"Invalid ARN: Object Lambda ARNs only support `accesspoint` arn types, but found: `{arnType}`",[u]:D}]},{[y]:hl,[u]:C,[x]:[{[y]:DE,[u]:C,[x]:[{[u]:C,[x]:[{[y]:yl,[u]:C,[x]:[{[y]:hl,[u]:C,[x]:[{[y]:yl,[u]:C,[x]:[{[u]:C,[x]:[cE,{[u]:C,[x]:[{[y]:ME,[u]:C,[x]:[{[u]:C,[x]:[cl,{[u]:C,[x]:[{[y]:gl,[u]:C,[x]:[{[u]:C,[x]:[{[y]:Pn,[u]:C,[x]:[{[u]:C,[x]:[{[y]:[{[h]:M,[p]:[Nl,"{partitionResult#name}"]}],[u]:C,[x]:[{[u]:C,[x]:[{[y]:xl,[u]:C,[x]:[{[u]:C,[x]:[{[y]:[{[h]:M,[p]:[al,V]}],[u]:C,[x]:[{[u]:C,[x]:[{[y]:Cl,[u]:C,[x]:[{[u]:C,[x]:[{[y]:LE,[u]:C,[x]:[{[u]:C,[x]:[{[y]:pl,error:"Access Points do not support S3 Accelerate",[u]:D},{[u]:C,[x]:[dE,{[u]:C,[x]:[{[y]:wP,error:"DualStack cannot be combined with a Host override (PrivateLink)",[u]:D},{[u]:C,[x]:[{[y]:[we,ye],endpoint:{[P]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[O]:Is,[I]:Ie},[u]:S},{[y]:[we,ue],endpoint:{[P]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[O]:Is,[I]:Ie},[u]:S},{[y]:[oe,ye],endpoint:{[P]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[O]:Is,[I]:Ie},[u]:S},{[y]:[oe,ue,re,he],endpoint:{[P]:MC,[O]:Is,[I]:Ie},[u]:S},{[y]:[oe,ue],endpoint:{[P]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.{bucketArn#region}.{bucketPartition#dnsSuffix}",[O]:Is,[I]:Ie},[u]:S}]}]}]}]}]},lE]}]},ll]}]},{error:"Invalid ARN: The ARN was not for the S3 service, found: {bucketArn#service}",[u]:D}]}]},ul]}]},fl]}]},vn]}]},uE]}]}]},fE]}]}]},mE]}]},{[u]:C,[x]:[{[y]:[{[h]:On,[p]:[Tl,!0]}],[u]:C,[x]:[{[u]:C,[x]:[{[y]:BE,error:"S3 MRAP does not support dual-stack",[u]:D},{[u]:C,[x]:[{[y]:Sa,error:"S3 MRAP does not support FIPS",[u]:D},{[u]:C,[x]:[{[y]:pl,error:"S3 MRAP does not support S3 Accelerate",[u]:D},{[u]:C,[x]:[{[y]:[{[h]:N,[p]:[{[w]:"DisableMultiRegionAccessPoints"},!0]}],error:"Invalid configuration: Multi-Region Access Point ARNs are disabled.",[u]:D},{[u]:C,[x]:[{[y]:[{[h]:Ms,[p]:ba,[Le]:FC}],[u]:C,[x]:[{[u]:C,[x]:[{[y]:[{[h]:M,[p]:[{[h]:_e,[p]:[{[w]:FC},$]},{[h]:_e,[p]:[ct,"partition"]}]}],[u]:C,[x]:[{endpoint:{[P]:"https://{accessPointName}.accesspoint.s3-global.{mrapPartition#dnsSuffix}",[O]:{[q]:[{[j]:!0,name:"sigv4a",[H]:V,signingRegionSet:["*"]}]},[I]:Ie},[u]:S}]},{error:"Client was configured for partition `{mrapPartition#name}` but bucket referred to partition `{bucketArn#partition}`",[u]:D}]}]},{error:"{Region} was not a valid region",[u]:D}]}]}]}]}]}]},{error:"Invalid Access Point Name",[u]:D}]}]}]},hE]},{[y]:[{[h]:M,[p]:[al,_l]}],[u]:C,[x]:[{[y]:BE,error:"S3 Outposts does not support Dual-stack",[u]:D},{[u]:C,[x]:[{[y]:Sa,error:"S3 Outposts does not support FIPS",[u]:D},{[u]:C,[x]:[{[y]:pl,error:"S3 Outposts does not support S3 Accelerate",[u]:D},{[u]:C,[x]:[{[y]:[{[h]:ut,[p]:[{[h]:_e,[p]:[ct,"resourceId[4]"]}]}],error:"Invalid Arn: Outpost Access Point ARN contains sub resources",[u]:D},{[u]:C,[x]:[{[y]:[{[h]:_e,[p]:SP,[Le]:wl}],[u]:C,[x]:[{[u]:C,[x]:[{[y]:NE,[u]:C,[x]:[{[u]:C,[x]:[cl,{[u]:C,[x]:[{[y]:gl,[u]:C,[x]:[{[u]:C,[x]:[{[y]:Pn,[u]:C,[x]:[{[u]:C,[x]:[{[y]:FE,[u]:C,[x]:[{[u]:C,[x]:[{[y]:xl,[u]:C,[x]:[{[u]:C,[x]:[{[y]:Cl,[u]:C,[x]:[{[u]:C,[x]:[{[y]:[{[h]:_e,[p]:bP,[Le]:LC}],[u]:C,[x]:[{[u]:C,[x]:[{[y]:[{[h]:_e,[p]:[ct,"resourceId[3]"],[Le]:Rl}],[u]:C,[x]:[{[u]:C,[x]:[{[y]:[{[h]:M,[p]:[{[w]:LC},VE]}],[u]:C,[x]:[{[u]:C,[x]:[{[y]:Bs,endpoint:{[P]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.{url#authority}",[O]:pE,[I]:Ie},[u]:S},{endpoint:{[P]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.s3-outposts.{bucketArn#region}.{bucketPartition#dnsSuffix}",[O]:pE,[I]:Ie},[u]:S}]}]},{error:"Expected an outpost type `accesspoint`, found {outpostType}",[u]:D}]}]},{error:"Invalid ARN: expected an access point name",[u]:D}]}]},{error:"Invalid ARN: Expected a 4-component resource",[u]:D}]}]},ll]}]},ul]}]},fl]}]},vn]}]},{error:"Could not load partition for ARN region {bucketArn#region}",[u]:D}]}]}]},{error:"Invalid ARN: The outpost Id may only contain a-z, A-Z, 0-9 and `-`. Found: `{outpostId}`",[u]:D}]}]},{error:"Invalid ARN: The Outpost Id was not set",[u]:D}]}]}]}]}]},{error:"Invalid ARN: Unrecognized format: {Bucket} (type: {arnType})",[u]:D}]}]},{error:"Invalid ARN: No ARN type specified",[u]:D}]},{[y]:[{[h]:Ps,[p]:[er,0,4,!1],[Le]:$C},{[h]:M,[p]:[{[w]:$C},"arn:"]},{[h]:ke,[p]:[{[h]:ut,[p]:OE}]}],error:"Invalid ARN: `{Bucket}` was not a valid ARN",[u]:D},jC]}]},{[y]:[{[h]:ut,[p]:[yE]},{[h]:N,[p]:[yE,!0]}],[u]:C,[x]:[{[y]:Pn,[u]:C,[x]:[{[u]:C,[x]:[{[y]:$E,[u]:C,[x]:[{[u]:C,[x]:[iE,{[u]:C,[x]:[aE,{[u]:C,[x]:[ol,{[u]:C,[x]:[{[y]:Bs,endpoint:{[P]:In,[O]:ml,[I]:Ie},[u]:S},{[y]:Sa,endpoint:{[P]:"https://s3-object-lambda-fips.{Region}.{partitionResult#dnsSuffix}",[O]:ml,[I]:Ie},[u]:S},{endpoint:{[P]:"https://s3-object-lambda.{Region}.{partitionResult#dnsSuffix}",[O]:ml,[I]:Ie},[u]:S}]}]}]}]}]},wa]}]},vn]},{[y]:[{[h]:ke,[p]:PE}],[u]:C,[x]:[{[y]:Pn,[u]:C,[x]:[{[u]:C,[x]:[{[y]:$E,[u]:C,[x]:[{[u]:C,[x]:[ol,{[u]:C,[x]:[gE,gE,{[y]:[we,ye,re,he,ce,Ke],[u]:C,[x]:El},{[y]:[we,ye,re,he,ce,Ve],endpoint:Ds,[u]:S},xE,xE,{[y]:[we,ye,W,ce,Ke],[u]:C,[x]:[{endpoint:CE,[u]:S}]},{[y]:[we,ye,W,ce,Ve],endpoint:CE,[u]:S},EE,EE,{[y]:[we,ue,re,he,ce,Ke],[u]:C,[x]:El},{[y]:[we,ue,re,he,ce,Ve],endpoint:Ds,[u]:S},wE,wE,{[y]:[we,ue,W,ce,Ke],[u]:C,[x]:[{endpoint:SE,[u]:S}]},{[y]:[we,ue,W,ce,Ve],endpoint:SE,[u]:S},bE,bE,{[y]:[oe,ye,re,he,ce,Ke],[u]:C,[x]:El},{[y]:[oe,ye,re,he,ce,Ve],endpoint:Ds,[u]:S},_E,_E,{[y]:[oe,ye,W,ce,Ke],[u]:C,[x]:[{endpoint:AE,[u]:S}]},{[y]:[oe,ye,W,ce,Ve],endpoint:AE,[u]:S},RE,RE,{[y]:[oe,ue,re,he,ce,Ke],[u]:C,[x]:[{[y]:$o,endpoint:Ds,[u]:S},JE]},{[y]:[oe,ue,re,he,ce,Ve],endpoint:Ds,[u]:S},kE,kE,{[y]:[oe,ue,W,ce,Ke],[u]:C,[x]:[{[y]:$o,endpoint:{[P]:WE,[O]:We,[I]:Ie},[u]:S},{endpoint:TE,[u]:S}]},{[y]:[oe,ue,W,ce,Ve],endpoint:TE,[u]:S}]}]}]},wa]}]},vn]}]}]},{error:"A region must be set when sending requests to S3.",[u]:D}]}]},ZE=_P;var ew=(e,t={})=>Jr(ZE,{endpointParams:e,logger:t.logger});var tw=e=>({apiVersion:"2006-03-01",base64Decoder:(e==null?void 0:e.base64Decoder)??on,base64Encoder:(e==null?void 0:e.base64Encoder)??sn,disableHostPrefix:(e==null?void 0:e.disableHostPrefix)??!1,endpointProvider:(e==null?void 0:e.endpointProvider)??ew,logger:(e==null?void 0:e.logger)??new Lt,serviceId:(e==null?void 0:e.serviceId)??"S3",signerConstructor:(e==null?void 0:e.signerConstructor)??xa,signingEscapePath:(e==null?void 0:e.signingEscapePath)??!1,urlParser:(e==null?void 0:e.urlParser)??nt,useArnRegion:(e==null?void 0:e.useArnRegion)??!1,utf8Decoder:(e==null?void 0:e.utf8Decoder)??qt,utf8Encoder:(e==null?void 0:e.utf8Encoder)??Mr});var rw=e=>{Or(process.version);let t=an(e),r=()=>t().then(Pr),n=tw(e);return{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:(e==null?void 0:e.bodyLengthChecker)??rn,credentialDefaultProvider:(e==null?void 0:e.credentialDefaultProvider)??mC(ma),defaultUserAgentProvider:(e==null?void 0:e.defaultUserAgentProvider)??nn({serviceId:n.serviceId,clientVersion:Ay.version}),eventStreamSerdeProvider:(e==null?void 0:e.eventStreamSerdeProvider)??AC,getAwsChunkedEncodingStream:(e==null?void 0:e.getAwsChunkedEncodingStream)??vC,maxAttempts:(e==null?void 0:e.maxAttempts)??ie(Gr),md5:(e==null?void 0:e.md5)??St.bind(null,"md5"),region:(e==null?void 0:e.region)??ie(Ht,$r),requestHandler:(e==null?void 0:e.requestHandler)??new Wt(r),retryMode:(e==null?void 0:e.retryMode)??ie({...Vr,default:async()=>(await r()).retryMode||Kt}),sdkStreamMixin:(e==null?void 0:e.sdkStreamMixin)??IC,sha1:(e==null?void 0:e.sha1)??St.bind(null,"sha1"),sha256:(e==null?void 0:e.sha256)??St.bind(null,"sha256"),streamCollector:(e==null?void 0:e.streamCollector)??Yt,streamHasher:(e==null?void 0:e.streamHasher)??kC,useArnRegion:(e==null?void 0:e.useArnRegion)??ie(TC),useDualstackEndpoint:(e==null?void 0:e.useDualstackEndpoint)??ie(Fr),useFipsEndpoint:(e==null?void 0:e.useFipsEndpoint)??ie(Lr)}};var Aa=class extends $t{constructor(t){let r=rw(t),n=_y(r),o=Ur(n),s=vr(o),i=Kr(s),a=i,c=Ii(a),d=Lh(c),l=Qr(d),m=Ep(l);super(m),this.config=m,this.middlewareStack.use(Wr(this.config)),this.middlewareStack.use(zr(this.config)),this.middlewareStack.use(qr(this.config)),this.middlewareStack.use(jr(this.config)),this.middlewareStack.use(Hr(this.config)),this.middlewareStack.use(Bi(this.config)),this.middlewareStack.use($h(this.config)),this.middlewareStack.use(Sp(this.config)),this.middlewareStack.use(Zr(this.config))}destroy(){super.destroy()}};var __=Tt(S_());async function c1(){try{let e=(0,qn.getInput)("bucket",{required:!0}),t=(0,qn.getMultilineInput)("path",{required:!0}),r=(0,qn.getInput)("prefix"),n=(await Promise.all(t.map(i=>(0,__.default)(i,{onlyFiles:!1,markDirectories:!0})))).flat();console.log("paths:",n);let o=Array.from(new Set(n)).filter((i,a,c)=>!c.some(d=>i!==d&&i.startsWith(d)));console.log("uniquePaths:",o);let s=new Aa({});await Promise.all(o.map(async i=>{let a=i.at(-1)==="/",c=ic.posix.join(r,i),d=(0,ic.join)(process.cwd(),i),l=a?void 0:(0,b_.createReadStream)(d),m=new ro({Bucket:e,Key:c,Body:l});await s.send(m),console.info("Uploaded:",d)}))}catch(e){e instanceof Error&&(0,qn.setFailed)(e)}}c1();
/*! Bundled license information:

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

is-extglob/index.js:
  (*!
   * is-extglob <https://github.com/jonschlinkert/is-extglob>
   *
   * Copyright (c) 2014-2016, Jon Schlinkert.
   * Licensed under the MIT License.
   *)

is-glob/index.js:
  (*!
   * is-glob <https://github.com/jonschlinkert/is-glob>
   *
   * Copyright (c) 2014-2017, Jon Schlinkert.
   * Released under the MIT License.
   *)

is-number/index.js:
  (*!
   * is-number <https://github.com/jonschlinkert/is-number>
   *
   * Copyright (c) 2014-present, Jon Schlinkert.
   * Released under the MIT License.
   *)

to-regex-range/index.js:
  (*!
   * to-regex-range <https://github.com/micromatch/to-regex-range>
   *
   * Copyright (c) 2015-present, Jon Schlinkert.
   * Released under the MIT License.
   *)

fill-range/index.js:
  (*!
   * fill-range <https://github.com/jonschlinkert/fill-range>
   *
   * Copyright (c) 2014-present, Jon Schlinkert.
   * Licensed under the MIT License.
   *)

queue-microtask/index.js:
  (*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

run-parallel/index.js:
  (*! run-parallel. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/
