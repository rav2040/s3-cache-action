"use strict";var y1=Object.create;var kl=Object.defineProperty;var g1=Object.getOwnPropertyDescriptor;var E1=Object.getOwnPropertyNames;var x1=Object.getPrototypeOf,S1=Object.prototype.hasOwnProperty;var it=(e,t)=>()=>(e&&(t=e(e=0)),t);var k=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),zo=(e,t)=>{for(var n in t)kl(e,n,{get:t[n],enumerable:!0})},kS=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of E1(t))!S1.call(e,s)&&s!==n&&kl(e,s,{get:()=>t[s],enumerable:!(r=g1(t,s))||r.enumerable});return e};var cn=(e,t,n)=>(n=e!=null?y1(x1(e)):{},kS(t||!e||!e.__esModule?kl(n,"default",{value:e,enumerable:!0}):n,e)),$o=e=>kS(kl({},"__esModule",{value:!0}),e);var Rl=k(qo=>{"use strict";Object.defineProperty(qo,"__esModule",{value:!0});qo.toCommandProperties=qo.toCommandValue=void 0;function w1(e){return e==null?"":typeof e=="string"||e instanceof String?e:JSON.stringify(e)}qo.toCommandValue=w1;function C1(e){return Object.keys(e).length?{title:e.title,file:e.file,line:e.startLine,endLine:e.endLine,col:e.startColumn,endColumn:e.endColumn}:{}}qo.toCommandProperties=C1});var TS=k(dn=>{"use strict";var b1=dn&&dn.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),P1=dn&&dn.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),_1=dn&&dn.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.hasOwnProperty.call(e,n)&&b1(t,e,n);return P1(t,e),t};Object.defineProperty(dn,"__esModule",{value:!0});dn.issue=dn.issueCommand=void 0;var A1=_1(require("os")),IS=Rl();function NS(e,t,n){let r=new dh(e,t,n);process.stdout.write(r.toString()+A1.EOL)}dn.issueCommand=NS;function k1(e,t=""){NS(e,{},t)}dn.issue=k1;var RS="::",dh=class{constructor(t,n,r){t||(t="missing.command"),this.command=t,this.properties=n,this.message=r}toString(){let t=RS+this.command;if(this.properties&&Object.keys(this.properties).length>0){t+=" ";let n=!0;for(let r in this.properties)if(this.properties.hasOwnProperty(r)){let s=this.properties[r];s&&(n?n=!1:t+=",",t+=`${r}=${I1(s)}`)}}return t+=`${RS}${R1(this.message)}`,t}};function R1(e){return IS.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function I1(e){return IS.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}});function ad(){return Il>Nl.length-16&&(vS.default.randomFillSync(Nl),Il=0),Nl.slice(Il,Il+=16)}var vS,Nl,Il,lh=it(()=>{vS=cn(require("crypto")),Nl=new Uint8Array(256),Il=Nl.length});var DS,BS=it(()=>{DS=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function N1(e){return typeof e=="string"&&DS.test(e)}var Gr,cd=it(()=>{BS();Gr=N1});function T1(e,t=0){let n=(xt[e[t+0]]+xt[e[t+1]]+xt[e[t+2]]+xt[e[t+3]]+"-"+xt[e[t+4]]+xt[e[t+5]]+"-"+xt[e[t+6]]+xt[e[t+7]]+"-"+xt[e[t+8]]+xt[e[t+9]]+"-"+xt[e[t+10]]+xt[e[t+11]]+xt[e[t+12]]+xt[e[t+13]]+xt[e[t+14]]+xt[e[t+15]]).toLowerCase();if(!Gr(n))throw TypeError("Stringified UUID is invalid");return n}var xt,jr,dd=it(()=>{cd();xt=[];for(let e=0;e<256;++e)xt.push((e+256).toString(16).substr(1));jr=T1});function v1(e,t,n){let r=t&&n||0,s=t||new Array(16);e=e||{};let o=e.node||OS,a=e.clockseq!==void 0?e.clockseq:uh;if(o==null||a==null){let m=e.random||(e.rng||ad)();o==null&&(o=OS=[m[0]|1,m[1],m[2],m[3],m[4],m[5]]),a==null&&(a=uh=(m[6]<<8|m[7])&16383)}let i=e.msecs!==void 0?e.msecs:Date.now(),l=e.nsecs!==void 0?e.nsecs:fh+1,d=i-mh+(l-fh)/1e4;if(d<0&&e.clockseq===void 0&&(a=a+1&16383),(d<0||i>mh)&&e.nsecs===void 0&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");mh=i,fh=l,uh=a,i+=122192928e5;let c=((i&268435455)*1e4+l)%4294967296;s[r++]=c>>>24&255,s[r++]=c>>>16&255,s[r++]=c>>>8&255,s[r++]=c&255;let u=i/4294967296*1e4&268435455;s[r++]=u>>>8&255,s[r++]=u&255,s[r++]=u>>>24&15|16,s[r++]=u>>>16&255,s[r++]=a>>>8|128,s[r++]=a&255;for(let m=0;m<6;++m)s[r+m]=o[m];return t||jr(s)}var OS,uh,mh,fh,FS,MS=it(()=>{lh();dd();mh=0,fh=0;FS=v1});function D1(e){if(!Gr(e))throw TypeError("Invalid UUID");let t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=t&255,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=t&255,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=t&255,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=t&255,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=t&255,n}var Tl,hh=it(()=>{cd();Tl=D1});function B1(e){e=unescape(encodeURIComponent(e));let t=[];for(let n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}function vl(e,t,n){function r(s,o,a,i){if(typeof s=="string"&&(s=B1(s)),typeof o=="string"&&(o=Tl(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let l=new Uint8Array(16+s.length);if(l.set(o),l.set(s,o.length),l=n(l),l[6]=l[6]&15|t,l[8]=l[8]&63|128,a){i=i||0;for(let d=0;d<16;++d)a[i+d]=l[d];return a}return jr(l)}try{r.name=e}catch{}return r.DNS=O1,r.URL=F1,r}var O1,F1,ph=it(()=>{dd();hh();O1="6ba7b810-9dad-11d1-80b4-00c04fd430c8",F1="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function M1(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),LS.default.createHash("md5").update(e).digest()}var LS,US,zS=it(()=>{LS=cn(require("crypto"));US=M1});var L1,$S,qS=it(()=>{ph();zS();L1=vl("v3",48,US),$S=L1});function U1(e,t,n){e=e||{};let r=e.random||(e.rng||ad)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let s=0;s<16;++s)t[n+s]=r[s];return t}return jr(r)}var Dl,GS=it(()=>{lh();dd();Dl=U1});function z1(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),jS.default.createHash("sha1").update(e).digest()}var jS,HS,KS=it(()=>{jS=cn(require("crypto"));HS=z1});var $1,VS,WS=it(()=>{ph();KS();$1=vl("v5",80,HS),VS=$1});var YS,XS=it(()=>{YS="00000000-0000-0000-0000-000000000000"});function q1(e){if(!Gr(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}var QS,ZS=it(()=>{cd();QS=q1});var JS={};zo(JS,{NIL:()=>YS,parse:()=>Tl,stringify:()=>jr,v1:()=>FS,v3:()=>$S,v4:()=>Dl,v5:()=>VS,validate:()=>Gr,version:()=>QS});var yh=it(()=>{MS();qS();GS();WS();XS();ZS();cd();dd();hh()});var rw=k(ln=>{"use strict";var G1=ln&&ln.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),j1=ln&&ln.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),tw=ln&&ln.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.hasOwnProperty.call(e,n)&&G1(t,e,n);return j1(t,e),t};Object.defineProperty(ln,"__esModule",{value:!0});ln.prepareKeyValueMessage=ln.issueFileCommand=void 0;var ew=tw(require("fs")),gh=tw(require("os")),H1=(yh(),$o(JS)),nw=Rl();function K1(e,t){let n=process.env[`GITHUB_${e}`];if(!n)throw new Error(`Unable to find environment variable for file command ${e}`);if(!ew.existsSync(n))throw new Error(`Missing file at path: ${n}`);ew.appendFileSync(n,`${nw.toCommandValue(t)}${gh.EOL}`,{encoding:"utf8"})}ln.issueFileCommand=K1;function V1(e,t){let n=`ghadelimiter_${H1.v4()}`,r=nw.toCommandValue(t);if(e.includes(n))throw new Error(`Unexpected input: name should not contain the delimiter "${n}"`);if(r.includes(n))throw new Error(`Unexpected input: value should not contain the delimiter "${n}"`);return`${e}<<${n}${gh.EOL}${r}${gh.EOL}${n}`}ln.prepareKeyValueMessage=V1});var ow=k(Go=>{"use strict";Object.defineProperty(Go,"__esModule",{value:!0});Go.checkBypass=Go.getProxyUrl=void 0;function W1(e){let t=e.protocol==="https:";if(sw(e))return;let n=(()=>t?process.env.https_proxy||process.env.HTTPS_PROXY:process.env.http_proxy||process.env.HTTP_PROXY)();if(n)return new URL(n)}Go.getProxyUrl=W1;function sw(e){if(!e.hostname)return!1;let t=e.hostname;if(Y1(t))return!0;let n=process.env.no_proxy||process.env.NO_PROXY||"";if(!n)return!1;let r;e.port?r=Number(e.port):e.protocol==="http:"?r=80:e.protocol==="https:"&&(r=443);let s=[e.hostname.toUpperCase()];typeof r=="number"&&s.push(`${s[0]}:${r}`);for(let o of n.split(",").map(a=>a.trim().toUpperCase()).filter(a=>a))if(o==="*"||s.some(a=>a===o||a.endsWith(`.${o}`)||o.startsWith(".")&&a.endsWith(`${o}`)))return!0;return!1}Go.checkBypass=sw;function Y1(e){let t=e.toLowerCase();return t==="localhost"||t.startsWith("127.")||t.startsWith("[::1]")||t.startsWith("[0:0:0:0:0:0:0:1]")}});var dw=k(jo=>{"use strict";var MZ=require("net"),X1=require("tls"),Eh=require("http"),iw=require("https"),Q1=require("events"),LZ=require("assert"),Z1=require("util");jo.httpOverHttp=J1;jo.httpsOverHttp=e3;jo.httpOverHttps=t3;jo.httpsOverHttps=n3;function J1(e){var t=new lr(e);return t.request=Eh.request,t}function e3(e){var t=new lr(e);return t.request=Eh.request,t.createSocket=aw,t.defaultPort=443,t}function t3(e){var t=new lr(e);return t.request=iw.request,t}function n3(e){var t=new lr(e);return t.request=iw.request,t.createSocket=aw,t.defaultPort=443,t}function lr(e){var t=this;t.options=e||{},t.proxyOptions=t.options.proxy||{},t.maxSockets=t.options.maxSockets||Eh.Agent.defaultMaxSockets,t.requests=[],t.sockets=[],t.on("free",function(r,s,o,a){for(var i=cw(s,o,a),l=0,d=t.requests.length;l<d;++l){var c=t.requests[l];if(c.host===i.host&&c.port===i.port){t.requests.splice(l,1),c.request.onSocket(r);return}}r.destroy(),t.removeSocket(r)})}Z1.inherits(lr,Q1.EventEmitter);lr.prototype.addRequest=function(t,n,r,s){var o=this,a=xh({request:t},o.options,cw(n,r,s));if(o.sockets.length>=this.maxSockets){o.requests.push(a);return}o.createSocket(a,function(i){i.on("free",l),i.on("close",d),i.on("agentRemove",d),t.onSocket(i);function l(){o.emit("free",i,a)}function d(c){o.removeSocket(i),i.removeListener("free",l),i.removeListener("close",d),i.removeListener("agentRemove",d)}})};lr.prototype.createSocket=function(t,n){var r=this,s={};r.sockets.push(s);var o=xh({},r.proxyOptions,{method:"CONNECT",path:t.host+":"+t.port,agent:!1,headers:{host:t.host+":"+t.port}});t.localAddress&&(o.localAddress=t.localAddress),o.proxyAuth&&(o.headers=o.headers||{},o.headers["Proxy-Authorization"]="Basic "+new Buffer(o.proxyAuth).toString("base64")),Hr("making CONNECT request");var a=r.request(o);a.useChunkedEncodingByDefault=!1,a.once("response",i),a.once("upgrade",l),a.once("connect",d),a.once("error",c),a.end();function i(u){u.upgrade=!0}function l(u,m,S){process.nextTick(function(){d(u,m,S)})}function d(u,m,S){if(a.removeAllListeners(),m.removeAllListeners(),u.statusCode!==200){Hr("tunneling socket could not be established, statusCode=%d",u.statusCode),m.destroy();var x=new Error("tunneling socket could not be established, statusCode="+u.statusCode);x.code="ECONNRESET",t.request.emit("error",x),r.removeSocket(s);return}if(S.length>0){Hr("got illegal response body from proxy"),m.destroy();var x=new Error("got illegal response body from proxy");x.code="ECONNRESET",t.request.emit("error",x),r.removeSocket(s);return}return Hr("tunneling connection has established"),r.sockets[r.sockets.indexOf(s)]=m,n(m)}function c(u){a.removeAllListeners(),Hr(`tunneling socket could not be established, cause=%s
`,u.message,u.stack);var m=new Error("tunneling socket could not be established, cause="+u.message);m.code="ECONNRESET",t.request.emit("error",m),r.removeSocket(s)}};lr.prototype.removeSocket=function(t){var n=this.sockets.indexOf(t);if(n!==-1){this.sockets.splice(n,1);var r=this.requests.shift();r&&this.createSocket(r,function(s){r.request.onSocket(s)})}};function aw(e,t){var n=this;lr.prototype.createSocket.call(n,e,function(r){var s=e.request.getHeader("host"),o=xh({},n.options,{socket:r,servername:s?s.replace(/:.*$/,""):e.host}),a=X1.connect(0,o);n.sockets[n.sockets.indexOf(r)]=a,t(a)})}function cw(e,t,n){return typeof e=="string"?{host:e,port:t,localAddress:n}:e}function xh(e){for(var t=1,n=arguments.length;t<n;++t){var r=arguments[t];if(typeof r=="object")for(var s=Object.keys(r),o=0,a=s.length;o<a;++o){var i=s[o];r[i]!==void 0&&(e[i]=r[i])}}return e}var Hr;process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)?Hr=function(){var e=Array.prototype.slice.call(arguments);typeof e[0]=="string"?e[0]="TUNNEL: "+e[0]:e.unshift("TUNNEL:"),console.error.apply(console,e)}:Hr=function(){};jo.debug=Hr});var uw=k((zZ,lw)=>{lw.exports=dw()});var fw=k(Me=>{"use strict";var r3=Me&&Me.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),s3=Me&&Me.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Ll=Me&&Me.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.hasOwnProperty.call(e,n)&&r3(t,e,n);return s3(t,e),t},lt=Me&&Me.__awaiter||function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function i(c){try{d(r.next(c))}catch(u){a(u)}}function l(c){try{d(r.throw(c))}catch(u){a(u)}}function d(c){c.done?o(c.value):s(c.value).then(i,l)}d((r=r.apply(e,t||[])).next())})};Object.defineProperty(Me,"__esModule",{value:!0});Me.HttpClient=Me.isHttps=Me.HttpClientResponse=Me.HttpClientError=Me.getProxyUrl=Me.MediaTypes=Me.Headers=Me.HttpCodes=void 0;var Bl=Ll(require("http")),Sh=Ll(require("https")),mw=Ll(ow()),Ol=Ll(uw()),Rn;(function(e){e[e.OK=200]="OK",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.ResourceMoved=302]="ResourceMoved",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.SwitchProxy=306]="SwitchProxy",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.TooManyRequests=429]="TooManyRequests",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout"})(Rn=Me.HttpCodes||(Me.HttpCodes={}));var Mt;(function(e){e.Accept="accept",e.ContentType="content-type"})(Mt=Me.Headers||(Me.Headers={}));var Kr;(function(e){e.ApplicationJson="application/json"})(Kr=Me.MediaTypes||(Me.MediaTypes={}));function o3(e){let t=mw.getProxyUrl(new URL(e));return t?t.href:""}Me.getProxyUrl=o3;var i3=[Rn.MovedPermanently,Rn.ResourceMoved,Rn.SeeOther,Rn.TemporaryRedirect,Rn.PermanentRedirect],a3=[Rn.BadGateway,Rn.ServiceUnavailable,Rn.GatewayTimeout],c3=["OPTIONS","GET","DELETE","HEAD"],d3=10,l3=5,Ho=class extends Error{constructor(t,n){super(t),this.name="HttpClientError",this.statusCode=n,Object.setPrototypeOf(this,Ho.prototype)}};Me.HttpClientError=Ho;var Ml=class{constructor(t){this.message=t}readBody(){return lt(this,void 0,void 0,function*(){return new Promise(t=>lt(this,void 0,void 0,function*(){let n=Buffer.alloc(0);this.message.on("data",r=>{n=Buffer.concat([n,r])}),this.message.on("end",()=>{t(n.toString())})}))})}};Me.HttpClientResponse=Ml;function u3(e){return new URL(e).protocol==="https:"}Me.isHttps=u3;var wh=class{constructor(t,n,r){this._ignoreSslError=!1,this._allowRedirects=!0,this._allowRedirectDowngrade=!1,this._maxRedirects=50,this._allowRetries=!1,this._maxRetries=1,this._keepAlive=!1,this._disposed=!1,this.userAgent=t,this.handlers=n||[],this.requestOptions=r,r&&(r.ignoreSslError!=null&&(this._ignoreSslError=r.ignoreSslError),this._socketTimeout=r.socketTimeout,r.allowRedirects!=null&&(this._allowRedirects=r.allowRedirects),r.allowRedirectDowngrade!=null&&(this._allowRedirectDowngrade=r.allowRedirectDowngrade),r.maxRedirects!=null&&(this._maxRedirects=Math.max(r.maxRedirects,0)),r.keepAlive!=null&&(this._keepAlive=r.keepAlive),r.allowRetries!=null&&(this._allowRetries=r.allowRetries),r.maxRetries!=null&&(this._maxRetries=r.maxRetries))}options(t,n){return lt(this,void 0,void 0,function*(){return this.request("OPTIONS",t,null,n||{})})}get(t,n){return lt(this,void 0,void 0,function*(){return this.request("GET",t,null,n||{})})}del(t,n){return lt(this,void 0,void 0,function*(){return this.request("DELETE",t,null,n||{})})}post(t,n,r){return lt(this,void 0,void 0,function*(){return this.request("POST",t,n,r||{})})}patch(t,n,r){return lt(this,void 0,void 0,function*(){return this.request("PATCH",t,n,r||{})})}put(t,n,r){return lt(this,void 0,void 0,function*(){return this.request("PUT",t,n,r||{})})}head(t,n){return lt(this,void 0,void 0,function*(){return this.request("HEAD",t,null,n||{})})}sendStream(t,n,r,s){return lt(this,void 0,void 0,function*(){return this.request(t,n,r,s)})}getJson(t,n={}){return lt(this,void 0,void 0,function*(){n[Mt.Accept]=this._getExistingOrDefaultHeader(n,Mt.Accept,Kr.ApplicationJson);let r=yield this.get(t,n);return this._processResponse(r,this.requestOptions)})}postJson(t,n,r={}){return lt(this,void 0,void 0,function*(){let s=JSON.stringify(n,null,2);r[Mt.Accept]=this._getExistingOrDefaultHeader(r,Mt.Accept,Kr.ApplicationJson),r[Mt.ContentType]=this._getExistingOrDefaultHeader(r,Mt.ContentType,Kr.ApplicationJson);let o=yield this.post(t,s,r);return this._processResponse(o,this.requestOptions)})}putJson(t,n,r={}){return lt(this,void 0,void 0,function*(){let s=JSON.stringify(n,null,2);r[Mt.Accept]=this._getExistingOrDefaultHeader(r,Mt.Accept,Kr.ApplicationJson),r[Mt.ContentType]=this._getExistingOrDefaultHeader(r,Mt.ContentType,Kr.ApplicationJson);let o=yield this.put(t,s,r);return this._processResponse(o,this.requestOptions)})}patchJson(t,n,r={}){return lt(this,void 0,void 0,function*(){let s=JSON.stringify(n,null,2);r[Mt.Accept]=this._getExistingOrDefaultHeader(r,Mt.Accept,Kr.ApplicationJson),r[Mt.ContentType]=this._getExistingOrDefaultHeader(r,Mt.ContentType,Kr.ApplicationJson);let o=yield this.patch(t,s,r);return this._processResponse(o,this.requestOptions)})}request(t,n,r,s){return lt(this,void 0,void 0,function*(){if(this._disposed)throw new Error("Client has already been disposed.");let o=new URL(n),a=this._prepareRequest(t,o,s),i=this._allowRetries&&c3.includes(t)?this._maxRetries+1:1,l=0,d;do{if(d=yield this.requestRaw(a,r),d&&d.message&&d.message.statusCode===Rn.Unauthorized){let u;for(let m of this.handlers)if(m.canHandleAuthentication(d)){u=m;break}return u?u.handleAuthentication(this,a,r):d}let c=this._maxRedirects;for(;d.message.statusCode&&i3.includes(d.message.statusCode)&&this._allowRedirects&&c>0;){let u=d.message.headers.location;if(!u)break;let m=new URL(u);if(o.protocol==="https:"&&o.protocol!==m.protocol&&!this._allowRedirectDowngrade)throw new Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.");if(yield d.readBody(),m.hostname!==o.hostname)for(let S in s)S.toLowerCase()==="authorization"&&delete s[S];a=this._prepareRequest(t,m,s),d=yield this.requestRaw(a,r),c--}if(!d.message.statusCode||!a3.includes(d.message.statusCode))return d;l+=1,l<i&&(yield d.readBody(),yield this._performExponentialBackoff(l))}while(l<i);return d})}dispose(){this._agent&&this._agent.destroy(),this._disposed=!0}requestRaw(t,n){return lt(this,void 0,void 0,function*(){return new Promise((r,s)=>{function o(a,i){a?s(a):i?r(i):s(new Error("Unknown error"))}this.requestRawWithCallback(t,n,o)})})}requestRawWithCallback(t,n,r){typeof n=="string"&&(t.options.headers||(t.options.headers={}),t.options.headers["Content-Length"]=Buffer.byteLength(n,"utf8"));let s=!1;function o(l,d){s||(s=!0,r(l,d))}let a=t.httpModule.request(t.options,l=>{let d=new Ml(l);o(void 0,d)}),i;a.on("socket",l=>{i=l}),a.setTimeout(this._socketTimeout||3*6e4,()=>{i&&i.end(),o(new Error(`Request timeout: ${t.options.path}`))}),a.on("error",function(l){o(l)}),n&&typeof n=="string"&&a.write(n,"utf8"),n&&typeof n!="string"?(n.on("close",function(){a.end()}),n.pipe(a)):a.end()}getAgent(t){let n=new URL(t);return this._getAgent(n)}_prepareRequest(t,n,r){let s={};s.parsedUrl=n;let o=s.parsedUrl.protocol==="https:";s.httpModule=o?Sh:Bl;let a=o?443:80;if(s.options={},s.options.host=s.parsedUrl.hostname,s.options.port=s.parsedUrl.port?parseInt(s.parsedUrl.port):a,s.options.path=(s.parsedUrl.pathname||"")+(s.parsedUrl.search||""),s.options.method=t,s.options.headers=this._mergeHeaders(r),this.userAgent!=null&&(s.options.headers["user-agent"]=this.userAgent),s.options.agent=this._getAgent(s.parsedUrl),this.handlers)for(let i of this.handlers)i.prepareRequest(s.options);return s}_mergeHeaders(t){return this.requestOptions&&this.requestOptions.headers?Object.assign({},Fl(this.requestOptions.headers),Fl(t||{})):Fl(t||{})}_getExistingOrDefaultHeader(t,n,r){let s;return this.requestOptions&&this.requestOptions.headers&&(s=Fl(this.requestOptions.headers)[n]),t[n]||s||r}_getAgent(t){let n,r=mw.getProxyUrl(t),s=r&&r.hostname;if(this._keepAlive&&s&&(n=this._proxyAgent),this._keepAlive&&!s&&(n=this._agent),n)return n;let o=t.protocol==="https:",a=100;if(this.requestOptions&&(a=this.requestOptions.maxSockets||Bl.globalAgent.maxSockets),r&&r.hostname){let i={maxSockets:a,keepAlive:this._keepAlive,proxy:Object.assign(Object.assign({},(r.username||r.password)&&{proxyAuth:`${r.username}:${r.password}`}),{host:r.hostname,port:r.port})},l,d=r.protocol==="https:";o?l=d?Ol.httpsOverHttps:Ol.httpsOverHttp:l=d?Ol.httpOverHttps:Ol.httpOverHttp,n=l(i),this._proxyAgent=n}if(this._keepAlive&&!n){let i={keepAlive:this._keepAlive,maxSockets:a};n=o?new Sh.Agent(i):new Bl.Agent(i),this._agent=n}return n||(n=o?Sh.globalAgent:Bl.globalAgent),o&&this._ignoreSslError&&(n.options=Object.assign(n.options||{},{rejectUnauthorized:!1})),n}_performExponentialBackoff(t){return lt(this,void 0,void 0,function*(){t=Math.min(d3,t);let n=l3*Math.pow(2,t);return new Promise(r=>setTimeout(()=>r(),n))})}_processResponse(t,n){return lt(this,void 0,void 0,function*(){return new Promise((r,s)=>lt(this,void 0,void 0,function*(){let o=t.message.statusCode||0,a={statusCode:o,result:null,headers:{}};o===Rn.NotFound&&r(a);function i(c,u){if(typeof u=="string"){let m=new Date(u);if(!isNaN(m.valueOf()))return m}return u}let l,d;try{d=yield t.readBody(),d&&d.length>0&&(n&&n.deserializeDates?l=JSON.parse(d,i):l=JSON.parse(d),a.result=l),a.headers=t.message.headers}catch{}if(o>299){let c;l&&l.message?c=l.message:d&&d.length>0?c=d:c=`Failed request: (${o})`;let u=new Ho(c,o);u.result=a.result,s(u)}else r(a)}))})}};Me.HttpClient=wh;var Fl=e=>Object.keys(e).reduce((t,n)=>(t[n.toLowerCase()]=e[n],t),{})});var hw=k(On=>{"use strict";var _h=On&&On.__awaiter||function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function i(c){try{d(r.next(c))}catch(u){a(u)}}function l(c){try{d(r.throw(c))}catch(u){a(u)}}function d(c){c.done?o(c.value):s(c.value).then(i,l)}d((r=r.apply(e,t||[])).next())})};Object.defineProperty(On,"__esModule",{value:!0});On.PersonalAccessTokenCredentialHandler=On.BearerCredentialHandler=On.BasicCredentialHandler=void 0;var Ch=class{constructor(t,n){this.username=t,this.password=n}prepareRequest(t){if(!t.headers)throw Error("The request has no headers");t.headers.Authorization=`Basic ${Buffer.from(`${this.username}:${this.password}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return _h(this,void 0,void 0,function*(){throw new Error("not implemented")})}};On.BasicCredentialHandler=Ch;var bh=class{constructor(t){this.token=t}prepareRequest(t){if(!t.headers)throw Error("The request has no headers");t.headers.Authorization=`Bearer ${this.token}`}canHandleAuthentication(){return!1}handleAuthentication(){return _h(this,void 0,void 0,function*(){throw new Error("not implemented")})}};On.BearerCredentialHandler=bh;var Ph=class{constructor(t){this.token=t}prepareRequest(t){if(!t.headers)throw Error("The request has no headers");t.headers.Authorization=`Basic ${Buffer.from(`PAT:${this.token}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return _h(this,void 0,void 0,function*(){throw new Error("not implemented")})}};On.PersonalAccessTokenCredentialHandler=Ph});var gw=k(Ko=>{"use strict";var pw=Ko&&Ko.__awaiter||function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function i(c){try{d(r.next(c))}catch(u){a(u)}}function l(c){try{d(r.throw(c))}catch(u){a(u)}}function d(c){c.done?o(c.value):s(c.value).then(i,l)}d((r=r.apply(e,t||[])).next())})};Object.defineProperty(Ko,"__esModule",{value:!0});Ko.OidcClient=void 0;var m3=fw(),f3=hw(),yw=Ah(),Vr=class{static createHttpClient(t=!0,n=10){let r={allowRetries:t,maxRetries:n};return new m3.HttpClient("actions/oidc-client",[new f3.BearerCredentialHandler(Vr.getRequestToken())],r)}static getRequestToken(){let t=process.env.ACTIONS_ID_TOKEN_REQUEST_TOKEN;if(!t)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_TOKEN env variable");return t}static getIDTokenUrl(){let t=process.env.ACTIONS_ID_TOKEN_REQUEST_URL;if(!t)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_URL env variable");return t}static getCall(t){var n;return pw(this,void 0,void 0,function*(){let o=(n=(yield Vr.createHttpClient().getJson(t).catch(a=>{throw new Error(`Failed to get ID Token. 
 
        Error Code : ${a.statusCode}
 
        Error Message: ${a.result.message}`)})).result)===null||n===void 0?void 0:n.value;if(!o)throw new Error("Response json body do not have ID Token field");return o})}static getIDToken(t){return pw(this,void 0,void 0,function*(){try{let n=Vr.getIDTokenUrl();if(t){let s=encodeURIComponent(t);n=`${n}&audience=${s}`}yw.debug(`ID token url is ${n}`);let r=yield Vr.getCall(n);return yw.setSecret(r),r}catch(n){throw new Error(`Error message: ${n.message}`)}})}};Ko.OidcClient=Vr});var Nh=k(zt=>{"use strict";var kh=zt&&zt.__awaiter||function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function i(c){try{d(r.next(c))}catch(u){a(u)}}function l(c){try{d(r.throw(c))}catch(u){a(u)}}function d(c){c.done?o(c.value):s(c.value).then(i,l)}d((r=r.apply(e,t||[])).next())})};Object.defineProperty(zt,"__esModule",{value:!0});zt.summary=zt.markdownSummary=zt.SUMMARY_DOCS_URL=zt.SUMMARY_ENV_VAR=void 0;var h3=require("os"),Rh=require("fs"),{access:p3,appendFile:y3,writeFile:g3}=Rh.promises;zt.SUMMARY_ENV_VAR="GITHUB_STEP_SUMMARY";zt.SUMMARY_DOCS_URL="https://docs.github.com/actions/using-workflows/workflow-commands-for-github-actions#adding-a-job-summary";var Ih=class{constructor(){this._buffer=""}filePath(){return kh(this,void 0,void 0,function*(){if(this._filePath)return this._filePath;let t=process.env[zt.SUMMARY_ENV_VAR];if(!t)throw new Error(`Unable to find environment variable for $${zt.SUMMARY_ENV_VAR}. Check if your runtime environment supports job summaries.`);try{yield p3(t,Rh.constants.R_OK|Rh.constants.W_OK)}catch{throw new Error(`Unable to access summary file: '${t}'. Check if the file has correct read/write permissions.`)}return this._filePath=t,this._filePath})}wrap(t,n,r={}){let s=Object.entries(r).map(([o,a])=>` ${o}="${a}"`).join("");return n?`<${t}${s}>${n}</${t}>`:`<${t}${s}>`}write(t){return kh(this,void 0,void 0,function*(){let n=!!(t!=null&&t.overwrite),r=yield this.filePath();return yield(n?g3:y3)(r,this._buffer,{encoding:"utf8"}),this.emptyBuffer()})}clear(){return kh(this,void 0,void 0,function*(){return this.emptyBuffer().write({overwrite:!0})})}stringify(){return this._buffer}isEmptyBuffer(){return this._buffer.length===0}emptyBuffer(){return this._buffer="",this}addRaw(t,n=!1){return this._buffer+=t,n?this.addEOL():this}addEOL(){return this.addRaw(h3.EOL)}addCodeBlock(t,n){let r=Object.assign({},n&&{lang:n}),s=this.wrap("pre",this.wrap("code",t),r);return this.addRaw(s).addEOL()}addList(t,n=!1){let r=n?"ol":"ul",s=t.map(a=>this.wrap("li",a)).join(""),o=this.wrap(r,s);return this.addRaw(o).addEOL()}addTable(t){let n=t.map(s=>{let o=s.map(a=>{if(typeof a=="string")return this.wrap("td",a);let{header:i,data:l,colspan:d,rowspan:c}=a,u=i?"th":"td",m=Object.assign(Object.assign({},d&&{colspan:d}),c&&{rowspan:c});return this.wrap(u,l,m)}).join("");return this.wrap("tr",o)}).join(""),r=this.wrap("table",n);return this.addRaw(r).addEOL()}addDetails(t,n){let r=this.wrap("details",this.wrap("summary",t)+n);return this.addRaw(r).addEOL()}addImage(t,n,r){let{width:s,height:o}=r||{},a=Object.assign(Object.assign({},s&&{width:s}),o&&{height:o}),i=this.wrap("img",null,Object.assign({src:t,alt:n},a));return this.addRaw(i).addEOL()}addHeading(t,n){let r=`h${n}`,s=["h1","h2","h3","h4","h5","h6"].includes(r)?r:"h1",o=this.wrap(s,t);return this.addRaw(o).addEOL()}addSeparator(){let t=this.wrap("hr",null);return this.addRaw(t).addEOL()}addBreak(){let t=this.wrap("br",null);return this.addRaw(t).addEOL()}addQuote(t,n){let r=Object.assign({},n&&{cite:n}),s=this.wrap("blockquote",t,r);return this.addRaw(s).addEOL()}addLink(t,n){let r=this.wrap("a",t,{href:n});return this.addRaw(r).addEOL()}},Ew=new Ih;zt.markdownSummary=Ew;zt.summary=Ew});var xw=k($t=>{"use strict";var E3=$t&&$t.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),x3=$t&&$t.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),S3=$t&&$t.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.hasOwnProperty.call(e,n)&&E3(t,e,n);return x3(t,e),t};Object.defineProperty($t,"__esModule",{value:!0});$t.toPlatformPath=$t.toWin32Path=$t.toPosixPath=void 0;var w3=S3(require("path"));function C3(e){return e.replace(/[\\]/g,"/")}$t.toPosixPath=C3;function b3(e){return e.replace(/[/]/g,"\\")}$t.toWin32Path=b3;function P3(e){return e.replace(/[/\\]/g,w3.sep)}$t.toPlatformPath=P3});var Ah=k(J=>{"use strict";var _3=J&&J.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),A3=J&&J.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Sw=J&&J.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.hasOwnProperty.call(e,n)&&_3(t,e,n);return A3(t,e),t},ww=J&&J.__awaiter||function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function i(c){try{d(r.next(c))}catch(u){a(u)}}function l(c){try{d(r.throw(c))}catch(u){a(u)}}function d(c){c.done?o(c.value):s(c.value).then(i,l)}d((r=r.apply(e,t||[])).next())})};Object.defineProperty(J,"__esModule",{value:!0});J.getIDToken=J.getState=J.saveState=J.group=J.endGroup=J.startGroup=J.info=J.notice=J.warning=J.error=J.debug=J.isDebug=J.setFailed=J.setCommandEcho=J.setOutput=J.getBooleanInput=J.getMultilineInput=J.getInput=J.addPath=J.setSecret=J.exportVariable=J.ExitCode=void 0;var un=TS(),no=rw(),Vo=Rl(),Cw=Sw(require("os")),k3=Sw(require("path")),R3=gw(),bw;(function(e){e[e.Success=0]="Success",e[e.Failure=1]="Failure"})(bw=J.ExitCode||(J.ExitCode={}));function I3(e,t){let n=Vo.toCommandValue(t);if(process.env[e]=n,process.env.GITHUB_ENV||"")return no.issueFileCommand("ENV",no.prepareKeyValueMessage(e,t));un.issueCommand("set-env",{name:e},n)}J.exportVariable=I3;function N3(e){un.issueCommand("add-mask",{},e)}J.setSecret=N3;function T3(e){process.env.GITHUB_PATH||""?no.issueFileCommand("PATH",e):un.issueCommand("add-path",{},e),process.env.PATH=`${e}${k3.delimiter}${process.env.PATH}`}J.addPath=T3;function Th(e,t){let n=process.env[`INPUT_${e.replace(/ /g,"_").toUpperCase()}`]||"";if(t&&t.required&&!n)throw new Error(`Input required and not supplied: ${e}`);return t&&t.trimWhitespace===!1?n:n.trim()}J.getInput=Th;function v3(e,t){let n=Th(e,t).split(`
`).filter(r=>r!=="");return t&&t.trimWhitespace===!1?n:n.map(r=>r.trim())}J.getMultilineInput=v3;function D3(e,t){let n=["true","True","TRUE"],r=["false","False","FALSE"],s=Th(e,t);if(n.includes(s))return!0;if(r.includes(s))return!1;throw new TypeError(`Input does not meet YAML 1.2 "Core Schema" specification: ${e}
Support boolean input list: \`true | True | TRUE | false | False | FALSE\``)}J.getBooleanInput=D3;function B3(e,t){if(process.env.GITHUB_OUTPUT||"")return no.issueFileCommand("OUTPUT",no.prepareKeyValueMessage(e,t));process.stdout.write(Cw.EOL),un.issueCommand("set-output",{name:e},Vo.toCommandValue(t))}J.setOutput=B3;function O3(e){un.issue("echo",e?"on":"off")}J.setCommandEcho=O3;function F3(e){process.exitCode=bw.Failure,Pw(e)}J.setFailed=F3;function M3(){return process.env.RUNNER_DEBUG==="1"}J.isDebug=M3;function L3(e){un.issueCommand("debug",{},e)}J.debug=L3;function Pw(e,t={}){un.issueCommand("error",Vo.toCommandProperties(t),e instanceof Error?e.toString():e)}J.error=Pw;function U3(e,t={}){un.issueCommand("warning",Vo.toCommandProperties(t),e instanceof Error?e.toString():e)}J.warning=U3;function z3(e,t={}){un.issueCommand("notice",Vo.toCommandProperties(t),e instanceof Error?e.toString():e)}J.notice=z3;function $3(e){process.stdout.write(e+Cw.EOL)}J.info=$3;function _w(e){un.issue("group",e)}J.startGroup=_w;function Aw(){un.issue("endgroup")}J.endGroup=Aw;function q3(e,t){return ww(this,void 0,void 0,function*(){_w(e);let n;try{n=yield t()}finally{Aw()}return n})}J.group=q3;function G3(e,t){if(process.env.GITHUB_STATE||"")return no.issueFileCommand("STATE",no.prepareKeyValueMessage(e,t));un.issueCommand("save-state",{name:e},Vo.toCommandValue(t))}J.saveState=G3;function j3(e){return process.env[`STATE_${e}`]||""}J.getState=j3;function H3(e){return ww(this,void 0,void 0,function*(){return yield R3.OidcClient.getIDToken(e)})}J.getIDToken=H3;var K3=Nh();Object.defineProperty(J,"summary",{enumerable:!0,get:function(){return K3.summary}});var V3=Nh();Object.defineProperty(J,"markdownSummary",{enumerable:!0,get:function(){return V3.markdownSummary}});var vh=xw();Object.defineProperty(J,"toPosixPath",{enumerable:!0,get:function(){return vh.toPosixPath}});Object.defineProperty(J,"toWin32Path",{enumerable:!0,get:function(){return vh.toWin32Path}});Object.defineProperty(J,"toPlatformPath",{enumerable:!0,get:function(){return vh.toPlatformPath}})});var Uh=k(mr=>{"use strict";var Ww=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",_U=Ww+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",Yw="["+Ww+"]["+_U+"]*",AU=new RegExp("^"+Yw+"$"),kU=function(e,t){let n=[],r=t.exec(e);for(;r;){let s=[];s.startIndex=t.lastIndex-r[0].length;let o=r.length;for(let a=0;a<o;a++)s.push(r[a]);n.push(s),r=t.exec(e)}return n},RU=function(e){let t=AU.exec(e);return!(t===null||typeof t>"u")};mr.isExist=function(e){return typeof e<"u"};mr.isEmptyObject=function(e){return Object.keys(e).length===0};mr.merge=function(e,t,n){if(t){let r=Object.keys(t),s=r.length;for(let o=0;o<s;o++)n==="strict"?e[r[o]]=[t[r[o]]]:e[r[o]]=t[r[o]]}};mr.getValue=function(e){return mr.isExist(e)?e:""};mr.isName=RU;mr.getAllMatches=kU;mr.nameRegexp=Yw});var $h=k(eC=>{"use strict";var zh=Uh(),IU={allowBooleanAttributes:!1,unpairedTags:[]};eC.validate=function(e,t){t=Object.assign({},IU,t);let n=[],r=!1,s=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let o=0;o<e.length;o++)if(e[o]==="<"&&e[o+1]==="?"){if(o+=2,o=Qw(e,o),o.err)return o}else if(e[o]==="<"){let a=o;if(o++,e[o]==="!"){o=Zw(e,o);continue}else{let i=!1;e[o]==="/"&&(i=!0,o++);let l="";for(;o<e.length&&e[o]!==">"&&e[o]!==" "&&e[o]!=="	"&&e[o]!==`
`&&e[o]!=="\r";o++)l+=e[o];if(l=l.trim(),l[l.length-1]==="/"&&(l=l.substring(0,l.length-1),o--),!MU(l)){let u;return l.trim().length===0?u="Invalid space after '<'.":u="Tag '"+l+"' is an invalid name.",at("InvalidTag",u,Gt(e,o))}let d=vU(e,o);if(d===!1)return at("InvalidAttr","Attributes for '"+l+"' have open quote.",Gt(e,o));let c=d.value;if(o=d.index,c[c.length-1]==="/"){let u=o-c.length;c=c.substring(0,c.length-1);let m=Jw(c,t);if(m===!0)r=!0;else return at(m.err.code,m.err.msg,Gt(e,u+m.err.line))}else if(i)if(d.tagClosed){if(c.trim().length>0)return at("InvalidTag","Closing tag '"+l+"' can't have attributes or invalid starting.",Gt(e,a));{let u=n.pop();if(l!==u.tagName){let m=Gt(e,u.tagStartPos);return at("InvalidTag","Expected closing tag '"+u.tagName+"' (opened in line "+m.line+", col "+m.col+") instead of closing tag '"+l+"'.",Gt(e,a))}n.length==0&&(s=!0)}}else return at("InvalidTag","Closing tag '"+l+"' doesn't have proper closing.",Gt(e,o));else{let u=Jw(c,t);if(u!==!0)return at(u.err.code,u.err.msg,Gt(e,o-c.length+u.err.line));if(s===!0)return at("InvalidXml","Multiple possible root nodes found.",Gt(e,o));t.unpairedTags.indexOf(l)!==-1||n.push({tagName:l,tagStartPos:a}),r=!0}for(o++;o<e.length;o++)if(e[o]==="<")if(e[o+1]==="!"){o++,o=Zw(e,o);continue}else if(e[o+1]==="?"){if(o=Qw(e,++o),o.err)return o}else break;else if(e[o]==="&"){let u=OU(e,o);if(u==-1)return at("InvalidChar","char '&' is not expected.",Gt(e,o));o=u}else if(s===!0&&!Xw(e[o]))return at("InvalidXml","Extra text at the end",Gt(e,o));e[o]==="<"&&o--}}else{if(Xw(e[o]))continue;return at("InvalidChar","char '"+e[o]+"' is not expected.",Gt(e,o))}if(r){if(n.length==1)return at("InvalidTag","Unclosed tag '"+n[0].tagName+"'.",Gt(e,n[0].tagStartPos));if(n.length>0)return at("InvalidXml","Invalid '"+JSON.stringify(n.map(o=>o.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return at("InvalidXml","Start tag expected.",1);return!0};function Xw(e){return e===" "||e==="	"||e===`
`||e==="\r"}function Qw(e,t){let n=t;for(;t<e.length;t++)if(e[t]=="?"||e[t]==" "){let r=e.substr(n,t-n);if(t>5&&r==="xml")return at("InvalidXml","XML declaration allowed only at the start of the document.",Gt(e,t));if(e[t]=="?"&&e[t+1]==">"){t++;break}else continue}return t}function Zw(e,t){if(e.length>t+5&&e[t+1]==="-"&&e[t+2]==="-"){for(t+=3;t<e.length;t++)if(e[t]==="-"&&e[t+1]==="-"&&e[t+2]===">"){t+=2;break}}else if(e.length>t+8&&e[t+1]==="D"&&e[t+2]==="O"&&e[t+3]==="C"&&e[t+4]==="T"&&e[t+5]==="Y"&&e[t+6]==="P"&&e[t+7]==="E"){let n=1;for(t+=8;t<e.length;t++)if(e[t]==="<")n++;else if(e[t]===">"&&(n--,n===0))break}else if(e.length>t+9&&e[t+1]==="["&&e[t+2]==="C"&&e[t+3]==="D"&&e[t+4]==="A"&&e[t+5]==="T"&&e[t+6]==="A"&&e[t+7]==="["){for(t+=8;t<e.length;t++)if(e[t]==="]"&&e[t+1]==="]"&&e[t+2]===">"){t+=2;break}}return t}var NU='"',TU="'";function vU(e,t){let n="",r="",s=!1;for(;t<e.length;t++){if(e[t]===NU||e[t]===TU)r===""?r=e[t]:r!==e[t]||(r="");else if(e[t]===">"&&r===""){s=!0;break}n+=e[t]}return r!==""?!1:{value:n,index:t,tagClosed:s}}var DU=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function Jw(e,t){let n=zh.getAllMatches(e,DU),r={};for(let s=0;s<n.length;s++){if(n[s][1].length===0)return at("InvalidAttr","Attribute '"+n[s][2]+"' has no space in starting.",pd(n[s]));if(n[s][3]!==void 0&&n[s][4]===void 0)return at("InvalidAttr","Attribute '"+n[s][2]+"' is without value.",pd(n[s]));if(n[s][3]===void 0&&!t.allowBooleanAttributes)return at("InvalidAttr","boolean attribute '"+n[s][2]+"' is not allowed.",pd(n[s]));let o=n[s][2];if(!FU(o))return at("InvalidAttr","Attribute '"+o+"' is an invalid name.",pd(n[s]));if(!r.hasOwnProperty(o))r[o]=1;else return at("InvalidAttr","Attribute '"+o+"' is repeated.",pd(n[s]))}return!0}function BU(e,t){let n=/\d/;for(e[t]==="x"&&(t++,n=/[\da-fA-F]/);t<e.length;t++){if(e[t]===";")return t;if(!e[t].match(n))break}return-1}function OU(e,t){if(t++,e[t]===";")return-1;if(e[t]==="#")return t++,BU(e,t);let n=0;for(;t<e.length;t++,n++)if(!(e[t].match(/\w/)&&n<20)){if(e[t]===";")break;return-1}return t}function at(e,t,n){return{err:{code:e,msg:t,line:n.line||n,col:n.col}}}function FU(e){return zh.isName(e)}function MU(e){return zh.isName(e)}function Gt(e,t){let n=e.substring(0,t).split(/\r?\n/);return{line:n.length,col:n[n.length-1].length+1}}function pd(e){return e.startIndex+e[1].length}});var nC=k(qh=>{var tC={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1},LU=function(e){return Object.assign({},tC,e)};qh.buildOptions=LU;qh.defaultOptions=tC});var sC=k((tte,rC)=>{"use strict";var Gh=class{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,n){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:n})}addChild(t){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,[":@"]:t[":@"]}):this.child.push({[t.tagname]:t.child})}};rC.exports=Gh});var iC=k((nte,oC)=>{function UU(e,t){let n={};if(e[t+3]==="O"&&e[t+4]==="C"&&e[t+5]==="T"&&e[t+6]==="Y"&&e[t+7]==="P"&&e[t+8]==="E"){t=t+9;let r=1,s=!1,o=!1,a=!1,i="";for(;t<e.length;t++)if(e[t]==="<"&&!a){if(s&&e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="N"&&e[t+4]==="T"&&e[t+5]==="I"&&e[t+6]==="T"&&e[t+7]==="Y")t+=7,o=!0;else if(s&&e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="L"&&e[t+4]==="E"&&e[t+5]==="M"&&e[t+6]==="E"&&e[t+7]==="N"&&e[t+8]==="T")t+=8;else if(s&&e[t+1]==="!"&&e[t+2]==="A"&&e[t+3]==="T"&&e[t+4]==="T"&&e[t+5]==="L"&&e[t+6]==="I"&&e[t+7]==="S"&&e[t+8]==="T")t+=8;else if(s&&e[t+1]==="!"&&e[t+2]==="N"&&e[t+3]==="O"&&e[t+4]==="T"&&e[t+5]==="A"&&e[t+6]==="T"&&e[t+7]==="I"&&e[t+8]==="O"&&e[t+9]==="N")t+=9;else if(e[t+1]==="!"&&e[t+2]==="-"&&e[t+3]==="-")a=!0;else throw new Error("Invalid DOCTYPE");r++,i=""}else if(e[t]===">"){if(a?e[t-1]==="-"&&e[t-2]==="-"&&(a=!1,r--):(o&&($U(i,n),o=!1),r--),r===0)break}else e[t]==="["?s=!0:i+=e[t];if(r!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:n,i:t}}var zU=RegExp(`^\\s([a-zA-z0-0]+)[ 	](['"])([^&]+)\\2`);function $U(e,t){let n=zU.exec(e);n&&(t[n[1]]={regx:RegExp(`&${n[1]};`,"g"),val:n[3]})}oC.exports=UU});var cC=k((rte,aC)=>{var qU=/^[-+]?0x[a-fA-F0-9]+$/,GU=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt);!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);var jU={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function HU(e,t={}){if(t=Object.assign({},jU,t),!e||typeof e!="string")return e;let n=e.trim();if(t.skipLike!==void 0&&t.skipLike.test(n))return e;if(t.hex&&qU.test(n))return Number.parseInt(n,16);{let r=GU.exec(n);if(r){let s=r[1],o=r[2],a=KU(r[3]),i=r[4]||r[6];if(!t.leadingZeros&&o.length>0&&s&&n[2]!==".")return e;if(!t.leadingZeros&&o.length>0&&!s&&n[1]!==".")return e;{let l=Number(n),d=""+l;return d.search(/[eE]/)!==-1||i?t.eNotation?l:e:n.indexOf(".")!==-1?d==="0"&&a===""||d===a||s&&d==="-"+a?l:e:o?a===d||s+a===d?l:e:n===d||n===s+d?l:e}}else return e}}function KU(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substr(0,e.length-1))),e}aC.exports=HU});var lC=k((ote,dC)=>{"use strict";var Vh=Uh(),yd=sC(),VU=iC(),WU=cC(),ste="<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,Vh.nameRegexp),jh=class{constructor(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"}},this.addExternalEntities=YU,this.parseXml=ez,this.parseTextData=XU,this.resolveNameSpace=QU,this.buildAttributesMap=JU,this.isItStopNode=rz,this.replaceEntitiesValue=tz,this.readStopNodeData=oz,this.saveTextToParentTag=nz}};function YU(e){let t=Object.keys(e);for(let n=0;n<t.length;n++){let r=t[n];this.lastEntities[r]={regex:new RegExp("&"+r+";","g"),val:e[r]}}}function XU(e,t,n,r,s,o,a){if(e!==void 0&&(this.options.trimValues&&!r&&(e=e.trim()),e.length>0)){a||(e=this.replaceEntitiesValue(e));let i=this.options.tagValueProcessor(t,e,n,s,o);return i==null?e:typeof i!=typeof e||i!==e?i:this.options.trimValues?Kh(e,this.options.parseTagValue,this.options.numberParseOptions):e.trim()===e?Kh(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function QU(e){if(this.options.removeNSPrefix){let t=e.split(":"),n=e.charAt(0)==="/"?"/":"";if(t[0]==="xmlns")return"";t.length===2&&(e=n+t[1])}return e}var ZU=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function JU(e,t){if(!this.options.ignoreAttributes&&typeof e=="string"){let n=Vh.getAllMatches(e,ZU),r=n.length,s={};for(let o=0;o<r;o++){let a=this.resolveNameSpace(n[o][1]),i=n[o][4],l=this.options.attributeNamePrefix+a;if(a.length)if(this.options.transformAttributeName&&(l=this.options.transformAttributeName(l)),l==="__proto__"&&(l="#__proto__"),i!==void 0){this.options.trimValues&&(i=i.trim()),i=this.replaceEntitiesValue(i);let d=this.options.attributeValueProcessor(a,i,t);d==null?s[l]=i:typeof d!=typeof i||d!==i?s[l]=d:s[l]=Kh(i,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(s[l]=!0)}if(!Object.keys(s).length)return;if(this.options.attributesGroupName){let o={};return o[this.options.attributesGroupName]=s,o}return s}}var ez=function(e){e=e.replace(/\r\n?/g,`
`);let t=new yd("!xml"),n=t,r="",s="";for(let o=0;o<e.length;o++)if(e[o]==="<")if(e[o+1]==="/"){let i=so(e,">",o,"Closing Tag is not closed."),l=e.substring(o+2,i).trim();if(this.options.removeNSPrefix){let d=l.indexOf(":");d!==-1&&(l=l.substr(d+1))}this.options.transformTagName&&(l=this.options.transformTagName(l)),n&&(r=this.saveTextToParentTag(r,n,s)),s=s.substr(0,s.lastIndexOf(".")),n=this.tagsNodeStack.pop(),r="",o=i}else if(e[o+1]==="?"){let i=Hh(e,o,!1,"?>");if(!i)throw new Error("Pi Tag is not closed.");if(r=this.saveTextToParentTag(r,n,s),!(this.options.ignoreDeclaration&&i.tagName==="?xml"||this.options.ignorePiTags)){let l=new yd(i.tagName);l.add(this.options.textNodeName,""),i.tagName!==i.tagExp&&i.attrExpPresent&&(l[":@"]=this.buildAttributesMap(i.tagExp,s)),n.addChild(l)}o=i.closeIndex+1}else if(e.substr(o+1,3)==="!--"){let i=so(e,"-->",o+4,"Comment is not closed.");if(this.options.commentPropName){let l=e.substring(o+4,i-2);r=this.saveTextToParentTag(r,n,s),n.add(this.options.commentPropName,[{[this.options.textNodeName]:l}])}o=i}else if(e.substr(o+1,2)==="!D"){let i=VU(e,o);this.docTypeEntities=i.entities,o=i.i}else if(e.substr(o+1,2)==="!["){let i=so(e,"]]>",o,"CDATA is not closed.")-2,l=e.substring(o+9,i);if(r=this.saveTextToParentTag(r,n,s),this.options.cdataPropName)n.add(this.options.cdataPropName,[{[this.options.textNodeName]:l}]);else{let d=this.parseTextData(l,n.tagname,s,!0,!1,!0);d==null&&(d=""),n.add(this.options.textNodeName,d)}o=i+2}else{let i=Hh(e,o,this.options.removeNSPrefix),l=i.tagName,d=i.tagExp,c=i.attrExpPresent,u=i.closeIndex;this.options.transformTagName&&(l=this.options.transformTagName(l)),n&&r&&n.tagname!=="!xml"&&(r=this.saveTextToParentTag(r,n,s,!1)),l!==t.tagname&&(s+=s?"."+l:l);let m=n;if(m&&this.options.unpairedTags.indexOf(m.tagname)!==-1&&(n=this.tagsNodeStack.pop()),this.isItStopNode(this.options.stopNodes,s,l)){let S="";if(d.length>0&&d.lastIndexOf("/")===d.length-1)o=i.closeIndex;else if(this.options.unpairedTags.indexOf(l)!==-1)o=i.closeIndex;else{let R=this.readStopNodeData(e,l,u+1);if(!R)throw new Error(`Unexpected end of ${l}`);o=R.i,S=R.tagContent}let x=new yd(l);l!==d&&c&&(x[":@"]=this.buildAttributesMap(d,s)),S&&(S=this.parseTextData(S,l,s,!0,c,!0,!0)),s=s.substr(0,s.lastIndexOf(".")),x.add(this.options.textNodeName,S),n.addChild(x)}else{if(d.length>0&&d.lastIndexOf("/")===d.length-1){l[l.length-1]==="/"?(l=l.substr(0,l.length-1),d=l):d=d.substr(0,d.length-1),this.options.transformTagName&&(l=this.options.transformTagName(l));let S=new yd(l);l!==d&&c&&(S[":@"]=this.buildAttributesMap(d,s)),s=s.substr(0,s.lastIndexOf(".")),n.addChild(S)}else{let S=new yd(l);this.tagsNodeStack.push(n),l!==d&&c&&(S[":@"]=this.buildAttributesMap(d,s)),n.addChild(S),n=S}r="",o=u}}else r+=e[o];return t.child},tz=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){let n=this.docTypeEntities[t];e=e.replace(n.regx,n.val)}for(let t in this.lastEntities){let n=this.lastEntities[t];e=e.replace(n.regex,n.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){let n=this.htmlEntities[t];e=e.replace(n.regex,n.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};function nz(e,t,n,r){return e&&(r===void 0&&(r=Object.keys(t.child).length===0),e=this.parseTextData(e,t.tagname,n,!1,t[":@"]?Object.keys(t[":@"]).length!==0:!1,r),e!==void 0&&e!==""&&t.add(this.options.textNodeName,e),e=""),e}function rz(e,t,n){let r="*."+n;for(let s in e){let o=e[s];if(r===o||t===o)return!0}return!1}function sz(e,t,n=">"){let r,s="";for(let o=t;o<e.length;o++){let a=e[o];if(r)a===r&&(r="");else if(a==='"'||a==="'")r=a;else if(a===n[0])if(n[1]){if(e[o+1]===n[1])return{data:s,index:o}}else return{data:s,index:o};else a==="	"&&(a=" ");s+=a}}function so(e,t,n,r){let s=e.indexOf(t,n);if(s===-1)throw new Error(r);return s+t.length-1}function Hh(e,t,n,r=">"){let s=sz(e,t+1,r);if(!s)return;let o=s.data,a=s.index,i=o.search(/\s/),l=o,d=!0;if(i!==-1&&(l=o.substr(0,i).replace(/\s\s*$/,""),o=o.substr(i+1)),n){let c=l.indexOf(":");c!==-1&&(l=l.substr(c+1),d=l!==s.data.substr(c+1))}return{tagName:l,tagExp:o,closeIndex:a,attrExpPresent:d}}function oz(e,t,n){let r=n,s=1;for(;n<e.length;n++)if(e[n]==="<")if(e[n+1]==="/"){let o=so(e,">",n,`${t} is not closed`);if(e.substring(n+2,o).trim()===t&&(s--,s===0))return{tagContent:e.substring(r,n),i:o};n=o}else if(e[n+1]==="?")n=so(e,"?>",n+1,"StopNode is not closed.");else if(e.substr(n+1,3)==="!--")n=so(e,"-->",n+3,"StopNode is not closed.");else if(e.substr(n+1,2)==="![")n=so(e,"]]>",n,"StopNode is not closed.")-2;else{let o=Hh(e,n,">");o&&((o&&o.tagName)===t&&o.tagExp[o.tagExp.length-1]!=="/"&&s++,n=o.closeIndex)}}function Kh(e,t,n){if(t&&typeof e=="string"){let r=e.trim();return r==="true"?!0:r==="false"?!1:WU(e,n)}else return Vh.isExist(e)?e:""}dC.exports=jh});var fC=k(mC=>{"use strict";function iz(e,t){return uC(e,t)}function uC(e,t,n){let r,s={};for(let o=0;o<e.length;o++){let a=e[o],i=az(a),l="";if(n===void 0?l=i:l=n+"."+i,i===t.textNodeName)r===void 0?r=a[i]:r+=""+a[i];else{if(i===void 0)continue;if(a[i]){let d=uC(a[i],t,l),c=dz(d,t);a[":@"]?cz(d,a[":@"],l,t):Object.keys(d).length===1&&d[t.textNodeName]!==void 0&&!t.alwaysCreateTextNode?d=d[t.textNodeName]:Object.keys(d).length===0&&(t.alwaysCreateTextNode?d[t.textNodeName]="":d=""),s[i]!==void 0&&s.hasOwnProperty(i)?(Array.isArray(s[i])||(s[i]=[s[i]]),s[i].push(d)):t.isArray(i,l,c)?s[i]=[d]:s[i]=d}}}return typeof r=="string"?r.length>0&&(s[t.textNodeName]=r):r!==void 0&&(s[t.textNodeName]=r),s}function az(e){let t=Object.keys(e);for(let n=0;n<t.length;n++){let r=t[n];if(r!==":@")return r}}function cz(e,t,n,r){if(t){let s=Object.keys(t),o=s.length;for(let a=0;a<o;a++){let i=s[a];r.isArray(i,n+"."+i,!0,!0)?e[i]=[t[i]]:e[i]=t[i]}}}function dz(e,t){let n=Object.keys(e).length;return!!(n===0||n===1&&e[t.textNodeName])}mC.prettify=iz});var pC=k((ate,hC)=>{var{buildOptions:lz}=nC(),uz=lC(),{prettify:mz}=fC(),fz=$h(),Wh=class{constructor(t){this.externalEntities={},this.options=lz(t)}parse(t,n){if(typeof t!="string")if(t.toString)t=t.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(n){n===!0&&(n={});let o=fz.validate(t,n);if(o!==!0)throw Error(`${o.err.msg}:${o.err.line}:${o.err.col}`)}let r=new uz(this.options);r.addExternalEntities(this.externalEntities);let s=r.parseXml(t);return this.options.preserveOrder||s===void 0?s:mz(s,this.options)}addEntity(t,n){if(n.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(t.indexOf("&")!==-1||t.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(n==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=n}};hC.exports=Wh});var SC=k((cte,xC)=>{var hz=`
`;function pz(e,t){let n="";return t.format&&t.indentBy.length>0&&(n=hz),gC(e,t,"",n)}function gC(e,t,n,r){let s="",o=!1;for(let a=0;a<e.length;a++){let i=e[a],l=yz(i),d="";if(n.length===0?d=l:d=`${n}.${l}`,l===t.textNodeName){let x=i[l];gz(d,t)||(x=t.tagValueProcessor(l,x),x=EC(x,t)),o&&(s+=r),s+=x,o=!1;continue}else if(l===t.cdataPropName){o&&(s+=r),s+=`<![CDATA[${i[l][0][t.textNodeName]}]]>`,o=!1;continue}else if(l===t.commentPropName){s+=r+`<!--${i[l][0][t.textNodeName]}-->`,o=!0;continue}else if(l[0]==="?"){let x=yC(i[":@"],t),R=l==="?xml"?"":r,D=i[l][0][t.textNodeName];D=D.length!==0?" "+D:"",s+=R+`<${l}${D}${x}?>`,o=!0;continue}let c=r;c!==""&&(c+=t.indentBy);let u=yC(i[":@"],t),m=r+`<${l}${u}`,S=gC(i[l],t,d,c);t.unpairedTags.indexOf(l)!==-1?t.suppressUnpairedNode?s+=m+">":s+=m+"/>":(!S||S.length===0)&&t.suppressEmptyNode?s+=m+"/>":S&&S.endsWith(">")?s+=m+`>${S}${r}</${l}>`:(s+=m+">",S&&r!==""&&(S.includes("/>")||S.includes("</"))?s+=r+t.indentBy+S+r:s+=S,s+=`</${l}>`),o=!0}return s}function yz(e){let t=Object.keys(e);for(let n=0;n<t.length;n++){let r=t[n];if(r!==":@")return r}}function yC(e,t){let n="";if(e&&!t.ignoreAttributes)for(let r in e){let s=t.attributeValueProcessor(r,e[r]);s=EC(s,t),s===!0&&t.suppressBooleanAttributes?n+=` ${r.substr(t.attributeNamePrefix.length)}`:n+=` ${r.substr(t.attributeNamePrefix.length)}="${s}"`}return n}function gz(e,t){e=e.substr(0,e.length-t.textNodeName.length-1);let n=e.substr(e.lastIndexOf(".")+1);for(let r in t.stopNodes)if(t.stopNodes[r]===e||t.stopNodes[r]==="*."+n)return!0;return!1}function EC(e,t){if(e&&e.length>0&&t.processEntities)for(let n=0;n<t.entities.length;n++){let r=t.entities[n];e=e.replace(r.regex,r.val)}return e}xC.exports=pz});var CC=k((dte,wC)=>{"use strict";var Ez=SC(),xz={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[]};function Jr(e){this.options=Object.assign({},xz,e),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=Cz),this.processTextOrObjNode=Sz,this.options.format?(this.indentate=wz,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}Jr.prototype.build=function(e){return this.options.preserveOrder?Ez(e,this.options):(Array.isArray(e)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(e={[this.options.arrayNodeName]:e}),this.j2x(e,0).val)};Jr.prototype.j2x=function(e,t){let n="",r="";for(let s in e)if(!(typeof e[s]>"u"))if(e[s]===null)s[0]==="?"?r+=this.indentate(t)+"<"+s+"?"+this.tagEndChar:r+=this.indentate(t)+"<"+s+"/"+this.tagEndChar;else if(e[s]instanceof Date)r+=this.buildTextValNode(e[s],s,"",t);else if(typeof e[s]!="object"){let o=this.isAttribute(s);if(o)n+=this.buildAttrPairStr(o,""+e[s]);else if(s===this.options.textNodeName){let a=this.options.tagValueProcessor(s,""+e[s]);r+=this.replaceEntitiesValue(a)}else r+=this.buildTextValNode(e[s],s,"",t)}else if(Array.isArray(e[s])){let o=e[s].length;for(let a=0;a<o;a++){let i=e[s][a];typeof i>"u"||(i===null?s[0]==="?"?r+=this.indentate(t)+"<"+s+"?"+this.tagEndChar:r+=this.indentate(t)+"<"+s+"/"+this.tagEndChar:typeof i=="object"?r+=this.processTextOrObjNode(i,s,t):r+=this.buildTextValNode(i,s,"",t))}}else if(this.options.attributesGroupName&&s===this.options.attributesGroupName){let o=Object.keys(e[s]),a=o.length;for(let i=0;i<a;i++)n+=this.buildAttrPairStr(o[i],""+e[s][o[i]])}else r+=this.processTextOrObjNode(e[s],s,t);return{attrStr:n,val:r}};Jr.prototype.buildAttrPairStr=function(e,t){return t=this.options.attributeValueProcessor(e,""+t),t=this.replaceEntitiesValue(t),this.options.suppressBooleanAttributes&&t==="true"?" "+e:" "+e+'="'+t+'"'};function Sz(e,t,n){let r=this.j2x(e,n+1);return e[this.options.textNodeName]!==void 0&&Object.keys(e).length===1?this.buildTextValNode(e[this.options.textNodeName],t,r.attrStr,n):this.buildObjectNode(r.val,t,r.attrStr,n)}Jr.prototype.buildObjectNode=function(e,t,n,r){if(e==="")return t[0]==="?"?this.indentate(r)+"<"+t+n+"?"+this.tagEndChar:this.indentate(r)+"<"+t+n+this.closeTag(t)+this.tagEndChar;{let s="</"+t+this.tagEndChar,o="";return t[0]==="?"&&(o="?",s=""),n&&e.indexOf("<")===-1?this.indentate(r)+"<"+t+n+o+">"+e+s:this.options.commentPropName!==!1&&t===this.options.commentPropName&&o.length===0?this.indentate(r)+`<!--${e}-->`+this.newLine:this.indentate(r)+"<"+t+n+o+this.tagEndChar+e+this.indentate(r)+s}};Jr.prototype.closeTag=function(e){let t="";return this.options.unpairedTags.indexOf(e)!==-1?this.options.suppressUnpairedNode||(t="/"):this.options.suppressEmptyNode?t="/":t=`></${e}`,t};Jr.prototype.buildTextValNode=function(e,t,n,r){if(this.options.cdataPropName!==!1&&t===this.options.cdataPropName)return this.indentate(r)+`<![CDATA[${e}]]>`+this.newLine;if(this.options.commentPropName!==!1&&t===this.options.commentPropName)return this.indentate(r)+`<!--${e}-->`+this.newLine;if(t[0]==="?")return this.indentate(r)+"<"+t+n+"?"+this.tagEndChar;{let s=this.options.tagValueProcessor(t,e);return s=this.replaceEntitiesValue(s),s===""?this.indentate(r)+"<"+t+n+this.closeTag(t)+this.tagEndChar:this.indentate(r)+"<"+t+n+">"+s+"</"+t+this.tagEndChar}};Jr.prototype.replaceEntitiesValue=function(e){if(e&&e.length>0&&this.options.processEntities)for(let t=0;t<this.options.entities.length;t++){let n=this.options.entities[t];e=e.replace(n.regex,n.val)}return e};function wz(e){return this.options.indentBy.repeat(e)}function Cz(e){return e.startsWith(this.options.attributeNamePrefix)?e.substr(this.attrPrefixLen):!1}wC.exports=Jr});var Yh=k((lte,bC)=>{"use strict";var bz=$h(),Pz=pC(),_z=CC();bC.exports={XMLParser:Pz,XMLValidator:bz,XMLBuilder:_z}});var op={};zo(op,{__assign:()=>rp,__asyncDelegator:()=>n6,__asyncGenerator:()=>t6,__asyncValues:()=>r6,__await:()=>xd,__awaiter:()=>YH,__classPrivateFieldGet:()=>a6,__classPrivateFieldSet:()=>c6,__createBinding:()=>QH,__decorate:()=>KH,__exportStar:()=>ZH,__extends:()=>jH,__generator:()=>XH,__importDefault:()=>i6,__importStar:()=>o6,__makeTemplateObject:()=>s6,__metadata:()=>WH,__param:()=>VH,__read:()=>wk,__rest:()=>HH,__spread:()=>JH,__spreadArrays:()=>e6,__values:()=>sp});function jH(e,t){np(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function HH(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function KH(e,t,n,r){var s=arguments.length,o=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,n,r);else for(var i=e.length-1;i>=0;i--)(a=e[i])&&(o=(s<3?a(o):s>3?a(t,n,o):a(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o}function VH(e,t){return function(n,r){t(n,r,e)}}function WH(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function YH(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function i(c){try{d(r.next(c))}catch(u){a(u)}}function l(c){try{d(r.throw(c))}catch(u){a(u)}}function d(c){c.done?o(c.value):s(c.value).then(i,l)}d((r=r.apply(e,t||[])).next())})}function XH(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,a;return a={next:i(0),throw:i(1),return:i(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function i(d){return function(c){return l([d,c])}}function l(d){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(o=d[0]&2?s.return:d[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,d[1])).done)return o;switch(s=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,s=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){n.label=d[1];break}if(d[0]===6&&n.label<o[1]){n.label=o[1],o=d;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(d);break}o[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(c){d=[6,c],s=0}finally{r=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function QH(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}function ZH(e,t){for(var n in e)n!=="default"&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function sp(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function wk(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),s,o=[],a;try{for(;(t===void 0||t-- >0)&&!(s=r.next()).done;)o.push(s.value)}catch(i){a={error:i}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o}function JH(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(wk(arguments[t]));return e}function e6(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),s=0,t=0;t<n;t++)for(var o=arguments[t],a=0,i=o.length;a<i;a++,s++)r[s]=o[a];return r}function xd(e){return this instanceof xd?(this.v=e,this):new xd(e)}function t6(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),s,o=[];return s={},a("next"),a("throw"),a("return"),s[Symbol.asyncIterator]=function(){return this},s;function a(m){r[m]&&(s[m]=function(S){return new Promise(function(x,R){o.push([m,S,x,R])>1||i(m,S)})})}function i(m,S){try{l(r[m](S))}catch(x){u(o[0][3],x)}}function l(m){m.value instanceof xd?Promise.resolve(m.value.v).then(d,c):u(o[0][2],m)}function d(m){i("next",m)}function c(m){i("throw",m)}function u(m,S){m(S),o.shift(),o.length&&i(o[0][0],o[0][1])}}function n6(e){var t,n;return t={},r("next"),r("throw",function(s){throw s}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(s,o){t[s]=e[s]?function(a){return(n=!n)?{value:xd(e[s](a)),done:s==="return"}:o?o(a):a}:o}}function r6(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof sp=="function"?sp(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(a){return new Promise(function(i,l){a=e[o](a),s(i,l,a.done,a.value)})}}function s(o,a,i,l){Promise.resolve(l).then(function(d){o({value:d,done:i})},a)}}function s6(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function o6(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i6(e){return e&&e.__esModule?e:{default:e}}function a6(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function c6(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}var np,rp,ip=it(()=>{np=function(e,t){return np=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},np(e,t)};rp=function(){return rp=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},rp.apply(this,arguments)}});var Ck,bk,Pk=it(()=>{Ck=e=>{let t=[];for(let n=0,r=e.length;n<r;n++){let s=e.charCodeAt(n);if(s<128)t.push(s);else if(s<2048)t.push(s>>6|192,s&63|128);else if(n+1<e.length&&(s&64512)===55296&&(e.charCodeAt(n+1)&64512)===56320){let o=65536+((s&1023)<<10)+(e.charCodeAt(++n)&1023);t.push(o>>18|240,o>>12&63|128,o>>6&63|128,o&63|128)}else t.push(s>>12|224,s>>6&63|128,s&63|128)}return Uint8Array.from(t)},bk=e=>{let t="";for(let n=0,r=e.length;n<r;n++){let s=e[n];if(s<128)t+=String.fromCharCode(s);else if(192<=s&&s<224){let o=e[++n];t+=String.fromCharCode((s&31)<<6|o&63)}else if(240<=s&&s<365){let a="%"+[s,e[++n],e[++n],e[++n]].map(i=>i.toString(16)).join("%");t+=decodeURIComponent(a)}else t+=String.fromCharCode((s&15)<<12|(e[++n]&63)<<6|e[++n]&63)}return t}});function _k(e){return new TextEncoder().encode(e)}function Ak(e){return new TextDecoder("utf-8").decode(e)}var kk=it(()=>{});var Rk={};zo(Rk,{fromUtf8:()=>d6,toUtf8:()=>l6});var d6,l6,Ik=it(()=>{Pk();kk();d6=e=>typeof TextEncoder=="function"?_k(e):Ck(e),l6=e=>typeof TextDecoder=="function"?Ak(e):bk(e)});var Nk=k(Xl=>{"use strict";Object.defineProperty(Xl,"__esModule",{value:!0});Xl.convertToBuffer=void 0;var u6=(Ik(),$o(Rk)),m6=typeof Buffer<"u"&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:u6.fromUtf8;function f6(e){return e instanceof Uint8Array?e:typeof e=="string"?m6(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}Xl.convertToBuffer=f6});var Tk=k(Ql=>{"use strict";Object.defineProperty(Ql,"__esModule",{value:!0});Ql.isEmptyData=void 0;function h6(e){return typeof e=="string"?e.length===0:e.byteLength===0}Ql.isEmptyData=h6});var vk=k(Zl=>{"use strict";Object.defineProperty(Zl,"__esModule",{value:!0});Zl.numToUint8=void 0;function p6(e){return new Uint8Array([(e&4278190080)>>24,(e&16711680)>>16,(e&65280)>>8,e&255])}Zl.numToUint8=p6});var Dk=k(Jl=>{"use strict";Object.defineProperty(Jl,"__esModule",{value:!0});Jl.uint32ArrayFrom=void 0;function y6(e){if(!Uint32Array.from){for(var t=new Uint32Array(e.length),n=0;n<e.length;)t[n]=e[n],n+=1;return t}return Uint32Array.from(e)}Jl.uint32ArrayFrom=y6});var Sd=k(Ln=>{"use strict";Object.defineProperty(Ln,"__esModule",{value:!0});Ln.uint32ArrayFrom=Ln.numToUint8=Ln.isEmptyData=Ln.convertToBuffer=void 0;var g6=Nk();Object.defineProperty(Ln,"convertToBuffer",{enumerable:!0,get:function(){return g6.convertToBuffer}});var E6=Tk();Object.defineProperty(Ln,"isEmptyData",{enumerable:!0,get:function(){return E6.isEmptyData}});var x6=vk();Object.defineProperty(Ln,"numToUint8",{enumerable:!0,get:function(){return x6.numToUint8}});var S6=Dk();Object.defineProperty(Ln,"uint32ArrayFrom",{enumerable:!0,get:function(){return S6.uint32ArrayFrom}})});var Fk=k(eu=>{"use strict";Object.defineProperty(eu,"__esModule",{value:!0});eu.AwsCrc32=void 0;var Bk=(ip(),$o(op)),ap=Sd(),Ok=wd(),w6=function(){function e(){this.crc32=new Ok.Crc32}return e.prototype.update=function(t){(0,ap.isEmptyData)(t)||this.crc32.update((0,ap.convertToBuffer)(t))},e.prototype.digest=function(){return Bk.__awaiter(this,void 0,void 0,function(){return Bk.__generator(this,function(t){return[2,(0,ap.numToUint8)(this.crc32.digest())]})})},e.prototype.reset=function(){this.crc32=new Ok.Crc32},e}();eu.AwsCrc32=w6});var wd=k(rs=>{"use strict";Object.defineProperty(rs,"__esModule",{value:!0});rs.AwsCrc32=rs.Crc32=rs.crc32=void 0;var C6=(ip(),$o(op)),b6=Sd();function P6(e){return new Mk().update(e).digest()}rs.crc32=P6;var Mk=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(t){var n,r;try{for(var s=C6.__values(t),o=s.next();!o.done;o=s.next()){var a=o.value;this.checksum=this.checksum>>>8^A6[(this.checksum^a)&255]}}catch(i){n={error:i}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return this},e.prototype.digest=function(){return(this.checksum^4294967295)>>>0},e}();rs.Crc32=Mk;var _6=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],A6=(0,b6.uint32ArrayFrom)(_6),k6=Fk();Object.defineProperty(rs,"AwsCrc32",{enumerable:!0,get:function(){return k6.AwsCrc32}})});var up={};zo(up,{__assign:()=>dp,__asyncDelegator:()=>z6,__asyncGenerator:()=>U6,__asyncValues:()=>$6,__await:()=>Cd,__awaiter:()=>D6,__classPrivateFieldGet:()=>H6,__classPrivateFieldSet:()=>K6,__createBinding:()=>O6,__decorate:()=>N6,__exportStar:()=>F6,__extends:()=>R6,__generator:()=>B6,__importDefault:()=>j6,__importStar:()=>G6,__makeTemplateObject:()=>q6,__metadata:()=>v6,__param:()=>T6,__read:()=>Lk,__rest:()=>I6,__spread:()=>M6,__spreadArrays:()=>L6,__values:()=>lp});function R6(e,t){cp(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function I6(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function N6(e,t,n,r){var s=arguments.length,o=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,n,r);else for(var i=e.length-1;i>=0;i--)(a=e[i])&&(o=(s<3?a(o):s>3?a(t,n,o):a(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o}function T6(e,t){return function(n,r){t(n,r,e)}}function v6(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function D6(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function i(c){try{d(r.next(c))}catch(u){a(u)}}function l(c){try{d(r.throw(c))}catch(u){a(u)}}function d(c){c.done?o(c.value):s(c.value).then(i,l)}d((r=r.apply(e,t||[])).next())})}function B6(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,a;return a={next:i(0),throw:i(1),return:i(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function i(d){return function(c){return l([d,c])}}function l(d){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(o=d[0]&2?s.return:d[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,d[1])).done)return o;switch(s=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,s=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){n.label=d[1];break}if(d[0]===6&&n.label<o[1]){n.label=o[1],o=d;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(d);break}o[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(c){d=[6,c],s=0}finally{r=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function O6(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}function F6(e,t){for(var n in e)n!=="default"&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function lp(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Lk(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),s,o=[],a;try{for(;(t===void 0||t-- >0)&&!(s=r.next()).done;)o.push(s.value)}catch(i){a={error:i}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o}function M6(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Lk(arguments[t]));return e}function L6(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),s=0,t=0;t<n;t++)for(var o=arguments[t],a=0,i=o.length;a<i;a++,s++)r[s]=o[a];return r}function Cd(e){return this instanceof Cd?(this.v=e,this):new Cd(e)}function U6(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),s,o=[];return s={},a("next"),a("throw"),a("return"),s[Symbol.asyncIterator]=function(){return this},s;function a(m){r[m]&&(s[m]=function(S){return new Promise(function(x,R){o.push([m,S,x,R])>1||i(m,S)})})}function i(m,S){try{l(r[m](S))}catch(x){u(o[0][3],x)}}function l(m){m.value instanceof Cd?Promise.resolve(m.value.v).then(d,c):u(o[0][2],m)}function d(m){i("next",m)}function c(m){i("throw",m)}function u(m,S){m(S),o.shift(),o.length&&i(o[0][0],o[0][1])}}function z6(e){var t,n;return t={},r("next"),r("throw",function(s){throw s}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(s,o){t[s]=e[s]?function(a){return(n=!n)?{value:Cd(e[s](a)),done:s==="return"}:o?o(a):a}:o}}function $6(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof lp=="function"?lp(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(a){return new Promise(function(i,l){a=e[o](a),s(i,l,a.done,a.value)})}}function s(o,a,i,l){Promise.resolve(l).then(function(d){o({value:d,done:i})},a)}}function q6(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function G6(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function j6(e){return e&&e.__esModule?e:{default:e}}function H6(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function K6(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}var cp,dp,mp=it(()=>{cp=function(e,t){return cp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},cp(e,t)};dp=function(){return dp=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},dp.apply(this,arguments)}});var $k=k(tu=>{"use strict";Object.defineProperty(tu,"__esModule",{value:!0});tu.AwsCrc32c=void 0;var Uk=(mp(),$o(up)),fp=Sd(),zk=hp(),V6=function(){function e(){this.crc32c=new zk.Crc32c}return e.prototype.update=function(t){(0,fp.isEmptyData)(t)||this.crc32c.update((0,fp.convertToBuffer)(t))},e.prototype.digest=function(){return Uk.__awaiter(this,void 0,void 0,function(){return Uk.__generator(this,function(t){return[2,(0,fp.numToUint8)(this.crc32c.digest())]})})},e.prototype.reset=function(){this.crc32c=new zk.Crc32c},e}();tu.AwsCrc32c=V6});var hp=k(ss=>{"use strict";Object.defineProperty(ss,"__esModule",{value:!0});ss.AwsCrc32c=ss.Crc32c=ss.crc32c=void 0;var W6=(mp(),$o(up)),Y6=Sd();function X6(e){return new qk().update(e).digest()}ss.crc32c=X6;var qk=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(t){var n,r;try{for(var s=W6.__values(t),o=s.next();!o.done;o=s.next()){var a=o.value;this.checksum=this.checksum>>>8^Z6[(this.checksum^a)&255]}}catch(i){n={error:i}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return this},e.prototype.digest=function(){return(this.checksum^4294967295)>>>0},e}();ss.Crc32c=qk;var Q6=[0,4067132163,3778769143,324072436,3348797215,904991772,648144872,3570033899,2329499855,2024987596,1809983544,2575936315,1296289744,3207089363,2893594407,1578318884,274646895,3795141740,4049975192,51262619,3619967088,632279923,922689671,3298075524,2592579488,1760304291,2075979607,2312596564,1562183871,2943781820,3156637768,1313733451,549293790,3537243613,3246849577,871202090,3878099393,357341890,102525238,4101499445,2858735121,1477399826,1264559846,3107202533,1845379342,2677391885,2361733625,2125378298,820201905,3263744690,3520608582,598981189,4151959214,85089709,373468761,3827903834,3124367742,1213305469,1526817161,2842354314,2107672161,2412447074,2627466902,1861252501,1098587580,3004210879,2688576843,1378610760,2262928035,1955203488,1742404180,2511436119,3416409459,969524848,714683780,3639785095,205050476,4266873199,3976438427,526918040,1361435347,2739821008,2954799652,1114974503,2529119692,1691668175,2005155131,2247081528,3690758684,697762079,986182379,3366744552,476452099,3993867776,4250756596,255256311,1640403810,2477592673,2164122517,1922457750,2791048317,1412925310,1197962378,3037525897,3944729517,427051182,170179418,4165941337,746937522,3740196785,3451792453,1070968646,1905808397,2213795598,2426610938,1657317369,3053634322,1147748369,1463399397,2773627110,4215344322,153784257,444234805,3893493558,1021025245,3467647198,3722505002,797665321,2197175160,1889384571,1674398607,2443626636,1164749927,3070701412,2757221520,1446797203,137323447,4198817972,3910406976,461344835,3484808360,1037989803,781091935,3705997148,2460548119,1623424788,1939049696,2180517859,1429367560,2807687179,3020495871,1180866812,410100952,3927582683,4182430767,186734380,3756733383,763408580,1053836080,3434856499,2722870694,1344288421,1131464017,2971354706,1708204729,2545590714,2229949006,1988219213,680717673,3673779818,3383336350,1002577565,4010310262,493091189,238226049,4233660802,2987750089,1082061258,1395524158,2705686845,1972364758,2279892693,2494862625,1725896226,952904198,3399985413,3656866545,731699698,4283874585,222117402,510512622,3959836397,3280807620,837199303,582374963,3504198960,68661723,4135334616,3844915500,390545967,1230274059,3141532936,2825850620,1510247935,2395924756,2091215383,1878366691,2644384480,3553878443,565732008,854102364,3229815391,340358836,3861050807,4117890627,119113024,1493875044,2875275879,3090270611,1247431312,2660249211,1828433272,2141937292,2378227087,3811616794,291187481,34330861,4032846830,615137029,3603020806,3314634738,939183345,1776939221,2609017814,2295496738,2058945313,2926798794,1545135305,1330124605,3173225534,4084100981,17165430,307568514,3762199681,888469610,3332340585,3587147933,665062302,2042050490,2346497209,2559330125,1793573966,3190661285,1279665062,1595330642,2910671697],Z6=(0,Y6.uint32ArrayFrom)(Q6),J6=$k();Object.defineProperty(ss,"AwsCrc32c",{enumerable:!0,get:function(){return J6.AwsCrc32c}})});var Rc=k((yDe,Hv)=>{"use strict";var jv=new Map([["C","cwd"],["f","file"],["z","gzip"],["P","preservePaths"],["U","unlink"],["strip-components","strip"],["stripComponents","strip"],["keep-newer","newer"],["keepNewer","newer"],["keep-newer-files","newer"],["keepNewerFiles","newer"],["k","keep"],["keep-existing","keep"],["keepExisting","keep"],["m","noMtime"],["no-mtime","noMtime"],["p","preserveOwner"],["L","follow"],["h","follow"]]);Hv.exports=e=>e?Object.keys(e).map(t=>[jv.has(t)?jv.get(t):t,e[t]]).reduce((t,n)=>(t[n[0]]=n[1],t),Object.create(null)):{}});var km=k((gDe,tD)=>{"use strict";var Kv=typeof process=="object"&&process?process:{stdout:null,stderr:null},N8=require("events"),Vv=require("stream"),T8=require("string_decoder"),Wv=T8.StringDecoder,br=Symbol("EOF"),Pr=Symbol("maybeEmitEnd"),Fs=Symbol("emittedEnd"),wm=Symbol("emittingEnd"),Xd=Symbol("emittedError"),Cm=Symbol("closed"),Yv=Symbol("read"),bm=Symbol("flush"),Xv=Symbol("flushChunk"),Wt=Symbol("encoding"),_r=Symbol("decoder"),Pm=Symbol("flowing"),Qd=Symbol("paused"),Ic=Symbol("resume"),nt=Symbol("buffer"),Zn=Symbol("pipes"),yt=Symbol("bufferLength"),Gy=Symbol("bufferPush"),jy=Symbol("bufferShift"),Pt=Symbol("objectMode"),rt=Symbol("destroyed"),Hy=Symbol("error"),Ky=Symbol("emitData"),Qv=Symbol("emitEnd"),Vy=Symbol("emitEnd2"),Ar=Symbol("async"),Wy=Symbol("abort"),_m=Symbol("aborted"),xo=Symbol("signal"),Zd=e=>Promise.resolve().then(e),eD=global._MP_NO_ITERATOR_SYMBOLS_!=="1",Zv=eD&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),Jv=eD&&Symbol.iterator||Symbol("iterator not implemented"),v8=e=>e==="end"||e==="finish"||e==="prefinish",D8=e=>e instanceof ArrayBuffer||typeof e=="object"&&e.constructor&&e.constructor.name==="ArrayBuffer"&&e.byteLength>=0,B8=e=>!Buffer.isBuffer(e)&&ArrayBuffer.isView(e),Am=class{constructor(t,n,r){this.src=t,this.dest=n,this.opts=r,this.ondrain=()=>t[Ic](),n.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},Yy=class extends Am{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(t,n,r){super(t,n,r),this.proxyErrors=s=>n.emit("error",s),t.on("error",this.proxyErrors)}},Jd=class extends Vv{constructor(t){super(),this[Pm]=!1,this[Qd]=!1,this[Zn]=[],this[nt]=[],this[Pt]=t&&t.objectMode||!1,this[Pt]?this[Wt]=null:this[Wt]=t&&t.encoding||null,this[Wt]==="buffer"&&(this[Wt]=null),this[Ar]=t&&!!t.async||!1,this[_r]=this[Wt]?new Wv(this[Wt]):null,this[br]=!1,this[Fs]=!1,this[wm]=!1,this[Cm]=!1,this[Xd]=null,this.writable=!0,this.readable=!0,this[yt]=0,this[rt]=!1,t&&t.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[nt]}),t&&t.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[Zn]}),this[xo]=t&&t.signal,this[_m]=!1,this[xo]&&(this[xo].addEventListener("abort",()=>this[Wy]()),this[xo].aborted&&this[Wy]())}get bufferLength(){return this[yt]}get encoding(){return this[Wt]}set encoding(t){if(this[Pt])throw new Error("cannot set encoding in objectMode");if(this[Wt]&&t!==this[Wt]&&(this[_r]&&this[_r].lastNeed||this[yt]))throw new Error("cannot change encoding");this[Wt]!==t&&(this[_r]=t?new Wv(t):null,this[nt].length&&(this[nt]=this[nt].map(n=>this[_r].write(n)))),this[Wt]=t}setEncoding(t){this.encoding=t}get objectMode(){return this[Pt]}set objectMode(t){this[Pt]=this[Pt]||!!t}get async(){return this[Ar]}set async(t){this[Ar]=this[Ar]||!!t}[Wy](){this[_m]=!0,this.emit("abort",this[xo].reason),this.destroy(this[xo].reason)}get aborted(){return this[_m]}set aborted(t){}write(t,n,r){if(this[_m])return!1;if(this[br])throw new Error("write after end");if(this[rt])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof n=="function"&&(r=n,n="utf8"),n||(n="utf8");let s=this[Ar]?Zd:o=>o();return!this[Pt]&&!Buffer.isBuffer(t)&&(B8(t)?t=Buffer.from(t.buffer,t.byteOffset,t.byteLength):D8(t)?t=Buffer.from(t):typeof t!="string"&&(this.objectMode=!0)),this[Pt]?(this.flowing&&this[yt]!==0&&this[bm](!0),this.flowing?this.emit("data",t):this[Gy](t),this[yt]!==0&&this.emit("readable"),r&&s(r),this.flowing):t.length?(typeof t=="string"&&!(n===this[Wt]&&!this[_r].lastNeed)&&(t=Buffer.from(t,n)),Buffer.isBuffer(t)&&this[Wt]&&(t=this[_r].write(t)),this.flowing&&this[yt]!==0&&this[bm](!0),this.flowing?this.emit("data",t):this[Gy](t),this[yt]!==0&&this.emit("readable"),r&&s(r),this.flowing):(this[yt]!==0&&this.emit("readable"),r&&s(r),this.flowing)}read(t){if(this[rt])return null;if(this[yt]===0||t===0||t>this[yt])return this[Pr](),null;this[Pt]&&(t=null),this[nt].length>1&&!this[Pt]&&(this.encoding?this[nt]=[this[nt].join("")]:this[nt]=[Buffer.concat(this[nt],this[yt])]);let n=this[Yv](t||null,this[nt][0]);return this[Pr](),n}[Yv](t,n){return t===n.length||t===null?this[jy]():(this[nt][0]=n.slice(t),n=n.slice(0,t),this[yt]-=t),this.emit("data",n),!this[nt].length&&!this[br]&&this.emit("drain"),n}end(t,n,r){return typeof t=="function"&&(r=t,t=null),typeof n=="function"&&(r=n,n="utf8"),t&&this.write(t,n),r&&this.once("end",r),this[br]=!0,this.writable=!1,(this.flowing||!this[Qd])&&this[Pr](),this}[Ic](){this[rt]||(this[Qd]=!1,this[Pm]=!0,this.emit("resume"),this[nt].length?this[bm]():this[br]?this[Pr]():this.emit("drain"))}resume(){return this[Ic]()}pause(){this[Pm]=!1,this[Qd]=!0}get destroyed(){return this[rt]}get flowing(){return this[Pm]}get paused(){return this[Qd]}[Gy](t){this[Pt]?this[yt]+=1:this[yt]+=t.length,this[nt].push(t)}[jy](){return this[Pt]?this[yt]-=1:this[yt]-=this[nt][0].length,this[nt].shift()}[bm](t){do;while(this[Xv](this[jy]())&&this[nt].length);!t&&!this[nt].length&&!this[br]&&this.emit("drain")}[Xv](t){return this.emit("data",t),this.flowing}pipe(t,n){if(this[rt])return;let r=this[Fs];return n=n||{},t===Kv.stdout||t===Kv.stderr?n.end=!1:n.end=n.end!==!1,n.proxyErrors=!!n.proxyErrors,r?n.end&&t.end():(this[Zn].push(n.proxyErrors?new Yy(this,t,n):new Am(this,t,n)),this[Ar]?Zd(()=>this[Ic]()):this[Ic]()),t}unpipe(t){let n=this[Zn].find(r=>r.dest===t);n&&(this[Zn].splice(this[Zn].indexOf(n),1),n.unpipe())}addListener(t,n){return this.on(t,n)}on(t,n){let r=super.on(t,n);return t==="data"&&!this[Zn].length&&!this.flowing?this[Ic]():t==="readable"&&this[yt]!==0?super.emit("readable"):v8(t)&&this[Fs]?(super.emit(t),this.removeAllListeners(t)):t==="error"&&this[Xd]&&(this[Ar]?Zd(()=>n.call(this,this[Xd])):n.call(this,this[Xd])),r}get emittedEnd(){return this[Fs]}[Pr](){!this[wm]&&!this[Fs]&&!this[rt]&&this[nt].length===0&&this[br]&&(this[wm]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[Cm]&&this.emit("close"),this[wm]=!1)}emit(t,n,...r){if(t!=="error"&&t!=="close"&&t!==rt&&this[rt])return;if(t==="data")return!this[Pt]&&!n?!1:this[Ar]?Zd(()=>this[Ky](n)):this[Ky](n);if(t==="end")return this[Qv]();if(t==="close"){if(this[Cm]=!0,!this[Fs]&&!this[rt])return;let o=super.emit("close");return this.removeAllListeners("close"),o}else if(t==="error"){this[Xd]=n,super.emit(Hy,n);let o=!this[xo]||this.listeners("error").length?super.emit("error",n):!1;return this[Pr](),o}else if(t==="resume"){let o=super.emit("resume");return this[Pr](),o}else if(t==="finish"||t==="prefinish"){let o=super.emit(t);return this.removeAllListeners(t),o}let s=super.emit(t,n,...r);return this[Pr](),s}[Ky](t){for(let r of this[Zn])r.dest.write(t)===!1&&this.pause();let n=super.emit("data",t);return this[Pr](),n}[Qv](){this[Fs]||(this[Fs]=!0,this.readable=!1,this[Ar]?Zd(()=>this[Vy]()):this[Vy]())}[Vy](){if(this[_r]){let n=this[_r].end();if(n){for(let r of this[Zn])r.dest.write(n);super.emit("data",n)}}for(let n of this[Zn])n.end();let t=super.emit("end");return this.removeAllListeners("end"),t}collect(){let t=[];this[Pt]||(t.dataLength=0);let n=this.promise();return this.on("data",r=>{t.push(r),this[Pt]||(t.dataLength+=r.length)}),n.then(()=>t)}concat(){return this[Pt]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(t=>this[Pt]?Promise.reject(new Error("cannot concat in objectMode")):this[Wt]?t.join(""):Buffer.concat(t,t.dataLength))}promise(){return new Promise((t,n)=>{this.on(rt,()=>n(new Error("stream destroyed"))),this.on("error",r=>n(r)),this.on("end",()=>t())})}[Zv](){let t=!1,n=()=>(this.pause(),t=!0,Promise.resolve({done:!0}));return{next:()=>{if(t)return n();let s=this.read();if(s!==null)return Promise.resolve({done:!1,value:s});if(this[br])return n();let o=null,a=null,i=u=>{this.removeListener("data",l),this.removeListener("end",d),this.removeListener(rt,c),n(),a(u)},l=u=>{this.removeListener("error",i),this.removeListener("end",d),this.removeListener(rt,c),this.pause(),o({value:u,done:!!this[br]})},d=()=>{this.removeListener("error",i),this.removeListener("data",l),this.removeListener(rt,c),n(),o({done:!0})},c=()=>i(new Error("stream destroyed"));return new Promise((u,m)=>{a=m,o=u,this.once(rt,c),this.once("error",i),this.once("end",d),this.once("data",l)})},throw:n,return:n,[Zv](){return this}}}[Jv](){let t=!1,n=()=>(this.pause(),this.removeListener(Hy,n),this.removeListener(rt,n),this.removeListener("end",n),t=!0,{done:!0}),r=()=>{if(t)return n();let s=this.read();return s===null?n():{value:s}};return this.once("end",n),this.once(Hy,n),this.once(rt,n),{next:r,throw:n,return:n,[Jv](){return this}}}destroy(t){return this[rt]?(t?this.emit("error",t):this.emit(rt),this):(this[rt]=!0,this[nt].length=0,this[yt]=0,typeof this.close=="function"&&!this[Cm]&&this.close(),t?this.emit("error",t):this.emit(rt),this)}static isStream(t){return!!t&&(t instanceof Jd||t instanceof Vv||t instanceof N8&&(typeof t.pipe=="function"||typeof t.write=="function"&&typeof t.end=="function"))}};tD.exports=Jd});var rD=k((EDe,nD)=>{var O8=require("zlib").constants||{ZLIB_VERNUM:4736};nD.exports=Object.freeze(Object.assign(Object.create(null),{Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_VERSION_ERROR:-6,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,DEFLATE:1,INFLATE:2,GZIP:3,GUNZIP:4,DEFLATERAW:5,INFLATERAW:6,UNZIP:7,BROTLI_DECODE:8,BROTLI_ENCODE:9,Z_MIN_WINDOWBITS:8,Z_MAX_WINDOWBITS:15,Z_DEFAULT_WINDOWBITS:15,Z_MIN_CHUNK:64,Z_MAX_CHUNK:1/0,Z_DEFAULT_CHUNK:16384,Z_MIN_MEMLEVEL:1,Z_MAX_MEMLEVEL:9,Z_DEFAULT_MEMLEVEL:8,Z_MIN_LEVEL:-1,Z_MAX_LEVEL:9,Z_DEFAULT_LEVEL:-1,BROTLI_OPERATION_PROCESS:0,BROTLI_OPERATION_FLUSH:1,BROTLI_OPERATION_FINISH:2,BROTLI_OPERATION_EMIT_METADATA:3,BROTLI_MODE_GENERIC:0,BROTLI_MODE_TEXT:1,BROTLI_MODE_FONT:2,BROTLI_DEFAULT_MODE:0,BROTLI_MIN_QUALITY:0,BROTLI_MAX_QUALITY:11,BROTLI_DEFAULT_QUALITY:11,BROTLI_MIN_WINDOW_BITS:10,BROTLI_MAX_WINDOW_BITS:24,BROTLI_LARGE_MAX_WINDOW_BITS:30,BROTLI_DEFAULT_WINDOW:22,BROTLI_MIN_INPUT_BLOCK_BITS:16,BROTLI_MAX_INPUT_BLOCK_BITS:24,BROTLI_PARAM_MODE:0,BROTLI_PARAM_QUALITY:1,BROTLI_PARAM_LGWIN:2,BROTLI_PARAM_LGBLOCK:3,BROTLI_PARAM_DISABLE_LITERAL_CONTEXT_MODELING:4,BROTLI_PARAM_SIZE_HINT:5,BROTLI_PARAM_LARGE_WINDOW:6,BROTLI_PARAM_NPOSTFIX:7,BROTLI_PARAM_NDIRECT:8,BROTLI_DECODER_RESULT_ERROR:0,BROTLI_DECODER_RESULT_SUCCESS:1,BROTLI_DECODER_RESULT_NEEDS_MORE_INPUT:2,BROTLI_DECODER_RESULT_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_PARAM_DISABLE_RING_BUFFER_REALLOCATION:0,BROTLI_DECODER_PARAM_LARGE_WINDOW:1,BROTLI_DECODER_NO_ERROR:0,BROTLI_DECODER_SUCCESS:1,BROTLI_DECODER_NEEDS_MORE_INPUT:2,BROTLI_DECODER_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_NIBBLE:-1,BROTLI_DECODER_ERROR_FORMAT_RESERVED:-2,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_META_NIBBLE:-3,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_ALPHABET:-4,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_SAME:-5,BROTLI_DECODER_ERROR_FORMAT_CL_SPACE:-6,BROTLI_DECODER_ERROR_FORMAT_HUFFMAN_SPACE:-7,BROTLI_DECODER_ERROR_FORMAT_CONTEXT_MAP_REPEAT:-8,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_1:-9,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_2:-10,BROTLI_DECODER_ERROR_FORMAT_TRANSFORM:-11,BROTLI_DECODER_ERROR_FORMAT_DICTIONARY:-12,BROTLI_DECODER_ERROR_FORMAT_WINDOW_BITS:-13,BROTLI_DECODER_ERROR_FORMAT_PADDING_1:-14,BROTLI_DECODER_ERROR_FORMAT_PADDING_2:-15,BROTLI_DECODER_ERROR_FORMAT_DISTANCE:-16,BROTLI_DECODER_ERROR_DICTIONARY_NOT_SET:-19,BROTLI_DECODER_ERROR_INVALID_ARGUMENTS:-20,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MODES:-21,BROTLI_DECODER_ERROR_ALLOC_TREE_GROUPS:-22,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MAP:-25,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_1:-26,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_2:-27,BROTLI_DECODER_ERROR_ALLOC_BLOCK_TYPE_TREES:-30,BROTLI_DECODER_ERROR_UNREACHABLE:-31},O8))});var tg=k((xDe,mD)=>{"use strict";var sD=typeof process=="object"&&process?process:{stdout:null,stderr:null},F8=require("events"),oD=require("stream"),iD=require("string_decoder").StringDecoder,kr=Symbol("EOF"),Rr=Symbol("maybeEmitEnd"),Ms=Symbol("emittedEnd"),Rm=Symbol("emittingEnd"),el=Symbol("emittedError"),Im=Symbol("closed"),aD=Symbol("read"),Nm=Symbol("flush"),cD=Symbol("flushChunk"),Yt=Symbol("encoding"),Ir=Symbol("decoder"),Tm=Symbol("flowing"),tl=Symbol("paused"),Nc=Symbol("resume"),gt=Symbol("bufferLength"),Xy=Symbol("bufferPush"),Qy=Symbol("bufferShift"),Nt=Symbol("objectMode"),Tt=Symbol("destroyed"),Zy=Symbol("emitData"),dD=Symbol("emitEnd"),Jy=Symbol("emitEnd2"),Nr=Symbol("async"),nl=e=>Promise.resolve().then(e),lD=global._MP_NO_ITERATOR_SYMBOLS_!=="1",M8=lD&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),L8=lD&&Symbol.iterator||Symbol("iterator not implemented"),U8=e=>e==="end"||e==="finish"||e==="prefinish",z8=e=>e instanceof ArrayBuffer||typeof e=="object"&&e.constructor&&e.constructor.name==="ArrayBuffer"&&e.byteLength>=0,$8=e=>!Buffer.isBuffer(e)&&ArrayBuffer.isView(e),vm=class{constructor(t,n,r){this.src=t,this.dest=n,this.opts=r,this.ondrain=()=>t[Nc](),n.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},eg=class extends vm{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(t,n,r){super(t,n,r),this.proxyErrors=s=>n.emit("error",s),t.on("error",this.proxyErrors)}};mD.exports=class uD extends oD{constructor(t){super(),this[Tm]=!1,this[tl]=!1,this.pipes=[],this.buffer=[],this[Nt]=t&&t.objectMode||!1,this[Nt]?this[Yt]=null:this[Yt]=t&&t.encoding||null,this[Yt]==="buffer"&&(this[Yt]=null),this[Nr]=t&&!!t.async||!1,this[Ir]=this[Yt]?new iD(this[Yt]):null,this[kr]=!1,this[Ms]=!1,this[Rm]=!1,this[Im]=!1,this[el]=null,this.writable=!0,this.readable=!0,this[gt]=0,this[Tt]=!1}get bufferLength(){return this[gt]}get encoding(){return this[Yt]}set encoding(t){if(this[Nt])throw new Error("cannot set encoding in objectMode");if(this[Yt]&&t!==this[Yt]&&(this[Ir]&&this[Ir].lastNeed||this[gt]))throw new Error("cannot change encoding");this[Yt]!==t&&(this[Ir]=t?new iD(t):null,this.buffer.length&&(this.buffer=this.buffer.map(n=>this[Ir].write(n)))),this[Yt]=t}setEncoding(t){this.encoding=t}get objectMode(){return this[Nt]}set objectMode(t){this[Nt]=this[Nt]||!!t}get async(){return this[Nr]}set async(t){this[Nr]=this[Nr]||!!t}write(t,n,r){if(this[kr])throw new Error("write after end");if(this[Tt])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof n=="function"&&(r=n,n="utf8"),n||(n="utf8");let s=this[Nr]?nl:o=>o();return!this[Nt]&&!Buffer.isBuffer(t)&&($8(t)?t=Buffer.from(t.buffer,t.byteOffset,t.byteLength):z8(t)?t=Buffer.from(t):typeof t!="string"&&(this.objectMode=!0)),this[Nt]?(this.flowing&&this[gt]!==0&&this[Nm](!0),this.flowing?this.emit("data",t):this[Xy](t),this[gt]!==0&&this.emit("readable"),r&&s(r),this.flowing):t.length?(typeof t=="string"&&!(n===this[Yt]&&!this[Ir].lastNeed)&&(t=Buffer.from(t,n)),Buffer.isBuffer(t)&&this[Yt]&&(t=this[Ir].write(t)),this.flowing&&this[gt]!==0&&this[Nm](!0),this.flowing?this.emit("data",t):this[Xy](t),this[gt]!==0&&this.emit("readable"),r&&s(r),this.flowing):(this[gt]!==0&&this.emit("readable"),r&&s(r),this.flowing)}read(t){if(this[Tt])return null;if(this[gt]===0||t===0||t>this[gt])return this[Rr](),null;this[Nt]&&(t=null),this.buffer.length>1&&!this[Nt]&&(this.encoding?this.buffer=[this.buffer.join("")]:this.buffer=[Buffer.concat(this.buffer,this[gt])]);let n=this[aD](t||null,this.buffer[0]);return this[Rr](),n}[aD](t,n){return t===n.length||t===null?this[Qy]():(this.buffer[0]=n.slice(t),n=n.slice(0,t),this[gt]-=t),this.emit("data",n),!this.buffer.length&&!this[kr]&&this.emit("drain"),n}end(t,n,r){return typeof t=="function"&&(r=t,t=null),typeof n=="function"&&(r=n,n="utf8"),t&&this.write(t,n),r&&this.once("end",r),this[kr]=!0,this.writable=!1,(this.flowing||!this[tl])&&this[Rr](),this}[Nc](){this[Tt]||(this[tl]=!1,this[Tm]=!0,this.emit("resume"),this.buffer.length?this[Nm]():this[kr]?this[Rr]():this.emit("drain"))}resume(){return this[Nc]()}pause(){this[Tm]=!1,this[tl]=!0}get destroyed(){return this[Tt]}get flowing(){return this[Tm]}get paused(){return this[tl]}[Xy](t){this[Nt]?this[gt]+=1:this[gt]+=t.length,this.buffer.push(t)}[Qy](){return this.buffer.length&&(this[Nt]?this[gt]-=1:this[gt]-=this.buffer[0].length),this.buffer.shift()}[Nm](t){do;while(this[cD](this[Qy]()));!t&&!this.buffer.length&&!this[kr]&&this.emit("drain")}[cD](t){return t?(this.emit("data",t),this.flowing):!1}pipe(t,n){if(this[Tt])return;let r=this[Ms];return n=n||{},t===sD.stdout||t===sD.stderr?n.end=!1:n.end=n.end!==!1,n.proxyErrors=!!n.proxyErrors,r?n.end&&t.end():(this.pipes.push(n.proxyErrors?new eg(this,t,n):new vm(this,t,n)),this[Nr]?nl(()=>this[Nc]()):this[Nc]()),t}unpipe(t){let n=this.pipes.find(r=>r.dest===t);n&&(this.pipes.splice(this.pipes.indexOf(n),1),n.unpipe())}addListener(t,n){return this.on(t,n)}on(t,n){let r=super.on(t,n);return t==="data"&&!this.pipes.length&&!this.flowing?this[Nc]():t==="readable"&&this[gt]!==0?super.emit("readable"):U8(t)&&this[Ms]?(super.emit(t),this.removeAllListeners(t)):t==="error"&&this[el]&&(this[Nr]?nl(()=>n.call(this,this[el])):n.call(this,this[el])),r}get emittedEnd(){return this[Ms]}[Rr](){!this[Rm]&&!this[Ms]&&!this[Tt]&&this.buffer.length===0&&this[kr]&&(this[Rm]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[Im]&&this.emit("close"),this[Rm]=!1)}emit(t,n,...r){if(t!=="error"&&t!=="close"&&t!==Tt&&this[Tt])return;if(t==="data")return n?this[Nr]?nl(()=>this[Zy](n)):this[Zy](n):!1;if(t==="end")return this[dD]();if(t==="close"){if(this[Im]=!0,!this[Ms]&&!this[Tt])return;let o=super.emit("close");return this.removeAllListeners("close"),o}else if(t==="error"){this[el]=n;let o=super.emit("error",n);return this[Rr](),o}else if(t==="resume"){let o=super.emit("resume");return this[Rr](),o}else if(t==="finish"||t==="prefinish"){let o=super.emit(t);return this.removeAllListeners(t),o}let s=super.emit(t,n,...r);return this[Rr](),s}[Zy](t){for(let r of this.pipes)r.dest.write(t)===!1&&this.pause();let n=super.emit("data",t);return this[Rr](),n}[dD](){this[Ms]||(this[Ms]=!0,this.readable=!1,this[Nr]?nl(()=>this[Jy]()):this[Jy]())}[Jy](){if(this[Ir]){let n=this[Ir].end();if(n){for(let r of this.pipes)r.dest.write(n);super.emit("data",n)}}for(let n of this.pipes)n.end();let t=super.emit("end");return this.removeAllListeners("end"),t}collect(){let t=[];this[Nt]||(t.dataLength=0);let n=this.promise();return this.on("data",r=>{t.push(r),this[Nt]||(t.dataLength+=r.length)}),n.then(()=>t)}concat(){return this[Nt]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(t=>this[Nt]?Promise.reject(new Error("cannot concat in objectMode")):this[Yt]?t.join(""):Buffer.concat(t,t.dataLength))}promise(){return new Promise((t,n)=>{this.on(Tt,()=>n(new Error("stream destroyed"))),this.on("error",r=>n(r)),this.on("end",()=>t())})}[M8](){return{next:()=>{let n=this.read();if(n!==null)return Promise.resolve({done:!1,value:n});if(this[kr])return Promise.resolve({done:!0});let r=null,s=null,o=d=>{this.removeListener("data",a),this.removeListener("end",i),s(d)},a=d=>{this.removeListener("error",o),this.removeListener("end",i),this.pause(),r({value:d,done:!!this[kr]})},i=()=>{this.removeListener("error",o),this.removeListener("data",a),r({done:!0})},l=()=>o(new Error("stream destroyed"));return new Promise((d,c)=>{s=c,r=d,this.once(Tt,l),this.once("error",o),this.once("end",i),this.once("data",a)})}}}[L8](){return{next:()=>{let n=this.read();return{value:n,done:n===null}}}}destroy(t){return this[Tt]?(t?this.emit("error",t):this.emit(Tt),this):(this[Tt]=!0,this.buffer.length=0,this[gt]=0,typeof this.close=="function"&&!this[Im]&&this.close(),t?this.emit("error",t):this.emit(Tt),this)}static isStream(t){return!!t&&(t instanceof uD||t instanceof oD||t instanceof F8&&(typeof t.pipe=="function"||typeof t.write=="function"&&typeof t.end=="function"))}}});var gg=k(tn=>{"use strict";var ig=require("assert"),Ls=require("buffer").Buffer,pD=require("zlib"),So=tn.constants=rD(),q8=tg(),fD=Ls.concat,wo=Symbol("_superWrite"),vc=class extends Error{constructor(t){super("zlib: "+t.message),this.code=t.code,this.errno=t.errno,this.code||(this.code="ZLIB_ERROR"),this.message="zlib: "+t.message,Error.captureStackTrace(this,this.constructor)}get name(){return"ZlibError"}},G8=Symbol("opts"),rl=Symbol("flushFlag"),hD=Symbol("finishFlushFlag"),yg=Symbol("fullFlushFlag"),qe=Symbol("handle"),Dm=Symbol("onError"),Tc=Symbol("sawError"),ng=Symbol("level"),rg=Symbol("strategy"),sg=Symbol("ended"),SDe=Symbol("_defaultFullFlush"),Bm=class extends q8{constructor(t,n){if(!t||typeof t!="object")throw new TypeError("invalid options for ZlibBase constructor");super(t),this[Tc]=!1,this[sg]=!1,this[G8]=t,this[rl]=t.flush,this[hD]=t.finishFlush;try{this[qe]=new pD[n](t)}catch(r){throw new vc(r)}this[Dm]=r=>{this[Tc]||(this[Tc]=!0,this.close(),this.emit("error",r))},this[qe].on("error",r=>this[Dm](new vc(r))),this.once("end",()=>this.close)}close(){this[qe]&&(this[qe].close(),this[qe]=null,this.emit("close"))}reset(){if(!this[Tc])return ig(this[qe],"zlib binding closed"),this[qe].reset()}flush(t){this.ended||(typeof t!="number"&&(t=this[yg]),this.write(Object.assign(Ls.alloc(0),{[rl]:t})))}end(t,n,r){return t&&this.write(t,n),this.flush(this[hD]),this[sg]=!0,super.end(null,null,r)}get ended(){return this[sg]}write(t,n,r){if(typeof n=="function"&&(r=n,n="utf8"),typeof t=="string"&&(t=Ls.from(t,n)),this[Tc])return;ig(this[qe],"zlib binding closed");let s=this[qe]._handle,o=s.close;s.close=()=>{};let a=this[qe].close;this[qe].close=()=>{},Ls.concat=d=>d;let i;try{let d=typeof t[rl]=="number"?t[rl]:this[rl];i=this[qe]._processChunk(t,d),Ls.concat=fD}catch(d){Ls.concat=fD,this[Dm](new vc(d))}finally{this[qe]&&(this[qe]._handle=s,s.close=o,this[qe].close=a,this[qe].removeAllListeners("error"))}this[qe]&&this[qe].on("error",d=>this[Dm](new vc(d)));let l;if(i)if(Array.isArray(i)&&i.length>0){l=this[wo](Ls.from(i[0]));for(let d=1;d<i.length;d++)l=this[wo](i[d])}else l=this[wo](Ls.from(i));return r&&r(),l}[wo](t){return super.write(t)}},Tr=class extends Bm{constructor(t,n){t=t||{},t.flush=t.flush||So.Z_NO_FLUSH,t.finishFlush=t.finishFlush||So.Z_FINISH,super(t,n),this[yg]=So.Z_FULL_FLUSH,this[ng]=t.level,this[rg]=t.strategy}params(t,n){if(!this[Tc]){if(!this[qe])throw new Error("cannot switch params when binding is closed");if(!this[qe].params)throw new Error("not supported in this implementation");if(this[ng]!==t||this[rg]!==n){this.flush(So.Z_SYNC_FLUSH),ig(this[qe],"zlib binding closed");let r=this[qe].flush;this[qe].flush=(s,o)=>{this.flush(s),o()};try{this[qe].params(t,n)}finally{this[qe].flush=r}this[qe]&&(this[ng]=t,this[rg]=n)}}}},ag=class extends Tr{constructor(t){super(t,"Deflate")}},cg=class extends Tr{constructor(t){super(t,"Inflate")}},og=Symbol("_portable"),dg=class extends Tr{constructor(t){super(t,"Gzip"),this[og]=t&&!!t.portable}[wo](t){return this[og]?(this[og]=!1,t[9]=255,super[wo](t)):super[wo](t)}},lg=class extends Tr{constructor(t){super(t,"Gunzip")}},ug=class extends Tr{constructor(t){super(t,"DeflateRaw")}},mg=class extends Tr{constructor(t){super(t,"InflateRaw")}},fg=class extends Tr{constructor(t){super(t,"Unzip")}},Om=class extends Bm{constructor(t,n){t=t||{},t.flush=t.flush||So.BROTLI_OPERATION_PROCESS,t.finishFlush=t.finishFlush||So.BROTLI_OPERATION_FINISH,super(t,n),this[yg]=So.BROTLI_OPERATION_FLUSH}},hg=class extends Om{constructor(t){super(t,"BrotliCompress")}},pg=class extends Om{constructor(t){super(t,"BrotliDecompress")}};tn.Deflate=ag;tn.Inflate=cg;tn.Gzip=dg;tn.Gunzip=lg;tn.DeflateRaw=ug;tn.InflateRaw=mg;tn.Unzip=fg;typeof pD.BrotliCompress=="function"?(tn.BrotliCompress=hg,tn.BrotliDecompress=pg):tn.BrotliCompress=tn.BrotliDecompress=class{constructor(){throw new Error("Brotli is not supported in this version of Node.js")}}});var Dc=k((bDe,yD)=>{var j8=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform;yD.exports=j8!=="win32"?e=>e:e=>e&&e.replace(/\\/g,"/")});var Fm=k((_De,gD)=>{"use strict";var H8=km(),Eg=Dc(),xg=Symbol("slurp");gD.exports=class extends H8{constructor(t,n,r){switch(super(),this.pause(),this.extended=n,this.globalExtended=r,this.header=t,this.startBlockSize=512*Math.ceil(t.size/512),this.blockRemain=this.startBlockSize,this.remain=t.size,this.type=t.type,this.meta=!1,this.ignore=!1,this.type){case"File":case"OldFile":case"Link":case"SymbolicLink":case"CharacterDevice":case"BlockDevice":case"Directory":case"FIFO":case"ContiguousFile":case"GNUDumpDir":break;case"NextFileHasLongLinkpath":case"NextFileHasLongPath":case"OldGnuLongPath":case"GlobalExtendedHeader":case"ExtendedHeader":case"OldExtendedHeader":this.meta=!0;break;default:this.ignore=!0}this.path=Eg(t.path),this.mode=t.mode,this.mode&&(this.mode=this.mode&4095),this.uid=t.uid,this.gid=t.gid,this.uname=t.uname,this.gname=t.gname,this.size=t.size,this.mtime=t.mtime,this.atime=t.atime,this.ctime=t.ctime,this.linkpath=Eg(t.linkpath),this.uname=t.uname,this.gname=t.gname,n&&this[xg](n),r&&this[xg](r,!0)}write(t){let n=t.length;if(n>this.blockRemain)throw new Error("writing more to entry than is appropriate");let r=this.remain,s=this.blockRemain;return this.remain=Math.max(0,r-n),this.blockRemain=Math.max(0,s-n),this.ignore?!0:r>=n?super.write(t):super.write(t.slice(0,r))}[xg](t,n){for(let r in t)t[r]!==null&&t[r]!==void 0&&!(n&&r==="path")&&(this[r]=r==="path"||r==="linkpath"?Eg(t[r]):t[r])}}});var Sg=k(Mm=>{"use strict";Mm.name=new Map([["0","File"],["","OldFile"],["1","Link"],["2","SymbolicLink"],["3","CharacterDevice"],["4","BlockDevice"],["5","Directory"],["6","FIFO"],["7","ContiguousFile"],["g","GlobalExtendedHeader"],["x","ExtendedHeader"],["A","SolarisACL"],["D","GNUDumpDir"],["I","Inode"],["K","NextFileHasLongLinkpath"],["L","NextFileHasLongPath"],["M","ContinuationFile"],["N","OldGnuLongPath"],["S","SparseFile"],["V","TapeVolumeHeader"],["X","OldExtendedHeader"]]);Mm.code=new Map(Array.from(Mm.name).map(e=>[e[1],e[0]]))});var wD=k((kDe,SD)=>{"use strict";var K8=(e,t)=>{if(Number.isSafeInteger(e))e<0?W8(e,t):V8(e,t);else throw Error("cannot encode number outside of javascript safe integer range");return t},V8=(e,t)=>{t[0]=128;for(var n=t.length;n>1;n--)t[n-1]=e&255,e=Math.floor(e/256)},W8=(e,t)=>{t[0]=255;var n=!1;e=e*-1;for(var r=t.length;r>1;r--){var s=e&255;e=Math.floor(e/256),n?t[r-1]=ED(s):s===0?t[r-1]=0:(n=!0,t[r-1]=xD(s))}},Y8=e=>{let t=e[0],n=t===128?Q8(e.slice(1,e.length)):t===255?X8(e):null;if(n===null)throw Error("invalid base256 encoding");if(!Number.isSafeInteger(n))throw Error("parsed number outside of javascript safe integer range");return n},X8=e=>{for(var t=e.length,n=0,r=!1,s=t-1;s>-1;s--){var o=e[s],a;r?a=ED(o):o===0?a=o:(r=!0,a=xD(o)),a!==0&&(n-=a*Math.pow(256,t-s-1))}return n},Q8=e=>{for(var t=e.length,n=0,r=t-1;r>-1;r--){var s=e[r];s!==0&&(n+=s*Math.pow(256,t-r-1))}return n},ED=e=>(255^e)&255,xD=e=>(255^e)+1&255;SD.exports={encode:K8,parse:Y8}});var Oc=k((RDe,bD)=>{"use strict";var wg=Sg(),Bc=require("path").posix,CD=wD(),Cg=Symbol("slurp"),nn=Symbol("type"),_g=class{constructor(t,n,r,s){this.cksumValid=!1,this.needPax=!1,this.nullBlock=!1,this.block=null,this.path=null,this.mode=null,this.uid=null,this.gid=null,this.size=null,this.mtime=null,this.cksum=null,this[nn]="0",this.linkpath=null,this.uname=null,this.gname=null,this.devmaj=0,this.devmin=0,this.atime=null,this.ctime=null,Buffer.isBuffer(t)?this.decode(t,n||0,r,s):t&&this.set(t)}decode(t,n,r,s){if(n||(n=0),!t||!(t.length>=n+512))throw new Error("need 512 bytes for header");if(this.path=Co(t,n,100),this.mode=Us(t,n+100,8),this.uid=Us(t,n+108,8),this.gid=Us(t,n+116,8),this.size=Us(t,n+124,12),this.mtime=bg(t,n+136,12),this.cksum=Us(t,n+148,12),this[Cg](r),this[Cg](s,!0),this[nn]=Co(t,n+156,1),this[nn]===""&&(this[nn]="0"),this[nn]==="0"&&this.path.slice(-1)==="/"&&(this[nn]="5"),this[nn]==="5"&&(this.size=0),this.linkpath=Co(t,n+157,100),t.slice(n+257,n+265).toString()==="ustar\x0000")if(this.uname=Co(t,n+265,32),this.gname=Co(t,n+297,32),this.devmaj=Us(t,n+329,8),this.devmin=Us(t,n+337,8),t[n+475]!==0){let a=Co(t,n+345,155);this.path=a+"/"+this.path}else{let a=Co(t,n+345,130);a&&(this.path=a+"/"+this.path),this.atime=bg(t,n+476,12),this.ctime=bg(t,n+488,12)}let o=8*32;for(let a=n;a<n+148;a++)o+=t[a];for(let a=n+156;a<n+512;a++)o+=t[a];this.cksumValid=o===this.cksum,this.cksum===null&&o===8*32&&(this.nullBlock=!0)}[Cg](t,n){for(let r in t)t[r]!==null&&t[r]!==void 0&&!(n&&r==="path")&&(this[r]=t[r])}encode(t,n){if(t||(t=this.block=Buffer.alloc(512),n=0),n||(n=0),!(t.length>=n+512))throw new Error("need 512 bytes for header");let r=this.ctime||this.atime?130:155,s=Z8(this.path||"",r),o=s[0],a=s[1];this.needPax=s[2],this.needPax=bo(t,n,100,o)||this.needPax,this.needPax=zs(t,n+100,8,this.mode)||this.needPax,this.needPax=zs(t,n+108,8,this.uid)||this.needPax,this.needPax=zs(t,n+116,8,this.gid)||this.needPax,this.needPax=zs(t,n+124,12,this.size)||this.needPax,this.needPax=Pg(t,n+136,12,this.mtime)||this.needPax,t[n+156]=this[nn].charCodeAt(0),this.needPax=bo(t,n+157,100,this.linkpath)||this.needPax,t.write("ustar\x0000",n+257,8),this.needPax=bo(t,n+265,32,this.uname)||this.needPax,this.needPax=bo(t,n+297,32,this.gname)||this.needPax,this.needPax=zs(t,n+329,8,this.devmaj)||this.needPax,this.needPax=zs(t,n+337,8,this.devmin)||this.needPax,this.needPax=bo(t,n+345,r,a)||this.needPax,t[n+475]!==0?this.needPax=bo(t,n+345,155,a)||this.needPax:(this.needPax=bo(t,n+345,130,a)||this.needPax,this.needPax=Pg(t,n+476,12,this.atime)||this.needPax,this.needPax=Pg(t,n+488,12,this.ctime)||this.needPax);let i=8*32;for(let l=n;l<n+148;l++)i+=t[l];for(let l=n+156;l<n+512;l++)i+=t[l];return this.cksum=i,zs(t,n+148,8,this.cksum),this.cksumValid=!0,this.needPax}set(t){for(let n in t)t[n]!==null&&t[n]!==void 0&&(this[n]=t[n])}get type(){return wg.name.get(this[nn])||this[nn]}get typeKey(){return this[nn]}set type(t){wg.code.has(t)?this[nn]=wg.code.get(t):this[nn]=t}},Z8=(e,t)=>{let r=e,s="",o,a=Bc.parse(e).root||".";if(Buffer.byteLength(r)<100)o=[r,s,!1];else{s=Bc.dirname(r),r=Bc.basename(r);do Buffer.byteLength(r)<=100&&Buffer.byteLength(s)<=t?o=[r,s,!1]:Buffer.byteLength(r)>100&&Buffer.byteLength(s)<=t?o=[r.slice(0,100-1),s,!0]:(r=Bc.join(Bc.basename(s),r),s=Bc.dirname(s));while(s!==a&&!o);o||(o=[e.slice(0,100-1),"",!0])}return o},Co=(e,t,n)=>e.slice(t,t+n).toString("utf8").replace(/\0.*/,""),bg=(e,t,n)=>J8(Us(e,t,n)),J8=e=>e===null?null:new Date(e*1e3),Us=(e,t,n)=>e[t]&128?CD.parse(e.slice(t,t+n)):tV(e,t,n),eV=e=>isNaN(e)?null:e,tV=(e,t,n)=>eV(parseInt(e.slice(t,t+n).toString("utf8").replace(/\0.*$/,"").trim(),8)),nV={12:8589934591,8:2097151},zs=(e,t,n,r)=>r===null?!1:r>nV[n]||r<0?(CD.encode(r,e.slice(t,t+n)),!0):(rV(e,t,n,r),!1),rV=(e,t,n,r)=>e.write(sV(r,n),t,n,"ascii"),sV=(e,t)=>oV(Math.floor(e).toString(8),t),oV=(e,t)=>(e.length===t-1?e:new Array(t-e.length-1).join("0")+e+" ")+"\0",Pg=(e,t,n,r)=>r===null?!1:zs(e,t,n,r.getTime()/1e3),iV=new Array(156).join("\0"),bo=(e,t,n,r)=>r===null?!1:(e.write(r+iV,t,n,"utf8"),r.length!==Buffer.byteLength(r)||r.length>n);bD.exports=_g});var Lm=k((IDe,PD)=>{"use strict";var aV=Oc(),cV=require("path"),sl=class{constructor(t,n){this.atime=t.atime||null,this.charset=t.charset||null,this.comment=t.comment||null,this.ctime=t.ctime||null,this.gid=t.gid||null,this.gname=t.gname||null,this.linkpath=t.linkpath||null,this.mtime=t.mtime||null,this.path=t.path||null,this.size=t.size||null,this.uid=t.uid||null,this.uname=t.uname||null,this.dev=t.dev||null,this.ino=t.ino||null,this.nlink=t.nlink||null,this.global=n||!1}encode(){let t=this.encodeBody();if(t==="")return null;let n=Buffer.byteLength(t),r=512*Math.ceil(1+n/512),s=Buffer.allocUnsafe(r);for(let o=0;o<512;o++)s[o]=0;new aV({path:("PaxHeader/"+cV.basename(this.path)).slice(0,99),mode:this.mode||420,uid:this.uid||null,gid:this.gid||null,size:n,mtime:this.mtime||null,type:this.global?"GlobalExtendedHeader":"ExtendedHeader",linkpath:"",uname:this.uname||"",gname:this.gname||"",devmaj:0,devmin:0,atime:this.atime||null,ctime:this.ctime||null}).encode(s),s.write(t,512,n,"utf8");for(let o=n+512;o<s.length;o++)s[o]=0;return s}encodeBody(){return this.encodeField("path")+this.encodeField("ctime")+this.encodeField("atime")+this.encodeField("dev")+this.encodeField("ino")+this.encodeField("nlink")+this.encodeField("charset")+this.encodeField("comment")+this.encodeField("gid")+this.encodeField("gname")+this.encodeField("linkpath")+this.encodeField("mtime")+this.encodeField("size")+this.encodeField("uid")+this.encodeField("uname")}encodeField(t){if(this[t]===null||this[t]===void 0)return"";let n=this[t]instanceof Date?this[t].getTime()/1e3:this[t],r=" "+(t==="dev"||t==="ino"||t==="nlink"?"SCHILY.":"")+t+"="+n+`
`,s=Buffer.byteLength(r),o=Math.floor(Math.log(s)/Math.log(10))+1;return s+o>=Math.pow(10,o)&&(o+=1),o+s+r}};sl.parse=(e,t,n)=>new sl(dV(lV(e),t),n);var dV=(e,t)=>t?Object.keys(e).reduce((n,r)=>(n[r]=e[r],n),t):e,lV=e=>e.replace(/\n$/,"").split(`
`).reduce(uV,Object.create(null)),uV=(e,t)=>{let n=parseInt(t,10);if(n!==Buffer.byteLength(t)+1)return e;t=t.slice((n+" ").length);let r=t.split("="),s=r.shift().replace(/^SCHILY\.(dev|ino|nlink)/,"$1");if(!s)return e;let o=r.join("=");return e[s]=/^([A-Z]+\.)?([mac]|birth|creation)time$/.test(s)?new Date(o*1e3):/^[0-9]+$/.test(o)?+o:o,e};PD.exports=sl});var Fc=k((NDe,_D)=>{_D.exports=e=>{let t=e.length-1,n=-1;for(;t>-1&&e.charAt(t)==="/";)n=t,t--;return n===-1?e:e.slice(0,n)}});var Um=k((TDe,AD)=>{"use strict";AD.exports=e=>class extends e{warn(t,n,r={}){this.file&&(r.file=this.file),this.cwd&&(r.cwd=this.cwd),r.code=n instanceof Error&&n.code||t,r.tarCode=t,!this.strict&&r.recoverable!==!1?(n instanceof Error&&(r=Object.assign(n,r),n=n.message),this.emit("warn",r.tarCode,n,r)):n instanceof Error?this.emit("error",Object.assign(n,r)):this.emit("error",Object.assign(new Error(`${t}: ${n}`),r))}}});var kg=k((DDe,kD)=>{"use strict";var zm=["|","<",">","?",":"],Ag=zm.map(e=>String.fromCharCode(61440+e.charCodeAt(0))),mV=new Map(zm.map((e,t)=>[e,Ag[t]])),fV=new Map(Ag.map((e,t)=>[e,zm[t]]));kD.exports={encode:e=>zm.reduce((t,n)=>t.split(n).join(mV.get(n)),e),decode:e=>Ag.reduce((t,n)=>t.split(n).join(fV.get(n)),e)}});var Rg=k((BDe,ID)=>{var{isAbsolute:hV,parse:RD}=require("path").win32;ID.exports=e=>{let t="",n=RD(e);for(;hV(e)||n.root;){let r=e.charAt(0)==="/"&&e.slice(0,4)!=="//?/"?"/":n.root;e=e.slice(r.length),t+=r,n=RD(e)}return[t,e]}});var TD=k((ODe,ND)=>{"use strict";ND.exports=(e,t,n)=>(e&=4095,n&&(e=(e|384)&-19),t&&(e&256&&(e|=64),e&32&&(e|=8),e&4&&(e|=1)),e)});var Lg=k((LDe,HD)=>{"use strict";var LD=km(),UD=Lm(),zD=Oc(),er=require("fs"),vD=require("path"),Jn=Dc(),pV=Fc(),$D=(e,t)=>t?(e=Jn(e).replace(/^\.(\/|$)/,""),pV(t)+"/"+e):Jn(e),yV=16*1024*1024,DD=Symbol("process"),BD=Symbol("file"),OD=Symbol("directory"),Ng=Symbol("symlink"),FD=Symbol("hardlink"),ol=Symbol("header"),$m=Symbol("read"),Tg=Symbol("lstat"),qm=Symbol("onlstat"),vg=Symbol("onread"),Dg=Symbol("onreadlink"),Bg=Symbol("openfile"),Og=Symbol("onopenfile"),$s=Symbol("close"),Gm=Symbol("mode"),Fg=Symbol("awaitDrain"),Ig=Symbol("ondrain"),tr=Symbol("prefix"),MD=Symbol("hadError"),qD=Um(),gV=kg(),GD=Rg(),jD=TD(),jm=qD(class extends LD{constructor(t,n){if(n=n||{},super(n),typeof t!="string")throw new TypeError("path is required");this.path=Jn(t),this.portable=!!n.portable,this.myuid=process.getuid&&process.getuid()||0,this.myuser=process.env.USER||"",this.maxReadSize=n.maxReadSize||yV,this.linkCache=n.linkCache||new Map,this.statCache=n.statCache||new Map,this.preservePaths=!!n.preservePaths,this.cwd=Jn(n.cwd||process.cwd()),this.strict=!!n.strict,this.noPax=!!n.noPax,this.noMtime=!!n.noMtime,this.mtime=n.mtime||null,this.prefix=n.prefix?Jn(n.prefix):null,this.fd=null,this.blockLen=null,this.blockRemain=null,this.buf=null,this.offset=null,this.length=null,this.pos=null,this.remain=null,typeof n.onwarn=="function"&&this.on("warn",n.onwarn);let r=!1;if(!this.preservePaths){let[s,o]=GD(this.path);s&&(this.path=o,r=s)}this.win32=!!n.win32||process.platform==="win32",this.win32&&(this.path=gV.decode(this.path.replace(/\\/g,"/")),t=t.replace(/\\/g,"/")),this.absolute=Jn(n.absolute||vD.resolve(this.cwd,t)),this.path===""&&(this.path="./"),r&&this.warn("TAR_ENTRY_INFO",`stripping ${r} from absolute path`,{entry:this,path:r+this.path}),this.statCache.has(this.absolute)?this[qm](this.statCache.get(this.absolute)):this[Tg]()}emit(t,...n){return t==="error"&&(this[MD]=!0),super.emit(t,...n)}[Tg](){er.lstat(this.absolute,(t,n)=>{if(t)return this.emit("error",t);this[qm](n)})}[qm](t){this.statCache.set(this.absolute,t),this.stat=t,t.isFile()||(t.size=0),this.type=xV(t),this.emit("stat",t),this[DD]()}[DD](){switch(this.type){case"File":return this[BD]();case"Directory":return this[OD]();case"SymbolicLink":return this[Ng]();default:return this.end()}}[Gm](t){return jD(t,this.type==="Directory",this.portable)}[tr](t){return $D(t,this.prefix)}[ol](){this.type==="Directory"&&this.portable&&(this.noMtime=!0),this.header=new zD({path:this[tr](this.path),linkpath:this.type==="Link"?this[tr](this.linkpath):this.linkpath,mode:this[Gm](this.stat.mode),uid:this.portable?null:this.stat.uid,gid:this.portable?null:this.stat.gid,size:this.stat.size,mtime:this.noMtime?null:this.mtime||this.stat.mtime,type:this.type,uname:this.portable?null:this.stat.uid===this.myuid?this.myuser:"",atime:this.portable?null:this.stat.atime,ctime:this.portable?null:this.stat.ctime}),this.header.encode()&&!this.noPax&&super.write(new UD({atime:this.portable?null:this.header.atime,ctime:this.portable?null:this.header.ctime,gid:this.portable?null:this.header.gid,mtime:this.noMtime?null:this.mtime||this.header.mtime,path:this[tr](this.path),linkpath:this.type==="Link"?this[tr](this.linkpath):this.linkpath,size:this.header.size,uid:this.portable?null:this.header.uid,uname:this.portable?null:this.header.uname,dev:this.portable?null:this.stat.dev,ino:this.portable?null:this.stat.ino,nlink:this.portable?null:this.stat.nlink}).encode()),super.write(this.header.block)}[OD](){this.path.slice(-1)!=="/"&&(this.path+="/"),this.stat.size=0,this[ol](),this.end()}[Ng](){er.readlink(this.absolute,(t,n)=>{if(t)return this.emit("error",t);this[Dg](n)})}[Dg](t){this.linkpath=Jn(t),this[ol](),this.end()}[FD](t){this.type="Link",this.linkpath=Jn(vD.relative(this.cwd,t)),this.stat.size=0,this[ol](),this.end()}[BD](){if(this.stat.nlink>1){let t=this.stat.dev+":"+this.stat.ino;if(this.linkCache.has(t)){let n=this.linkCache.get(t);if(n.indexOf(this.cwd)===0)return this[FD](n)}this.linkCache.set(t,this.absolute)}if(this[ol](),this.stat.size===0)return this.end();this[Bg]()}[Bg](){er.open(this.absolute,"r",(t,n)=>{if(t)return this.emit("error",t);this[Og](n)})}[Og](t){if(this.fd=t,this[MD])return this[$s]();this.blockLen=512*Math.ceil(this.stat.size/512),this.blockRemain=this.blockLen;let n=Math.min(this.blockLen,this.maxReadSize);this.buf=Buffer.allocUnsafe(n),this.offset=0,this.pos=0,this.remain=this.stat.size,this.length=this.buf.length,this[$m]()}[$m](){let{fd:t,buf:n,offset:r,length:s,pos:o}=this;er.read(t,n,r,s,o,(a,i)=>{if(a)return this[$s](()=>this.emit("error",a));this[vg](i)})}[$s](t){er.close(this.fd,t)}[vg](t){if(t<=0&&this.remain>0){let s=new Error("encountered unexpected EOF");return s.path=this.absolute,s.syscall="read",s.code="EOF",this[$s](()=>this.emit("error",s))}if(t>this.remain){let s=new Error("did not encounter expected EOF");return s.path=this.absolute,s.syscall="read",s.code="EOF",this[$s](()=>this.emit("error",s))}if(t===this.remain)for(let s=t;s<this.length&&t<this.blockRemain;s++)this.buf[s+this.offset]=0,t++,this.remain++;let n=this.offset===0&&t===this.buf.length?this.buf:this.buf.slice(this.offset,this.offset+t);this.write(n)?this[Ig]():this[Fg](()=>this[Ig]())}[Fg](t){this.once("drain",t)}write(t){if(this.blockRemain<t.length){let n=new Error("writing more data than expected");return n.path=this.absolute,this.emit("error",n)}return this.remain-=t.length,this.blockRemain-=t.length,this.pos+=t.length,this.offset+=t.length,super.write(t)}[Ig](){if(!this.remain)return this.blockRemain&&super.write(Buffer.alloc(this.blockRemain)),this[$s](t=>t?this.emit("error",t):this.end());this.offset>=this.length&&(this.buf=Buffer.allocUnsafe(Math.min(this.blockRemain,this.buf.length)),this.offset=0),this.length=this.buf.length-this.offset,this[$m]()}}),Mg=class extends jm{[Tg](){this[qm](er.lstatSync(this.absolute))}[Ng](){this[Dg](er.readlinkSync(this.absolute))}[Bg](){this[Og](er.openSync(this.absolute,"r"))}[$m](){let t=!0;try{let{fd:n,buf:r,offset:s,length:o,pos:a}=this,i=er.readSync(n,r,s,o,a);this[vg](i),t=!1}finally{if(t)try{this[$s](()=>{})}catch{}}}[Fg](t){t()}[$s](t){er.closeSync(this.fd),t()}},EV=qD(class extends LD{constructor(t,n){n=n||{},super(n),this.preservePaths=!!n.preservePaths,this.portable=!!n.portable,this.strict=!!n.strict,this.noPax=!!n.noPax,this.noMtime=!!n.noMtime,this.readEntry=t,this.type=t.type,this.type==="Directory"&&this.portable&&(this.noMtime=!0),this.prefix=n.prefix||null,this.path=Jn(t.path),this.mode=this[Gm](t.mode),this.uid=this.portable?null:t.uid,this.gid=this.portable?null:t.gid,this.uname=this.portable?null:t.uname,this.gname=this.portable?null:t.gname,this.size=t.size,this.mtime=this.noMtime?null:n.mtime||t.mtime,this.atime=this.portable?null:t.atime,this.ctime=this.portable?null:t.ctime,this.linkpath=Jn(t.linkpath),typeof n.onwarn=="function"&&this.on("warn",n.onwarn);let r=!1;if(!this.preservePaths){let[s,o]=GD(this.path);s&&(this.path=o,r=s)}this.remain=t.size,this.blockRemain=t.startBlockSize,this.header=new zD({path:this[tr](this.path),linkpath:this.type==="Link"?this[tr](this.linkpath):this.linkpath,mode:this.mode,uid:this.portable?null:this.uid,gid:this.portable?null:this.gid,size:this.size,mtime:this.noMtime?null:this.mtime,type:this.type,uname:this.portable?null:this.uname,atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime}),r&&this.warn("TAR_ENTRY_INFO",`stripping ${r} from absolute path`,{entry:this,path:r+this.path}),this.header.encode()&&!this.noPax&&super.write(new UD({atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime,gid:this.portable?null:this.gid,mtime:this.noMtime?null:this.mtime,path:this[tr](this.path),linkpath:this.type==="Link"?this[tr](this.linkpath):this.linkpath,size:this.size,uid:this.portable?null:this.uid,uname:this.portable?null:this.uname,dev:this.portable?null:this.readEntry.dev,ino:this.portable?null:this.readEntry.ino,nlink:this.portable?null:this.readEntry.nlink}).encode()),super.write(this.header.block),t.pipe(this)}[tr](t){return $D(t,this.prefix)}[Gm](t){return jD(t,this.type==="Directory",this.portable)}write(t){let n=t.length;if(n>this.blockRemain)throw new Error("writing more to entry than is appropriate");return this.blockRemain-=n,super.write(t)}end(){return this.blockRemain&&super.write(Buffer.alloc(this.blockRemain)),super.end()}});jm.Sync=Mg;jm.Tar=EV;var xV=e=>e.isFile()?"File":e.isDirectory()?"Directory":e.isSymbolicLink()?"SymbolicLink":"Unsupported";HD.exports=jm});var VD=k((UDe,KD)=>{"use strict";KD.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}});var Ug=k((zDe,WD)=>{"use strict";WD.exports=Te;Te.Node=Po;Te.create=Te;function Te(e){var t=this;if(t instanceof Te||(t=new Te),t.tail=null,t.head=null,t.length=0,e&&typeof e.forEach=="function")e.forEach(function(s){t.push(s)});else if(arguments.length>0)for(var n=0,r=arguments.length;n<r;n++)t.push(arguments[n]);return t}Te.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t};Te.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}};Te.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}};Te.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)wV(this,arguments[e]);return this.length};Te.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)CV(this,arguments[e]);return this.length};Te.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}};Te.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}};Te.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,r=0;n!==null;r++)e.call(t,n.value,r,this),n=n.next};Te.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,r=this.length-1;n!==null;r--)e.call(t,n.value,r,this),n=n.prev};Te.prototype.get=function(e){for(var t=0,n=this.head;n!==null&&t<e;t++)n=n.next;if(t===e&&n!==null)return n.value};Te.prototype.getReverse=function(e){for(var t=0,n=this.tail;n!==null&&t<e;t++)n=n.prev;if(t===e&&n!==null)return n.value};Te.prototype.map=function(e,t){t=t||this;for(var n=new Te,r=this.head;r!==null;)n.push(e.call(t,r.value,this)),r=r.next;return n};Te.prototype.mapReverse=function(e,t){t=t||this;for(var n=new Te,r=this.tail;r!==null;)n.push(e.call(t,r.value,this)),r=r.prev;return n};Te.prototype.reduce=function(e,t){var n,r=this.head;if(arguments.length>1)n=t;else if(this.head)r=this.head.next,n=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=0;r!==null;s++)n=e(n,r.value,s),r=r.next;return n};Te.prototype.reduceReverse=function(e,t){var n,r=this.tail;if(arguments.length>1)n=t;else if(this.tail)r=this.tail.prev,n=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=this.length-1;r!==null;s--)n=e(n,r.value,s),r=r.prev;return n};Te.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;n!==null;t++)e[t]=n.value,n=n.next;return e};Te.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;n!==null;t++)e[t]=n.value,n=n.prev;return e};Te.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var n=new Te;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=0,s=this.head;s!==null&&r<e;r++)s=s.next;for(;s!==null&&r<t;r++,s=s.next)n.push(s.value);return n};Te.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var n=new Te;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=this.length,s=this.tail;s!==null&&r>t;r--)s=s.prev;for(;s!==null&&r>e;r--,s=s.prev)n.push(s.value);return n};Te.prototype.splice=function(e,t,...n){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var r=0,s=this.head;s!==null&&r<e;r++)s=s.next;for(var o=[],r=0;s&&r<t;r++)o.push(s.value),s=this.removeNode(s);s===null&&(s=this.tail),s!==this.head&&s!==this.tail&&(s=s.prev);for(var r=0;r<n.length;r++)s=SV(this,s,n[r]);return o};Te.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;n!==null;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=t,this.tail=e,this};function SV(e,t,n){var r=t===e.head?new Po(n,null,t,e):new Po(n,t,t.next,e);return r.next===null&&(e.tail=r),r.prev===null&&(e.head=r),e.length++,r}function wV(e,t){e.tail=new Po(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function CV(e,t){e.head=new Po(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function Po(e,t,n,r){if(!(this instanceof Po))return new Po(e,t,n,r);this.list=r,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}try{VD()(Te)}catch{}});var Jm=k((qDe,tB)=>{"use strict";var Qm=class{constructor(t,n){this.path=t||"./",this.absolute=n,this.entry=null,this.stat=null,this.readdir=null,this.pending=!1,this.ignore=!1,this.piped=!1}},bV=km(),PV=gg(),_V=Fm(),Wg=Lg(),AV=Wg.Sync,kV=Wg.Tar,RV=Ug(),YD=Buffer.alloc(1024),Vm=Symbol("onStat"),Hm=Symbol("ended"),nr=Symbol("queue"),Mc=Symbol("current"),_o=Symbol("process"),Km=Symbol("processing"),XD=Symbol("processJob"),rr=Symbol("jobs"),zg=Symbol("jobDone"),Wm=Symbol("addFSEntry"),QD=Symbol("addTarEntry"),jg=Symbol("stat"),Hg=Symbol("readdir"),Ym=Symbol("onreaddir"),Xm=Symbol("pipe"),ZD=Symbol("entry"),$g=Symbol("entryOpt"),Kg=Symbol("writeEntryClass"),eB=Symbol("write"),qg=Symbol("ondrain"),Zm=require("fs"),JD=require("path"),IV=Um(),Gg=Dc(),Yg=IV(class extends bV{constructor(t){super(t),t=t||Object.create(null),this.opt=t,this.file=t.file||"",this.cwd=t.cwd||process.cwd(),this.maxReadSize=t.maxReadSize,this.preservePaths=!!t.preservePaths,this.strict=!!t.strict,this.noPax=!!t.noPax,this.prefix=Gg(t.prefix||""),this.linkCache=t.linkCache||new Map,this.statCache=t.statCache||new Map,this.readdirCache=t.readdirCache||new Map,this[Kg]=Wg,typeof t.onwarn=="function"&&this.on("warn",t.onwarn),this.portable=!!t.portable,this.zip=null,t.gzip?(typeof t.gzip!="object"&&(t.gzip={}),this.portable&&(t.gzip.portable=!0),this.zip=new PV.Gzip(t.gzip),this.zip.on("data",n=>super.write(n)),this.zip.on("end",n=>super.end()),this.zip.on("drain",n=>this[qg]()),this.on("resume",n=>this.zip.resume())):this.on("drain",this[qg]),this.noDirRecurse=!!t.noDirRecurse,this.follow=!!t.follow,this.noMtime=!!t.noMtime,this.mtime=t.mtime||null,this.filter=typeof t.filter=="function"?t.filter:n=>!0,this[nr]=new RV,this[rr]=0,this.jobs=+t.jobs||4,this[Km]=!1,this[Hm]=!1}[eB](t){return super.write(t)}add(t){return this.write(t),this}end(t){return t&&this.write(t),this[Hm]=!0,this[_o](),this}write(t){if(this[Hm])throw new Error("write after end");return t instanceof _V?this[QD](t):this[Wm](t),this.flowing}[QD](t){let n=Gg(JD.resolve(this.cwd,t.path));if(!this.filter(t.path,t))t.resume();else{let r=new Qm(t.path,n,!1);r.entry=new kV(t,this[$g](r)),r.entry.on("end",s=>this[zg](r)),this[rr]+=1,this[nr].push(r)}this[_o]()}[Wm](t){let n=Gg(JD.resolve(this.cwd,t));this[nr].push(new Qm(t,n)),this[_o]()}[jg](t){t.pending=!0,this[rr]+=1;let n=this.follow?"stat":"lstat";Zm[n](t.absolute,(r,s)=>{t.pending=!1,this[rr]-=1,r?this.emit("error",r):this[Vm](t,s)})}[Vm](t,n){this.statCache.set(t.absolute,n),t.stat=n,this.filter(t.path,n)||(t.ignore=!0),this[_o]()}[Hg](t){t.pending=!0,this[rr]+=1,Zm.readdir(t.absolute,(n,r)=>{if(t.pending=!1,this[rr]-=1,n)return this.emit("error",n);this[Ym](t,r)})}[Ym](t,n){this.readdirCache.set(t.absolute,n),t.readdir=n,this[_o]()}[_o](){if(!this[Km]){this[Km]=!0;for(let t=this[nr].head;t!==null&&this[rr]<this.jobs;t=t.next)if(this[XD](t.value),t.value.ignore){let n=t.next;this[nr].removeNode(t),t.next=n}this[Km]=!1,this[Hm]&&!this[nr].length&&this[rr]===0&&(this.zip?this.zip.end(YD):(super.write(YD),super.end()))}}get[Mc](){return this[nr]&&this[nr].head&&this[nr].head.value}[zg](t){this[nr].shift(),this[rr]-=1,this[_o]()}[XD](t){if(!t.pending){if(t.entry){t===this[Mc]&&!t.piped&&this[Xm](t);return}if(t.stat||(this.statCache.has(t.absolute)?this[Vm](t,this.statCache.get(t.absolute)):this[jg](t)),!!t.stat&&!t.ignore&&!(!this.noDirRecurse&&t.stat.isDirectory()&&!t.readdir&&(this.readdirCache.has(t.absolute)?this[Ym](t,this.readdirCache.get(t.absolute)):this[Hg](t),!t.readdir))){if(t.entry=this[ZD](t),!t.entry){t.ignore=!0;return}t===this[Mc]&&!t.piped&&this[Xm](t)}}}[$g](t){return{onwarn:(n,r,s)=>this.warn(n,r,s),noPax:this.noPax,cwd:this.cwd,absolute:t.absolute,preservePaths:this.preservePaths,maxReadSize:this.maxReadSize,strict:this.strict,portable:this.portable,linkCache:this.linkCache,statCache:this.statCache,noMtime:this.noMtime,mtime:this.mtime,prefix:this.prefix}}[ZD](t){this[rr]+=1;try{return new this[Kg](t.path,this[$g](t)).on("end",()=>this[zg](t)).on("error",n=>this.emit("error",n))}catch(n){this.emit("error",n)}}[qg](){this[Mc]&&this[Mc].entry&&this[Mc].entry.resume()}[Xm](t){t.piped=!0,t.readdir&&t.readdir.forEach(s=>{let o=t.path,a=o==="./"?"":o.replace(/\/*$/,"/");this[Wm](a+s)});let n=t.entry,r=this.zip;r?n.on("data",s=>{r.write(s)||n.pause()}):n.on("data",s=>{super.write(s)||n.pause()})}pause(){return this.zip&&this.zip.pause(),super.pause()}}),Vg=class extends Yg{constructor(t){super(t),this[Kg]=AV}pause(){}resume(){}[jg](t){let n=this.follow?"statSync":"lstatSync";this[Vm](t,Zm[n](t.absolute))}[Hg](t,n){this[Ym](t,Zm.readdirSync(t.absolute))}[Xm](t){let n=t.entry,r=this.zip;t.readdir&&t.readdir.forEach(s=>{let o=t.path,a=o==="./"?"":o.replace(/\/*$/,"/");this[Wm](a+s)}),r?n.on("data",s=>{r.write(s)}):n.on("data",s=>{super[eB](s)})}};Yg.Sync=Vg;tB.exports=Yg});var Hc=k(al=>{"use strict";var NV=tg(),TV=require("events").EventEmitter,Xt=require("fs"),Zg=Xt.writev;if(!Zg){let e=process.binding("fs"),t=e.FSReqWrap||e.FSReqCallback;Zg=(n,r,s,o)=>{let a=(l,d)=>o(l,d,r),i=new t;i.oncomplete=a,e.writeBuffers(n,r,s,i)}}var Gc=Symbol("_autoClose"),Tn=Symbol("_close"),il=Symbol("_ended"),Ue=Symbol("_fd"),nB=Symbol("_finished"),Gs=Symbol("_flags"),Xg=Symbol("_flush"),Jg=Symbol("_handleChunk"),eE=Symbol("_makeBuf"),sf=Symbol("_mode"),ef=Symbol("_needDrain"),$c=Symbol("_onerror"),jc=Symbol("_onopen"),Qg=Symbol("_onread"),Uc=Symbol("_onwrite"),js=Symbol("_open"),vr=Symbol("_path"),Ao=Symbol("_pos"),sr=Symbol("_queue"),zc=Symbol("_read"),rB=Symbol("_readSize"),qs=Symbol("_reading"),tf=Symbol("_remain"),sB=Symbol("_size"),nf=Symbol("_write"),Lc=Symbol("_writing"),rf=Symbol("_defaultFlag"),qc=Symbol("_errored"),of=class extends NV{constructor(t,n){if(n=n||{},super(n),this.readable=!0,this.writable=!1,typeof t!="string")throw new TypeError("path must be a string");this[qc]=!1,this[Ue]=typeof n.fd=="number"?n.fd:null,this[vr]=t,this[rB]=n.readSize||16*1024*1024,this[qs]=!1,this[sB]=typeof n.size=="number"?n.size:1/0,this[tf]=this[sB],this[Gc]=typeof n.autoClose=="boolean"?n.autoClose:!0,typeof this[Ue]=="number"?this[zc]():this[js]()}get fd(){return this[Ue]}get path(){return this[vr]}write(){throw new TypeError("this is a readable stream")}end(){throw new TypeError("this is a readable stream")}[js](){Xt.open(this[vr],"r",(t,n)=>this[jc](t,n))}[jc](t,n){t?this[$c](t):(this[Ue]=n,this.emit("open",n),this[zc]())}[eE](){return Buffer.allocUnsafe(Math.min(this[rB],this[tf]))}[zc](){if(!this[qs]){this[qs]=!0;let t=this[eE]();if(t.length===0)return process.nextTick(()=>this[Qg](null,0,t));Xt.read(this[Ue],t,0,t.length,null,(n,r,s)=>this[Qg](n,r,s))}}[Qg](t,n,r){this[qs]=!1,t?this[$c](t):this[Jg](n,r)&&this[zc]()}[Tn](){if(this[Gc]&&typeof this[Ue]=="number"){let t=this[Ue];this[Ue]=null,Xt.close(t,n=>n?this.emit("error",n):this.emit("close"))}}[$c](t){this[qs]=!0,this[Tn](),this.emit("error",t)}[Jg](t,n){let r=!1;return this[tf]-=t,t>0&&(r=super.write(t<n.length?n.slice(0,t):n)),(t===0||this[tf]<=0)&&(r=!1,this[Tn](),super.end()),r}emit(t,n){switch(t){case"prefinish":case"finish":break;case"drain":typeof this[Ue]=="number"&&this[zc]();break;case"error":return this[qc]?void 0:(this[qc]=!0,super.emit(t,n));default:return super.emit(t,n)}}},tE=class extends of{[js](){let t=!0;try{this[jc](null,Xt.openSync(this[vr],"r")),t=!1}finally{t&&this[Tn]()}}[zc](){let t=!0;try{if(!this[qs]){this[qs]=!0;do{let n=this[eE](),r=n.length===0?0:Xt.readSync(this[Ue],n,0,n.length,null);if(!this[Jg](r,n))break}while(!0);this[qs]=!1}t=!1}finally{t&&this[Tn]()}}[Tn](){if(this[Gc]&&typeof this[Ue]=="number"){let t=this[Ue];this[Ue]=null,Xt.closeSync(t),this.emit("close")}}},af=class extends TV{constructor(t,n){n=n||{},super(n),this.readable=!1,this.writable=!0,this[qc]=!1,this[Lc]=!1,this[il]=!1,this[ef]=!1,this[sr]=[],this[vr]=t,this[Ue]=typeof n.fd=="number"?n.fd:null,this[sf]=n.mode===void 0?438:n.mode,this[Ao]=typeof n.start=="number"?n.start:null,this[Gc]=typeof n.autoClose=="boolean"?n.autoClose:!0;let r=this[Ao]!==null?"r+":"w";this[rf]=n.flags===void 0,this[Gs]=this[rf]?r:n.flags,this[Ue]===null&&this[js]()}emit(t,n){if(t==="error"){if(this[qc])return;this[qc]=!0}return super.emit(t,n)}get fd(){return this[Ue]}get path(){return this[vr]}[$c](t){this[Tn](),this[Lc]=!0,this.emit("error",t)}[js](){Xt.open(this[vr],this[Gs],this[sf],(t,n)=>this[jc](t,n))}[jc](t,n){this[rf]&&this[Gs]==="r+"&&t&&t.code==="ENOENT"?(this[Gs]="w",this[js]()):t?this[$c](t):(this[Ue]=n,this.emit("open",n),this[Xg]())}end(t,n){return t&&this.write(t,n),this[il]=!0,!this[Lc]&&!this[sr].length&&typeof this[Ue]=="number"&&this[Uc](null,0),this}write(t,n){return typeof t=="string"&&(t=Buffer.from(t,n)),this[il]?(this.emit("error",new Error("write() after end()")),!1):this[Ue]===null||this[Lc]||this[sr].length?(this[sr].push(t),this[ef]=!0,!1):(this[Lc]=!0,this[nf](t),!0)}[nf](t){Xt.write(this[Ue],t,0,t.length,this[Ao],(n,r)=>this[Uc](n,r))}[Uc](t,n){t?this[$c](t):(this[Ao]!==null&&(this[Ao]+=n),this[sr].length?this[Xg]():(this[Lc]=!1,this[il]&&!this[nB]?(this[nB]=!0,this[Tn](),this.emit("finish")):this[ef]&&(this[ef]=!1,this.emit("drain"))))}[Xg](){if(this[sr].length===0)this[il]&&this[Uc](null,0);else if(this[sr].length===1)this[nf](this[sr].pop());else{let t=this[sr];this[sr]=[],Zg(this[Ue],t,this[Ao],(n,r)=>this[Uc](n,r))}}[Tn](){if(this[Gc]&&typeof this[Ue]=="number"){let t=this[Ue];this[Ue]=null,Xt.close(t,n=>n?this.emit("error",n):this.emit("close"))}}},nE=class extends af{[js](){let t;if(this[rf]&&this[Gs]==="r+")try{t=Xt.openSync(this[vr],this[Gs],this[sf])}catch(n){if(n.code==="ENOENT")return this[Gs]="w",this[js]();throw n}else t=Xt.openSync(this[vr],this[Gs],this[sf]);this[jc](null,t)}[Tn](){if(this[Gc]&&typeof this[Ue]=="number"){let t=this[Ue];this[Ue]=null,Xt.closeSync(t),this.emit("close")}}[nf](t){let n=!0;try{this[Uc](null,Xt.writeSync(this[Ue],t,0,t.length,this[Ao])),n=!1}finally{if(n)try{this[Tn]()}catch{}}}};al.ReadStream=of;al.ReadStreamSync=tE;al.WriteStream=af;al.WriteStreamSync=nE});var hf=k((HDe,mB)=>{"use strict";var vV=Um(),DV=Oc(),BV=require("events"),OV=Ug(),FV=1024*1024,MV=Fm(),oB=Lm(),LV=gg(),{nextTick:UV}=require("process"),rE=Buffer.from([31,139]),wn=Symbol("state"),ko=Symbol("writeEntry"),Dr=Symbol("readEntry"),sE=Symbol("nextEntry"),iB=Symbol("processEntry"),Cn=Symbol("extendedHeader"),cl=Symbol("globalExtendedHeader"),Hs=Symbol("meta"),aB=Symbol("emitMeta"),Ve=Symbol("buffer"),Br=Symbol("queue"),Ro=Symbol("ended"),cB=Symbol("emittedEnd"),Io=Symbol("emit"),Qt=Symbol("unzip"),cf=Symbol("consumeChunk"),df=Symbol("consumeChunkSub"),oE=Symbol("consumeBody"),dB=Symbol("consumeMeta"),lB=Symbol("consumeHeader"),lf=Symbol("consuming"),iE=Symbol("bufferConcat"),aE=Symbol("maybeEnd"),dl=Symbol("writing"),Ks=Symbol("aborted"),uf=Symbol("onDone"),No=Symbol("sawValidEntry"),mf=Symbol("sawNullBlock"),ff=Symbol("sawEOF"),uB=Symbol("closeStream"),zV=e=>!0;mB.exports=vV(class extends BV{constructor(t){t=t||{},super(t),this.file=t.file||"",this[No]=null,this.on(uf,n=>{(this[wn]==="begin"||this[No]===!1)&&this.warn("TAR_BAD_ARCHIVE","Unrecognized archive format")}),t.ondone?this.on(uf,t.ondone):this.on(uf,n=>{this.emit("prefinish"),this.emit("finish"),this.emit("end")}),this.strict=!!t.strict,this.maxMetaEntrySize=t.maxMetaEntrySize||FV,this.filter=typeof t.filter=="function"?t.filter:zV,this.writable=!0,this.readable=!1,this[Br]=new OV,this[Ve]=null,this[Dr]=null,this[ko]=null,this[wn]="begin",this[Hs]="",this[Cn]=null,this[cl]=null,this[Ro]=!1,this[Qt]=null,this[Ks]=!1,this[mf]=!1,this[ff]=!1,this.on("end",()=>this[uB]()),typeof t.onwarn=="function"&&this.on("warn",t.onwarn),typeof t.onentry=="function"&&this.on("entry",t.onentry)}[lB](t,n){this[No]===null&&(this[No]=!1);let r;try{r=new DV(t,n,this[Cn],this[cl])}catch(s){return this.warn("TAR_ENTRY_INVALID",s)}if(r.nullBlock)this[mf]?(this[ff]=!0,this[wn]==="begin"&&(this[wn]="header"),this[Io]("eof")):(this[mf]=!0,this[Io]("nullBlock"));else if(this[mf]=!1,!r.cksumValid)this.warn("TAR_ENTRY_INVALID","checksum failure",{header:r});else if(!r.path)this.warn("TAR_ENTRY_INVALID","path is required",{header:r});else{let s=r.type;if(/^(Symbolic)?Link$/.test(s)&&!r.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath required",{header:r});else if(!/^(Symbolic)?Link$/.test(s)&&r.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath forbidden",{header:r});else{let o=this[ko]=new MV(r,this[Cn],this[cl]);if(!this[No])if(o.remain){let a=()=>{o.invalid||(this[No]=!0)};o.on("end",a)}else this[No]=!0;o.meta?o.size>this.maxMetaEntrySize?(o.ignore=!0,this[Io]("ignoredEntry",o),this[wn]="ignore",o.resume()):o.size>0&&(this[Hs]="",o.on("data",a=>this[Hs]+=a),this[wn]="meta"):(this[Cn]=null,o.ignore=o.ignore||!this.filter(o.path,o),o.ignore?(this[Io]("ignoredEntry",o),this[wn]=o.remain?"ignore":"header",o.resume()):(o.remain?this[wn]="body":(this[wn]="header",o.end()),this[Dr]?this[Br].push(o):(this[Br].push(o),this[sE]())))}}}[uB](){UV(()=>this.emit("close"))}[iB](t){let n=!0;return t?Array.isArray(t)?this.emit.apply(this,t):(this[Dr]=t,this.emit("entry",t),t.emittedEnd||(t.on("end",r=>this[sE]()),n=!1)):(this[Dr]=null,n=!1),n}[sE](){do;while(this[iB](this[Br].shift()));if(!this[Br].length){let t=this[Dr];!t||t.flowing||t.size===t.remain?this[dl]||this.emit("drain"):t.once("drain",r=>this.emit("drain"))}}[oE](t,n){let r=this[ko],s=r.blockRemain,o=s>=t.length&&n===0?t:t.slice(n,n+s);return r.write(o),r.blockRemain||(this[wn]="header",this[ko]=null,r.end()),o.length}[dB](t,n){let r=this[ko],s=this[oE](t,n);return this[ko]||this[aB](r),s}[Io](t,n,r){!this[Br].length&&!this[Dr]?this.emit(t,n,r):this[Br].push([t,n,r])}[aB](t){switch(this[Io]("meta",this[Hs]),t.type){case"ExtendedHeader":case"OldExtendedHeader":this[Cn]=oB.parse(this[Hs],this[Cn],!1);break;case"GlobalExtendedHeader":this[cl]=oB.parse(this[Hs],this[cl],!0);break;case"NextFileHasLongPath":case"OldGnuLongPath":this[Cn]=this[Cn]||Object.create(null),this[Cn].path=this[Hs].replace(/\0.*/,"");break;case"NextFileHasLongLinkpath":this[Cn]=this[Cn]||Object.create(null),this[Cn].linkpath=this[Hs].replace(/\0.*/,"");break;default:throw new Error("unknown meta: "+t.type)}}abort(t){this[Ks]=!0,this.emit("abort",t),this.warn("TAR_ABORT",t,{recoverable:!1})}write(t){if(this[Ks])return;if(this[Qt]===null&&t){if(this[Ve]&&(t=Buffer.concat([this[Ve],t]),this[Ve]=null),t.length<rE.length)return this[Ve]=t,!0;for(let r=0;this[Qt]===null&&r<rE.length;r++)t[r]!==rE[r]&&(this[Qt]=!1);if(this[Qt]===null){let r=this[Ro];this[Ro]=!1,this[Qt]=new LV.Unzip,this[Qt].on("data",o=>this[cf](o)),this[Qt].on("error",o=>this.abort(o)),this[Qt].on("end",o=>{this[Ro]=!0,this[cf]()}),this[dl]=!0;let s=this[Qt][r?"end":"write"](t);return this[dl]=!1,s}}this[dl]=!0,this[Qt]?this[Qt].write(t):this[cf](t),this[dl]=!1;let n=this[Br].length?!1:this[Dr]?this[Dr].flowing:!0;return!n&&!this[Br].length&&this[Dr].once("drain",r=>this.emit("drain")),n}[iE](t){t&&!this[Ks]&&(this[Ve]=this[Ve]?Buffer.concat([this[Ve],t]):t)}[aE](){if(this[Ro]&&!this[cB]&&!this[Ks]&&!this[lf]){this[cB]=!0;let t=this[ko];if(t&&t.blockRemain){let n=this[Ve]?this[Ve].length:0;this.warn("TAR_BAD_ARCHIVE",`Truncated input (needed ${t.blockRemain} more bytes, only ${n} available)`,{entry:t}),this[Ve]&&t.write(this[Ve]),t.end()}this[Io](uf)}}[cf](t){if(this[lf])this[iE](t);else if(!t&&!this[Ve])this[aE]();else{if(this[lf]=!0,this[Ve]){this[iE](t);let n=this[Ve];this[Ve]=null,this[df](n)}else this[df](t);for(;this[Ve]&&this[Ve].length>=512&&!this[Ks]&&!this[ff];){let n=this[Ve];this[Ve]=null,this[df](n)}this[lf]=!1}(!this[Ve]||this[Ro])&&this[aE]()}[df](t){let n=0,r=t.length;for(;n+512<=r&&!this[Ks]&&!this[ff];)switch(this[wn]){case"begin":case"header":this[lB](t,n),n+=512;break;case"ignore":case"body":n+=this[oE](t,n);break;case"meta":n+=this[dB](t,n);break;default:throw new Error("invalid state: "+this[wn])}n<r&&(this[Ve]?this[Ve]=Buffer.concat([t.slice(n),this[Ve]]):this[Ve]=t.slice(n))}end(t){this[Ks]||(this[Qt]?this[Qt].end(t):(this[Ro]=!0,this.write(t)))}})});var pf=k((KDe,yB)=>{"use strict";var $V=Rc(),hB=hf(),Kc=require("fs"),qV=Hc(),fB=require("path"),cE=Fc();yB.exports=(e,t,n)=>{typeof e=="function"?(n=e,t=null,e={}):Array.isArray(e)&&(t=e,e={}),typeof t=="function"&&(n=t,t=null),t?t=Array.from(t):t=[];let r=$V(e);if(r.sync&&typeof n=="function")throw new TypeError("callback not supported for sync tar functions");if(!r.file&&typeof n=="function")throw new TypeError("callback only supported with file option");return t.length&&jV(r,t),r.noResume||GV(r),r.file&&r.sync?HV(r):r.file?KV(r,n):pB(r)};var GV=e=>{let t=e.onentry;e.onentry=t?n=>{t(n),n.resume()}:n=>n.resume()},jV=(e,t)=>{let n=new Map(t.map(o=>[cE(o),!0])),r=e.filter,s=(o,a)=>{let i=a||fB.parse(o).root||".",l=o===i?!1:n.has(o)?n.get(o):s(fB.dirname(o),i);return n.set(o,l),l};e.filter=r?(o,a)=>r(o,a)&&s(cE(o)):o=>s(cE(o))},HV=e=>{let t=pB(e),n=e.file,r=!0,s;try{let o=Kc.statSync(n),a=e.maxReadSize||16*1024*1024;if(o.size<a)t.end(Kc.readFileSync(n));else{let i=0,l=Buffer.allocUnsafe(a);for(s=Kc.openSync(n,"r");i<o.size;){let d=Kc.readSync(s,l,0,a,i);i+=d,t.write(l.slice(0,d))}t.end()}r=!1}finally{if(r&&s)try{Kc.closeSync(s)}catch{}}},KV=(e,t)=>{let n=new hB(e),r=e.maxReadSize||16*1024*1024,s=e.file,o=new Promise((a,i)=>{n.on("error",i),n.on("end",a),Kc.stat(s,(l,d)=>{if(l)i(l);else{let c=new qV.ReadStream(s,{readSize:r,size:d.size});c.on("error",i),c.pipe(n)}})});return t?o.then(t,t):o},pB=e=>new hB(e)});var CB=k((VDe,wB)=>{"use strict";var VV=Rc(),yf=Jm(),gB=Hc(),EB=pf(),xB=require("path");wB.exports=(e,t,n)=>{if(typeof t=="function"&&(n=t),Array.isArray(e)&&(t=e,e={}),!t||!Array.isArray(t)||!t.length)throw new TypeError("no files or directories specified");t=Array.from(t);let r=VV(e);if(r.sync&&typeof n=="function")throw new TypeError("callback not supported for sync tar functions");if(!r.file&&typeof n=="function")throw new TypeError("callback only supported with file option");return r.file&&r.sync?WV(r,t):r.file?YV(r,t,n):r.sync?XV(r,t):QV(r,t)};var WV=(e,t)=>{let n=new yf.Sync(e),r=new gB.WriteStreamSync(e.file,{mode:e.mode||438});n.pipe(r),SB(n,t)},YV=(e,t,n)=>{let r=new yf(e),s=new gB.WriteStream(e.file,{mode:e.mode||438});r.pipe(s);let o=new Promise((a,i)=>{s.on("error",i),s.on("close",a),r.on("error",i)});return dE(r,t),n?o.then(n,n):o},SB=(e,t)=>{t.forEach(n=>{n.charAt(0)==="@"?EB({file:xB.resolve(e.cwd,n.slice(1)),sync:!0,noResume:!0,onentry:r=>e.add(r)}):e.add(n)}),e.end()},dE=(e,t)=>{for(;t.length;){let n=t.shift();if(n.charAt(0)==="@")return EB({file:xB.resolve(e.cwd,n.slice(1)),noResume:!0,onentry:r=>e.add(r)}).then(r=>dE(e,t));e.add(n)}e.end()},XV=(e,t)=>{let n=new yf.Sync(e);return SB(n,t),n},QV=(e,t)=>{let n=new yf(e);return dE(n,t),n}});var lE=k((WDe,IB)=>{"use strict";var ZV=Rc(),bB=Jm(),rn=require("fs"),PB=Hc(),_B=pf(),AB=require("path"),kB=Oc();IB.exports=(e,t,n)=>{let r=ZV(e);if(!r.file)throw new TypeError("file is required");if(r.gzip)throw new TypeError("cannot append to compressed archives");if(!t||!Array.isArray(t)||!t.length)throw new TypeError("no files or directories specified");return t=Array.from(t),r.sync?JV(r,t):tW(r,t,n)};var JV=(e,t)=>{let n=new bB.Sync(e),r=!0,s,o;try{try{s=rn.openSync(e.file,"r+")}catch(l){if(l.code==="ENOENT")s=rn.openSync(e.file,"w+");else throw l}let a=rn.fstatSync(s),i=Buffer.alloc(512);e:for(o=0;o<a.size;o+=512){for(let c=0,u=0;c<512;c+=u){if(u=rn.readSync(s,i,c,i.length-c,o+c),o===0&&i[0]===31&&i[1]===139)throw new Error("cannot append to compressed archives");if(!u)break e}let l=new kB(i);if(!l.cksumValid)break;let d=512*Math.ceil(l.size/512);if(o+d+512>a.size)break;o+=d,e.mtimeCache&&e.mtimeCache.set(l.path,l.mtime)}r=!1,eW(e,n,o,s,t)}finally{if(r)try{rn.closeSync(s)}catch{}}},eW=(e,t,n,r,s)=>{let o=new PB.WriteStreamSync(e.file,{fd:r,start:n});t.pipe(o),nW(t,s)},tW=(e,t,n)=>{t=Array.from(t);let r=new bB(e),s=(a,i,l)=>{let d=(x,R)=>{x?rn.close(a,D=>l(x)):l(null,R)},c=0;if(i===0)return d(null,0);let u=0,m=Buffer.alloc(512),S=(x,R)=>{if(x)return d(x);if(u+=R,u<512&&R)return rn.read(a,m,u,m.length-u,c+u,S);if(c===0&&m[0]===31&&m[1]===139)return d(new Error("cannot append to compressed archives"));if(u<512)return d(null,c);let D=new kB(m);if(!D.cksumValid)return d(null,c);let X=512*Math.ceil(D.size/512);if(c+X+512>i||(c+=X+512,c>=i))return d(null,c);e.mtimeCache&&e.mtimeCache.set(D.path,D.mtime),u=0,rn.read(a,m,0,512,c,S)};rn.read(a,m,0,512,c,S)},o=new Promise((a,i)=>{r.on("error",i);let l="r+",d=(c,u)=>{if(c&&c.code==="ENOENT"&&l==="r+")return l="w+",rn.open(e.file,l,d);if(c)return i(c);rn.fstat(u,(m,S)=>{if(m)return rn.close(u,()=>i(m));s(u,S.size,(x,R)=>{if(x)return i(x);let D=new PB.WriteStream(e.file,{fd:u,start:R});r.pipe(D),D.on("error",i),D.on("close",a),RB(r,t)})})};rn.open(e.file,l,d)});return n?o.then(n,n):o},nW=(e,t)=>{t.forEach(n=>{n.charAt(0)==="@"?_B({file:AB.resolve(e.cwd,n.slice(1)),sync:!0,noResume:!0,onentry:r=>e.add(r)}):e.add(n)}),e.end()},RB=(e,t)=>{for(;t.length;){let n=t.shift();if(n.charAt(0)==="@")return _B({file:AB.resolve(e.cwd,n.slice(1)),noResume:!0,onentry:r=>e.add(r)}).then(r=>RB(e,t));e.add(n)}e.end()}});var TB=k((YDe,NB)=>{"use strict";var rW=Rc(),sW=lE();NB.exports=(e,t,n)=>{let r=rW(e);if(!r.file)throw new TypeError("file is required");if(r.gzip)throw new TypeError("cannot append to compressed archives");if(!t||!Array.isArray(t)||!t.length)throw new TypeError("no files or directories specified");return t=Array.from(t),oW(r),sW(r,t,n)};var oW=e=>{let t=e.filter;e.mtimeCache||(e.mtimeCache=new Map),e.filter=t?(n,r)=>t(n,r)&&!(e.mtimeCache.get(n)>r.mtime):(n,r)=>!(e.mtimeCache.get(n)>r.mtime)}});var BB=k((XDe,DB)=>{var{promisify:vB}=require("util"),Vs=require("fs"),iW=e=>{if(!e)e={mode:511,fs:Vs};else if(typeof e=="object")e={mode:511,fs:Vs,...e};else if(typeof e=="number")e={mode:e,fs:Vs};else if(typeof e=="string")e={mode:parseInt(e,8),fs:Vs};else throw new TypeError("invalid options argument");return e.mkdir=e.mkdir||e.fs.mkdir||Vs.mkdir,e.mkdirAsync=vB(e.mkdir),e.stat=e.stat||e.fs.stat||Vs.stat,e.statAsync=vB(e.stat),e.statSync=e.statSync||e.fs.statSync||Vs.statSync,e.mkdirSync=e.mkdirSync||e.fs.mkdirSync||Vs.mkdirSync,e};DB.exports=iW});var FB=k((QDe,OB)=>{var aW=process.env.__TESTING_MKDIRP_PLATFORM__||process.platform,{resolve:cW,parse:dW}=require("path"),lW=e=>{if(/\0/.test(e))throw Object.assign(new TypeError("path must be a string without null bytes"),{path:e,code:"ERR_INVALID_ARG_VALUE"});if(e=cW(e),aW==="win32"){let t=/[*|"<>?:]/,{root:n}=dW(e);if(t.test(e.substr(n.length)))throw Object.assign(new Error("Illegal characters in path."),{path:e,code:"EINVAL"})}return e};OB.exports=lW});var $B=k((ZDe,zB)=>{var{dirname:MB}=require("path"),LB=(e,t,n=void 0)=>n===t?Promise.resolve():e.statAsync(t).then(r=>r.isDirectory()?n:void 0,r=>r.code==="ENOENT"?LB(e,MB(t),t):void 0),UB=(e,t,n=void 0)=>{if(n!==t)try{return e.statSync(t).isDirectory()?n:void 0}catch(r){return r.code==="ENOENT"?UB(e,MB(t),t):void 0}};zB.exports={findMade:LB,findMadeSync:UB}});var fE=k((JDe,GB)=>{var{dirname:qB}=require("path"),uE=(e,t,n)=>{t.recursive=!1;let r=qB(e);return r===e?t.mkdirAsync(e,t).catch(s=>{if(s.code!=="EISDIR")throw s}):t.mkdirAsync(e,t).then(()=>n||e,s=>{if(s.code==="ENOENT")return uE(r,t).then(o=>uE(e,t,o));if(s.code!=="EEXIST"&&s.code!=="EROFS")throw s;return t.statAsync(e).then(o=>{if(o.isDirectory())return n;throw s},()=>{throw s})})},mE=(e,t,n)=>{let r=qB(e);if(t.recursive=!1,r===e)try{return t.mkdirSync(e,t)}catch(s){if(s.code!=="EISDIR")throw s;return}try{return t.mkdirSync(e,t),n||e}catch(s){if(s.code==="ENOENT")return mE(e,t,mE(r,t,n));if(s.code!=="EEXIST"&&s.code!=="EROFS")throw s;try{if(!t.statSync(e).isDirectory())throw s}catch{throw s}}};GB.exports={mkdirpManual:uE,mkdirpManualSync:mE}});var KB=k((eBe,HB)=>{var{dirname:jB}=require("path"),{findMade:uW,findMadeSync:mW}=$B(),{mkdirpManual:fW,mkdirpManualSync:hW}=fE(),pW=(e,t)=>(t.recursive=!0,jB(e)===e?t.mkdirAsync(e,t):uW(t,e).then(r=>t.mkdirAsync(e,t).then(()=>r).catch(s=>{if(s.code==="ENOENT")return fW(e,t);throw s}))),yW=(e,t)=>{if(t.recursive=!0,jB(e)===e)return t.mkdirSync(e,t);let r=mW(t,e);try{return t.mkdirSync(e,t),r}catch(s){if(s.code==="ENOENT")return hW(e,t);throw s}};HB.exports={mkdirpNative:pW,mkdirpNativeSync:yW}});var XB=k((tBe,YB)=>{var VB=require("fs"),gW=process.env.__TESTING_MKDIRP_NODE_VERSION__||process.version,hE=gW.replace(/^v/,"").split("."),WB=+hE[0]>10||+hE[0]==10&&+hE[1]>=12,EW=WB?e=>e.mkdir===VB.mkdir:()=>!1,xW=WB?e=>e.mkdirSync===VB.mkdirSync:()=>!1;YB.exports={useNative:EW,useNativeSync:xW}});var nO=k((nBe,tO)=>{var Vc=BB(),Wc=FB(),{mkdirpNative:QB,mkdirpNativeSync:ZB}=KB(),{mkdirpManual:JB,mkdirpManualSync:eO}=fE(),{useNative:SW,useNativeSync:wW}=XB(),Yc=(e,t)=>(e=Wc(e),t=Vc(t),SW(t)?QB(e,t):JB(e,t)),CW=(e,t)=>(e=Wc(e),t=Vc(t),wW(t)?ZB(e,t):eO(e,t));Yc.sync=CW;Yc.native=(e,t)=>QB(Wc(e),Vc(t));Yc.manual=(e,t)=>JB(Wc(e),Vc(t));Yc.nativeSync=(e,t)=>ZB(Wc(e),Vc(t));Yc.manualSync=(e,t)=>eO(Wc(e),Vc(t));tO.exports=Yc});var dO=k((rBe,cO)=>{"use strict";var bn=require("fs"),To=require("path"),bW=bn.lchown?"lchown":"chown",PW=bn.lchownSync?"lchownSync":"chownSync",sO=bn.lchown&&!process.version.match(/v1[1-9]+\./)&&!process.version.match(/v10\.[6-9]/),rO=(e,t,n)=>{try{return bn[PW](e,t,n)}catch(r){if(r.code!=="ENOENT")throw r}},_W=(e,t,n)=>{try{return bn.chownSync(e,t,n)}catch(r){if(r.code!=="ENOENT")throw r}},AW=sO?(e,t,n,r)=>s=>{!s||s.code!=="EISDIR"?r(s):bn.chown(e,t,n,r)}:(e,t,n,r)=>r,pE=sO?(e,t,n)=>{try{return rO(e,t,n)}catch(r){if(r.code!=="EISDIR")throw r;_W(e,t,n)}}:(e,t,n)=>rO(e,t,n),kW=process.version,oO=(e,t,n)=>bn.readdir(e,t,n),RW=(e,t)=>bn.readdirSync(e,t);/^v4\./.test(kW)&&(oO=(e,t,n)=>bn.readdir(e,n));var gf=(e,t,n,r)=>{bn[bW](e,t,n,AW(e,t,n,s=>{r(s&&s.code!=="ENOENT"?s:null)}))},iO=(e,t,n,r,s)=>{if(typeof t=="string")return bn.lstat(To.resolve(e,t),(o,a)=>{if(o)return s(o.code!=="ENOENT"?o:null);a.name=t,iO(e,a,n,r,s)});if(t.isDirectory())yE(To.resolve(e,t.name),n,r,o=>{if(o)return s(o);let a=To.resolve(e,t.name);gf(a,n,r,s)});else{let o=To.resolve(e,t.name);gf(o,n,r,s)}},yE=(e,t,n,r)=>{oO(e,{withFileTypes:!0},(s,o)=>{if(s){if(s.code==="ENOENT")return r();if(s.code!=="ENOTDIR"&&s.code!=="ENOTSUP")return r(s)}if(s||!o.length)return gf(e,t,n,r);let a=o.length,i=null,l=d=>{if(!i){if(d)return r(i=d);if(--a===0)return gf(e,t,n,r)}};o.forEach(d=>iO(e,d,t,n,l))})},IW=(e,t,n,r)=>{if(typeof t=="string")try{let s=bn.lstatSync(To.resolve(e,t));s.name=t,t=s}catch(s){if(s.code==="ENOENT")return;throw s}t.isDirectory()&&aO(To.resolve(e,t.name),n,r),pE(To.resolve(e,t.name),n,r)},aO=(e,t,n)=>{let r;try{r=RW(e,{withFileTypes:!0})}catch(s){if(s.code==="ENOENT")return;if(s.code==="ENOTDIR"||s.code==="ENOTSUP")return pE(e,t,n);throw s}return r&&r.length&&r.forEach(s=>IW(e,s,t,n)),pE(e,t,n)};cO.exports=yE;yE.sync=aO});var fO=k((sBe,gE)=>{"use strict";var lO=nO(),Pn=require("fs"),Ef=require("path"),uO=dO(),vn=Dc(),xf=class extends Error{constructor(t,n){super("Cannot extract through symbolic link"),this.path=n,this.symlink=t}get name(){return"SylinkError"}},Sf=class extends Error{constructor(t,n){super(n+": Cannot cd into '"+t+"'"),this.path=t,this.code=n}get name(){return"CwdError"}},wf=(e,t)=>e.get(vn(t)),ll=(e,t,n)=>e.set(vn(t),n),NW=(e,t)=>{Pn.stat(e,(n,r)=>{(n||!r.isDirectory())&&(n=new Sf(e,n&&n.code||"ENOTDIR")),t(n)})};gE.exports=(e,t,n)=>{e=vn(e);let r=t.umask,s=t.mode|448,o=(s&r)!==0,a=t.uid,i=t.gid,l=typeof a=="number"&&typeof i=="number"&&(a!==t.processUid||i!==t.processGid),d=t.preserve,c=t.unlink,u=t.cache,m=vn(t.cwd),S=(D,X)=>{D?n(D):(ll(u,e,!0),X&&l?uO(X,a,i,Ce=>S(Ce)):o?Pn.chmod(e,s,n):n())};if(u&&wf(u,e)===!0)return S();if(e===m)return NW(e,S);if(d)return lO(e,{mode:s}).then(D=>S(null,D),S);let R=vn(Ef.relative(m,e)).split("/");Cf(m,R,s,u,c,m,null,S)};var Cf=(e,t,n,r,s,o,a,i)=>{if(!t.length)return i(null,a);let l=t.shift(),d=vn(Ef.resolve(e+"/"+l));if(wf(r,d))return Cf(d,t,n,r,s,o,a,i);Pn.mkdir(d,n,mO(d,t,n,r,s,o,a,i))},mO=(e,t,n,r,s,o,a,i)=>l=>{l?Pn.lstat(e,(d,c)=>{if(d)d.path=d.path&&vn(d.path),i(d);else if(c.isDirectory())Cf(e,t,n,r,s,o,a,i);else if(s)Pn.unlink(e,u=>{if(u)return i(u);Pn.mkdir(e,n,mO(e,t,n,r,s,o,a,i))});else{if(c.isSymbolicLink())return i(new xf(e,e+"/"+t.join("/")));i(l)}}):(a=a||e,Cf(e,t,n,r,s,o,a,i))},TW=e=>{let t=!1,n="ENOTDIR";try{t=Pn.statSync(e).isDirectory()}catch(r){n=r.code}finally{if(!t)throw new Sf(e,n)}};gE.exports.sync=(e,t)=>{e=vn(e);let n=t.umask,r=t.mode|448,s=(r&n)!==0,o=t.uid,a=t.gid,i=typeof o=="number"&&typeof a=="number"&&(o!==t.processUid||a!==t.processGid),l=t.preserve,d=t.unlink,c=t.cache,u=vn(t.cwd),m=D=>{ll(c,e,!0),D&&i&&uO.sync(D,o,a),s&&Pn.chmodSync(e,r)};if(c&&wf(c,e)===!0)return m();if(e===u)return TW(u),m();if(l)return m(lO.sync(e,r));let x=vn(Ef.relative(u,e)).split("/"),R=null;for(let D=x.shift(),X=u;D&&(X+="/"+D);D=x.shift())if(X=vn(Ef.resolve(X)),!wf(c,X))try{Pn.mkdirSync(X,r),R=R||X,ll(c,X,!0)}catch{let ye=Pn.lstatSync(X);if(ye.isDirectory()){ll(c,X,!0);continue}else if(d){Pn.unlinkSync(X),Pn.mkdirSync(X,r),R=R||X,ll(c,X,!0);continue}else if(ye.isSymbolicLink())return new xf(X,X+"/"+x.join("/"))}return m(R)}});var xE=k((oBe,hO)=>{var EE=Object.create(null),{hasOwnProperty:vW}=Object.prototype;hO.exports=e=>(vW.call(EE,e)||(EE[e]=e.normalize("NFKD")),EE[e])});var EO=k((iBe,gO)=>{var pO=require("assert"),DW=xE(),BW=Fc(),{join:yO}=require("path"),OW=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform,FW=OW==="win32";gO.exports=()=>{let e=new Map,t=new Map,n=d=>d.split("/").slice(0,-1).reduce((u,m)=>(u.length&&(m=yO(u[u.length-1],m)),u.push(m||"/"),u),[]),r=new Set,s=d=>{let c=t.get(d);if(!c)throw new Error("function does not have any path reservations");return{paths:c.paths.map(u=>e.get(u)),dirs:[...c.dirs].map(u=>e.get(u))}},o=d=>{let{paths:c,dirs:u}=s(d);return c.every(m=>m[0]===d)&&u.every(m=>m[0]instanceof Set&&m[0].has(d))},a=d=>r.has(d)||!o(d)?!1:(r.add(d),d(()=>i(d)),!0),i=d=>{if(!r.has(d))return!1;let{paths:c,dirs:u}=t.get(d),m=new Set;return c.forEach(S=>{let x=e.get(S);pO.equal(x[0],d),x.length===1?e.delete(S):(x.shift(),typeof x[0]=="function"?m.add(x[0]):x[0].forEach(R=>m.add(R)))}),u.forEach(S=>{let x=e.get(S);pO(x[0]instanceof Set),x[0].size===1&&x.length===1?e.delete(S):x[0].size===1?(x.shift(),m.add(x[0])):x[0].delete(d)}),r.delete(d),m.forEach(S=>a(S)),!0};return{check:o,reserve:(d,c)=>{d=FW?["win32 parallelization disabled"]:d.map(m=>DW(BW(yO(m))).toLowerCase());let u=new Set(d.map(m=>n(m)).reduce((m,S)=>m.concat(S)));return t.set(c,{dirs:u,paths:d}),d.forEach(m=>{let S=e.get(m);S?S.push(c):e.set(m,[c])}),u.forEach(m=>{let S=e.get(m);S?S[S.length-1]instanceof Set?S[S.length-1].add(c):S.push(new Set([c])):e.set(m,[new Set([c])])}),a(c)}}}});var wO=k((aBe,SO)=>{var MW=process.env.__FAKE_PLATFORM__||process.platform,LW=MW==="win32",UW=global.__FAKE_TESTING_FS__||require("fs"),{O_CREAT:zW,O_TRUNC:$W,O_WRONLY:qW,UV_FS_O_FILEMAP:xO=0}=UW.constants,GW=LW&&!!xO,jW=512*1024,HW=xO|$W|zW|qW;SO.exports=GW?e=>e<jW?HW:"w":()=>"w"});var RE=k((cBe,OO)=>{"use strict";var KW=require("assert"),VW=hf(),ve=require("fs"),WW=Hc(),Or=require("path"),vO=fO(),CO=kg(),YW=EO(),XW=Rg(),sn=Dc(),QW=Fc(),ZW=xE(),bO=Symbol("onEntry"),CE=Symbol("checkFs"),PO=Symbol("checkFs2"),_f=Symbol("pruneCache"),bE=Symbol("isReusable"),_n=Symbol("makeFs"),PE=Symbol("file"),_E=Symbol("directory"),Af=Symbol("link"),_O=Symbol("symlink"),AO=Symbol("hardlink"),kO=Symbol("unsupported"),RO=Symbol("checkPath"),Ws=Symbol("mkdir"),vt=Symbol("onError"),bf=Symbol("pending"),IO=Symbol("pend"),Xc=Symbol("unpend"),SE=Symbol("ended"),wE=Symbol("maybeClose"),AE=Symbol("skip"),ul=Symbol("doChown"),ml=Symbol("uid"),fl=Symbol("gid"),hl=Symbol("checkedCwd"),DO=require("crypto"),BO=wO(),JW=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform,pl=JW==="win32",e9=(e,t)=>{if(!pl)return ve.unlink(e,t);let n=e+".DELETE."+DO.randomBytes(16).toString("hex");ve.rename(e,n,r=>{if(r)return t(r);ve.unlink(n,t)})},t9=e=>{if(!pl)return ve.unlinkSync(e);let t=e+".DELETE."+DO.randomBytes(16).toString("hex");ve.renameSync(e,t),ve.unlinkSync(t)},NO=(e,t,n)=>e===e>>>0?e:t===t>>>0?t:n,TO=e=>ZW(QW(sn(e))).toLowerCase(),n9=(e,t)=>{t=TO(t);for(let n of e.keys()){let r=TO(n);(r===t||r.indexOf(t+"/")===0)&&e.delete(n)}},r9=e=>{for(let t of e.keys())e.delete(t)},yl=class extends VW{constructor(t){if(t||(t={}),t.ondone=n=>{this[SE]=!0,this[wE]()},super(t),this[hl]=!1,this.reservations=YW(),this.transform=typeof t.transform=="function"?t.transform:null,this.writable=!0,this.readable=!1,this[bf]=0,this[SE]=!1,this.dirCache=t.dirCache||new Map,typeof t.uid=="number"||typeof t.gid=="number"){if(typeof t.uid!="number"||typeof t.gid!="number")throw new TypeError("cannot set owner without number uid and gid");if(t.preserveOwner)throw new TypeError("cannot preserve owner in archive and also set owner explicitly");this.uid=t.uid,this.gid=t.gid,this.setOwner=!0}else this.uid=null,this.gid=null,this.setOwner=!1;t.preserveOwner===void 0&&typeof t.uid!="number"?this.preserveOwner=process.getuid&&process.getuid()===0:this.preserveOwner=!!t.preserveOwner,this.processUid=(this.preserveOwner||this.setOwner)&&process.getuid?process.getuid():null,this.processGid=(this.preserveOwner||this.setOwner)&&process.getgid?process.getgid():null,this.forceChown=t.forceChown===!0,this.win32=!!t.win32||pl,this.newer=!!t.newer,this.keep=!!t.keep,this.noMtime=!!t.noMtime,this.preservePaths=!!t.preservePaths,this.unlink=!!t.unlink,this.cwd=sn(Or.resolve(t.cwd||process.cwd())),this.strip=+t.strip||0,this.processUmask=t.noChmod?0:process.umask(),this.umask=typeof t.umask=="number"?t.umask:this.processUmask,this.dmode=t.dmode||511&~this.umask,this.fmode=t.fmode||438&~this.umask,this.on("entry",n=>this[bO](n))}warn(t,n,r={}){return(t==="TAR_BAD_ARCHIVE"||t==="TAR_ABORT")&&(r.recoverable=!1),super.warn(t,n,r)}[wE](){this[SE]&&this[bf]===0&&(this.emit("prefinish"),this.emit("finish"),this.emit("end"))}[RO](t){if(this.strip){let n=sn(t.path).split("/");if(n.length<this.strip)return!1;if(t.path=n.slice(this.strip).join("/"),t.type==="Link"){let r=sn(t.linkpath).split("/");if(r.length>=this.strip)t.linkpath=r.slice(this.strip).join("/");else return!1}}if(!this.preservePaths){let n=sn(t.path),r=n.split("/");if(r.includes("..")||pl&&/^[a-z]:\.\.$/i.test(r[0]))return this.warn("TAR_ENTRY_ERROR","path contains '..'",{entry:t,path:n}),!1;let[s,o]=XW(n);s&&(t.path=o,this.warn("TAR_ENTRY_INFO",`stripping ${s} from absolute path`,{entry:t,path:n}))}if(Or.isAbsolute(t.path)?t.absolute=sn(Or.resolve(t.path)):t.absolute=sn(Or.resolve(this.cwd,t.path)),!this.preservePaths&&t.absolute.indexOf(this.cwd+"/")!==0&&t.absolute!==this.cwd)return this.warn("TAR_ENTRY_ERROR","path escaped extraction target",{entry:t,path:sn(t.path),resolvedPath:t.absolute,cwd:this.cwd}),!1;if(t.absolute===this.cwd&&t.type!=="Directory"&&t.type!=="GNUDumpDir")return!1;if(this.win32){let{root:n}=Or.win32.parse(t.absolute);t.absolute=n+CO.encode(t.absolute.slice(n.length));let{root:r}=Or.win32.parse(t.path);t.path=r+CO.encode(t.path.slice(r.length))}return!0}[bO](t){if(!this[RO](t))return t.resume();switch(KW.equal(typeof t.absolute,"string"),t.type){case"Directory":case"GNUDumpDir":t.mode&&(t.mode=t.mode|448);case"File":case"OldFile":case"ContiguousFile":case"Link":case"SymbolicLink":return this[CE](t);case"CharacterDevice":case"BlockDevice":case"FIFO":default:return this[kO](t)}}[vt](t,n){t.name==="CwdError"?this.emit("error",t):(this.warn("TAR_ENTRY_ERROR",t,{entry:n}),this[Xc](),n.resume())}[Ws](t,n,r){vO(sn(t),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:n,noChmod:this.noChmod},r)}[ul](t){return this.forceChown||this.preserveOwner&&(typeof t.uid=="number"&&t.uid!==this.processUid||typeof t.gid=="number"&&t.gid!==this.processGid)||typeof this.uid=="number"&&this.uid!==this.processUid||typeof this.gid=="number"&&this.gid!==this.processGid}[ml](t){return NO(this.uid,t.uid,this.processUid)}[fl](t){return NO(this.gid,t.gid,this.processGid)}[PE](t,n){let r=t.mode&4095||this.fmode,s=new WW.WriteStream(t.absolute,{flags:BO(t.size),mode:r,autoClose:!1});s.on("error",l=>{s.fd&&ve.close(s.fd,()=>{}),s.write=()=>!0,this[vt](l,t),n()});let o=1,a=l=>{if(l){s.fd&&ve.close(s.fd,()=>{}),this[vt](l,t),n();return}--o===0&&ve.close(s.fd,d=>{d?this[vt](d,t):this[Xc](),n()})};s.on("finish",l=>{let d=t.absolute,c=s.fd;if(t.mtime&&!this.noMtime){o++;let u=t.atime||new Date,m=t.mtime;ve.futimes(c,u,m,S=>S?ve.utimes(d,u,m,x=>a(x&&S)):a())}if(this[ul](t)){o++;let u=this[ml](t),m=this[fl](t);ve.fchown(c,u,m,S=>S?ve.chown(d,u,m,x=>a(x&&S)):a())}a()});let i=this.transform&&this.transform(t)||t;i!==t&&(i.on("error",l=>{this[vt](l,t),n()}),t.pipe(i)),i.pipe(s)}[_E](t,n){let r=t.mode&4095||this.dmode;this[Ws](t.absolute,r,s=>{if(s){this[vt](s,t),n();return}let o=1,a=i=>{--o===0&&(n(),this[Xc](),t.resume())};t.mtime&&!this.noMtime&&(o++,ve.utimes(t.absolute,t.atime||new Date,t.mtime,a)),this[ul](t)&&(o++,ve.chown(t.absolute,this[ml](t),this[fl](t),a)),a()})}[kO](t){t.unsupported=!0,this.warn("TAR_ENTRY_UNSUPPORTED",`unsupported entry type: ${t.type}`,{entry:t}),t.resume()}[_O](t,n){this[Af](t,t.linkpath,"symlink",n)}[AO](t,n){let r=sn(Or.resolve(this.cwd,t.linkpath));this[Af](t,r,"link",n)}[IO](){this[bf]++}[Xc](){this[bf]--,this[wE]()}[AE](t){this[Xc](),t.resume()}[bE](t,n){return t.type==="File"&&!this.unlink&&n.isFile()&&n.nlink<=1&&!pl}[CE](t){this[IO]();let n=[t.path];t.linkpath&&n.push(t.linkpath),this.reservations.reserve(n,r=>this[PO](t,r))}[_f](t){t.type==="SymbolicLink"?r9(this.dirCache):t.type!=="Directory"&&n9(this.dirCache,t.absolute)}[PO](t,n){this[_f](t);let r=i=>{this[_f](t),n(i)},s=()=>{this[Ws](this.cwd,this.dmode,i=>{if(i){this[vt](i,t),r();return}this[hl]=!0,o()})},o=()=>{if(t.absolute!==this.cwd){let i=sn(Or.dirname(t.absolute));if(i!==this.cwd)return this[Ws](i,this.dmode,l=>{if(l){this[vt](l,t),r();return}a()})}a()},a=()=>{ve.lstat(t.absolute,(i,l)=>{if(l&&(this.keep||this.newer&&l.mtime>t.mtime)){this[AE](t),r();return}if(i||this[bE](t,l))return this[_n](null,t,r);if(l.isDirectory()){if(t.type==="Directory"){let d=!this.noChmod&&t.mode&&(l.mode&4095)!==t.mode,c=u=>this[_n](u,t,r);return d?ve.chmod(t.absolute,t.mode,c):c()}if(t.absolute!==this.cwd)return ve.rmdir(t.absolute,d=>this[_n](d,t,r))}if(t.absolute===this.cwd)return this[_n](null,t,r);e9(t.absolute,d=>this[_n](d,t,r))})};this[hl]?o():s()}[_n](t,n,r){if(t){this[vt](t,n),r();return}switch(n.type){case"File":case"OldFile":case"ContiguousFile":return this[PE](n,r);case"Link":return this[AO](n,r);case"SymbolicLink":return this[_O](n,r);case"Directory":case"GNUDumpDir":return this[_E](n,r)}}[Af](t,n,r,s){ve[r](n,t.absolute,o=>{o?this[vt](o,t):(this[Xc](),t.resume()),s()})}},Pf=e=>{try{return[null,e()]}catch(t){return[t,null]}},kE=class extends yl{[_n](t,n){return super[_n](t,n,()=>{})}[CE](t){if(this[_f](t),!this[hl]){let o=this[Ws](this.cwd,this.dmode);if(o)return this[vt](o,t);this[hl]=!0}if(t.absolute!==this.cwd){let o=sn(Or.dirname(t.absolute));if(o!==this.cwd){let a=this[Ws](o,this.dmode);if(a)return this[vt](a,t)}}let[n,r]=Pf(()=>ve.lstatSync(t.absolute));if(r&&(this.keep||this.newer&&r.mtime>t.mtime))return this[AE](t);if(n||this[bE](t,r))return this[_n](null,t);if(r.isDirectory()){if(t.type==="Directory"){let a=!this.noChmod&&t.mode&&(r.mode&4095)!==t.mode,[i]=a?Pf(()=>{ve.chmodSync(t.absolute,t.mode)}):[];return this[_n](i,t)}let[o]=Pf(()=>ve.rmdirSync(t.absolute));this[_n](o,t)}let[s]=t.absolute===this.cwd?[]:Pf(()=>t9(t.absolute));this[_n](s,t)}[PE](t,n){let r=t.mode&4095||this.fmode,s=i=>{let l;try{ve.closeSync(o)}catch(d){l=d}(i||l)&&this[vt](i||l,t),n()},o;try{o=ve.openSync(t.absolute,BO(t.size),r)}catch(i){return s(i)}let a=this.transform&&this.transform(t)||t;a!==t&&(a.on("error",i=>this[vt](i,t)),t.pipe(a)),a.on("data",i=>{try{ve.writeSync(o,i,0,i.length)}catch(l){s(l)}}),a.on("end",i=>{let l=null;if(t.mtime&&!this.noMtime){let d=t.atime||new Date,c=t.mtime;try{ve.futimesSync(o,d,c)}catch(u){try{ve.utimesSync(t.absolute,d,c)}catch{l=u}}}if(this[ul](t)){let d=this[ml](t),c=this[fl](t);try{ve.fchownSync(o,d,c)}catch(u){try{ve.chownSync(t.absolute,d,c)}catch{l=l||u}}}s(l)})}[_E](t,n){let r=t.mode&4095||this.dmode,s=this[Ws](t.absolute,r);if(s){this[vt](s,t),n();return}if(t.mtime&&!this.noMtime)try{ve.utimesSync(t.absolute,t.atime||new Date,t.mtime)}catch{}if(this[ul](t))try{ve.chownSync(t.absolute,this[ml](t),this[fl](t))}catch{}n(),t.resume()}[Ws](t,n){try{return vO.sync(sn(t),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:n})}catch(r){return r}}[Af](t,n,r,s){try{ve[r+"Sync"](n,t.absolute),s(),t.resume()}catch(o){return this[vt](o,t)}}};yl.Sync=kE;OO.exports=yl});var zO=k((dBe,UO)=>{"use strict";var s9=Rc(),kf=RE(),MO=require("fs"),LO=Hc(),FO=require("path"),IE=Fc();UO.exports=(e,t,n)=>{typeof e=="function"?(n=e,t=null,e={}):Array.isArray(e)&&(t=e,e={}),typeof t=="function"&&(n=t,t=null),t?t=Array.from(t):t=[];let r=s9(e);if(r.sync&&typeof n=="function")throw new TypeError("callback not supported for sync tar functions");if(!r.file&&typeof n=="function")throw new TypeError("callback only supported with file option");return t.length&&o9(r,t),r.file&&r.sync?i9(r):r.file?a9(r,n):r.sync?c9(r):d9(r)};var o9=(e,t)=>{let n=new Map(t.map(o=>[IE(o),!0])),r=e.filter,s=(o,a)=>{let i=a||FO.parse(o).root||".",l=o===i?!1:n.has(o)?n.get(o):s(FO.dirname(o),i);return n.set(o,l),l};e.filter=r?(o,a)=>r(o,a)&&s(IE(o)):o=>s(IE(o))},i9=e=>{let t=new kf.Sync(e),n=e.file,r=MO.statSync(n),s=e.maxReadSize||16*1024*1024;new LO.ReadStreamSync(n,{readSize:s,size:r.size}).pipe(t)},a9=(e,t)=>{let n=new kf(e),r=e.maxReadSize||16*1024*1024,s=e.file,o=new Promise((a,i)=>{n.on("error",i),n.on("close",a),MO.stat(s,(l,d)=>{if(l)i(l);else{let c=new LO.ReadStream(s,{readSize:r,size:d.size});c.on("error",i),c.pipe(n)}})});return t?o.then(t,t):o},c9=e=>new kf.Sync(e),d9=e=>new kf(e)});var $O=k(mt=>{"use strict";mt.c=mt.create=CB();mt.r=mt.replace=lE();mt.t=mt.list=pf();mt.u=mt.update=TB();mt.x=mt.extract=zO();mt.Pack=Jm();mt.Unpack=RE();mt.Parse=hf();mt.ReadEntry=Fm();mt.WriteEntry=Lg();mt.Header=Oc();mt.Pax=Lm();mt.types=Sg()});var GO=k((uBe,qO)=>{"use strict";qO.exports=(...e)=>[...new Set([].concat(...e))]});var NE=k((mBe,KO)=>{"use strict";var l9=require("stream"),jO=l9.PassThrough,u9=Array.prototype.slice;KO.exports=m9;function m9(){let e=[],t=u9.call(arguments),n=!1,r=t[t.length-1];r&&!Array.isArray(r)&&r.pipe==null?t.pop():r={};let s=r.end!==!1,o=r.pipeError===!0;r.objectMode==null&&(r.objectMode=!0),r.highWaterMark==null&&(r.highWaterMark=64*1024);let a=jO(r);function i(){for(let c=0,u=arguments.length;c<u;c++)e.push(HO(arguments[c],r));return l(),this}function l(){if(n)return;n=!0;let c=e.shift();if(!c){process.nextTick(d);return}Array.isArray(c)||(c=[c]);let u=c.length+1;function m(){--u>0||(n=!1,l())}function S(x){function R(){x.removeListener("merge2UnpipeEnd",R),x.removeListener("end",R),o&&x.removeListener("error",D),m()}function D(X){a.emit("error",X)}if(x._readableState.endEmitted)return m();x.on("merge2UnpipeEnd",R),x.on("end",R),o&&x.on("error",D),x.pipe(a,{end:!1}),x.resume()}for(let x=0;x<c.length;x++)S(c[x]);m()}function d(){n=!1,a.emit("queueDrain"),s&&a.end()}return a.setMaxListeners(0),a.add=i,a.on("unpipe",function(c){c.emit("merge2UnpipeEnd")}),t.length&&i.apply(null,t),a}function HO(e,t){if(Array.isArray(e))for(let n=0,r=e.length;n<r;n++)e[n]=HO(e[n],t);else{if(!e._readableState&&e.pipe&&(e=e.pipe(jO(t))),!e._readableState||!e.pause||!e.pipe)throw new Error("Only readable stream can be merged.");e.pause()}return e}});var VO=k(Qc=>{"use strict";Object.defineProperty(Qc,"__esModule",{value:!0});Qc.splitWhen=Qc.flatten=void 0;function f9(e){return e.reduce((t,n)=>[].concat(t,n),[])}Qc.flatten=f9;function h9(e,t){let n=[[]],r=0;for(let s of e)t(s)?(r++,n[r]=[]):n[r].push(s);return n}Qc.splitWhen=h9});var WO=k(Rf=>{"use strict";Object.defineProperty(Rf,"__esModule",{value:!0});Rf.isEnoentCodeError=void 0;function p9(e){return e.code==="ENOENT"}Rf.isEnoentCodeError=p9});var YO=k(If=>{"use strict";Object.defineProperty(If,"__esModule",{value:!0});If.createDirentFromStats=void 0;var TE=class{constructor(t,n){this.name=t,this.isBlockDevice=n.isBlockDevice.bind(n),this.isCharacterDevice=n.isCharacterDevice.bind(n),this.isDirectory=n.isDirectory.bind(n),this.isFIFO=n.isFIFO.bind(n),this.isFile=n.isFile.bind(n),this.isSocket=n.isSocket.bind(n),this.isSymbolicLink=n.isSymbolicLink.bind(n)}};function y9(e,t){return new TE(e,t)}If.createDirentFromStats=y9});var XO=k(or=>{"use strict";Object.defineProperty(or,"__esModule",{value:!0});or.removeLeadingDotSegment=or.escape=or.makeAbsolute=or.unixify=void 0;var g9=require("path"),E9=2,x9=/(\\?)([()*?[\]{|}]|^!|[!+@](?=\())/g;function S9(e){return e.replace(/\\/g,"/")}or.unixify=S9;function w9(e,t){return g9.resolve(e,t)}or.makeAbsolute=w9;function C9(e){return e.replace(x9,"\\$2")}or.escape=C9;function b9(e){if(e.charAt(0)==="."){let t=e.charAt(1);if(t==="/"||t==="\\")return e.slice(E9)}return e}or.removeLeadingDotSegment=b9});var ZO=k((gBe,QO)=>{QO.exports=function(t){if(typeof t!="string"||t==="")return!1;for(var n;n=/(\\).|([@?!+*]\(.*\))/g.exec(t);){if(n[2])return!0;t=t.slice(n.index+n[0].length)}return!1}});var tF=k((EBe,eF)=>{var P9=ZO(),JO={"{":"}","(":")","[":"]"},_9=function(e){if(e[0]==="!")return!0;for(var t=0,n=-2,r=-2,s=-2,o=-2,a=-2;t<e.length;){if(e[t]==="*"||e[t+1]==="?"&&/[\].+)]/.test(e[t])||r!==-1&&e[t]==="["&&e[t+1]!=="]"&&(r<t&&(r=e.indexOf("]",t)),r>t&&(a===-1||a>r||(a=e.indexOf("\\",t),a===-1||a>r)))||s!==-1&&e[t]==="{"&&e[t+1]!=="}"&&(s=e.indexOf("}",t),s>t&&(a=e.indexOf("\\",t),a===-1||a>s))||o!==-1&&e[t]==="("&&e[t+1]==="?"&&/[:!=]/.test(e[t+2])&&e[t+3]!==")"&&(o=e.indexOf(")",t),o>t&&(a=e.indexOf("\\",t),a===-1||a>o))||n!==-1&&e[t]==="("&&e[t+1]!=="|"&&(n<t&&(n=e.indexOf("|",t)),n!==-1&&e[n+1]!==")"&&(o=e.indexOf(")",n),o>n&&(a=e.indexOf("\\",n),a===-1||a>o))))return!0;if(e[t]==="\\"){var i=e[t+1];t+=2;var l=JO[i];if(l){var d=e.indexOf(l,t);d!==-1&&(t=d+1)}if(e[t]==="!")return!0}else t++}return!1},A9=function(e){if(e[0]==="!")return!0;for(var t=0;t<e.length;){if(/[*?{}()[\]]/.test(e[t]))return!0;if(e[t]==="\\"){var n=e[t+1];t+=2;var r=JO[n];if(r){var s=e.indexOf(r,t);s!==-1&&(t=s+1)}if(e[t]==="!")return!0}else t++}return!1};eF.exports=function(t,n){if(typeof t!="string"||t==="")return!1;if(P9(t))return!0;var r=_9;return n&&n.strict===!1&&(r=A9),r(t)}});var rF=k((xBe,nF)=>{"use strict";var k9=tF(),R9=require("path").posix.dirname,I9=require("os").platform()==="win32",vE="/",N9=/\\/g,T9=/[\{\[].*[\}\]]$/,v9=/(^|[^\\])([\{\[]|\([^\)]+$)/,D9=/\\([\!\*\?\|\[\]\(\)\{\}])/g;nF.exports=function(t,n){var r=Object.assign({flipBackslashes:!0},n);r.flipBackslashes&&I9&&t.indexOf(vE)<0&&(t=t.replace(N9,vE)),T9.test(t)&&(t+=vE),t+="a";do t=R9(t);while(k9(t)||v9.test(t));return t.replace(D9,"$1")}});var Nf=k(An=>{"use strict";An.isInteger=e=>typeof e=="number"?Number.isInteger(e):typeof e=="string"&&e.trim()!==""?Number.isInteger(Number(e)):!1;An.find=(e,t)=>e.nodes.find(n=>n.type===t);An.exceedsLimit=(e,t,n=1,r)=>r===!1||!An.isInteger(e)||!An.isInteger(t)?!1:(Number(t)-Number(e))/Number(n)>=r;An.escapeNode=(e,t=0,n)=>{let r=e.nodes[t];r&&(n&&r.type===n||r.type==="open"||r.type==="close")&&r.escaped!==!0&&(r.value="\\"+r.value,r.escaped=!0)};An.encloseBrace=e=>e.type!=="brace"||e.commas>>0+e.ranges>>0?!1:(e.invalid=!0,!0);An.isInvalidBrace=e=>e.type!=="brace"?!1:e.invalid===!0||e.dollar?!0:!(e.commas>>0+e.ranges>>0)||e.open!==!0||e.close!==!0?(e.invalid=!0,!0):!1;An.isOpenOrClose=e=>e.type==="open"||e.type==="close"?!0:e.open===!0||e.close===!0;An.reduce=e=>e.reduce((t,n)=>(n.type==="text"&&t.push(n.value),n.type==="range"&&(n.type="text"),t),[]);An.flatten=(...e)=>{let t=[],n=r=>{for(let s=0;s<r.length;s++){let o=r[s];Array.isArray(o)?n(o,t):o!==void 0&&t.push(o)}return t};return n(e),t}});var Tf=k((wBe,oF)=>{"use strict";var sF=Nf();oF.exports=(e,t={})=>{let n=(r,s={})=>{let o=t.escapeInvalid&&sF.isInvalidBrace(s),a=r.invalid===!0&&t.escapeInvalid===!0,i="";if(r.value)return(o||a)&&sF.isOpenOrClose(r)?"\\"+r.value:r.value;if(r.value)return r.value;if(r.nodes)for(let l of r.nodes)i+=n(l);return i};return n(e)}});var aF=k((CBe,iF)=>{"use strict";iF.exports=function(e){return typeof e=="number"?e-e===0:typeof e=="string"&&e.trim()!==""?Number.isFinite?Number.isFinite(+e):isFinite(+e):!1}});var yF=k((bBe,pF)=>{"use strict";var cF=aF(),vo=(e,t,n)=>{if(cF(e)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(t===void 0||e===t)return String(e);if(cF(t)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let r={relaxZeros:!0,...n};typeof r.strictZeros=="boolean"&&(r.relaxZeros=r.strictZeros===!1);let s=String(r.relaxZeros),o=String(r.shorthand),a=String(r.capture),i=String(r.wrap),l=e+":"+t+"="+s+o+a+i;if(vo.cache.hasOwnProperty(l))return vo.cache[l].result;let d=Math.min(e,t),c=Math.max(e,t);if(Math.abs(d-c)===1){let R=e+"|"+t;return r.capture?`(${R})`:r.wrap===!1?R:`(?:${R})`}let u=hF(e)||hF(t),m={min:e,max:t,a:d,b:c},S=[],x=[];if(u&&(m.isPadded=u,m.maxLen=String(m.max).length),d<0){let R=c<0?Math.abs(c):1;x=dF(R,Math.abs(d),m,r),d=m.a=0}return c>=0&&(S=dF(d,c,m,r)),m.negatives=x,m.positives=S,m.result=B9(x,S,r),r.capture===!0?m.result=`(${m.result})`:r.wrap!==!1&&S.length+x.length>1&&(m.result=`(?:${m.result})`),vo.cache[l]=m,m.result};function B9(e,t,n){let r=DE(e,t,"-",!1,n)||[],s=DE(t,e,"",!1,n)||[],o=DE(e,t,"-?",!0,n)||[];return r.concat(o).concat(s).join("|")}function O9(e,t){let n=1,r=1,s=uF(e,n),o=new Set([t]);for(;e<=s&&s<=t;)o.add(s),n+=1,s=uF(e,n);for(s=mF(t+1,r)-1;e<s&&s<=t;)o.add(s),r+=1,s=mF(t+1,r)-1;return o=[...o],o.sort(L9),o}function F9(e,t,n){if(e===t)return{pattern:e,count:[],digits:0};let r=M9(e,t),s=r.length,o="",a=0;for(let i=0;i<s;i++){let[l,d]=r[i];l===d?o+=l:l!=="0"||d!=="9"?o+=U9(l,d,n):a++}return a&&(o+=n.shorthand===!0?"\\d":"[0-9]"),{pattern:o,count:[a],digits:s}}function dF(e,t,n,r){let s=O9(e,t),o=[],a=e,i;for(let l=0;l<s.length;l++){let d=s[l],c=F9(String(a),String(d),r),u="";if(!n.isPadded&&i&&i.pattern===c.pattern){i.count.length>1&&i.count.pop(),i.count.push(c.count[0]),i.string=i.pattern+fF(i.count),a=d+1;continue}n.isPadded&&(u=z9(d,n,r)),c.string=u+c.pattern+fF(c.count),o.push(c),a=d+1,i=c}return o}function DE(e,t,n,r,s){let o=[];for(let a of e){let{string:i}=a;!r&&!lF(t,"string",i)&&o.push(n+i),r&&lF(t,"string",i)&&o.push(n+i)}return o}function M9(e,t){let n=[];for(let r=0;r<e.length;r++)n.push([e[r],t[r]]);return n}function L9(e,t){return e>t?1:t>e?-1:0}function lF(e,t,n){return e.some(r=>r[t]===n)}function uF(e,t){return Number(String(e).slice(0,-t)+"9".repeat(t))}function mF(e,t){return e-e%Math.pow(10,t)}function fF(e){let[t=0,n=""]=e;return n||t>1?`{${t+(n?","+n:"")}}`:""}function U9(e,t,n){return`[${e}${t-e===1?"":"-"}${t}]`}function hF(e){return/^-?(0+)\d/.test(e)}function z9(e,t,n){if(!t.isPadded)return e;let r=Math.abs(t.maxLen-String(e).length),s=n.relaxZeros!==!1;switch(r){case 0:return"";case 1:return s?"0?":"0";case 2:return s?"0{0,2}":"00";default:return s?`0{0,${r}}`:`0{${r}}`}}vo.cache={};vo.clearCache=()=>vo.cache={};pF.exports=vo});var FE=k((PBe,PF)=>{"use strict";var $9=require("util"),xF=yF(),gF=e=>e!==null&&typeof e=="object"&&!Array.isArray(e),q9=e=>t=>e===!0?Number(t):String(t),BE=e=>typeof e=="number"||typeof e=="string"&&e!=="",gl=e=>Number.isInteger(+e),OE=e=>{let t=`${e}`,n=-1;if(t[0]==="-"&&(t=t.slice(1)),t==="0")return!1;for(;t[++n]==="0";);return n>0},G9=(e,t,n)=>typeof e=="string"||typeof t=="string"?!0:n.stringify===!0,j9=(e,t,n)=>{if(t>0){let r=e[0]==="-"?"-":"";r&&(e=e.slice(1)),e=r+e.padStart(r?t-1:t,"0")}return n===!1?String(e):e},EF=(e,t)=>{let n=e[0]==="-"?"-":"";for(n&&(e=e.slice(1),t--);e.length<t;)e="0"+e;return n?"-"+e:e},H9=(e,t)=>{e.negatives.sort((a,i)=>a<i?-1:a>i?1:0),e.positives.sort((a,i)=>a<i?-1:a>i?1:0);let n=t.capture?"":"?:",r="",s="",o;return e.positives.length&&(r=e.positives.join("|")),e.negatives.length&&(s=`-(${n}${e.negatives.join("|")})`),r&&s?o=`${r}|${s}`:o=r||s,t.wrap?`(${n}${o})`:o},SF=(e,t,n,r)=>{if(n)return xF(e,t,{wrap:!1,...r});let s=String.fromCharCode(e);if(e===t)return s;let o=String.fromCharCode(t);return`[${s}-${o}]`},wF=(e,t,n)=>{if(Array.isArray(e)){let r=n.wrap===!0,s=n.capture?"":"?:";return r?`(${s}${e.join("|")})`:e.join("|")}return xF(e,t,n)},CF=(...e)=>new RangeError("Invalid range arguments: "+$9.inspect(...e)),bF=(e,t,n)=>{if(n.strictRanges===!0)throw CF([e,t]);return[]},K9=(e,t)=>{if(t.strictRanges===!0)throw new TypeError(`Expected step "${e}" to be a number`);return[]},V9=(e,t,n=1,r={})=>{let s=Number(e),o=Number(t);if(!Number.isInteger(s)||!Number.isInteger(o)){if(r.strictRanges===!0)throw CF([e,t]);return[]}s===0&&(s=0),o===0&&(o=0);let a=s>o,i=String(e),l=String(t),d=String(n);n=Math.max(Math.abs(n),1);let c=OE(i)||OE(l)||OE(d),u=c?Math.max(i.length,l.length,d.length):0,m=c===!1&&G9(e,t,r)===!1,S=r.transform||q9(m);if(r.toRegex&&n===1)return SF(EF(e,u),EF(t,u),!0,r);let x={negatives:[],positives:[]},R=Ce=>x[Ce<0?"negatives":"positives"].push(Math.abs(Ce)),D=[],X=0;for(;a?s>=o:s<=o;)r.toRegex===!0&&n>1?R(s):D.push(j9(S(s,X),u,m)),s=a?s-n:s+n,X++;return r.toRegex===!0?n>1?H9(x,r):wF(D,null,{wrap:!1,...r}):D},W9=(e,t,n=1,r={})=>{if(!gl(e)&&e.length>1||!gl(t)&&t.length>1)return bF(e,t,r);let s=r.transform||(m=>String.fromCharCode(m)),o=`${e}`.charCodeAt(0),a=`${t}`.charCodeAt(0),i=o>a,l=Math.min(o,a),d=Math.max(o,a);if(r.toRegex&&n===1)return SF(l,d,!1,r);let c=[],u=0;for(;i?o>=a:o<=a;)c.push(s(o,u)),o=i?o-n:o+n,u++;return r.toRegex===!0?wF(c,null,{wrap:!1,options:r}):c},vf=(e,t,n,r={})=>{if(t==null&&BE(e))return[e];if(!BE(e)||!BE(t))return bF(e,t,r);if(typeof n=="function")return vf(e,t,1,{transform:n});if(gF(n))return vf(e,t,0,n);let s={...r};return s.capture===!0&&(s.wrap=!0),n=n||s.step||1,gl(n)?gl(e)&&gl(t)?V9(e,t,n,s):W9(e,t,Math.max(Math.abs(n),1),s):n!=null&&!gF(n)?K9(n,s):vf(e,t,1,n)};PF.exports=vf});var kF=k((_Be,AF)=>{"use strict";var Y9=FE(),_F=Nf(),X9=(e,t={})=>{let n=(r,s={})=>{let o=_F.isInvalidBrace(s),a=r.invalid===!0&&t.escapeInvalid===!0,i=o===!0||a===!0,l=t.escapeInvalid===!0?"\\":"",d="";if(r.isOpen===!0||r.isClose===!0)return l+r.value;if(r.type==="open")return i?l+r.value:"(";if(r.type==="close")return i?l+r.value:")";if(r.type==="comma")return r.prev.type==="comma"?"":i?r.value:"|";if(r.value)return r.value;if(r.nodes&&r.ranges>0){let c=_F.reduce(r.nodes),u=Y9(...c,{...t,wrap:!1,toRegex:!0});if(u.length!==0)return c.length>1&&u.length>1?`(${u})`:u}if(r.nodes)for(let c of r.nodes)d+=n(c,r);return d};return n(e)};AF.exports=X9});var NF=k((ABe,IF)=>{"use strict";var Q9=FE(),RF=Tf(),Zc=Nf(),Do=(e="",t="",n=!1)=>{let r=[];if(e=[].concat(e),t=[].concat(t),!t.length)return e;if(!e.length)return n?Zc.flatten(t).map(s=>`{${s}}`):t;for(let s of e)if(Array.isArray(s))for(let o of s)r.push(Do(o,t,n));else for(let o of t)n===!0&&typeof o=="string"&&(o=`{${o}}`),r.push(Array.isArray(o)?Do(s,o,n):s+o);return Zc.flatten(r)},Z9=(e,t={})=>{let n=t.rangeLimit===void 0?1e3:t.rangeLimit,r=(s,o={})=>{s.queue=[];let a=o,i=o.queue;for(;a.type!=="brace"&&a.type!=="root"&&a.parent;)a=a.parent,i=a.queue;if(s.invalid||s.dollar){i.push(Do(i.pop(),RF(s,t)));return}if(s.type==="brace"&&s.invalid!==!0&&s.nodes.length===2){i.push(Do(i.pop(),["{}"]));return}if(s.nodes&&s.ranges>0){let u=Zc.reduce(s.nodes);if(Zc.exceedsLimit(...u,t.step,n))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let m=Q9(...u,t);m.length===0&&(m=RF(s,t)),i.push(Do(i.pop(),m)),s.nodes=[];return}let l=Zc.encloseBrace(s),d=s.queue,c=s;for(;c.type!=="brace"&&c.type!=="root"&&c.parent;)c=c.parent,d=c.queue;for(let u=0;u<s.nodes.length;u++){let m=s.nodes[u];if(m.type==="comma"&&s.type==="brace"){u===1&&d.push(""),d.push("");continue}if(m.type==="close"){i.push(Do(i.pop(),d,l));continue}if(m.value&&m.type!=="open"){d.push(Do(d.pop(),m.value));continue}m.nodes&&r(m,s)}return d};return Zc.flatten(r(e))};IF.exports=Z9});var vF=k((kBe,TF)=>{"use strict";TF.exports={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:" ",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}});var MF=k((RBe,FF)=>{"use strict";var J9=Tf(),{MAX_LENGTH:DF,CHAR_BACKSLASH:ME,CHAR_BACKTICK:e7,CHAR_COMMA:t7,CHAR_DOT:n7,CHAR_LEFT_PARENTHESES:r7,CHAR_RIGHT_PARENTHESES:s7,CHAR_LEFT_CURLY_BRACE:o7,CHAR_RIGHT_CURLY_BRACE:i7,CHAR_LEFT_SQUARE_BRACKET:BF,CHAR_RIGHT_SQUARE_BRACKET:OF,CHAR_DOUBLE_QUOTE:a7,CHAR_SINGLE_QUOTE:c7,CHAR_NO_BREAK_SPACE:d7,CHAR_ZERO_WIDTH_NOBREAK_SPACE:l7}=vF(),u7=(e,t={})=>{if(typeof e!="string")throw new TypeError("Expected a string");let n=t||{},r=typeof n.maxLength=="number"?Math.min(DF,n.maxLength):DF;if(e.length>r)throw new SyntaxError(`Input length (${e.length}), exceeds max characters (${r})`);let s={type:"root",input:e,nodes:[]},o=[s],a=s,i=s,l=0,d=e.length,c=0,u=0,m,S={},x=()=>e[c++],R=D=>{if(D.type==="text"&&i.type==="dot"&&(i.type="text"),i&&i.type==="text"&&D.type==="text"){i.value+=D.value;return}return a.nodes.push(D),D.parent=a,D.prev=i,i=D,D};for(R({type:"bos"});c<d;)if(a=o[o.length-1],m=x(),!(m===l7||m===d7)){if(m===ME){R({type:"text",value:(t.keepEscaping?m:"")+x()});continue}if(m===OF){R({type:"text",value:"\\"+m});continue}if(m===BF){l++;let D=!0,X;for(;c<d&&(X=x());){if(m+=X,X===BF){l++;continue}if(X===ME){m+=x();continue}if(X===OF&&(l--,l===0))break}R({type:"text",value:m});continue}if(m===r7){a=R({type:"paren",nodes:[]}),o.push(a),R({type:"text",value:m});continue}if(m===s7){if(a.type!=="paren"){R({type:"text",value:m});continue}a=o.pop(),R({type:"text",value:m}),a=o[o.length-1];continue}if(m===a7||m===c7||m===e7){let D=m,X;for(t.keepQuotes!==!0&&(m="");c<d&&(X=x());){if(X===ME){m+=X+x();continue}if(X===D){t.keepQuotes===!0&&(m+=X);break}m+=X}R({type:"text",value:m});continue}if(m===o7){u++;let X={type:"brace",open:!0,close:!1,dollar:i.value&&i.value.slice(-1)==="$"||a.dollar===!0,depth:u,commas:0,ranges:0,nodes:[]};a=R(X),o.push(a),R({type:"open",value:m});continue}if(m===i7){if(a.type!=="brace"){R({type:"text",value:m});continue}let D="close";a=o.pop(),a.close=!0,R({type:D,value:m}),u--,a=o[o.length-1];continue}if(m===t7&&u>0){if(a.ranges>0){a.ranges=0;let D=a.nodes.shift();a.nodes=[D,{type:"text",value:J9(a)}]}R({type:"comma",value:m}),a.commas++;continue}if(m===n7&&u>0&&a.commas===0){let D=a.nodes;if(u===0||D.length===0){R({type:"text",value:m});continue}if(i.type==="dot"){if(a.range=[],i.value+=m,i.type="range",a.nodes.length!==3&&a.nodes.length!==5){a.invalid=!0,a.ranges=0,i.type="text";continue}a.ranges++,a.args=[];continue}if(i.type==="range"){D.pop();let X=D[D.length-1];X.value+=i.value+m,i=X,a.ranges--;continue}R({type:"dot",value:m});continue}R({type:"text",value:m})}do if(a=o.pop(),a.type!=="root"){a.nodes.forEach(Ce=>{Ce.nodes||(Ce.type==="open"&&(Ce.isOpen=!0),Ce.type==="close"&&(Ce.isClose=!0),Ce.nodes||(Ce.type="text"),Ce.invalid=!0)});let D=o[o.length-1],X=D.nodes.indexOf(a);D.nodes.splice(X,1,...a.nodes)}while(o.length>0);return R({type:"eos"}),s};FF.exports=u7});var zF=k((IBe,UF)=>{"use strict";var LF=Tf(),m7=kF(),f7=NF(),h7=MF(),on=(e,t={})=>{let n=[];if(Array.isArray(e))for(let r of e){let s=on.create(r,t);Array.isArray(s)?n.push(...s):n.push(s)}else n=[].concat(on.create(e,t));return t&&t.expand===!0&&t.nodupes===!0&&(n=[...new Set(n)]),n};on.parse=(e,t={})=>h7(e,t);on.stringify=(e,t={})=>LF(typeof e=="string"?on.parse(e,t):e,t);on.compile=(e,t={})=>(typeof e=="string"&&(e=on.parse(e,t)),m7(e,t));on.expand=(e,t={})=>{typeof e=="string"&&(e=on.parse(e,t));let n=f7(e,t);return t.noempty===!0&&(n=n.filter(Boolean)),t.nodupes===!0&&(n=[...new Set(n)]),n};on.create=(e,t={})=>e===""||e.length<3?[e]:t.expand!==!0?on.compile(e,t):on.expand(e,t);UF.exports=on});var El=k((NBe,HF)=>{"use strict";var p7=require("path"),ir="\\\\/",$F=`[^${ir}]`,Fr="\\.",y7="\\+",g7="\\?",Df="\\/",E7="(?=.)",qF="[^/]",LE=`(?:${Df}|$)`,GF=`(?:^|${Df})`,UE=`${Fr}{1,2}${LE}`,x7=`(?!${Fr})`,S7=`(?!${GF}${UE})`,w7=`(?!${Fr}{0,1}${LE})`,C7=`(?!${UE})`,b7=`[^.${Df}]`,P7=`${qF}*?`,jF={DOT_LITERAL:Fr,PLUS_LITERAL:y7,QMARK_LITERAL:g7,SLASH_LITERAL:Df,ONE_CHAR:E7,QMARK:qF,END_ANCHOR:LE,DOTS_SLASH:UE,NO_DOT:x7,NO_DOTS:S7,NO_DOT_SLASH:w7,NO_DOTS_SLASH:C7,QMARK_NO_DOT:b7,STAR:P7,START_ANCHOR:GF},_7={...jF,SLASH_LITERAL:`[${ir}]`,QMARK:$F,STAR:`${$F}*?`,DOTS_SLASH:`${Fr}{1,2}(?:[${ir}]|$)`,NO_DOT:`(?!${Fr})`,NO_DOTS:`(?!(?:^|[${ir}])${Fr}{1,2}(?:[${ir}]|$))`,NO_DOT_SLASH:`(?!${Fr}{0,1}(?:[${ir}]|$))`,NO_DOTS_SLASH:`(?!${Fr}{1,2}(?:[${ir}]|$))`,QMARK_NO_DOT:`[^.${ir}]`,START_ANCHOR:`(?:^|[${ir}])`,END_ANCHOR:`(?:[${ir}]|$)`},A7={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};HF.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:A7,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:p7.sep,extglobChars(e){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(e){return e===!0?_7:jF}}});var xl=k(Zt=>{"use strict";var k7=require("path"),R7=process.platform==="win32",{REGEX_BACKSLASH:I7,REGEX_REMOVE_BACKSLASH:N7,REGEX_SPECIAL_CHARS:T7,REGEX_SPECIAL_CHARS_GLOBAL:v7}=El();Zt.isObject=e=>e!==null&&typeof e=="object"&&!Array.isArray(e);Zt.hasRegexChars=e=>T7.test(e);Zt.isRegexChar=e=>e.length===1&&Zt.hasRegexChars(e);Zt.escapeRegex=e=>e.replace(v7,"\\$1");Zt.toPosixSlashes=e=>e.replace(I7,"/");Zt.removeBackslashes=e=>e.replace(N7,t=>t==="\\"?"":t);Zt.supportsLookbehinds=()=>{let e=process.version.slice(1).split(".").map(Number);return e.length===3&&e[0]>=9||e[0]===8&&e[1]>=10};Zt.isWindows=e=>e&&typeof e.windows=="boolean"?e.windows:R7===!0||k7.sep==="\\";Zt.escapeLast=(e,t,n)=>{let r=e.lastIndexOf(t,n);return r===-1?e:e[r-1]==="\\"?Zt.escapeLast(e,t,r-1):`${e.slice(0,r)}\\${e.slice(r)}`};Zt.removePrefix=(e,t={})=>{let n=e;return n.startsWith("./")&&(n=n.slice(2),t.prefix="./"),n};Zt.wrapOutput=(e,t={},n={})=>{let r=n.contains?"":"^",s=n.contains?"":"$",o=`${r}(?:${e})${s}`;return t.negated===!0&&(o=`(?:^(?!${o}).*$)`),o}});var JF=k((vBe,ZF)=>{"use strict";var KF=xl(),{CHAR_ASTERISK:zE,CHAR_AT:D7,CHAR_BACKWARD_SLASH:Sl,CHAR_COMMA:B7,CHAR_DOT:$E,CHAR_EXCLAMATION_MARK:qE,CHAR_FORWARD_SLASH:QF,CHAR_LEFT_CURLY_BRACE:GE,CHAR_LEFT_PARENTHESES:jE,CHAR_LEFT_SQUARE_BRACKET:O7,CHAR_PLUS:F7,CHAR_QUESTION_MARK:VF,CHAR_RIGHT_CURLY_BRACE:M7,CHAR_RIGHT_PARENTHESES:WF,CHAR_RIGHT_SQUARE_BRACKET:L7}=El(),YF=e=>e===QF||e===Sl,XF=e=>{e.isPrefix!==!0&&(e.depth=e.isGlobstar?1/0:1)},U7=(e,t)=>{let n=t||{},r=e.length-1,s=n.parts===!0||n.scanToEnd===!0,o=[],a=[],i=[],l=e,d=-1,c=0,u=0,m=!1,S=!1,x=!1,R=!1,D=!1,X=!1,Ce=!1,ye=!1,ot=!1,pe=!1,$e=0,Ee,le,Fe={value:"",depth:0,isGlob:!1},Et=()=>d>=r,L=()=>l.charCodeAt(d+1),We=()=>(Ee=le,l.charCodeAt(++d));for(;d<r;){le=We();let Ot;if(le===Sl){Ce=Fe.backslashes=!0,le=We(),le===GE&&(X=!0);continue}if(X===!0||le===GE){for($e++;Et()!==!0&&(le=We());){if(le===Sl){Ce=Fe.backslashes=!0,We();continue}if(le===GE){$e++;continue}if(X!==!0&&le===$E&&(le=We())===$E){if(m=Fe.isBrace=!0,x=Fe.isGlob=!0,pe=!0,s===!0)continue;break}if(X!==!0&&le===B7){if(m=Fe.isBrace=!0,x=Fe.isGlob=!0,pe=!0,s===!0)continue;break}if(le===M7&&($e--,$e===0)){X=!1,m=Fe.isBrace=!0,pe=!0;break}}if(s===!0)continue;break}if(le===QF){if(o.push(d),a.push(Fe),Fe={value:"",depth:0,isGlob:!1},pe===!0)continue;if(Ee===$E&&d===c+1){c+=2;continue}u=d+1;continue}if(n.noext!==!0&&(le===F7||le===D7||le===zE||le===VF||le===qE)===!0&&L()===jE){if(x=Fe.isGlob=!0,R=Fe.isExtglob=!0,pe=!0,le===qE&&d===c&&(ot=!0),s===!0){for(;Et()!==!0&&(le=We());){if(le===Sl){Ce=Fe.backslashes=!0,le=We();continue}if(le===WF){x=Fe.isGlob=!0,pe=!0;break}}continue}break}if(le===zE){if(Ee===zE&&(D=Fe.isGlobstar=!0),x=Fe.isGlob=!0,pe=!0,s===!0)continue;break}if(le===VF){if(x=Fe.isGlob=!0,pe=!0,s===!0)continue;break}if(le===O7){for(;Et()!==!0&&(Ot=We());){if(Ot===Sl){Ce=Fe.backslashes=!0,We();continue}if(Ot===L7){S=Fe.isBracket=!0,x=Fe.isGlob=!0,pe=!0;break}}if(s===!0)continue;break}if(n.nonegate!==!0&&le===qE&&d===c){ye=Fe.negated=!0,c++;continue}if(n.noparen!==!0&&le===jE){if(x=Fe.isGlob=!0,s===!0){for(;Et()!==!0&&(le=We());){if(le===jE){Ce=Fe.backslashes=!0,le=We();continue}if(le===WF){pe=!0;break}}continue}break}if(x===!0){if(pe=!0,s===!0)continue;break}}n.noext===!0&&(R=!1,x=!1);let Ge=l,qr="",B="";c>0&&(qr=l.slice(0,c),l=l.slice(c),u-=c),Ge&&x===!0&&u>0?(Ge=l.slice(0,u),B=l.slice(u)):x===!0?(Ge="",B=l):Ge=l,Ge&&Ge!==""&&Ge!=="/"&&Ge!==l&&YF(Ge.charCodeAt(Ge.length-1))&&(Ge=Ge.slice(0,-1)),n.unescape===!0&&(B&&(B=KF.removeBackslashes(B)),Ge&&Ce===!0&&(Ge=KF.removeBackslashes(Ge)));let F={prefix:qr,input:e,start:c,base:Ge,glob:B,isBrace:m,isBracket:S,isGlob:x,isExtglob:R,isGlobstar:D,negated:ye,negatedExtglob:ot};if(n.tokens===!0&&(F.maxDepth=0,YF(le)||a.push(Fe),F.tokens=a),n.parts===!0||n.tokens===!0){let Ot;for(let Re=0;Re<o.length;Re++){let Dn=Ot?Ot+1:c,Bn=o[Re],Jt=e.slice(Dn,Bn);n.tokens&&(Re===0&&c!==0?(a[Re].isPrefix=!0,a[Re].value=qr):a[Re].value=Jt,XF(a[Re]),F.maxDepth+=a[Re].depth),(Re!==0||Jt!=="")&&i.push(Jt),Ot=Bn}if(Ot&&Ot+1<e.length){let Re=e.slice(Ot+1);i.push(Re),n.tokens&&(a[a.length-1].value=Re,XF(a[a.length-1]),F.maxDepth+=a[a.length-1].depth)}F.slashes=o,F.parts=i}return F};ZF.exports=U7});var nM=k((DBe,tM)=>{"use strict";var Bf=El(),an=xl(),{MAX_LENGTH:Of,POSIX_REGEX_SOURCE:z7,REGEX_NON_SPECIAL_CHARS:$7,REGEX_SPECIAL_CHARS_BACKREF:q7,REPLACEMENTS:eM}=Bf,G7=(e,t)=>{if(typeof t.expandRange=="function")return t.expandRange(...e,t);e.sort();let n=`[${e.join("-")}]`;try{new RegExp(n)}catch{return e.map(s=>an.escapeRegex(s)).join("..")}return n},Jc=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,HE=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");e=eM[e]||e;let n={...t},r=typeof n.maxLength=="number"?Math.min(Of,n.maxLength):Of,s=e.length;if(s>r)throw new SyntaxError(`Input length: ${s}, exceeds maximum allowed length: ${r}`);let o={type:"bos",value:"",output:n.prepend||""},a=[o],i=n.capture?"":"?:",l=an.isWindows(t),d=Bf.globChars(l),c=Bf.extglobChars(d),{DOT_LITERAL:u,PLUS_LITERAL:m,SLASH_LITERAL:S,ONE_CHAR:x,DOTS_SLASH:R,NO_DOT:D,NO_DOT_SLASH:X,NO_DOTS_SLASH:Ce,QMARK:ye,QMARK_NO_DOT:ot,STAR:pe,START_ANCHOR:$e}=d,Ee=Q=>`(${i}(?:(?!${$e}${Q.dot?R:u}).)*?)`,le=n.dot?"":D,Fe=n.dot?ye:ot,Et=n.bash===!0?Ee(n):pe;n.capture&&(Et=`(${Et})`),typeof n.noext=="boolean"&&(n.noextglob=n.noext);let L={input:e,index:-1,start:0,dot:n.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:a};e=an.removePrefix(e,L),s=e.length;let We=[],Ge=[],qr=[],B=o,F,Ot=()=>L.index===s-1,Re=L.peek=(Q=1)=>e[L.index+Q],Dn=L.advance=()=>e[++L.index]||"",Bn=()=>e.slice(L.index+1),Jt=(Q="",je=0)=>{L.consumed+=Q,L.index+=je},bl=Q=>{L.output+=Q.output!=null?Q.output:Q.value,Jt(Q.value)},h1=()=>{let Q=1;for(;Re()==="!"&&(Re(2)!=="("||Re(3)==="?");)Dn(),L.start++,Q++;return Q%2===0?!1:(L.negated=!0,L.start++,!0)},Pl=Q=>{L[Q]++,qr.push(Q)},to=Q=>{L[Q]--,qr.pop()},be=Q=>{if(B.type==="globstar"){let je=L.braces>0&&(Q.type==="comma"||Q.type==="brace"),j=Q.extglob===!0||We.length&&(Q.type==="pipe"||Q.type==="paren");Q.type!=="slash"&&Q.type!=="paren"&&!je&&!j&&(L.output=L.output.slice(0,-B.output.length),B.type="star",B.value="*",B.output=Et,L.output+=B.output)}if(We.length&&Q.type!=="paren"&&(We[We.length-1].inner+=Q.value),(Q.value||Q.output)&&bl(Q),B&&B.type==="text"&&Q.type==="text"){B.value+=Q.value,B.output=(B.output||"")+Q.value;return}Q.prev=B,a.push(Q),B=Q},_l=(Q,je)=>{let j={...c[je],conditions:1,inner:""};j.prev=B,j.parens=L.parens,j.output=L.output;let Se=(n.capture?"(":"")+j.open;Pl("parens"),be({type:Q,value:je,output:L.output?"":x}),be({type:"paren",extglob:!0,value:Dn(),output:Se}),We.push(j)},p1=Q=>{let je=Q.close+(n.capture?")":""),j;if(Q.type==="negate"){let Se=Et;if(Q.inner&&Q.inner.length>1&&Q.inner.includes("/")&&(Se=Ee(n)),(Se!==Et||Ot()||/^\)+$/.test(Bn()))&&(je=Q.close=`)$))${Se}`),Q.inner.includes("*")&&(j=Bn())&&/^\.[^\\/.]+$/.test(j)){let Ze=HE(j,{...t,fastpaths:!1}).output;je=Q.close=`)${Ze})${Se})`}Q.prev.type==="bos"&&(L.negatedExtglob=!0)}be({type:"paren",extglob:!0,value:F,output:je}),to("parens")};if(n.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(e)){let Q=!1,je=e.replace(q7,(j,Se,Ze,Ft,dt,ch)=>Ft==="\\"?(Q=!0,j):Ft==="?"?Se?Se+Ft+(dt?ye.repeat(dt.length):""):ch===0?Fe+(dt?ye.repeat(dt.length):""):ye.repeat(Ze.length):Ft==="."?u.repeat(Ze.length):Ft==="*"?Se?Se+Ft+(dt?Et:""):Et:Se?j:`\\${j}`);return Q===!0&&(n.unescape===!0?je=je.replace(/\\/g,""):je=je.replace(/\\+/g,j=>j.length%2===0?"\\\\":j?"\\":"")),je===e&&n.contains===!0?(L.output=e,L):(L.output=an.wrapOutput(je,L,t),L)}for(;!Ot();){if(F=Dn(),F==="\0")continue;if(F==="\\"){let j=Re();if(j==="/"&&n.bash!==!0||j==="."||j===";")continue;if(!j){F+="\\",be({type:"text",value:F});continue}let Se=/^\\+/.exec(Bn()),Ze=0;if(Se&&Se[0].length>2&&(Ze=Se[0].length,L.index+=Ze,Ze%2!==0&&(F+="\\")),n.unescape===!0?F=Dn():F+=Dn(),L.brackets===0){be({type:"text",value:F});continue}}if(L.brackets>0&&(F!=="]"||B.value==="["||B.value==="[^")){if(n.posix!==!1&&F===":"){let j=B.value.slice(1);if(j.includes("[")&&(B.posix=!0,j.includes(":"))){let Se=B.value.lastIndexOf("["),Ze=B.value.slice(0,Se),Ft=B.value.slice(Se+2),dt=z7[Ft];if(dt){B.value=Ze+dt,L.backtrack=!0,Dn(),!o.output&&a.indexOf(B)===1&&(o.output=x);continue}}}(F==="["&&Re()!==":"||F==="-"&&Re()==="]")&&(F=`\\${F}`),F==="]"&&(B.value==="["||B.value==="[^")&&(F=`\\${F}`),n.posix===!0&&F==="!"&&B.value==="["&&(F="^"),B.value+=F,bl({value:F});continue}if(L.quotes===1&&F!=='"'){F=an.escapeRegex(F),B.value+=F,bl({value:F});continue}if(F==='"'){L.quotes=L.quotes===1?0:1,n.keepQuotes===!0&&be({type:"text",value:F});continue}if(F==="("){Pl("parens"),be({type:"paren",value:F});continue}if(F===")"){if(L.parens===0&&n.strictBrackets===!0)throw new SyntaxError(Jc("opening","("));let j=We[We.length-1];if(j&&L.parens===j.parens+1){p1(We.pop());continue}be({type:"paren",value:F,output:L.parens?")":"\\)"}),to("parens");continue}if(F==="["){if(n.nobracket===!0||!Bn().includes("]")){if(n.nobracket!==!0&&n.strictBrackets===!0)throw new SyntaxError(Jc("closing","]"));F=`\\${F}`}else Pl("brackets");be({type:"bracket",value:F});continue}if(F==="]"){if(n.nobracket===!0||B&&B.type==="bracket"&&B.value.length===1){be({type:"text",value:F,output:`\\${F}`});continue}if(L.brackets===0){if(n.strictBrackets===!0)throw new SyntaxError(Jc("opening","["));be({type:"text",value:F,output:`\\${F}`});continue}to("brackets");let j=B.value.slice(1);if(B.posix!==!0&&j[0]==="^"&&!j.includes("/")&&(F=`/${F}`),B.value+=F,bl({value:F}),n.literalBrackets===!1||an.hasRegexChars(j))continue;let Se=an.escapeRegex(B.value);if(L.output=L.output.slice(0,-B.value.length),n.literalBrackets===!0){L.output+=Se,B.value=Se;continue}B.value=`(${i}${Se}|${B.value})`,L.output+=B.value;continue}if(F==="{"&&n.nobrace!==!0){Pl("braces");let j={type:"brace",value:F,output:"(",outputIndex:L.output.length,tokensIndex:L.tokens.length};Ge.push(j),be(j);continue}if(F==="}"){let j=Ge[Ge.length-1];if(n.nobrace===!0||!j){be({type:"text",value:F,output:F});continue}let Se=")";if(j.dots===!0){let Ze=a.slice(),Ft=[];for(let dt=Ze.length-1;dt>=0&&(a.pop(),Ze[dt].type!=="brace");dt--)Ze[dt].type!=="dots"&&Ft.unshift(Ze[dt].value);Se=G7(Ft,n),L.backtrack=!0}if(j.comma!==!0&&j.dots!==!0){let Ze=L.output.slice(0,j.outputIndex),Ft=L.tokens.slice(j.tokensIndex);j.value=j.output="\\{",F=Se="\\}",L.output=Ze;for(let dt of Ft)L.output+=dt.output||dt.value}be({type:"brace",value:F,output:Se}),to("braces"),Ge.pop();continue}if(F==="|"){We.length>0&&We[We.length-1].conditions++,be({type:"text",value:F});continue}if(F===","){let j=F,Se=Ge[Ge.length-1];Se&&qr[qr.length-1]==="braces"&&(Se.comma=!0,j="|"),be({type:"comma",value:F,output:j});continue}if(F==="/"){if(B.type==="dot"&&L.index===L.start+1){L.start=L.index+1,L.consumed="",L.output="",a.pop(),B=o;continue}be({type:"slash",value:F,output:S});continue}if(F==="."){if(L.braces>0&&B.type==="dot"){B.value==="."&&(B.output=u);let j=Ge[Ge.length-1];B.type="dots",B.output+=F,B.value+=F,j.dots=!0;continue}if(L.braces+L.parens===0&&B.type!=="bos"&&B.type!=="slash"){be({type:"text",value:F,output:u});continue}be({type:"dot",value:F,output:u});continue}if(F==="?"){if(!(B&&B.value==="(")&&n.noextglob!==!0&&Re()==="("&&Re(2)!=="?"){_l("qmark",F);continue}if(B&&B.type==="paren"){let Se=Re(),Ze=F;if(Se==="<"&&!an.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(B.value==="("&&!/[!=<:]/.test(Se)||Se==="<"&&!/<([!=]|\w+>)/.test(Bn()))&&(Ze=`\\${F}`),be({type:"text",value:F,output:Ze});continue}if(n.dot!==!0&&(B.type==="slash"||B.type==="bos")){be({type:"qmark",value:F,output:ot});continue}be({type:"qmark",value:F,output:ye});continue}if(F==="!"){if(n.noextglob!==!0&&Re()==="("&&(Re(2)!=="?"||!/[!=<:]/.test(Re(3)))){_l("negate",F);continue}if(n.nonegate!==!0&&L.index===0){h1();continue}}if(F==="+"){if(n.noextglob!==!0&&Re()==="("&&Re(2)!=="?"){_l("plus",F);continue}if(B&&B.value==="("||n.regex===!1){be({type:"plus",value:F,output:m});continue}if(B&&(B.type==="bracket"||B.type==="paren"||B.type==="brace")||L.parens>0){be({type:"plus",value:F});continue}be({type:"plus",value:m});continue}if(F==="@"){if(n.noextglob!==!0&&Re()==="("&&Re(2)!=="?"){be({type:"at",extglob:!0,value:F,output:""});continue}be({type:"text",value:F});continue}if(F!=="*"){(F==="$"||F==="^")&&(F=`\\${F}`);let j=$7.exec(Bn());j&&(F+=j[0],L.index+=j[0].length),be({type:"text",value:F});continue}if(B&&(B.type==="globstar"||B.star===!0)){B.type="star",B.star=!0,B.value+=F,B.output=Et,L.backtrack=!0,L.globstar=!0,Jt(F);continue}let Q=Bn();if(n.noextglob!==!0&&/^\([^?]/.test(Q)){_l("star",F);continue}if(B.type==="star"){if(n.noglobstar===!0){Jt(F);continue}let j=B.prev,Se=j.prev,Ze=j.type==="slash"||j.type==="bos",Ft=Se&&(Se.type==="star"||Se.type==="globstar");if(n.bash===!0&&(!Ze||Q[0]&&Q[0]!=="/")){be({type:"star",value:F,output:""});continue}let dt=L.braces>0&&(j.type==="comma"||j.type==="brace"),ch=We.length&&(j.type==="pipe"||j.type==="paren");if(!Ze&&j.type!=="paren"&&!dt&&!ch){be({type:"star",value:F,output:""});continue}for(;Q.slice(0,3)==="/**";){let Al=e[L.index+4];if(Al&&Al!=="/")break;Q=Q.slice(3),Jt("/**",3)}if(j.type==="bos"&&Ot()){B.type="globstar",B.value+=F,B.output=Ee(n),L.output=B.output,L.globstar=!0,Jt(F);continue}if(j.type==="slash"&&j.prev.type!=="bos"&&!Ft&&Ot()){L.output=L.output.slice(0,-(j.output+B.output).length),j.output=`(?:${j.output}`,B.type="globstar",B.output=Ee(n)+(n.strictSlashes?")":"|$)"),B.value+=F,L.globstar=!0,L.output+=j.output+B.output,Jt(F);continue}if(j.type==="slash"&&j.prev.type!=="bos"&&Q[0]==="/"){let Al=Q[1]!==void 0?"|$":"";L.output=L.output.slice(0,-(j.output+B.output).length),j.output=`(?:${j.output}`,B.type="globstar",B.output=`${Ee(n)}${S}|${S}${Al})`,B.value+=F,L.output+=j.output+B.output,L.globstar=!0,Jt(F+Dn()),be({type:"slash",value:"/",output:""});continue}if(j.type==="bos"&&Q[0]==="/"){B.type="globstar",B.value+=F,B.output=`(?:^|${S}|${Ee(n)}${S})`,L.output=B.output,L.globstar=!0,Jt(F+Dn()),be({type:"slash",value:"/",output:""});continue}L.output=L.output.slice(0,-B.output.length),B.type="globstar",B.output=Ee(n),B.value+=F,L.output+=B.output,L.globstar=!0,Jt(F);continue}let je={type:"star",value:F,output:Et};if(n.bash===!0){je.output=".*?",(B.type==="bos"||B.type==="slash")&&(je.output=le+je.output),be(je);continue}if(B&&(B.type==="bracket"||B.type==="paren")&&n.regex===!0){je.output=F,be(je);continue}(L.index===L.start||B.type==="slash"||B.type==="dot")&&(B.type==="dot"?(L.output+=X,B.output+=X):n.dot===!0?(L.output+=Ce,B.output+=Ce):(L.output+=le,B.output+=le),Re()!=="*"&&(L.output+=x,B.output+=x)),be(je)}for(;L.brackets>0;){if(n.strictBrackets===!0)throw new SyntaxError(Jc("closing","]"));L.output=an.escapeLast(L.output,"["),to("brackets")}for(;L.parens>0;){if(n.strictBrackets===!0)throw new SyntaxError(Jc("closing",")"));L.output=an.escapeLast(L.output,"("),to("parens")}for(;L.braces>0;){if(n.strictBrackets===!0)throw new SyntaxError(Jc("closing","}"));L.output=an.escapeLast(L.output,"{"),to("braces")}if(n.strictSlashes!==!0&&(B.type==="star"||B.type==="bracket")&&be({type:"maybe_slash",value:"",output:`${S}?`}),L.backtrack===!0){L.output="";for(let Q of L.tokens)L.output+=Q.output!=null?Q.output:Q.value,Q.suffix&&(L.output+=Q.suffix)}return L};HE.fastpaths=(e,t)=>{let n={...t},r=typeof n.maxLength=="number"?Math.min(Of,n.maxLength):Of,s=e.length;if(s>r)throw new SyntaxError(`Input length: ${s}, exceeds maximum allowed length: ${r}`);e=eM[e]||e;let o=an.isWindows(t),{DOT_LITERAL:a,SLASH_LITERAL:i,ONE_CHAR:l,DOTS_SLASH:d,NO_DOT:c,NO_DOTS:u,NO_DOTS_SLASH:m,STAR:S,START_ANCHOR:x}=Bf.globChars(o),R=n.dot?u:c,D=n.dot?m:c,X=n.capture?"":"?:",Ce={negated:!1,prefix:""},ye=n.bash===!0?".*?":S;n.capture&&(ye=`(${ye})`);let ot=le=>le.noglobstar===!0?ye:`(${X}(?:(?!${x}${le.dot?d:a}).)*?)`,pe=le=>{switch(le){case"*":return`${R}${l}${ye}`;case".*":return`${a}${l}${ye}`;case"*.*":return`${R}${ye}${a}${l}${ye}`;case"*/*":return`${R}${ye}${i}${l}${D}${ye}`;case"**":return R+ot(n);case"**/*":return`(?:${R}${ot(n)}${i})?${D}${l}${ye}`;case"**/*.*":return`(?:${R}${ot(n)}${i})?${D}${ye}${a}${l}${ye}`;case"**/.*":return`(?:${R}${ot(n)}${i})?${a}${l}${ye}`;default:{let Fe=/^(.*?)\.(\w+)$/.exec(le);if(!Fe)return;let Et=pe(Fe[1]);return Et?Et+a+Fe[2]:void 0}}},$e=an.removePrefix(e,Ce),Ee=pe($e);return Ee&&n.strictSlashes!==!0&&(Ee+=`${i}?`),Ee};tM.exports=HE});var sM=k((BBe,rM)=>{"use strict";var j7=require("path"),H7=JF(),KE=nM(),VE=xl(),K7=El(),V7=e=>e&&typeof e=="object"&&!Array.isArray(e),st=(e,t,n=!1)=>{if(Array.isArray(e)){let c=e.map(m=>st(m,t,n));return m=>{for(let S of c){let x=S(m);if(x)return x}return!1}}let r=V7(e)&&e.tokens&&e.input;if(e===""||typeof e!="string"&&!r)throw new TypeError("Expected pattern to be a non-empty string");let s=t||{},o=VE.isWindows(t),a=r?st.compileRe(e,t):st.makeRe(e,t,!1,!0),i=a.state;delete a.state;let l=()=>!1;if(s.ignore){let c={...t,ignore:null,onMatch:null,onResult:null};l=st(s.ignore,c,n)}let d=(c,u=!1)=>{let{isMatch:m,match:S,output:x}=st.test(c,a,t,{glob:e,posix:o}),R={glob:e,state:i,regex:a,posix:o,input:c,output:x,match:S,isMatch:m};return typeof s.onResult=="function"&&s.onResult(R),m===!1?(R.isMatch=!1,u?R:!1):l(c)?(typeof s.onIgnore=="function"&&s.onIgnore(R),R.isMatch=!1,u?R:!1):(typeof s.onMatch=="function"&&s.onMatch(R),u?R:!0)};return n&&(d.state=i),d};st.test=(e,t,n,{glob:r,posix:s}={})=>{if(typeof e!="string")throw new TypeError("Expected input to be a string");if(e==="")return{isMatch:!1,output:""};let o=n||{},a=o.format||(s?VE.toPosixSlashes:null),i=e===r,l=i&&a?a(e):e;return i===!1&&(l=a?a(e):e,i=l===r),(i===!1||o.capture===!0)&&(o.matchBase===!0||o.basename===!0?i=st.matchBase(e,t,n,s):i=t.exec(l)),{isMatch:!!i,match:i,output:l}};st.matchBase=(e,t,n,r=VE.isWindows(n))=>(t instanceof RegExp?t:st.makeRe(t,n)).test(j7.basename(e));st.isMatch=(e,t,n)=>st(t,n)(e);st.parse=(e,t)=>Array.isArray(e)?e.map(n=>st.parse(n,t)):KE(e,{...t,fastpaths:!1});st.scan=(e,t)=>H7(e,t);st.compileRe=(e,t,n=!1,r=!1)=>{if(n===!0)return e.output;let s=t||{},o=s.contains?"":"^",a=s.contains?"":"$",i=`${o}(?:${e.output})${a}`;e&&e.negated===!0&&(i=`^(?!${i}).*$`);let l=st.toRegex(i,t);return r===!0&&(l.state=e),l};st.makeRe=(e,t={},n=!1,r=!1)=>{if(!e||typeof e!="string")throw new TypeError("Expected a non-empty string");let s={negated:!1,fastpaths:!0};return t.fastpaths!==!1&&(e[0]==="."||e[0]==="*")&&(s.output=KE.fastpaths(e,t)),s.output||(s=KE(e,t)),st.compileRe(s,t,n,r)};st.toRegex=(e,t)=>{try{let n=t||{};return new RegExp(e,n.flags||(n.nocase?"i":""))}catch(n){if(t&&t.debug===!0)throw n;return/$^/}};st.constants=K7;rM.exports=st});var iM=k((OBe,oM)=>{"use strict";oM.exports=sM()});var uM=k((FBe,lM)=>{"use strict";var cM=require("util"),dM=zF(),ar=iM(),WE=xl(),aM=e=>e===""||e==="./",Qe=(e,t,n)=>{t=[].concat(t),e=[].concat(e);let r=new Set,s=new Set,o=new Set,a=0,i=c=>{o.add(c.output),n&&n.onResult&&n.onResult(c)};for(let c=0;c<t.length;c++){let u=ar(String(t[c]),{...n,onResult:i},!0),m=u.state.negated||u.state.negatedExtglob;m&&a++;for(let S of e){let x=u(S,!0);(m?!x.isMatch:x.isMatch)&&(m?r.add(x.output):(r.delete(x.output),s.add(x.output)))}}let d=(a===t.length?[...o]:[...s]).filter(c=>!r.has(c));if(n&&d.length===0){if(n.failglob===!0)throw new Error(`No matches found for "${t.join(", ")}"`);if(n.nonull===!0||n.nullglob===!0)return n.unescape?t.map(c=>c.replace(/\\/g,"")):t}return d};Qe.match=Qe;Qe.matcher=(e,t)=>ar(e,t);Qe.isMatch=(e,t,n)=>ar(t,n)(e);Qe.any=Qe.isMatch;Qe.not=(e,t,n={})=>{t=[].concat(t).map(String);let r=new Set,s=[],o=i=>{n.onResult&&n.onResult(i),s.push(i.output)},a=new Set(Qe(e,t,{...n,onResult:o}));for(let i of s)a.has(i)||r.add(i);return[...r]};Qe.contains=(e,t,n)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${cM.inspect(e)}"`);if(Array.isArray(t))return t.some(r=>Qe.contains(e,r,n));if(typeof t=="string"){if(aM(e)||aM(t))return!1;if(e.includes(t)||e.startsWith("./")&&e.slice(2).includes(t))return!0}return Qe.isMatch(e,t,{...n,contains:!0})};Qe.matchKeys=(e,t,n)=>{if(!WE.isObject(e))throw new TypeError("Expected the first argument to be an object");let r=Qe(Object.keys(e),t,n),s={};for(let o of r)s[o]=e[o];return s};Qe.some=(e,t,n)=>{let r=[].concat(e);for(let s of[].concat(t)){let o=ar(String(s),n);if(r.some(a=>o(a)))return!0}return!1};Qe.every=(e,t,n)=>{let r=[].concat(e);for(let s of[].concat(t)){let o=ar(String(s),n);if(!r.every(a=>o(a)))return!1}return!0};Qe.all=(e,t,n)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${cM.inspect(e)}"`);return[].concat(t).every(r=>ar(r,n)(e))};Qe.capture=(e,t,n)=>{let r=WE.isWindows(n),o=ar.makeRe(String(e),{...n,capture:!0}).exec(r?WE.toPosixSlashes(t):t);if(o)return o.slice(1).map(a=>a===void 0?"":a)};Qe.makeRe=(...e)=>ar.makeRe(...e);Qe.scan=(...e)=>ar.scan(...e);Qe.parse=(e,t)=>{let n=[];for(let r of[].concat(e||[]))for(let s of dM(String(r),t))n.push(ar.parse(s,t));return n};Qe.braces=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return t&&t.nobrace===!0||!/\{.*\}/.test(e)?[e]:dM(e,t)};Qe.braceExpand=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return Qe.braces(e,{...t,expand:!0})};lM.exports=Qe});var xM=k(he=>{"use strict";Object.defineProperty(he,"__esModule",{value:!0});he.matchAny=he.convertPatternsToRe=he.makeRe=he.getPatternParts=he.expandBraceExpansion=he.expandPatternsWithBraceExpansion=he.isAffectDepthOfReadingPattern=he.endsWithSlashGlobStar=he.hasGlobStar=he.getBaseDirectory=he.isPatternRelatedToParentDirectory=he.getPatternsOutsideCurrentDirectory=he.getPatternsInsideCurrentDirectory=he.getPositivePatterns=he.getNegativePatterns=he.isPositivePattern=he.isNegativePattern=he.convertToNegativePattern=he.convertToPositivePattern=he.isDynamicPattern=he.isStaticPattern=void 0;var W7=require("path"),Y7=rF(),YE=uM(),mM="**",X7="\\",Q7=/[*?]|^!/,Z7=/\[[^[]*]/,J7=/(?:^|[^!*+?@])\([^(]*\|[^|]*\)/,eY=/[!*+?@]\([^(]*\)/,tY=/,|\.\./;function fM(e,t={}){return!hM(e,t)}he.isStaticPattern=fM;function hM(e,t={}){return e===""?!1:!!(t.caseSensitiveMatch===!1||e.includes(X7)||Q7.test(e)||Z7.test(e)||J7.test(e)||t.extglob!==!1&&eY.test(e)||t.braceExpansion!==!1&&nY(e))}he.isDynamicPattern=hM;function nY(e){let t=e.indexOf("{");if(t===-1)return!1;let n=e.indexOf("}",t+1);if(n===-1)return!1;let r=e.slice(t,n);return tY.test(r)}function rY(e){return Ff(e)?e.slice(1):e}he.convertToPositivePattern=rY;function sY(e){return"!"+e}he.convertToNegativePattern=sY;function Ff(e){return e.startsWith("!")&&e[1]!=="("}he.isNegativePattern=Ff;function pM(e){return!Ff(e)}he.isPositivePattern=pM;function oY(e){return e.filter(Ff)}he.getNegativePatterns=oY;function iY(e){return e.filter(pM)}he.getPositivePatterns=iY;function aY(e){return e.filter(t=>!XE(t))}he.getPatternsInsideCurrentDirectory=aY;function cY(e){return e.filter(XE)}he.getPatternsOutsideCurrentDirectory=cY;function XE(e){return e.startsWith("..")||e.startsWith("./..")}he.isPatternRelatedToParentDirectory=XE;function dY(e){return Y7(e,{flipBackslashes:!1})}he.getBaseDirectory=dY;function lY(e){return e.includes(mM)}he.hasGlobStar=lY;function yM(e){return e.endsWith("/"+mM)}he.endsWithSlashGlobStar=yM;function uY(e){let t=W7.basename(e);return yM(e)||fM(t)}he.isAffectDepthOfReadingPattern=uY;function mY(e){return e.reduce((t,n)=>t.concat(gM(n)),[])}he.expandPatternsWithBraceExpansion=mY;function gM(e){return YE.braces(e,{expand:!0,nodupes:!0})}he.expandBraceExpansion=gM;function fY(e,t){let{parts:n}=YE.scan(e,Object.assign(Object.assign({},t),{parts:!0}));return n.length===0&&(n=[e]),n[0].startsWith("/")&&(n[0]=n[0].slice(1),n.unshift("")),n}he.getPatternParts=fY;function EM(e,t){return YE.makeRe(e,t)}he.makeRe=EM;function hY(e,t){return e.map(n=>EM(n,t))}he.convertPatternsToRe=hY;function pY(e,t){return t.some(n=>n.test(e))}he.matchAny=pY});var wM=k(Mf=>{"use strict";Object.defineProperty(Mf,"__esModule",{value:!0});Mf.merge=void 0;var yY=NE();function gY(e){let t=yY(e);return e.forEach(n=>{n.once("error",r=>t.emit("error",r))}),t.once("close",()=>SM(e)),t.once("end",()=>SM(e)),t}Mf.merge=gY;function SM(e){e.forEach(t=>t.emit("close"))}});var CM=k(ed=>{"use strict";Object.defineProperty(ed,"__esModule",{value:!0});ed.isEmpty=ed.isString=void 0;function EY(e){return typeof e=="string"}ed.isString=EY;function xY(e){return e===""}ed.isEmpty=xY});var Mr=k(Dt=>{"use strict";Object.defineProperty(Dt,"__esModule",{value:!0});Dt.string=Dt.stream=Dt.pattern=Dt.path=Dt.fs=Dt.errno=Dt.array=void 0;var SY=VO();Dt.array=SY;var wY=WO();Dt.errno=wY;var CY=YO();Dt.fs=CY;var bY=XO();Dt.path=bY;var PY=xM();Dt.pattern=PY;var _Y=wM();Dt.stream=_Y;var AY=CM();Dt.string=AY});var _M=k(Bt=>{"use strict";Object.defineProperty(Bt,"__esModule",{value:!0});Bt.convertPatternGroupToTask=Bt.convertPatternGroupsToTasks=Bt.groupPatternsByBaseDirectory=Bt.getNegativePatternsAsPositive=Bt.getPositivePatterns=Bt.convertPatternsToTasks=Bt.generate=void 0;var Lr=Mr();function kY(e,t){let n=bM(e),r=PM(e,t.ignore),s=n.filter(l=>Lr.pattern.isStaticPattern(l,t)),o=n.filter(l=>Lr.pattern.isDynamicPattern(l,t)),a=QE(s,r,!1),i=QE(o,r,!0);return a.concat(i)}Bt.generate=kY;function QE(e,t,n){let r=[],s=Lr.pattern.getPatternsOutsideCurrentDirectory(e),o=Lr.pattern.getPatternsInsideCurrentDirectory(e),a=ZE(s),i=ZE(o);return r.push(...JE(a,t,n)),"."in i?r.push(ex(".",o,t,n)):r.push(...JE(i,t,n)),r}Bt.convertPatternsToTasks=QE;function bM(e){return Lr.pattern.getPositivePatterns(e)}Bt.getPositivePatterns=bM;function PM(e,t){return Lr.pattern.getNegativePatterns(e).concat(t).map(Lr.pattern.convertToPositivePattern)}Bt.getNegativePatternsAsPositive=PM;function ZE(e){let t={};return e.reduce((n,r)=>{let s=Lr.pattern.getBaseDirectory(r);return s in n?n[s].push(r):n[s]=[r],n},t)}Bt.groupPatternsByBaseDirectory=ZE;function JE(e,t,n){return Object.keys(e).map(r=>ex(r,e[r],t,n))}Bt.convertPatternGroupsToTasks=JE;function ex(e,t,n,r){return{dynamic:r,positive:t,negative:n,base:e,patterns:[].concat(t,n.map(Lr.pattern.convertToNegativePattern))}}Bt.convertPatternGroupToTask=ex});var kM=k(td=>{"use strict";Object.defineProperty(td,"__esModule",{value:!0});td.removeDuplicateSlashes=td.transform=void 0;var RY=/(?!^)\/{2,}/g;function IY(e){return e.map(t=>AM(t))}td.transform=IY;function AM(e){return e.replace(RY,"/")}td.removeDuplicateSlashes=AM});var IM=k(Lf=>{"use strict";Object.defineProperty(Lf,"__esModule",{value:!0});Lf.read=void 0;function NY(e,t,n){t.fs.lstat(e,(r,s)=>{if(r!==null){RM(n,r);return}if(!s.isSymbolicLink()||!t.followSymbolicLink){tx(n,s);return}t.fs.stat(e,(o,a)=>{if(o!==null){if(t.throwErrorOnBrokenSymbolicLink){RM(n,o);return}tx(n,s);return}t.markSymbolicLink&&(a.isSymbolicLink=()=>!0),tx(n,a)})})}Lf.read=NY;function RM(e,t){e(t)}function tx(e,t){e(null,t)}});var NM=k(Uf=>{"use strict";Object.defineProperty(Uf,"__esModule",{value:!0});Uf.read=void 0;function TY(e,t){let n=t.fs.lstatSync(e);if(!n.isSymbolicLink()||!t.followSymbolicLink)return n;try{let r=t.fs.statSync(e);return t.markSymbolicLink&&(r.isSymbolicLink=()=>!0),r}catch(r){if(!t.throwErrorOnBrokenSymbolicLink)return n;throw r}}Uf.read=TY});var TM=k(Ys=>{"use strict";Object.defineProperty(Ys,"__esModule",{value:!0});Ys.createFileSystemAdapter=Ys.FILE_SYSTEM_ADAPTER=void 0;var zf=require("fs");Ys.FILE_SYSTEM_ADAPTER={lstat:zf.lstat,stat:zf.stat,lstatSync:zf.lstatSync,statSync:zf.statSync};function vY(e){return e===void 0?Ys.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},Ys.FILE_SYSTEM_ADAPTER),e)}Ys.createFileSystemAdapter=vY});var vM=k(rx=>{"use strict";Object.defineProperty(rx,"__esModule",{value:!0});var DY=TM(),nx=class{constructor(t={}){this._options=t,this.followSymbolicLink=this._getValue(this._options.followSymbolicLink,!0),this.fs=DY.createFileSystemAdapter(this._options.fs),this.markSymbolicLink=this._getValue(this._options.markSymbolicLink,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0)}_getValue(t,n){return t??n}};rx.default=nx});var Bo=k(Xs=>{"use strict";Object.defineProperty(Xs,"__esModule",{value:!0});Xs.statSync=Xs.stat=Xs.Settings=void 0;var DM=IM(),BY=NM(),sx=vM();Xs.Settings=sx.default;function OY(e,t,n){if(typeof t=="function"){DM.read(e,ox(),t);return}DM.read(e,ox(t),n)}Xs.stat=OY;function FY(e,t){let n=ox(t);return BY.read(e,n)}Xs.statSync=FY;function ox(e={}){return e instanceof sx.default?e:new sx.default(e)}});var FM=k((WBe,OM)=>{var BM;OM.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:global):e=>(BM||(BM=Promise.resolve())).then(e).catch(t=>setTimeout(()=>{throw t},0))});var LM=k((YBe,MM)=>{MM.exports=LY;var MY=FM();function LY(e,t){let n,r,s,o=!0;Array.isArray(e)?(n=[],r=e.length):(s=Object.keys(e),n={},r=s.length);function a(l){function d(){t&&t(l,n),t=null}o?MY(d):d()}function i(l,d,c){n[l]=c,(--r===0||d)&&a(d)}r?s?s.forEach(function(l){e[l](function(d,c){i(l,d,c)})}):e.forEach(function(l,d){l(function(c,u){i(d,c,u)})}):a(null),o=!1}});var ix=k(qf=>{"use strict";Object.defineProperty(qf,"__esModule",{value:!0});qf.IS_SUPPORT_READDIR_WITH_FILE_TYPES=void 0;var $f=process.versions.node.split(".");if($f[0]===void 0||$f[1]===void 0)throw new Error(`Unexpected behavior. The 'process.versions.node' variable has invalid value: ${process.versions.node}`);var UM=Number.parseInt($f[0],10),UY=Number.parseInt($f[1],10),zM=10,zY=10,$Y=UM>zM,qY=UM===zM&&UY>=zY;qf.IS_SUPPORT_READDIR_WITH_FILE_TYPES=$Y||qY});var $M=k(Gf=>{"use strict";Object.defineProperty(Gf,"__esModule",{value:!0});Gf.createDirentFromStats=void 0;var ax=class{constructor(t,n){this.name=t,this.isBlockDevice=n.isBlockDevice.bind(n),this.isCharacterDevice=n.isCharacterDevice.bind(n),this.isDirectory=n.isDirectory.bind(n),this.isFIFO=n.isFIFO.bind(n),this.isFile=n.isFile.bind(n),this.isSocket=n.isSocket.bind(n),this.isSymbolicLink=n.isSymbolicLink.bind(n)}};function GY(e,t){return new ax(e,t)}Gf.createDirentFromStats=GY});var cx=k(jf=>{"use strict";Object.defineProperty(jf,"__esModule",{value:!0});jf.fs=void 0;var jY=$M();jf.fs=jY});var dx=k(Hf=>{"use strict";Object.defineProperty(Hf,"__esModule",{value:!0});Hf.joinPathSegments=void 0;function HY(e,t,n){return e.endsWith(n)?e+t:e+n+t}Hf.joinPathSegments=HY});var VM=k(Qs=>{"use strict";Object.defineProperty(Qs,"__esModule",{value:!0});Qs.readdir=Qs.readdirWithFileTypes=Qs.read=void 0;var KY=Bo(),qM=LM(),VY=ix(),GM=cx(),jM=dx();function WY(e,t,n){if(!t.stats&&VY.IS_SUPPORT_READDIR_WITH_FILE_TYPES){HM(e,t,n);return}KM(e,t,n)}Qs.read=WY;function HM(e,t,n){t.fs.readdir(e,{withFileTypes:!0},(r,s)=>{if(r!==null){Kf(n,r);return}let o=s.map(i=>({dirent:i,name:i.name,path:jM.joinPathSegments(e,i.name,t.pathSegmentSeparator)}));if(!t.followSymbolicLinks){lx(n,o);return}let a=o.map(i=>YY(i,t));qM(a,(i,l)=>{if(i!==null){Kf(n,i);return}lx(n,l)})})}Qs.readdirWithFileTypes=HM;function YY(e,t){return n=>{if(!e.dirent.isSymbolicLink()){n(null,e);return}t.fs.stat(e.path,(r,s)=>{if(r!==null){if(t.throwErrorOnBrokenSymbolicLink){n(r);return}n(null,e);return}e.dirent=GM.fs.createDirentFromStats(e.name,s),n(null,e)})}}function KM(e,t,n){t.fs.readdir(e,(r,s)=>{if(r!==null){Kf(n,r);return}let o=s.map(a=>{let i=jM.joinPathSegments(e,a,t.pathSegmentSeparator);return l=>{KY.stat(i,t.fsStatSettings,(d,c)=>{if(d!==null){l(d);return}let u={name:a,path:i,dirent:GM.fs.createDirentFromStats(a,c)};t.stats&&(u.stats=c),l(null,u)})}});qM(o,(a,i)=>{if(a!==null){Kf(n,a);return}lx(n,i)})})}Qs.readdir=KM;function Kf(e,t){e(t)}function lx(e,t){e(null,t)}});var ZM=k(Zs=>{"use strict";Object.defineProperty(Zs,"__esModule",{value:!0});Zs.readdir=Zs.readdirWithFileTypes=Zs.read=void 0;var XY=Bo(),QY=ix(),WM=cx(),YM=dx();function ZY(e,t){return!t.stats&&QY.IS_SUPPORT_READDIR_WITH_FILE_TYPES?XM(e,t):QM(e,t)}Zs.read=ZY;function XM(e,t){return t.fs.readdirSync(e,{withFileTypes:!0}).map(r=>{let s={dirent:r,name:r.name,path:YM.joinPathSegments(e,r.name,t.pathSegmentSeparator)};if(s.dirent.isSymbolicLink()&&t.followSymbolicLinks)try{let o=t.fs.statSync(s.path);s.dirent=WM.fs.createDirentFromStats(s.name,o)}catch(o){if(t.throwErrorOnBrokenSymbolicLink)throw o}return s})}Zs.readdirWithFileTypes=XM;function QM(e,t){return t.fs.readdirSync(e).map(r=>{let s=YM.joinPathSegments(e,r,t.pathSegmentSeparator),o=XY.statSync(s,t.fsStatSettings),a={name:r,path:s,dirent:WM.fs.createDirentFromStats(r,o)};return t.stats&&(a.stats=o),a})}Zs.readdir=QM});var JM=k(Js=>{"use strict";Object.defineProperty(Js,"__esModule",{value:!0});Js.createFileSystemAdapter=Js.FILE_SYSTEM_ADAPTER=void 0;var nd=require("fs");Js.FILE_SYSTEM_ADAPTER={lstat:nd.lstat,stat:nd.stat,lstatSync:nd.lstatSync,statSync:nd.statSync,readdir:nd.readdir,readdirSync:nd.readdirSync};function JY(e){return e===void 0?Js.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},Js.FILE_SYSTEM_ADAPTER),e)}Js.createFileSystemAdapter=JY});var eL=k(mx=>{"use strict";Object.defineProperty(mx,"__esModule",{value:!0});var eX=require("path"),tX=Bo(),nX=JM(),ux=class{constructor(t={}){this._options=t,this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!1),this.fs=nX.createFileSystemAdapter(this._options.fs),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,eX.sep),this.stats=this._getValue(this._options.stats,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0),this.fsStatSettings=new tX.Settings({followSymbolicLink:this.followSymbolicLinks,fs:this.fs,throwErrorOnBrokenSymbolicLink:this.throwErrorOnBrokenSymbolicLink})}_getValue(t,n){return t??n}};mx.default=ux});var Vf=k(eo=>{"use strict";Object.defineProperty(eo,"__esModule",{value:!0});eo.Settings=eo.scandirSync=eo.scandir=void 0;var tL=VM(),rX=ZM(),fx=eL();eo.Settings=fx.default;function sX(e,t,n){if(typeof t=="function"){tL.read(e,hx(),t);return}tL.read(e,hx(t),n)}eo.scandir=sX;function oX(e,t){let n=hx(t);return rX.read(e,n)}eo.scandirSync=oX;function hx(e={}){return e instanceof fx.default?e:new fx.default(e)}});var rL=k((oOe,nL)=>{"use strict";function iX(e){var t=new e,n=t;function r(){var o=t;return o.next?t=o.next:(t=new e,n=t),o.next=null,o}function s(o){n.next=o,n=o}return{get:r,release:s}}nL.exports=iX});var oL=k((iOe,px)=>{"use strict";var aX=rL();function sL(e,t,n){if(typeof e=="function"&&(n=t,t=e,e=null),n<1)throw new Error("fastqueue concurrency must be greater than 1");var r=aX(cX),s=null,o=null,a=0,i=null,l={push:R,drain:kn,saturated:kn,pause:c,paused:!1,concurrency:n,running:d,resume:S,idle:x,length:u,getQueue:m,unshift:D,empty:kn,kill:Ce,killAndDrain:ye,error:ot};return l;function d(){return a}function c(){l.paused=!0}function u(){for(var pe=s,$e=0;pe;)pe=pe.next,$e++;return $e}function m(){for(var pe=s,$e=[];pe;)$e.push(pe.value),pe=pe.next;return $e}function S(){if(l.paused){l.paused=!1;for(var pe=0;pe<l.concurrency;pe++)a++,X()}}function x(){return a===0&&l.length()===0}function R(pe,$e){var Ee=r.get();Ee.context=e,Ee.release=X,Ee.value=pe,Ee.callback=$e||kn,Ee.errorHandler=i,a===l.concurrency||l.paused?o?(o.next=Ee,o=Ee):(s=Ee,o=Ee,l.saturated()):(a++,t.call(e,Ee.value,Ee.worked))}function D(pe,$e){var Ee=r.get();Ee.context=e,Ee.release=X,Ee.value=pe,Ee.callback=$e||kn,a===l.concurrency||l.paused?s?(Ee.next=s,s=Ee):(s=Ee,o=Ee,l.saturated()):(a++,t.call(e,Ee.value,Ee.worked))}function X(pe){pe&&r.release(pe);var $e=s;$e?l.paused?a--:(o===s&&(o=null),s=$e.next,$e.next=null,t.call(e,$e.value,$e.worked),o===null&&l.empty()):--a===0&&l.drain()}function Ce(){s=null,o=null,l.drain=kn}function ye(){s=null,o=null,l.drain(),l.drain=kn}function ot(pe){i=pe}}function kn(){}function cX(){this.value=null,this.callback=kn,this.next=null,this.release=kn,this.context=null,this.errorHandler=null;var e=this;this.worked=function(n,r){var s=e.callback,o=e.errorHandler,a=e.value;e.value=null,e.callback=kn,e.errorHandler&&o(n,a),s.call(e.context,n,r),e.release(e)}}function dX(e,t,n){typeof e=="function"&&(n=t,t=e,e=null);function r(c,u){t.call(this,c).then(function(m){u(null,m)},u)}var s=sL(e,r,n),o=s.push,a=s.unshift;return s.push=i,s.unshift=l,s.drained=d,s;function i(c){var u=new Promise(function(m,S){o(c,function(x,R){if(x){S(x);return}m(R)})});return u.catch(kn),u}function l(c){var u=new Promise(function(m,S){a(c,function(x,R){if(x){S(x);return}m(R)})});return u.catch(kn),u}function d(){if(s.idle())return new Promise(function(m){m()});var c=s.drain,u=new Promise(function(m){s.drain=function(){c(),m()}});return u}}px.exports=sL;px.exports.promise=dX});var Wf=k(cr=>{"use strict";Object.defineProperty(cr,"__esModule",{value:!0});cr.joinPathSegments=cr.replacePathSegmentSeparator=cr.isAppliedFilter=cr.isFatalError=void 0;function lX(e,t){return e.errorFilter===null?!0:!e.errorFilter(t)}cr.isFatalError=lX;function uX(e,t){return e===null||e(t)}cr.isAppliedFilter=uX;function mX(e,t){return e.split(/[/\\]/).join(t)}cr.replacePathSegmentSeparator=mX;function fX(e,t,n){return e===""?t:e.endsWith(n)?e+t:e+n+t}cr.joinPathSegments=fX});var Ex=k(gx=>{"use strict";Object.defineProperty(gx,"__esModule",{value:!0});var hX=Wf(),yx=class{constructor(t,n){this._root=t,this._settings=n,this._root=hX.replacePathSegmentSeparator(t,n.pathSegmentSeparator)}};gx.default=yx});var wx=k(Sx=>{"use strict";Object.defineProperty(Sx,"__esModule",{value:!0});var pX=require("events"),yX=Vf(),gX=oL(),Yf=Wf(),EX=Ex(),xx=class extends EX.default{constructor(t,n){super(t,n),this._settings=n,this._scandir=yX.scandir,this._emitter=new pX.EventEmitter,this._queue=gX(this._worker.bind(this),this._settings.concurrency),this._isFatalError=!1,this._isDestroyed=!1,this._queue.drain=()=>{this._isFatalError||this._emitter.emit("end")}}read(){return this._isFatalError=!1,this._isDestroyed=!1,setImmediate(()=>{this._pushToQueue(this._root,this._settings.basePath)}),this._emitter}get isDestroyed(){return this._isDestroyed}destroy(){if(this._isDestroyed)throw new Error("The reader is already destroyed");this._isDestroyed=!0,this._queue.killAndDrain()}onEntry(t){this._emitter.on("entry",t)}onError(t){this._emitter.once("error",t)}onEnd(t){this._emitter.once("end",t)}_pushToQueue(t,n){let r={directory:t,base:n};this._queue.push(r,s=>{s!==null&&this._handleError(s)})}_worker(t,n){this._scandir(t.directory,this._settings.fsScandirSettings,(r,s)=>{if(r!==null){n(r,void 0);return}for(let o of s)this._handleEntry(o,t.base);n(null,void 0)})}_handleError(t){this._isDestroyed||!Yf.isFatalError(this._settings,t)||(this._isFatalError=!0,this._isDestroyed=!0,this._emitter.emit("error",t))}_handleEntry(t,n){if(this._isDestroyed||this._isFatalError)return;let r=t.path;n!==void 0&&(t.path=Yf.joinPathSegments(n,t.name,this._settings.pathSegmentSeparator)),Yf.isAppliedFilter(this._settings.entryFilter,t)&&this._emitEntry(t),t.dirent.isDirectory()&&Yf.isAppliedFilter(this._settings.deepFilter,t)&&this._pushToQueue(r,n===void 0?void 0:t.path)}_emitEntry(t){this._emitter.emit("entry",t)}};Sx.default=xx});var iL=k(bx=>{"use strict";Object.defineProperty(bx,"__esModule",{value:!0});var xX=wx(),Cx=class{constructor(t,n){this._root=t,this._settings=n,this._reader=new xX.default(this._root,this._settings),this._storage=[]}read(t){this._reader.onError(n=>{SX(t,n)}),this._reader.onEntry(n=>{this._storage.push(n)}),this._reader.onEnd(()=>{wX(t,this._storage)}),this._reader.read()}};bx.default=Cx;function SX(e,t){e(t)}function wX(e,t){e(null,t)}});var aL=k(_x=>{"use strict";Object.defineProperty(_x,"__esModule",{value:!0});var CX=require("stream"),bX=wx(),Px=class{constructor(t,n){this._root=t,this._settings=n,this._reader=new bX.default(this._root,this._settings),this._stream=new CX.Readable({objectMode:!0,read:()=>{},destroy:()=>{this._reader.isDestroyed||this._reader.destroy()}})}read(){return this._reader.onError(t=>{this._stream.emit("error",t)}),this._reader.onEntry(t=>{this._stream.push(t)}),this._reader.onEnd(()=>{this._stream.push(null)}),this._reader.read(),this._stream}};_x.default=Px});var cL=k(kx=>{"use strict";Object.defineProperty(kx,"__esModule",{value:!0});var PX=Vf(),Xf=Wf(),_X=Ex(),Ax=class extends _X.default{constructor(){super(...arguments),this._scandir=PX.scandirSync,this._storage=[],this._queue=new Set}read(){return this._pushToQueue(this._root,this._settings.basePath),this._handleQueue(),this._storage}_pushToQueue(t,n){this._queue.add({directory:t,base:n})}_handleQueue(){for(let t of this._queue.values())this._handleDirectory(t.directory,t.base)}_handleDirectory(t,n){try{let r=this._scandir(t,this._settings.fsScandirSettings);for(let s of r)this._handleEntry(s,n)}catch(r){this._handleError(r)}}_handleError(t){if(Xf.isFatalError(this._settings,t))throw t}_handleEntry(t,n){let r=t.path;n!==void 0&&(t.path=Xf.joinPathSegments(n,t.name,this._settings.pathSegmentSeparator)),Xf.isAppliedFilter(this._settings.entryFilter,t)&&this._pushToStorage(t),t.dirent.isDirectory()&&Xf.isAppliedFilter(this._settings.deepFilter,t)&&this._pushToQueue(r,n===void 0?void 0:t.path)}_pushToStorage(t){this._storage.push(t)}};kx.default=Ax});var dL=k(Ix=>{"use strict";Object.defineProperty(Ix,"__esModule",{value:!0});var AX=cL(),Rx=class{constructor(t,n){this._root=t,this._settings=n,this._reader=new AX.default(this._root,this._settings)}read(){return this._reader.read()}};Ix.default=Rx});var lL=k(Tx=>{"use strict";Object.defineProperty(Tx,"__esModule",{value:!0});var kX=require("path"),RX=Vf(),Nx=class{constructor(t={}){this._options=t,this.basePath=this._getValue(this._options.basePath,void 0),this.concurrency=this._getValue(this._options.concurrency,Number.POSITIVE_INFINITY),this.deepFilter=this._getValue(this._options.deepFilter,null),this.entryFilter=this._getValue(this._options.entryFilter,null),this.errorFilter=this._getValue(this._options.errorFilter,null),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,kX.sep),this.fsScandirSettings=new RX.Settings({followSymbolicLinks:this._options.followSymbolicLinks,fs:this._options.fs,pathSegmentSeparator:this._options.pathSegmentSeparator,stats:this._options.stats,throwErrorOnBrokenSymbolicLink:this._options.throwErrorOnBrokenSymbolicLink})}_getValue(t,n){return t??n}};Tx.default=Nx});var Zf=k(dr=>{"use strict";Object.defineProperty(dr,"__esModule",{value:!0});dr.Settings=dr.walkStream=dr.walkSync=dr.walk=void 0;var uL=iL(),IX=aL(),NX=dL(),vx=lL();dr.Settings=vx.default;function TX(e,t,n){if(typeof t=="function"){new uL.default(e,Qf()).read(t);return}new uL.default(e,Qf(t)).read(n)}dr.walk=TX;function vX(e,t){let n=Qf(t);return new NX.default(e,n).read()}dr.walkSync=vX;function DX(e,t){let n=Qf(t);return new IX.default(e,n).read()}dr.walkStream=DX;function Qf(e={}){return e instanceof vx.default?e:new vx.default(e)}});var Jf=k(Bx=>{"use strict";Object.defineProperty(Bx,"__esModule",{value:!0});var BX=require("path"),OX=Bo(),mL=Mr(),Dx=class{constructor(t){this._settings=t,this._fsStatSettings=new OX.Settings({followSymbolicLink:this._settings.followSymbolicLinks,fs:this._settings.fs,throwErrorOnBrokenSymbolicLink:this._settings.followSymbolicLinks})}_getFullEntryPath(t){return BX.resolve(this._settings.cwd,t)}_makeEntry(t,n){let r={name:n,path:n,dirent:mL.fs.createDirentFromStats(n,t)};return this._settings.stats&&(r.stats=t),r}_isFatalError(t){return!mL.errno.isEnoentCodeError(t)&&!this._settings.suppressErrors}};Bx.default=Dx});var Mx=k(Fx=>{"use strict";Object.defineProperty(Fx,"__esModule",{value:!0});var FX=require("stream"),MX=Bo(),LX=Zf(),UX=Jf(),Ox=class extends UX.default{constructor(){super(...arguments),this._walkStream=LX.walkStream,this._stat=MX.stat}dynamic(t,n){return this._walkStream(t,n)}static(t,n){let r=t.map(this._getFullEntryPath,this),s=new FX.PassThrough({objectMode:!0});s._write=(o,a,i)=>this._getEntry(r[o],t[o],n).then(l=>{l!==null&&n.entryFilter(l)&&s.push(l),o===r.length-1&&s.end(),i()}).catch(i);for(let o=0;o<r.length;o++)s.write(o);return s}_getEntry(t,n,r){return this._getStat(t).then(s=>this._makeEntry(s,n)).catch(s=>{if(r.errorFilter(s))return null;throw s})}_getStat(t){return new Promise((n,r)=>{this._stat(t,this._fsStatSettings,(s,o)=>s===null?n(o):r(s))})}};Fx.default=Ox});var fL=k(Ux=>{"use strict";Object.defineProperty(Ux,"__esModule",{value:!0});var zX=Zf(),$X=Jf(),qX=Mx(),Lx=class extends $X.default{constructor(){super(...arguments),this._walkAsync=zX.walk,this._readerStream=new qX.default(this._settings)}dynamic(t,n){return new Promise((r,s)=>{this._walkAsync(t,n,(o,a)=>{o===null?r(a):s(o)})})}async static(t,n){let r=[],s=this._readerStream.static(t,n);return new Promise((o,a)=>{s.once("error",a),s.on("data",i=>r.push(i)),s.once("end",()=>o(r))})}};Ux.default=Lx});var hL=k($x=>{"use strict";Object.defineProperty($x,"__esModule",{value:!0});var rd=Mr(),zx=class{constructor(t,n,r){this._patterns=t,this._settings=n,this._micromatchOptions=r,this._storage=[],this._fillStorage()}_fillStorage(){let t=rd.pattern.expandPatternsWithBraceExpansion(this._patterns);for(let n of t){let r=this._getPatternSegments(n),s=this._splitSegmentsIntoSections(r);this._storage.push({complete:s.length<=1,pattern:n,segments:r,sections:s})}}_getPatternSegments(t){return rd.pattern.getPatternParts(t,this._micromatchOptions).map(r=>rd.pattern.isDynamicPattern(r,this._settings)?{dynamic:!0,pattern:r,patternRe:rd.pattern.makeRe(r,this._micromatchOptions)}:{dynamic:!1,pattern:r})}_splitSegmentsIntoSections(t){return rd.array.splitWhen(t,n=>n.dynamic&&rd.pattern.hasGlobStar(n.pattern))}};$x.default=zx});var pL=k(Gx=>{"use strict";Object.defineProperty(Gx,"__esModule",{value:!0});var GX=hL(),qx=class extends GX.default{match(t){let n=t.split("/"),r=n.length,s=this._storage.filter(o=>!o.complete||o.segments.length>r);for(let o of s){let a=o.sections[0];if(!o.complete&&r>a.length||n.every((l,d)=>{let c=o.segments[d];return!!(c.dynamic&&c.patternRe.test(l)||!c.dynamic&&c.pattern===l)}))return!0}return!1}};Gx.default=qx});var yL=k(Hx=>{"use strict";Object.defineProperty(Hx,"__esModule",{value:!0});var eh=Mr(),jX=pL(),jx=class{constructor(t,n){this._settings=t,this._micromatchOptions=n}getFilter(t,n,r){let s=this._getMatcher(n),o=this._getNegativePatternsRe(r);return a=>this._filter(t,a,s,o)}_getMatcher(t){return new jX.default(t,this._settings,this._micromatchOptions)}_getNegativePatternsRe(t){let n=t.filter(eh.pattern.isAffectDepthOfReadingPattern);return eh.pattern.convertPatternsToRe(n,this._micromatchOptions)}_filter(t,n,r,s){if(this._isSkippedByDeep(t,n.path)||this._isSkippedSymbolicLink(n))return!1;let o=eh.path.removeLeadingDotSegment(n.path);return this._isSkippedByPositivePatterns(o,r)?!1:this._isSkippedByNegativePatterns(o,s)}_isSkippedByDeep(t,n){return this._settings.deep===1/0?!1:this._getEntryLevel(t,n)>=this._settings.deep}_getEntryLevel(t,n){let r=n.split("/").length;if(t==="")return r;let s=t.split("/").length;return r-s}_isSkippedSymbolicLink(t){return!this._settings.followSymbolicLinks&&t.dirent.isSymbolicLink()}_isSkippedByPositivePatterns(t,n){return!this._settings.baseNameMatch&&!n.match(t)}_isSkippedByNegativePatterns(t,n){return!eh.pattern.matchAny(t,n)}};Hx.default=jx});var gL=k(Vx=>{"use strict";Object.defineProperty(Vx,"__esModule",{value:!0});var Oo=Mr(),Kx=class{constructor(t,n){this._settings=t,this._micromatchOptions=n,this.index=new Map}getFilter(t,n){let r=Oo.pattern.convertPatternsToRe(t,this._micromatchOptions),s=Oo.pattern.convertPatternsToRe(n,this._micromatchOptions);return o=>this._filter(o,r,s)}_filter(t,n,r){if(this._settings.unique&&this._isDuplicateEntry(t)||this._onlyFileFilter(t)||this._onlyDirectoryFilter(t)||this._isSkippedByAbsoluteNegativePatterns(t.path,r))return!1;let s=this._settings.baseNameMatch?t.name:t.path,o=t.dirent.isDirectory(),a=this._isMatchToPatterns(s,n,o)&&!this._isMatchToPatterns(t.path,r,o);return this._settings.unique&&a&&this._createIndexRecord(t),a}_isDuplicateEntry(t){return this.index.has(t.path)}_createIndexRecord(t){this.index.set(t.path,void 0)}_onlyFileFilter(t){return this._settings.onlyFiles&&!t.dirent.isFile()}_onlyDirectoryFilter(t){return this._settings.onlyDirectories&&!t.dirent.isDirectory()}_isSkippedByAbsoluteNegativePatterns(t,n){if(!this._settings.absolute)return!1;let r=Oo.path.makeAbsolute(this._settings.cwd,t);return Oo.pattern.matchAny(r,n)}_isMatchToPatterns(t,n,r){let s=Oo.path.removeLeadingDotSegment(t),o=Oo.pattern.matchAny(s,n);return!o&&r?Oo.pattern.matchAny(s+"/",n):o}};Vx.default=Kx});var EL=k(Yx=>{"use strict";Object.defineProperty(Yx,"__esModule",{value:!0});var HX=Mr(),Wx=class{constructor(t){this._settings=t}getFilter(){return t=>this._isNonFatalError(t)}_isNonFatalError(t){return HX.errno.isEnoentCodeError(t)||this._settings.suppressErrors}};Yx.default=Wx});var SL=k(Qx=>{"use strict";Object.defineProperty(Qx,"__esModule",{value:!0});var xL=Mr(),Xx=class{constructor(t){this._settings=t}getTransformer(){return t=>this._transform(t)}_transform(t){let n=t.path;return this._settings.absolute&&(n=xL.path.makeAbsolute(this._settings.cwd,n),n=xL.path.unixify(n)),this._settings.markDirectories&&t.dirent.isDirectory()&&(n+="/"),this._settings.objectMode?Object.assign(Object.assign({},t),{path:n}):n}};Qx.default=Xx});var th=k(Jx=>{"use strict";Object.defineProperty(Jx,"__esModule",{value:!0});var KX=require("path"),VX=yL(),WX=gL(),YX=EL(),XX=SL(),Zx=class{constructor(t){this._settings=t,this.errorFilter=new YX.default(this._settings),this.entryFilter=new WX.default(this._settings,this._getMicromatchOptions()),this.deepFilter=new VX.default(this._settings,this._getMicromatchOptions()),this.entryTransformer=new XX.default(this._settings)}_getRootDirectory(t){return KX.resolve(this._settings.cwd,t.base)}_getReaderOptions(t){let n=t.base==="."?"":t.base;return{basePath:n,pathSegmentSeparator:"/",concurrency:this._settings.concurrency,deepFilter:this.deepFilter.getFilter(n,t.positive,t.negative),entryFilter:this.entryFilter.getFilter(t.positive,t.negative),errorFilter:this.errorFilter.getFilter(),followSymbolicLinks:this._settings.followSymbolicLinks,fs:this._settings.fs,stats:this._settings.stats,throwErrorOnBrokenSymbolicLink:this._settings.throwErrorOnBrokenSymbolicLink,transform:this.entryTransformer.getTransformer()}}_getMicromatchOptions(){return{dot:this._settings.dot,matchBase:this._settings.baseNameMatch,nobrace:!this._settings.braceExpansion,nocase:!this._settings.caseSensitiveMatch,noext:!this._settings.extglob,noglobstar:!this._settings.globstar,posix:!0,strictSlashes:!1}}};Jx.default=Zx});var wL=k(tS=>{"use strict";Object.defineProperty(tS,"__esModule",{value:!0});var QX=fL(),ZX=th(),eS=class extends ZX.default{constructor(){super(...arguments),this._reader=new QX.default(this._settings)}async read(t){let n=this._getRootDirectory(t),r=this._getReaderOptions(t);return(await this.api(n,t,r)).map(o=>r.transform(o))}api(t,n,r){return n.dynamic?this._reader.dynamic(t,r):this._reader.static(n.patterns,r)}};tS.default=eS});var CL=k(rS=>{"use strict";Object.defineProperty(rS,"__esModule",{value:!0});var JX=require("stream"),eQ=Mx(),tQ=th(),nS=class extends tQ.default{constructor(){super(...arguments),this._reader=new eQ.default(this._settings)}read(t){let n=this._getRootDirectory(t),r=this._getReaderOptions(t),s=this.api(n,t,r),o=new JX.Readable({objectMode:!0,read:()=>{}});return s.once("error",a=>o.emit("error",a)).on("data",a=>o.emit("data",r.transform(a))).once("end",()=>o.emit("end")),o.once("close",()=>s.destroy()),o}api(t,n,r){return n.dynamic?this._reader.dynamic(t,r):this._reader.static(n.patterns,r)}};rS.default=nS});var bL=k(oS=>{"use strict";Object.defineProperty(oS,"__esModule",{value:!0});var nQ=Bo(),rQ=Zf(),sQ=Jf(),sS=class extends sQ.default{constructor(){super(...arguments),this._walkSync=rQ.walkSync,this._statSync=nQ.statSync}dynamic(t,n){return this._walkSync(t,n)}static(t,n){let r=[];for(let s of t){let o=this._getFullEntryPath(s),a=this._getEntry(o,s,n);a===null||!n.entryFilter(a)||r.push(a)}return r}_getEntry(t,n,r){try{let s=this._getStat(t);return this._makeEntry(s,n)}catch(s){if(r.errorFilter(s))return null;throw s}}_getStat(t){return this._statSync(t,this._fsStatSettings)}};oS.default=sS});var PL=k(aS=>{"use strict";Object.defineProperty(aS,"__esModule",{value:!0});var oQ=bL(),iQ=th(),iS=class extends iQ.default{constructor(){super(...arguments),this._reader=new oQ.default(this._settings)}read(t){let n=this._getRootDirectory(t),r=this._getReaderOptions(t);return this.api(n,t,r).map(r.transform)}api(t,n,r){return n.dynamic?this._reader.dynamic(t,r):this._reader.static(n.patterns,r)}};aS.default=iS});var _L=k(od=>{"use strict";Object.defineProperty(od,"__esModule",{value:!0});od.DEFAULT_FILE_SYSTEM_ADAPTER=void 0;var sd=require("fs"),aQ=require("os"),cQ=Math.max(aQ.cpus().length,1);od.DEFAULT_FILE_SYSTEM_ADAPTER={lstat:sd.lstat,lstatSync:sd.lstatSync,stat:sd.stat,statSync:sd.statSync,readdir:sd.readdir,readdirSync:sd.readdirSync};var cS=class{constructor(t={}){this._options=t,this.absolute=this._getValue(this._options.absolute,!1),this.baseNameMatch=this._getValue(this._options.baseNameMatch,!1),this.braceExpansion=this._getValue(this._options.braceExpansion,!0),this.caseSensitiveMatch=this._getValue(this._options.caseSensitiveMatch,!0),this.concurrency=this._getValue(this._options.concurrency,cQ),this.cwd=this._getValue(this._options.cwd,process.cwd()),this.deep=this._getValue(this._options.deep,1/0),this.dot=this._getValue(this._options.dot,!1),this.extglob=this._getValue(this._options.extglob,!0),this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!0),this.fs=this._getFileSystemMethods(this._options.fs),this.globstar=this._getValue(this._options.globstar,!0),this.ignore=this._getValue(this._options.ignore,[]),this.markDirectories=this._getValue(this._options.markDirectories,!1),this.objectMode=this._getValue(this._options.objectMode,!1),this.onlyDirectories=this._getValue(this._options.onlyDirectories,!1),this.onlyFiles=this._getValue(this._options.onlyFiles,!0),this.stats=this._getValue(this._options.stats,!1),this.suppressErrors=this._getValue(this._options.suppressErrors,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!1),this.unique=this._getValue(this._options.unique,!0),this.onlyDirectories&&(this.onlyFiles=!1),this.stats&&(this.objectMode=!0)}_getValue(t,n){return t===void 0?n:t}_getFileSystemMethods(t={}){return Object.assign(Object.assign({},od.DEFAULT_FILE_SYSTEM_ADAPTER),t)}};od.default=cS});var mS=k((TOe,RL)=>{"use strict";var AL=_M(),kL=kM(),dQ=wL(),lQ=CL(),uQ=PL(),dS=_L(),Fo=Mr();async function lS(e,t){id(e);let n=uS(e,dQ.default,t),r=await Promise.all(n);return Fo.array.flatten(r)}(function(e){function t(a,i){id(a);let l=uS(a,uQ.default,i);return Fo.array.flatten(l)}e.sync=t;function n(a,i){id(a);let l=uS(a,lQ.default,i);return Fo.stream.merge(l)}e.stream=n;function r(a,i){id(a);let l=kL.transform([].concat(a)),d=new dS.default(i);return AL.generate(l,d)}e.generateTasks=r;function s(a,i){id(a);let l=new dS.default(i);return Fo.pattern.isDynamicPattern(a,l)}e.isDynamicPattern=s;function o(a){return id(a),Fo.path.escape(a)}e.escapePath=o})(lS||(lS={}));function uS(e,t,n){let r=kL.transform([].concat(e)),s=new dS.default(n),o=AL.generate(r,s),a=new t(s);return o.map(a.read,a)}function id(e){if(![].concat(e).every(r=>Fo.string.isString(r)&&!Fo.string.isEmpty(r)))throw new TypeError("Patterns must be a string (non empty) or an array of strings")}RL.exports=lS});var NL=k(Mo=>{"use strict";var{promisify:mQ}=require("util"),IL=require("fs");async function fS(e,t,n){if(typeof n!="string")throw new TypeError(`Expected a string, got ${typeof n}`);try{return(await mQ(IL[e])(n))[t]()}catch(r){if(r.code==="ENOENT")return!1;throw r}}function hS(e,t,n){if(typeof n!="string")throw new TypeError(`Expected a string, got ${typeof n}`);try{return IL[e](n)[t]()}catch(r){if(r.code==="ENOENT")return!1;throw r}}Mo.isFile=fS.bind(null,"stat","isFile");Mo.isDirectory=fS.bind(null,"stat","isDirectory");Mo.isSymlink=fS.bind(null,"lstat","isSymbolicLink");Mo.isFileSync=hS.bind(null,"statSync","isFile");Mo.isDirectorySync=hS.bind(null,"statSync","isDirectory");Mo.isSymlinkSync=hS.bind(null,"lstatSync","isSymbolicLink")});var OL=k((DOe,pS)=>{"use strict";var Lo=require("path"),TL=NL(),vL=e=>e.length>1?`{${e.join(",")}}`:e[0],DL=(e,t)=>{let n=e[0]==="!"?e.slice(1):e;return Lo.isAbsolute(n)?n:Lo.join(t,n)},fQ=(e,t)=>Lo.extname(e)?`**/${e}`:`**/${e}.${vL(t)}`,BL=(e,t)=>{if(t.files&&!Array.isArray(t.files))throw new TypeError(`Expected \`files\` to be of type \`Array\` but received type \`${typeof t.files}\``);if(t.extensions&&!Array.isArray(t.extensions))throw new TypeError(`Expected \`extensions\` to be of type \`Array\` but received type \`${typeof t.extensions}\``);return t.files&&t.extensions?t.files.map(n=>Lo.posix.join(e,fQ(n,t.extensions))):t.files?t.files.map(n=>Lo.posix.join(e,`**/${n}`)):t.extensions?[Lo.posix.join(e,`**/*.${vL(t.extensions)}`)]:[Lo.posix.join(e,"**")]};pS.exports=async(e,t)=>{if(t={cwd:process.cwd(),...t},typeof t.cwd!="string")throw new TypeError(`Expected \`cwd\` to be of type \`string\` but received type \`${typeof t.cwd}\``);let n=await Promise.all([].concat(e).map(async r=>await TL.isDirectory(DL(r,t.cwd))?BL(r,t):r));return[].concat.apply([],n)};pS.exports.sync=(e,t)=>{if(t={cwd:process.cwd(),...t},typeof t.cwd!="string")throw new TypeError(`Expected \`cwd\` to be of type \`string\` but received type \`${typeof t.cwd}\``);let n=[].concat(e).map(r=>TL.isDirectorySync(DL(r,t.cwd))?BL(r,t):r);return[].concat.apply([],n)}});var HL=k((BOe,jL)=>{function FL(e){return Array.isArray(e)?e:[e]}var zL="",ML=" ",yS="\\",hQ=/^\s+$/,pQ=/(?:[^\\]|^)\\$/,yQ=/^\\!/,gQ=/^\\#/,EQ=/\r?\n/g,xQ=/^\.*\/|^\.+$/,gS="/",$L="node-ignore";typeof Symbol<"u"&&($L=Symbol.for("node-ignore"));var LL=$L,SQ=(e,t,n)=>Object.defineProperty(e,t,{value:n}),wQ=/([0-z])-([0-z])/g,qL=()=>!1,CQ=e=>e.replace(wQ,(t,n,r)=>n.charCodeAt(0)<=r.charCodeAt(0)?t:zL),bQ=e=>{let{length:t}=e;return e.slice(0,t-t%2)},PQ=[[/\\?\s+$/,e=>e.indexOf("\\")===0?ML:zL],[/\\\s/g,()=>ML],[/[\\$.|*+(){^]/g,e=>`\\${e}`],[/(?!\\)\?/g,()=>"[^/]"],[/^\//,()=>"^"],[/\//g,()=>"\\/"],[/^\^*\\\*\\\*\\\//,()=>"^(?:.*\\/)?"],[/^(?=[^^])/,function(){return/\/(?!$)/.test(this)?"^":"(?:^|\\/)"}],[/\\\/\\\*\\\*(?=\\\/|$)/g,(e,t,n)=>t+6<n.length?"(?:\\/[^\\/]+)*":"\\/.+"],[/(^|[^\\]+)(\\\*)+(?=.+)/g,(e,t,n)=>{let r=n.replace(/\\\*/g,"[^\\/]*");return t+r}],[/\\\\\\(?=[$.|*+(){^])/g,()=>yS],[/\\\\/g,()=>yS],[/(\\)?\[([^\]/]*?)(\\*)($|\])/g,(e,t,n,r,s)=>t===yS?`\\[${n}${bQ(r)}${s}`:s==="]"&&r.length%2===0?`[${CQ(n)}${r}]`:"[]"],[/(?:[^*])$/,e=>/\/$/.test(e)?`${e}$`:`${e}(?=$|\\/$)`],[/(\^|\\\/)?\\\*$/,(e,t)=>`${t?`${t}[^/]+`:"[^/]*"}(?=$|\\/$)`]],UL=Object.create(null),_Q=(e,t)=>{let n=UL[e];return n||(n=PQ.reduce((r,s)=>r.replace(s[0],s[1].bind(e)),e),UL[e]=n),t?new RegExp(n,"i"):new RegExp(n)},SS=e=>typeof e=="string",AQ=e=>e&&SS(e)&&!hQ.test(e)&&!pQ.test(e)&&e.indexOf("#")!==0,kQ=e=>e.split(EQ),ES=class{constructor(t,n,r,s){this.origin=t,this.pattern=n,this.negative=r,this.regex=s}},RQ=(e,t)=>{let n=e,r=!1;e.indexOf("!")===0&&(r=!0,e=e.substr(1)),e=e.replace(yQ,"!").replace(gQ,"#");let s=_Q(e,t);return new ES(n,e,r,s)},IQ=(e,t)=>{throw new t(e)},Ur=(e,t,n)=>SS(e)?e?Ur.isNotRelative(e)?n(`path should be a \`path.relative()\`d string, but got "${t}"`,RangeError):!0:n("path must not be empty",TypeError):n(`path must be a string, but got \`${t}\``,TypeError),GL=e=>xQ.test(e);Ur.isNotRelative=GL;Ur.convert=e=>e;var xS=class{constructor({ignorecase:t=!0,ignoreCase:n=t,allowRelativePaths:r=!1}={}){SQ(this,LL,!0),this._rules=[],this._ignoreCase=n,this._allowRelativePaths=r,this._initCache()}_initCache(){this._ignoreCache=Object.create(null),this._testCache=Object.create(null)}_addPattern(t){if(t&&t[LL]){this._rules=this._rules.concat(t._rules),this._added=!0;return}if(AQ(t)){let n=RQ(t,this._ignoreCase);this._added=!0,this._rules.push(n)}}add(t){return this._added=!1,FL(SS(t)?kQ(t):t).forEach(this._addPattern,this),this._added&&this._initCache(),this}addPattern(t){return this.add(t)}_testOne(t,n){let r=!1,s=!1;return this._rules.forEach(o=>{let{negative:a}=o;if(s===a&&r!==s||a&&!r&&!s&&!n)return;o.regex.test(t)&&(r=!a,s=a)}),{ignored:r,unignored:s}}_test(t,n,r,s){let o=t&&Ur.convert(t);return Ur(o,t,this._allowRelativePaths?qL:IQ),this._t(o,n,r,s)}_t(t,n,r,s){if(t in n)return n[t];if(s||(s=t.split(gS)),s.pop(),!s.length)return n[t]=this._testOne(t,r);let o=this._t(s.join(gS)+gS,n,r,s);return n[t]=o.ignored?o:this._testOne(t,r)}ignores(t){return this._test(t,this._ignoreCache,!1).ignored}createFilter(){return t=>!this.ignores(t)}filter(t){return FL(t).filter(this.createFilter())}test(t){return this._test(t,this._testCache,!0)}},nh=e=>new xS(e),NQ=e=>Ur(e&&Ur.convert(e),e,qL);nh.isPathValid=NQ;nh.default=nh;jL.exports=nh;if(typeof process<"u"&&(process.env&&process.env.IGNORE_TEST_WIN32||process.platform==="win32")){let e=n=>/^\\\\\?\\/.test(n)||/["<>|\u0000-\u001F]+/u.test(n)?n:n.replace(/\\/g,"/");Ur.convert=e;let t=/^[a-z]:\//i;Ur.isNotRelative=n=>t.test(n)||GL(n)}});var VL=k((OOe,KL)=>{"use strict";KL.exports=e=>{let t=/^\\\\\?\\/.test(e),n=/[^\u0000-\u0080]+/.test(e);return t||n?e:e.replace(/\\/g,"/")}});var e1=k((FOe,wS)=>{"use strict";var{promisify:TQ}=require("util"),WL=require("fs"),zr=require("path"),YL=mS(),vQ=HL(),wl=VL(),XL=["**/node_modules/**","**/flow-typed/**","**/coverage/**","**/.git"],DQ=TQ(WL.readFile),BQ=e=>t=>t.startsWith("!")?"!"+zr.posix.join(e,t.slice(1)):zr.posix.join(e,t),OQ=(e,t)=>{let n=wl(zr.relative(t.cwd,zr.dirname(t.fileName)));return e.split(/\r?\n/).filter(Boolean).filter(r=>!r.startsWith("#")).map(BQ(n))},QL=e=>{let t=vQ();for(let n of e)t.add(OQ(n.content,{cwd:n.cwd,fileName:n.filePath}));return t},FQ=(e,t)=>{if(e=wl(e),zr.isAbsolute(t)){if(wl(t).startsWith(e))return t;throw new Error(`Path ${t} is not in cwd ${e}`)}return zr.join(e,t)},ZL=(e,t)=>n=>e.ignores(wl(zr.relative(t,FQ(t,n.path||n)))),MQ=async(e,t)=>{let n=zr.join(t,e),r=await DQ(n,"utf8");return{cwd:t,filePath:n,content:r}},LQ=(e,t)=>{let n=zr.join(t,e),r=WL.readFileSync(n,"utf8");return{cwd:t,filePath:n,content:r}},JL=({ignore:e=[],cwd:t=wl(process.cwd())}={})=>({ignore:e,cwd:t});wS.exports=async e=>{e=JL(e);let t=await YL("**/.gitignore",{ignore:XL.concat(e.ignore),cwd:e.cwd}),n=await Promise.all(t.map(s=>MQ(s,e.cwd))),r=QL(n);return ZL(r,e.cwd)};wS.exports.sync=e=>{e=JL(e);let n=YL.sync("**/.gitignore",{ignore:XL.concat(e.ignore),cwd:e.cwd}).map(s=>LQ(s,e.cwd)),r=QL(n);return ZL(r,e.cwd)}});var n1=k((MOe,t1)=>{"use strict";var{Transform:UQ}=require("stream"),rh=class extends UQ{constructor(){super({objectMode:!0})}},CS=class extends rh{constructor(t){super(),this._filter=t}_transform(t,n,r){this._filter(t)&&this.push(t),r()}},bS=class extends rh{constructor(){super(),this._pushed=new Set}_transform(t,n,r){this._pushed.has(t)||(this.push(t),this._pushed.add(t)),r()}};t1.exports={FilterStream:CS,UniqueStream:bS}});var a1=k((LOe,Uo)=>{"use strict";var s1=require("fs"),sh=GO(),zQ=NE(),oh=mS(),ih=OL(),PS=e1(),{FilterStream:$Q,UniqueStream:qQ}=n1(),o1=()=>!1,r1=e=>e[0]==="!",GQ=e=>{if(!e.every(t=>typeof t=="string"))throw new TypeError("Patterns must be a string or an array of strings")},jQ=(e={})=>{if(!e.cwd)return;let t;try{t=s1.statSync(e.cwd)}catch{return}if(!t.isDirectory())throw new Error("The `cwd` option must be a path to a directory")},HQ=e=>e.stats instanceof s1.Stats?e.path:e,ah=(e,t)=>{e=sh([].concat(e)),GQ(e),jQ(t);let n=[];t={ignore:[],expandDirectories:!0,...t};for(let[r,s]of e.entries()){if(r1(s))continue;let o=e.slice(r).filter(i=>r1(i)).map(i=>i.slice(1)),a={...t,ignore:t.ignore.concat(o)};n.push({pattern:s,options:a})}return n},KQ=(e,t)=>{let n={};return e.options.cwd&&(n.cwd=e.options.cwd),Array.isArray(e.options.expandDirectories)?n={...n,files:e.options.expandDirectories}:typeof e.options.expandDirectories=="object"&&(n={...n,...e.options.expandDirectories}),t(e.pattern,n)},_S=(e,t)=>e.options.expandDirectories?KQ(e,t):[e.pattern],i1=e=>e&&e.gitignore?PS.sync({cwd:e.cwd,ignore:e.ignore}):o1,AS=e=>t=>{let{options:n}=e;return n.ignore&&Array.isArray(n.ignore)&&n.expandDirectories&&(n.ignore=ih.sync(n.ignore)),{pattern:t,options:n}};Uo.exports=async(e,t)=>{let n=ah(e,t),r=async()=>t&&t.gitignore?PS({cwd:t.cwd,ignore:t.ignore}):o1,s=async()=>{let l=await Promise.all(n.map(async d=>{let c=await _S(d,ih);return Promise.all(c.map(AS(d)))}));return sh(...l)},[o,a]=await Promise.all([r(),s()]),i=await Promise.all(a.map(l=>oh(l.pattern,l.options)));return sh(...i).filter(l=>!o(HQ(l)))};Uo.exports.sync=(e,t)=>{let n=ah(e,t),r=[];for(let a of n){let i=_S(a,ih.sync).map(AS(a));r.push(...i)}let s=i1(t),o=[];for(let a of r)o=sh(o,oh.sync(a.pattern,a.options));return o.filter(a=>!s(a))};Uo.exports.stream=(e,t)=>{let n=ah(e,t),r=[];for(let i of n){let l=_S(i,ih.sync).map(AS(i));r.push(...l)}let s=i1(t),o=new $Q(i=>!s(i)),a=new qQ;return zQ(r.map(i=>oh.stream(i.pattern,i.options))).pipe(o).pipe(a)};Uo.exports.generateGlobTasks=ah;Uo.exports.hasMagic=(e,t)=>[].concat(e).some(n=>oh.isDynamicPattern(n,t));Uo.exports.gitignore=PS});var Cl=require("path"),c1=require("fs"),d1=require("fs/promises"),l1=require("stream"),$r=cn(Ah());var kw=async e=>{let t=(e==null?void 0:e.Bucket)||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),Z3(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!Q3(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},W3=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,Y3=/(\d+\.){3}\d+/,X3=/\.\./;var Q3=e=>W3.test(e)&&!Y3.test(e)&&!X3.test(e),Z3=e=>{let[t,n,r,s,o,a]=e.split(":"),i=t==="arn"&&e.split(":").length>=6,l=[t,n,r,o,a].filter(Boolean).length===5;if(i&&!l)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return t==="arn"&&!!n&&!!r&&!!o&&!!a};var Rw=(e,t,n)=>{let r=async()=>{let s=n[e]??n[t];return typeof s=="function"?s():s};return e==="endpoint"||t==="endpoint"?async()=>{let s=await r();if(s&&typeof s=="object"){if("url"in s)return s.url.href;if("hostname"in s){let{protocol:o,hostname:a,port:i,path:l}=s;return`${o}//${a}${i?":"+i:""}${l}`}}return s}:r};var Iw=async(e,t,n,r)=>{let s=await J3(e,t,n);if(typeof n.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return n.endpointProvider(s,r)},J3=async(e,t,n)=>{var o;let r={},s=((o=t==null?void 0:t.getEndpointParameterInstructions)==null?void 0:o.call(t))||{};for(let[a,i]of Object.entries(s))switch(i.type){case"staticContextParams":r[a]=i.value;break;case"contextParams":r[a]=e[i.name];break;case"clientContextParams":case"builtInParams":r[a]=await Rw(i.name,a,n)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(i))}return Object.keys(s).length===0&&Object.assign(r,n),String(n.serviceId).toLowerCase()==="s3"&&await kw(r),r};function Nw(e){let t={};if(e=e.replace(/^\?/,""),e)for(let n of e.split("&")){let[r,s=null]=n.split("=");r=decodeURIComponent(r),s&&(s=decodeURIComponent(s)),r in t?Array.isArray(t[r])?t[r].push(s):t[r]=[t[r],s]:t[r]=s}return t}var qt=e=>{if(typeof e=="string")return qt(new URL(e));let{hostname:t,pathname:n,port:r,protocol:s,search:o}=e,a;return o&&(a=Nw(o)),{hostname:t,port:r?parseInt(r):void 0,protocol:s,path:n,query:a}};var Tw=e=>typeof e=="object"?"url"in e?qt(e.url):e:qt(e);var vw=({config:e,instructions:t})=>(n,r)=>async s=>{var i,l;let o=await Iw(s.input,{getEndpointParameterInstructions(){return t}},{...e},r);r.endpointV2=o,r.authSchemes=(i=o.properties)==null?void 0:i.authSchemes;let a=(l=r.authSchemes)==null?void 0:l[0];return a&&(r.signing_region=a.signingRegion,r.signing_service=a.signingName),n({...s})};var Dw=(e,t)=>(n,r)=>async s=>{let{response:o}=await n(s);try{let a=await t(o,e);return{response:o,output:a}}catch(a){if(Object.defineProperty(a,"$response",{value:o}),!("$metadata"in a)){let i="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";a.message+=`
  `+i}throw a}};var Bw=(e,t)=>(n,r)=>async s=>{var i;let o=(i=r.endpointV2)!=null&&i.url&&e.urlParser?async()=>e.urlParser(r.endpointV2.url):e.endpoint;if(!o)throw new Error("No valid endpoint provider available.");let a=await t(s.input,{...e,endpoint:o});return n({...s,request:a})};var eU={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},Dh={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function C(e,t,n){return{applyToStack:r=>{r.add(Dw(e,n),eU),r.add(Bw(e,t),Dh)}}}var tU={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:Dh.name},b=(e,t)=>({applyToStack:n=>{n.addRelativeTo(vw({config:e,instructions:t}),tU)}});var St=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t};var Wr=e=>{let t=e.tls??!0,{endpoint:n}=e,r=n!=null?async()=>Tw(await St(n)()):void 0;return{...e,endpoint:r,tls:t,isCustomEndpoint:!!n,useDualstackEndpoint:St(e.useDualstackEndpoint??!1),useFipsEndpoint:St(e.useFipsEndpoint??!1)}};var Fn=class{trace(){}debug(){}info(){}warn(){}error(){}};var Wo=()=>{let e=[],t=[],n=new Set,r=c=>c.sort((u,m)=>Ow[m.step]-Ow[u.step]||Fw[m.priority||"normal"]-Fw[u.priority||"normal"]),s=c=>{let u=!1,m=S=>S.name&&S.name===c?(u=!0,n.delete(c),!1):!0;return e=e.filter(m),t=t.filter(m),u},o=c=>{let u=!1,m=S=>S.middleware===c?(u=!0,S.name&&n.delete(S.name),!1):!0;return e=e.filter(m),t=t.filter(m),u},a=c=>(e.forEach(u=>{c.add(u.middleware,{...u})}),t.forEach(u=>{c.addRelativeTo(u.middleware,{...u})}),c),i=c=>{let u=[];return c.before.forEach(m=>{m.before.length===0&&m.after.length===0?u.push(m):u.push(...i(m))}),u.push(c),c.after.reverse().forEach(m=>{m.before.length===0&&m.after.length===0?u.push(m):u.push(...i(m))}),u},l=(c=!1)=>{let u=[],m=[],S={};return e.forEach(R=>{let D={...R,before:[],after:[]};D.name&&(S[D.name]=D),u.push(D)}),t.forEach(R=>{let D={...R,before:[],after:[]};D.name&&(S[D.name]=D),m.push(D)}),m.forEach(R=>{if(R.toMiddleware){let D=S[R.toMiddleware];if(D===void 0){if(c)return;throw new Error(`${R.toMiddleware} is not found when adding ${R.name||"anonymous"} middleware ${R.relation} ${R.toMiddleware}`)}R.relation==="after"&&D.after.push(R),R.relation==="before"&&D.before.push(R)}}),r(u).map(i).reduce((R,D)=>(R.push(...D),R),[])},d={add:(c,u={})=>{let{name:m,override:S}=u,x={step:"initialize",priority:"normal",middleware:c,...u};if(m){if(n.has(m)){if(!S)throw new Error(`Duplicate middleware name '${m}'`);let R=e.findIndex(X=>X.name===m),D=e[R];if(D.step!==x.step||D.priority!==x.priority)throw new Error(`"${m}" middleware with ${D.priority} priority in ${D.step} step cannot be overridden by same-name middleware with ${x.priority} priority in ${x.step} step.`);e.splice(R,1)}n.add(m)}e.push(x)},addRelativeTo:(c,u)=>{let{name:m,override:S}=u,x={middleware:c,...u};if(m){if(n.has(m)){if(!S)throw new Error(`Duplicate middleware name '${m}'`);let R=t.findIndex(X=>X.name===m),D=t[R];if(D.toMiddleware!==x.toMiddleware||D.relation!==x.relation)throw new Error(`"${m}" middleware ${D.relation} "${D.toMiddleware}" middleware cannot be overridden by same-name middleware ${x.relation} "${x.toMiddleware}" middleware.`);t.splice(R,1)}n.add(m)}t.push(x)},clone:()=>a(Wo()),use:c=>{c.applyToStack(d)},remove:c=>typeof c=="string"?s(c):o(c),removeByTag:c=>{let u=!1,m=S=>{let{tags:x,name:R}=S;return x&&x.includes(c)?(R&&n.delete(R),u=!0,!1):!0};return e=e.filter(m),t=t.filter(m),u},concat:c=>{let u=a(Wo());return u.use(c),u},applyToStack:a,identify:()=>l(!0).map(c=>c.name+": "+(c.tags||[]).join(",")),resolve:(c,u)=>{for(let m of l().map(S=>S.middleware).reverse())c=m(c,u);return c}};return d},Ow={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},Fw={high:3,normal:2,low:1};var Mn=class{constructor(t){this.middlewareStack=Wo(),this.config=t}send(t,n,r){let s=typeof n!="function"?n:void 0,o=typeof n=="function"?n:r,a=t.resolveMiddleware(this.middlewareStack,this.config,s);if(o)a(t).then(i=>o(null,i.output),i=>o(i)).catch(()=>{});else return a(t).then(i=>i.output)}destroy(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}};var w=class{constructor(){this.middlewareStack=Wo()}};var xe="***SensitiveInformation***";var _e=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}};var nU=e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&Gw.warn(qw(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},rU=Math.ceil(34028234663852886e22),Mw=e=>{let t=nU(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>rU)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},Yo=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}};var Ul=e=>Bh(e,32),Lw=e=>Bh(e,16),Uw=e=>Bh(e,8),Bh=(e,t)=>{let n=Yo(e);if(n!==void 0&&sU(n,t)!==n)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return n},sU=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},W=(e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},de=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},y=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return Gw.warn(qw(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},ld=e=>{if(e==null)return;let t=de(e),n=Object.entries(t).filter(([,r])=>r!=null).map(([r])=>r);if(n.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(n.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${n} were not null.`);return t};var zw=e=>Mw(typeof e=="string"?ud(e):e),oU=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,ud=e=>{let t=e.match(oU);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)};var ft=e=>Yo(typeof e=="string"?ud(e):e);var Ie=e=>Ul(typeof e=="string"?ud(e):e),md=e=>Lw(typeof e=="string"?ud(e):e),$w=e=>Uw(typeof e=="string"?ud(e):e),qw=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),Gw={warn:console.warn};var iU=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Fh=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Lt(e){let t=e.getUTCFullYear(),n=e.getUTCMonth(),r=e.getUTCDay(),s=e.getUTCDate(),o=e.getUTCHours(),a=e.getUTCMinutes(),i=e.getUTCSeconds(),l=s<10?`0${s}`:`${s}`,d=o<10?`0${o}`:`${o}`,c=a<10?`0${a}`:`${a}`,u=i<10?`0${i}`:`${i}`;return`${iU[r]}, ${l} ${Fh[n]} ${t} ${d}:${c}:${u} GMT`}var KJ=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/);var aU=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),_t=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=aU.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[n,r,s,o,a,i,l,d,c]=t,u=md(fd(r)),m=Yr(s,"month",1,12),S=Yr(o,"day",1,31),x=zl(u,m,S,{hours:a,minutes:i,seconds:l,fractionalMilliseconds:d});return c.toUpperCase()!="Z"&&x.setTime(x.getTime()-EU(c)),x},cU=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),dU=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),lU=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),Xr=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=cU.exec(e);if(t){let[n,r,s,o,a,i,l,d]=t;return zl(md(fd(o)),Oh(s),Yr(r,"day",1,31),{hours:a,minutes:i,seconds:l,fractionalMilliseconds:d})}if(t=dU.exec(e),t){let[n,r,s,o,a,i,l,d]=t;return fU(zl(uU(o),Oh(s),Yr(r,"day",1,31),{hours:a,minutes:i,seconds:l,fractionalMilliseconds:d}))}if(t=lU.exec(e),t){let[n,r,s,o,a,i,l,d]=t;return zl(md(fd(d)),Oh(r),Yr(s.trimLeft(),"day",1,31),{hours:o,minutes:a,seconds:i,fractionalMilliseconds:l})}throw new TypeError("Invalid RFC-7231 date-time value")};var zl=(e,t,n,r)=>{let s=t-1;return pU(e,s,n),new Date(Date.UTC(e,s,n,Yr(r.hours,"hour",0,23),Yr(r.minutes,"minute",0,59),Yr(r.seconds,"seconds",0,60),gU(r.fractionalMilliseconds)))},uU=e=>{let t=new Date().getUTCFullYear(),n=Math.floor(t/100)*100+md(fd(e));return n<t?n+100:n},mU=50*365*24*60*60*1e3,fU=e=>e.getTime()-new Date().getTime()>mU?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,Oh=e=>{let t=Fh.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},hU=[31,28,31,30,31,30,31,31,30,31,30,31],pU=(e,t,n)=>{let r=hU[t];if(t===1&&yU(e)&&(r=29),n>r)throw new TypeError(`Invalid day for ${Fh[t]} in ${e}: ${n}`)},yU=e=>e%4===0&&(e%100!==0||e%400===0),Yr=(e,t,n,r)=>{let s=$w(fd(e));if(s<n||s>r)throw new TypeError(`${t} must be between ${n} and ${r}, inclusive`);return s},gU=e=>e==null?0:zw("0."+e)*1e3,EU=e=>{let t=e[0],n=1;if(t=="+")n=1;else if(t=="-")n=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);let r=Number(e.substring(1,3)),s=Number(e.substring(4,6));return n*(r*60+s)*60*1e3},fd=e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)};var mn=class extends Error{constructor(t){super(t.message),Object.setPrototypeOf(this,mn.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}},we=(e,t={})=>{Object.entries(t).filter(([,r])=>r!==void 0).forEach(([r,s])=>{(e[r]==null||e[r]==="")&&(e[r]=s)});let n=e.message||e.Message||"UnknownError";return e.message=n,delete e.Message,e};var z=({output:e,parsedBody:t,exceptionCtor:n,errorCode:r})=>{let s=xU(e),o=s.httpStatusCode?s.httpStatusCode+"":void 0,a=new n({name:(t==null?void 0:t.code)||(t==null?void 0:t.Code)||r||o||"UnknownError",$fault:"client",$metadata:s});throw we(a,t)},xU=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]});var Qr=e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}};var jw=!1,Zr=e=>{e&&!jw&&parseInt(e.substring(1,e.indexOf(".")))<14&&(jw=!0)};function Xo(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}var te=e=>Array.isArray(e)?e:[e];var hd=e=>{let t="#text";for(let n in e)e.hasOwnProperty(n)&&e[n][t]!==void 0?e[n]=e[n][t]:typeof e[n]=="object"&&e[n]!==null&&(e[n]=hd(e[n]));return e};var Mh=function(){let e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,[null,...arguments]),n=new t;return Object.setPrototypeOf(n,e.prototype),n};Mh.prototype=Object.create(String.prototype,{constructor:{value:Mh,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf(Mh,String);function ro(e,t,n){let r,s,o;if(typeof t>"u"&&typeof n>"u")r={},o=e;else{if(r=e,typeof t=="function")return s=t,o=n,SU(r,s,o);o=t}for(let a of Object.keys(o)){if(!Array.isArray(o[a])){r[a]=o[a];continue}wU(r,null,o,a)}return r}var SU=(e,t,n)=>ro(e,Object.entries(n).reduce((r,[s,o])=>(Array.isArray(o)?r[s]=o:typeof o=="function"?r[s]=[t,o()]:r[s]=[t,o],r),{})),wU=(e,t,n,r)=>{if(t!==null){let a=n[r];typeof a=="function"&&(a=[,a]);let[i=CU,l=bU,d=r]=a;(typeof i=="function"&&i(t[d])||typeof i!="function"&&i)&&(e[r]=l(t[d]));return}let[s,o]=n[r];if(typeof o=="function"){let a,i=s===void 0&&(a=o())!=null,l=typeof s=="function"&&!!s(void 0)||typeof s!="function"&&!!s;i?e[r]=a:l&&(e[r]=o())}else{let a=s===void 0&&o!=null,i=typeof s=="function"&&!!s(o)||typeof s!="function"&&!!s;(a||i)&&(e[r]=o)}},CU=e=>e!=null,bU=e=>e;var O=(e,t,n,r,s,o)=>{if(t!=null&&t[n]!==void 0){let a=r();if(a.length<=0)throw new Error("Empty value provided for input HTTP label: "+n+".");e=e.replace(s,o?a.split("/").map(i=>Xo(i)).join("/"):Xo(a))}else throw new Error("No value provided for input HTTP label: "+n+".");return e};var Lh;(function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"})(Lh||(Lh={}));var T=class{constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/"}static isInstance(t){if(!t)return!1;let n=t;return"method"in n&&"protocol"in n&&"hostname"in n&&"path"in n&&typeof n.query=="object"&&typeof n.headers=="object"}clone(){let t=new T({...this,headers:{...this.headers}});return t.query&&(t.query=PU(t.query)),t}};function PU(e){return Object.keys(e).reduce((t,n)=>{let r=e[n];return{...t,[n]:Array.isArray(r)?[...r]:r}},{})}var fn=class{constructor(t){this.statusCode=t.statusCode,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;let n=t;return typeof n.statusCode=="number"&&typeof n.headers=="object"}};function Hw(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}function Kw(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function Vw(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}var ur=class{constructor(t){this.value=t}toString(){return Vw(""+this.value)}};var h=class{static of(t,n,r){let s=new h(t);return n!==void 0&&s.addChildNode(new ur(n)),r!==void 0&&s.withName(r),s}constructor(t,n=[]){this.name=t,this.children=n,this.attributes={}}withName(t){return this.name=t,this}addAttribute(t,n){return this.attributes[t]=n,this}addChildNode(t){return this.children.push(t),this}removeAttribute(t){return delete this.attributes[t],this}toString(){let t=!!this.children.length,n=`<${this.name}`,r=this.attributes;for(let s of Object.keys(r)){let o=r[s];typeof o<"u"&&o!==null&&(n+=` ${s}="${Kw(""+o)}"`)}return n+=t?`>${this.children.map(s=>s.toString()).join("")}</${this.name}>`:"/>"}};var bb=cn(Yh());var M=class extends mn{constructor(t){super(t),Object.setPrototypeOf(this,M.prototype)}};var Qo=class extends M{constructor(t){super({name:"NoSuchUpload",$fault:"client",...t}),this.name="NoSuchUpload",this.$fault="client",Object.setPrototypeOf(this,Qo.prototype)}};var Zo=class extends M{constructor(t){super({name:"ObjectNotInActiveTierError",$fault:"client",...t}),this.name="ObjectNotInActiveTierError",this.$fault="client",Object.setPrototypeOf(this,Zo.prototype)}},Jo=class extends M{constructor(t){super({name:"BucketAlreadyExists",$fault:"client",...t}),this.name="BucketAlreadyExists",this.$fault="client",Object.setPrototypeOf(this,Jo.prototype)}},ei=class extends M{constructor(t){super({name:"BucketAlreadyOwnedByYou",$fault:"client",...t}),this.name="BucketAlreadyOwnedByYou",this.$fault="client",Object.setPrototypeOf(this,ei.prototype)}};var $l;(function(e){e.visit=(t,n)=>t.Prefix!==void 0?n.Prefix(t.Prefix):t.Tag!==void 0?n.Tag(t.Tag):t.And!==void 0?n.And(t.And):n._(t.$unknown[0],t.$unknown[1])})($l||($l={}));var ql;(function(e){e.visit=(t,n)=>t.Prefix!==void 0?n.Prefix(t.Prefix):t.Tag!==void 0?n.Tag(t.Tag):t.ObjectSizeGreaterThan!==void 0?n.ObjectSizeGreaterThan(t.ObjectSizeGreaterThan):t.ObjectSizeLessThan!==void 0?n.ObjectSizeLessThan(t.ObjectSizeLessThan):t.And!==void 0?n.And(t.And):n._(t.$unknown[0],t.$unknown[1])})(ql||(ql={}));var Gl;(function(e){e.visit=(t,n)=>t.Prefix!==void 0?n.Prefix(t.Prefix):t.Tag!==void 0?n.Tag(t.Tag):t.AccessPointArn!==void 0?n.AccessPointArn(t.AccessPointArn):t.And!==void 0?n.And(t.And):n._(t.$unknown[0],t.$unknown[1])})(Gl||(Gl={}));var jl;(function(e){e.visit=(t,n)=>t.Prefix!==void 0?n.Prefix(t.Prefix):t.Tag!==void 0?n.Tag(t.Tag):t.And!==void 0?n.And(t.And):n._(t.$unknown[0],t.$unknown[1])})(jl||(jl={}));var ti=class extends M{constructor(t){super({name:"InvalidObjectState",$fault:"client",...t}),this.name="InvalidObjectState",this.$fault="client",Object.setPrototypeOf(this,ti.prototype),this.StorageClass=t.StorageClass,this.AccessTier=t.AccessTier}},ni=class extends M{constructor(t){super({name:"NoSuchKey",$fault:"client",...t}),this.name="NoSuchKey",this.$fault="client",Object.setPrototypeOf(this,ni.prototype)}};var ri=class extends M{constructor(t){super({name:"NotFound",$fault:"client",...t}),this.name="NotFound",this.$fault="client",Object.setPrototypeOf(this,ri.prototype)}};var si=class extends M{constructor(t){super({name:"NoSuchBucket",$fault:"client",...t}),this.name="NoSuchBucket",this.$fault="client",Object.setPrototypeOf(this,si.prototype)}};var PC=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:xe}}),_C=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:xe}}),AC=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:xe},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:xe}}),kC=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:xe},...e.SSEKMSKeyId&&{SSEKMSKeyId:xe},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:xe},...e.CopySourceSSECustomerKey&&{CopySourceSSECustomerKey:xe}}),RC=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:xe},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:xe}}),IC=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:xe},...e.SSEKMSKeyId&&{SSEKMSKeyId:xe},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:xe}}),Az=e=>({...e,...e.KMSMasterKeyID&&{KMSMasterKeyID:xe}}),kz=e=>({...e,...e.ApplyServerSideEncryptionByDefault&&{ApplyServerSideEncryptionByDefault:Az(e.ApplyServerSideEncryptionByDefault)}}),NC=e=>({...e,...e.Rules&&{Rules:e.Rules.map(t=>kz(t))}}),TC=e=>({...e,...e.ServerSideEncryptionConfiguration&&{ServerSideEncryptionConfiguration:NC(e.ServerSideEncryptionConfiguration)}}),Rz=e=>({...e,...e.KeyId&&{KeyId:xe}}),Iz=e=>({...e,...e.SSEKMS&&{SSEKMS:Rz(e.SSEKMS)}}),Nz=e=>({...e,...e.Encryption&&{Encryption:Iz(e.Encryption)}}),Tz=e=>({...e,...e.S3BucketDestination&&{S3BucketDestination:Nz(e.S3BucketDestination)}}),Xh=e=>({...e,...e.Destination&&{Destination:Tz(e.Destination)}}),vC=e=>({...e,...e.InventoryConfiguration&&{InventoryConfiguration:Xh(e.InventoryConfiguration)}}),DC=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:xe}}),BC=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:xe}}),OC=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:xe}}),FC=e=>({...e}),MC=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:xe}}),LC=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:xe}}),UC=e=>({...e,...e.InventoryConfigurationList&&{InventoryConfigurationList:e.InventoryConfigurationList.map(t=>Xh(t))}}),zC=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:xe}}),$C=e=>({...e,...e.ServerSideEncryptionConfiguration&&{ServerSideEncryptionConfiguration:NC(e.ServerSideEncryptionConfiguration)}}),qC=e=>({...e,...e.InventoryConfiguration&&{InventoryConfiguration:Xh(e.InventoryConfiguration)}}),GC=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:xe},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:xe}}),jC=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:xe},...e.SSEKMSKeyId&&{SSEKMSKeyId:xe},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:xe}});var oi=class extends M{constructor(t){super({name:"ObjectAlreadyInActiveTierError",$fault:"client",...t}),this.name="ObjectAlreadyInActiveTierError",this.$fault="client",Object.setPrototypeOf(this,oi.prototype)}};var HC;(function(e){e.visit=(t,n)=>t.Records!==void 0?n.Records(t.Records):t.Stats!==void 0?n.Stats(t.Stats):t.Progress!==void 0?n.Progress(t.Progress):t.Cont!==void 0?n.Cont(t.Cont):t.End!==void 0?n.End(t.End):n._(t.$unknown[0],t.$unknown[1])})(HC||(HC={}));var vz=e=>({...e,...e.KMSKeyId&&{KMSKeyId:xe}}),Dz=e=>({...e,...e.Encryption&&{Encryption:vz(e.Encryption)}}),Bz=e=>({...e,...e.S3&&{S3:Dz(e.S3)}}),Oz=e=>({...e,...e.OutputLocation&&{OutputLocation:Bz(e.OutputLocation)}}),KC=e=>({...e,...e.RestoreRequest&&{RestoreRequest:Oz(e.RestoreRequest)}});var VC=e=>({...e,...e.Payload&&{Payload:"STREAMING_CONTENT"}}),WC=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:xe}}),YC=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:xe}}),XC=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:xe}}),QC=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:xe}}),ZC=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:xe},...e.CopySourceSSECustomerKey&&{CopySourceSSECustomerKey:xe}}),JC=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:xe}});var Pb=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"x-amz-request-payer":e.RequestPayer,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/{Key+}`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1),i=O(i,e,"Key",()=>e.Key,"{Key+}",!0);let l=p({"x-id":[,"AbortMultipartUpload"],uploadId:[,W(e.UploadId,"UploadId")]}),d;return new T({protocol:r,hostname:n,port:s,method:"DELETE",headers:a,path:i,query:l,body:d})},_b=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"content-type":"application/xml","x-amz-checksum-crc32":e.ChecksumCRC32,"x-amz-checksum-crc32c":e.ChecksumCRC32C,"x-amz-checksum-sha1":e.ChecksumSHA1,"x-amz-checksum-sha256":e.ChecksumSHA256,"x-amz-request-payer":e.RequestPayer,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner,"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm,"x-amz-server-side-encryption-customer-key":e.SSECustomerKey,"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/{Key+}`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1),i=O(i,e,"Key",()=>e.Key,"{Key+}",!0);let l=p({"x-id":[,"CompleteMultipartUpload"],uploadId:[,W(e.UploadId,"UploadId")]}),d;e.MultipartUpload!==void 0&&(d=sb(e.MultipartUpload,t));let c;return e.MultipartUpload!==void 0&&(c=sb(e.MultipartUpload,t),c=c.withName("CompleteMultipartUpload"),d='<?xml version="1.0" encoding="UTF-8"?>',c.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),d+=c.toString()),new T({protocol:r,hostname:n,port:s,method:"POST",headers:a,path:i,query:l,body:d})},Ab=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"x-amz-acl":e.ACL,"cache-control":e.CacheControl,"x-amz-checksum-algorithm":e.ChecksumAlgorithm,"content-disposition":e.ContentDisposition,"content-encoding":e.ContentEncoding,"content-language":e.ContentLanguage,"content-type":e.ContentType,"x-amz-copy-source":e.CopySource,"x-amz-copy-source-if-match":e.CopySourceIfMatch,"x-amz-copy-source-if-modified-since":[()=>v(e.CopySourceIfModifiedSince),()=>Lt(e.CopySourceIfModifiedSince).toString()],"x-amz-copy-source-if-none-match":e.CopySourceIfNoneMatch,"x-amz-copy-source-if-unmodified-since":[()=>v(e.CopySourceIfUnmodifiedSince),()=>Lt(e.CopySourceIfUnmodifiedSince).toString()],expires:[()=>v(e.Expires),()=>Lt(e.Expires).toString()],"x-amz-grant-full-control":e.GrantFullControl,"x-amz-grant-read":e.GrantRead,"x-amz-grant-read-acp":e.GrantReadACP,"x-amz-grant-write-acp":e.GrantWriteACP,"x-amz-metadata-directive":e.MetadataDirective,"x-amz-tagging-directive":e.TaggingDirective,"x-amz-server-side-encryption":e.ServerSideEncryption,"x-amz-storage-class":e.StorageClass,"x-amz-website-redirect-location":e.WebsiteRedirectLocation,"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm,"x-amz-server-side-encryption-customer-key":e.SSECustomerKey,"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5,"x-amz-server-side-encryption-aws-kms-key-id":e.SSEKMSKeyId,"x-amz-server-side-encryption-context":e.SSEKMSEncryptionContext,"x-amz-server-side-encryption-bucket-key-enabled":[()=>v(e.BucketKeyEnabled),()=>e.BucketKeyEnabled.toString()],"x-amz-copy-source-server-side-encryption-customer-algorithm":e.CopySourceSSECustomerAlgorithm,"x-amz-copy-source-server-side-encryption-customer-key":e.CopySourceSSECustomerKey,"x-amz-copy-source-server-side-encryption-customer-key-md5":e.CopySourceSSECustomerKeyMD5,"x-amz-request-payer":e.RequestPayer,"x-amz-tagging":e.Tagging,"x-amz-object-lock-mode":e.ObjectLockMode,"x-amz-object-lock-retain-until-date":[()=>v(e.ObjectLockRetainUntilDate),()=>(e.ObjectLockRetainUntilDate.toISOString().split(".")[0]+"Z").toString()],"x-amz-object-lock-legal-hold":e.ObjectLockLegalHoldStatus,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner,"x-amz-source-expected-bucket-owner":e.ExpectedSourceBucketOwner,...e.Metadata!==void 0&&Object.keys(e.Metadata).reduce((c,u)=>(c[`x-amz-meta-${u.toLowerCase()}`]=e.Metadata[u],c),{})}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/{Key+}`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1),i=O(i,e,"Key",()=>e.Key,"{Key+}",!0);let l=p({"x-id":[,"CopyObject"]}),d;return new T({protocol:r,hostname:n,port:s,method:"PUT",headers:a,path:i,query:l,body:d})},kb=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"content-type":"application/xml","x-amz-acl":e.ACL,"x-amz-grant-full-control":e.GrantFullControl,"x-amz-grant-read":e.GrantRead,"x-amz-grant-read-acp":e.GrantReadACP,"x-amz-grant-write":e.GrantWrite,"x-amz-grant-write-acp":e.GrantWriteACP,"x-amz-bucket-object-lock-enabled":[()=>v(e.ObjectLockEnabledForBucket),()=>e.ObjectLockEnabledForBucket.toString()],"x-amz-object-ownership":e.ObjectOwnership}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l;e.CreateBucketConfiguration!==void 0&&(l=ib(e.CreateBucketConfiguration,t));let d;return e.CreateBucketConfiguration!==void 0&&(d=ib(e.CreateBucketConfiguration,t),l='<?xml version="1.0" encoding="UTF-8"?>',d.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),l+=d.toString()),new T({protocol:r,hostname:n,port:s,method:"PUT",headers:a,path:i,body:l})},Rb=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"x-amz-acl":e.ACL,"cache-control":e.CacheControl,"content-disposition":e.ContentDisposition,"content-encoding":e.ContentEncoding,"content-language":e.ContentLanguage,"content-type":e.ContentType,expires:[()=>v(e.Expires),()=>Lt(e.Expires).toString()],"x-amz-grant-full-control":e.GrantFullControl,"x-amz-grant-read":e.GrantRead,"x-amz-grant-read-acp":e.GrantReadACP,"x-amz-grant-write-acp":e.GrantWriteACP,"x-amz-server-side-encryption":e.ServerSideEncryption,"x-amz-storage-class":e.StorageClass,"x-amz-website-redirect-location":e.WebsiteRedirectLocation,"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm,"x-amz-server-side-encryption-customer-key":e.SSECustomerKey,"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5,"x-amz-server-side-encryption-aws-kms-key-id":e.SSEKMSKeyId,"x-amz-server-side-encryption-context":e.SSEKMSEncryptionContext,"x-amz-server-side-encryption-bucket-key-enabled":[()=>v(e.BucketKeyEnabled),()=>e.BucketKeyEnabled.toString()],"x-amz-request-payer":e.RequestPayer,"x-amz-tagging":e.Tagging,"x-amz-object-lock-mode":e.ObjectLockMode,"x-amz-object-lock-retain-until-date":[()=>v(e.ObjectLockRetainUntilDate),()=>(e.ObjectLockRetainUntilDate.toISOString().split(".")[0]+"Z").toString()],"x-amz-object-lock-legal-hold":e.ObjectLockLegalHoldStatus,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner,"x-amz-checksum-algorithm":e.ChecksumAlgorithm,...e.Metadata!==void 0&&Object.keys(e.Metadata).reduce((c,u)=>(c[`x-amz-meta-${u.toLowerCase()}`]=e.Metadata[u],c),{})}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/{Key+}`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1),i=O(i,e,"Key",()=>e.Key,"{Key+}",!0);let l=p({uploads:[,""],"x-id":[,"CreateMultipartUpload"]}),d;return new T({protocol:r,hostname:n,port:s,method:"POST",headers:a,path:i,query:l,body:d})},Ib=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l;return new T({protocol:r,hostname:n,port:s,method:"DELETE",headers:a,path:i,body:l})},Nb=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({analytics:[,""],id:[,W(e.Id,"Id")]}),d;return new T({protocol:r,hostname:n,port:s,method:"DELETE",headers:a,path:i,query:l,body:d})},Tb=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({cors:[,""]}),d;return new T({protocol:r,hostname:n,port:s,method:"DELETE",headers:a,path:i,query:l,body:d})},vb=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({encryption:[,""]}),d;return new T({protocol:r,hostname:n,port:s,method:"DELETE",headers:a,path:i,query:l,body:d})},Db=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a={},i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({"intelligent-tiering":[,""],id:[,W(e.Id,"Id")]}),d;return new T({protocol:r,hostname:n,port:s,method:"DELETE",headers:a,path:i,query:l,body:d})},Bb=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({inventory:[,""],id:[,W(e.Id,"Id")]}),d;return new T({protocol:r,hostname:n,port:s,method:"DELETE",headers:a,path:i,query:l,body:d})},Ob=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({lifecycle:[,""]}),d;return new T({protocol:r,hostname:n,port:s,method:"DELETE",headers:a,path:i,query:l,body:d})},Fb=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({metrics:[,""],id:[,W(e.Id,"Id")]}),d;return new T({protocol:r,hostname:n,port:s,method:"DELETE",headers:a,path:i,query:l,body:d})},Mb=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({ownershipControls:[,""]}),d;return new T({protocol:r,hostname:n,port:s,method:"DELETE",headers:a,path:i,query:l,body:d})},Lb=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({policy:[,""]}),d;return new T({protocol:r,hostname:n,port:s,method:"DELETE",headers:a,path:i,query:l,body:d})},Ub=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({replication:[,""]}),d;return new T({protocol:r,hostname:n,port:s,method:"DELETE",headers:a,path:i,query:l,body:d})},zb=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({tagging:[,""]}),d;return new T({protocol:r,hostname:n,port:s,method:"DELETE",headers:a,path:i,query:l,body:d})},$b=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({website:[,""]}),d;return new T({protocol:r,hostname:n,port:s,method:"DELETE",headers:a,path:i,query:l,body:d})},qb=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"x-amz-mfa":e.MFA,"x-amz-request-payer":e.RequestPayer,"x-amz-bypass-governance-retention":[()=>v(e.BypassGovernanceRetention),()=>e.BypassGovernanceRetention.toString()],"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/{Key+}`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1),i=O(i,e,"Key",()=>e.Key,"{Key+}",!0);let l=p({"x-id":[,"DeleteObject"],versionId:[,e.VersionId]}),d;return new T({protocol:r,hostname:n,port:s,method:"DELETE",headers:a,path:i,query:l,body:d})},Gb=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"content-type":"application/xml","x-amz-mfa":e.MFA,"x-amz-request-payer":e.RequestPayer,"x-amz-bypass-governance-retention":[()=>v(e.BypassGovernanceRetention),()=>e.BypassGovernanceRetention.toString()],"x-amz-expected-bucket-owner":e.ExpectedBucketOwner,"x-amz-sdk-checksum-algorithm":e.ChecksumAlgorithm}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({delete:[,""],"x-id":[,"DeleteObjects"]}),d;e.Delete!==void 0&&(d=ab(e.Delete,t));let c;return e.Delete!==void 0&&(c=ab(e.Delete,t),d='<?xml version="1.0" encoding="UTF-8"?>',c.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),d+=c.toString()),new T({protocol:r,hostname:n,port:s,method:"POST",headers:a,path:i,query:l,body:d})},jb=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/{Key+}`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1),i=O(i,e,"Key",()=>e.Key,"{Key+}",!0);let l=p({tagging:[,""],versionId:[,e.VersionId]}),d;return new T({protocol:r,hostname:n,port:s,method:"DELETE",headers:a,path:i,query:l,body:d})},Hb=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({publicAccessBlock:[,""]}),d;return new T({protocol:r,hostname:n,port:s,method:"DELETE",headers:a,path:i,query:l,body:d})},Kb=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({accelerate:[,""]}),d;return new T({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},Vb=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({acl:[,""]}),d;return new T({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},Wb=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({analytics:[,""],"x-id":[,"GetBucketAnalyticsConfiguration"],id:[,W(e.Id,"Id")]}),d;return new T({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},Yb=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({cors:[,""]}),d;return new T({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},Xb=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({encryption:[,""]}),d;return new T({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},Qb=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a={},i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({"intelligent-tiering":[,""],"x-id":[,"GetBucketIntelligentTieringConfiguration"],id:[,W(e.Id,"Id")]}),d;return new T({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},Zb=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({inventory:[,""],"x-id":[,"GetBucketInventoryConfiguration"],id:[,W(e.Id,"Id")]}),d;return new T({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},Jb=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({lifecycle:[,""]}),d;return new T({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},eP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({location:[,""]}),d;return new T({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},tP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({logging:[,""]}),d;return new T({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},nP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({metrics:[,""],"x-id":[,"GetBucketMetricsConfiguration"],id:[,W(e.Id,"Id")]}),d;return new T({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},rP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({notification:[,""]}),d;return new T({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},sP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({ownershipControls:[,""]}),d;return new T({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},oP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({policy:[,""]}),d;return new T({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},iP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({policyStatus:[,""]}),d;return new T({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},aP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({replication:[,""]}),d;return new T({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},cP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({requestPayment:[,""]}),d;return new T({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},dP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({tagging:[,""]}),d;return new T({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},lP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({versioning:[,""]}),d;return new T({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},uP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({website:[,""]}),d;return new T({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},mP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"if-match":e.IfMatch,"if-modified-since":[()=>v(e.IfModifiedSince),()=>Lt(e.IfModifiedSince).toString()],"if-none-match":e.IfNoneMatch,"if-unmodified-since":[()=>v(e.IfUnmodifiedSince),()=>Lt(e.IfUnmodifiedSince).toString()],range:e.Range,"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm,"x-amz-server-side-encryption-customer-key":e.SSECustomerKey,"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5,"x-amz-request-payer":e.RequestPayer,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner,"x-amz-checksum-mode":e.ChecksumMode}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/{Key+}`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1),i=O(i,e,"Key",()=>e.Key,"{Key+}",!0);let l=p({"x-id":[,"GetObject"],"response-cache-control":[,e.ResponseCacheControl],"response-content-disposition":[,e.ResponseContentDisposition],"response-content-encoding":[,e.ResponseContentEncoding],"response-content-language":[,e.ResponseContentLanguage],"response-content-type":[,e.ResponseContentType],"response-expires":[()=>e.ResponseExpires!==void 0,()=>Lt(e.ResponseExpires).toString()],versionId:[,e.VersionId],partNumber:[()=>e.PartNumber!==void 0,()=>e.PartNumber.toString()]}),d;return new T({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},fP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"x-amz-request-payer":e.RequestPayer,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/{Key+}`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1),i=O(i,e,"Key",()=>e.Key,"{Key+}",!0);let l=p({acl:[,""],versionId:[,e.VersionId]}),d;return new T({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},hP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"x-amz-max-parts":[()=>v(e.MaxParts),()=>e.MaxParts.toString()],"x-amz-part-number-marker":e.PartNumberMarker,"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm,"x-amz-server-side-encryption-customer-key":e.SSECustomerKey,"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5,"x-amz-request-payer":e.RequestPayer,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner,"x-amz-object-attributes":[()=>v(e.ObjectAttributes),()=>(e.ObjectAttributes||[]).map(c=>c).join(", ")]}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/{Key+}`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1),i=O(i,e,"Key",()=>e.Key,"{Key+}",!0);let l=p({attributes:[,""],versionId:[,e.VersionId]}),d;return new T({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},pP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"x-amz-request-payer":e.RequestPayer,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/{Key+}`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1),i=O(i,e,"Key",()=>e.Key,"{Key+}",!0);let l=p({"legal-hold":[,""],versionId:[,e.VersionId]}),d;return new T({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},yP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({"object-lock":[,""]}),d;return new T({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},gP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"x-amz-request-payer":e.RequestPayer,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/{Key+}`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1),i=O(i,e,"Key",()=>e.Key,"{Key+}",!0);let l=p({retention:[,""],versionId:[,e.VersionId]}),d;return new T({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},EP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner,"x-amz-request-payer":e.RequestPayer}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/{Key+}`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1),i=O(i,e,"Key",()=>e.Key,"{Key+}",!0);let l=p({tagging:[,""],versionId:[,e.VersionId]}),d;return new T({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},xP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"x-amz-request-payer":e.RequestPayer,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/{Key+}`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1),i=O(i,e,"Key",()=>e.Key,"{Key+}",!0);let l=p({torrent:[,""]}),d;return new T({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},SP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({publicAccessBlock:[,""]}),d;return new T({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},wP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l;return new T({protocol:r,hostname:n,port:s,method:"HEAD",headers:a,path:i,body:l})},CP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"if-match":e.IfMatch,"if-modified-since":[()=>v(e.IfModifiedSince),()=>Lt(e.IfModifiedSince).toString()],"if-none-match":e.IfNoneMatch,"if-unmodified-since":[()=>v(e.IfUnmodifiedSince),()=>Lt(e.IfUnmodifiedSince).toString()],range:e.Range,"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm,"x-amz-server-side-encryption-customer-key":e.SSECustomerKey,"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5,"x-amz-request-payer":e.RequestPayer,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner,"x-amz-checksum-mode":e.ChecksumMode}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/{Key+}`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1),i=O(i,e,"Key",()=>e.Key,"{Key+}",!0);let l=p({versionId:[,e.VersionId],partNumber:[()=>e.PartNumber!==void 0,()=>e.PartNumber.toString()]}),d;return new T({protocol:r,hostname:n,port:s,method:"HEAD",headers:a,path:i,query:l,body:d})},bP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({analytics:[,""],"x-id":[,"ListBucketAnalyticsConfigurations"],"continuation-token":[,e.ContinuationToken]}),d;return new T({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},PP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a={},i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({"intelligent-tiering":[,""],"x-id":[,"ListBucketIntelligentTieringConfigurations"],"continuation-token":[,e.ContinuationToken]}),d;return new T({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},_P=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({inventory:[,""],"x-id":[,"ListBucketInventoryConfigurations"],"continuation-token":[,e.ContinuationToken]}),d;return new T({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},AP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({metrics:[,""],"x-id":[,"ListBucketMetricsConfigurations"],"continuation-token":[,e.ContinuationToken]}),d;return new T({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},kP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a={"content-type":"application/xml"},i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`,l;return l="",new T({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,body:l})},RP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({uploads:[,""],delimiter:[,e.Delimiter],"encoding-type":[,e.EncodingType],"key-marker":[,e.KeyMarker],"max-uploads":[()=>e.MaxUploads!==void 0,()=>e.MaxUploads.toString()],prefix:[,e.Prefix],"upload-id-marker":[,e.UploadIdMarker]}),d;return new T({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},IP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"x-amz-request-payer":e.RequestPayer,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({delimiter:[,e.Delimiter],"encoding-type":[,e.EncodingType],marker:[,e.Marker],"max-keys":[()=>e.MaxKeys!==void 0,()=>e.MaxKeys.toString()],prefix:[,e.Prefix]}),d;return new T({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},NP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"x-amz-request-payer":e.RequestPayer,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({"list-type":[,"2"],delimiter:[,e.Delimiter],"encoding-type":[,e.EncodingType],"max-keys":[()=>e.MaxKeys!==void 0,()=>e.MaxKeys.toString()],prefix:[,e.Prefix],"continuation-token":[,e.ContinuationToken],"fetch-owner":[()=>e.FetchOwner!==void 0,()=>e.FetchOwner.toString()],"start-after":[,e.StartAfter]}),d;return new T({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},TP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({versions:[,""],delimiter:[,e.Delimiter],"encoding-type":[,e.EncodingType],"key-marker":[,e.KeyMarker],"max-keys":[()=>e.MaxKeys!==void 0,()=>e.MaxKeys.toString()],prefix:[,e.Prefix],"version-id-marker":[,e.VersionIdMarker]}),d;return new T({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},vP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"x-amz-request-payer":e.RequestPayer,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner,"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm,"x-amz-server-side-encryption-customer-key":e.SSECustomerKey,"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/{Key+}`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1),i=O(i,e,"Key",()=>e.Key,"{Key+}",!0);let l=p({"x-id":[,"ListParts"],"max-parts":[()=>e.MaxParts!==void 0,()=>e.MaxParts.toString()],"part-number-marker":[,e.PartNumberMarker],uploadId:[,W(e.UploadId,"UploadId")]}),d;return new T({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},DP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"content-type":"application/xml","x-amz-expected-bucket-owner":e.ExpectedBucketOwner,"x-amz-sdk-checksum-algorithm":e.ChecksumAlgorithm}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({accelerate:[,""]}),d;e.AccelerateConfiguration!==void 0&&(d=eb(e.AccelerateConfiguration,t));let c;return e.AccelerateConfiguration!==void 0&&(c=eb(e.AccelerateConfiguration,t),d='<?xml version="1.0" encoding="UTF-8"?>',c.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),d+=c.toString()),new T({protocol:r,hostname:n,port:s,method:"PUT",headers:a,path:i,query:l,body:d})},BP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"content-type":"application/xml","x-amz-acl":e.ACL,"content-md5":e.ContentMD5,"x-amz-sdk-checksum-algorithm":e.ChecksumAlgorithm,"x-amz-grant-full-control":e.GrantFullControl,"x-amz-grant-read":e.GrantRead,"x-amz-grant-read-acp":e.GrantReadACP,"x-amz-grant-write":e.GrantWrite,"x-amz-grant-write-acp":e.GrantWriteACP,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({acl:[,""]}),d;e.AccessControlPolicy!==void 0&&(d=Hl(e.AccessControlPolicy,t));let c;return e.AccessControlPolicy!==void 0&&(c=Hl(e.AccessControlPolicy,t),d='<?xml version="1.0" encoding="UTF-8"?>',c.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),d+=c.toString()),new T({protocol:r,hostname:n,port:s,method:"PUT",headers:a,path:i,query:l,body:d})},OP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"content-type":"application/xml","x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({analytics:[,""],id:[,W(e.Id,"Id")]}),d;e.AnalyticsConfiguration!==void 0&&(d=tb(e.AnalyticsConfiguration,t));let c;return e.AnalyticsConfiguration!==void 0&&(c=tb(e.AnalyticsConfiguration,t),d='<?xml version="1.0" encoding="UTF-8"?>',c.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),d+=c.toString()),new T({protocol:r,hostname:n,port:s,method:"PUT",headers:a,path:i,query:l,body:d})},FP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"content-type":"application/xml","content-md5":e.ContentMD5,"x-amz-sdk-checksum-algorithm":e.ChecksumAlgorithm,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({cors:[,""]}),d;e.CORSConfiguration!==void 0&&(d=ob(e.CORSConfiguration,t));let c;return e.CORSConfiguration!==void 0&&(c=ob(e.CORSConfiguration,t),d='<?xml version="1.0" encoding="UTF-8"?>',c.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),d+=c.toString()),new T({protocol:r,hostname:n,port:s,method:"PUT",headers:a,path:i,query:l,body:d})},MP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"content-type":"application/xml","content-md5":e.ContentMD5,"x-amz-sdk-checksum-algorithm":e.ChecksumAlgorithm,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({encryption:[,""]}),d;e.ServerSideEncryptionConfiguration!==void 0&&(d=Sb(e.ServerSideEncryptionConfiguration,t));let c;return e.ServerSideEncryptionConfiguration!==void 0&&(c=Sb(e.ServerSideEncryptionConfiguration,t),d='<?xml version="1.0" encoding="UTF-8"?>',c.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),d+=c.toString()),new T({protocol:r,hostname:n,port:s,method:"PUT",headers:a,path:i,query:l,body:d})},LP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a={"content-type":"application/xml"},i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({"intelligent-tiering":[,""],id:[,W(e.Id,"Id")]}),d;e.IntelligentTieringConfiguration!==void 0&&(d=cb(e.IntelligentTieringConfiguration,t));let c;return e.IntelligentTieringConfiguration!==void 0&&(c=cb(e.IntelligentTieringConfiguration,t),d='<?xml version="1.0" encoding="UTF-8"?>',c.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),d+=c.toString()),new T({protocol:r,hostname:n,port:s,method:"PUT",headers:a,path:i,query:l,body:d})},UP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"content-type":"application/xml","x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({inventory:[,""],id:[,W(e.Id,"Id")]}),d;e.InventoryConfiguration!==void 0&&(d=db(e.InventoryConfiguration,t));let c;return e.InventoryConfiguration!==void 0&&(c=db(e.InventoryConfiguration,t),d='<?xml version="1.0" encoding="UTF-8"?>',c.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),d+=c.toString()),new T({protocol:r,hostname:n,port:s,method:"PUT",headers:a,path:i,query:l,body:d})},zP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"content-type":"application/xml","x-amz-sdk-checksum-algorithm":e.ChecksumAlgorithm,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({lifecycle:[,""]}),d;e.LifecycleConfiguration!==void 0&&(d=nb(e.LifecycleConfiguration,t));let c;return e.LifecycleConfiguration!==void 0&&(c=nb(e.LifecycleConfiguration,t),c=c.withName("LifecycleConfiguration"),d='<?xml version="1.0" encoding="UTF-8"?>',c.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),d+=c.toString()),new T({protocol:r,hostname:n,port:s,method:"PUT",headers:a,path:i,query:l,body:d})},$P=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"content-type":"application/xml","content-md5":e.ContentMD5,"x-amz-sdk-checksum-algorithm":e.ChecksumAlgorithm,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({logging:[,""]}),d;e.BucketLoggingStatus!==void 0&&(d=rb(e.BucketLoggingStatus,t));let c;return e.BucketLoggingStatus!==void 0&&(c=rb(e.BucketLoggingStatus,t),d='<?xml version="1.0" encoding="UTF-8"?>',c.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),d+=c.toString()),new T({protocol:r,hostname:n,port:s,method:"PUT",headers:a,path:i,query:l,body:d})},qP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"content-type":"application/xml","x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({metrics:[,""],id:[,W(e.Id,"Id")]}),d;e.MetricsConfiguration!==void 0&&(d=lb(e.MetricsConfiguration,t));let c;return e.MetricsConfiguration!==void 0&&(c=lb(e.MetricsConfiguration,t),d='<?xml version="1.0" encoding="UTF-8"?>',c.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),d+=c.toString()),new T({protocol:r,hostname:n,port:s,method:"PUT",headers:a,path:i,query:l,body:d})},GP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"content-type":"application/xml","x-amz-expected-bucket-owner":e.ExpectedBucketOwner,"x-amz-skip-destination-validation":[()=>v(e.SkipDestinationValidation),()=>e.SkipDestinationValidation.toString()]}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({notification:[,""]}),d;e.NotificationConfiguration!==void 0&&(d=ub(e.NotificationConfiguration,t));let c;return e.NotificationConfiguration!==void 0&&(c=ub(e.NotificationConfiguration,t),d='<?xml version="1.0" encoding="UTF-8"?>',c.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),d+=c.toString()),new T({protocol:r,hostname:n,port:s,method:"PUT",headers:a,path:i,query:l,body:d})},jP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"content-type":"application/xml","content-md5":e.ContentMD5,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({ownershipControls:[,""]}),d;e.OwnershipControls!==void 0&&(d=pb(e.OwnershipControls,t));let c;return e.OwnershipControls!==void 0&&(c=pb(e.OwnershipControls,t),d='<?xml version="1.0" encoding="UTF-8"?>',c.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),d+=c.toString()),new T({protocol:r,hostname:n,port:s,method:"PUT",headers:a,path:i,query:l,body:d})},HP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"content-type":"text/plain","content-md5":e.ContentMD5,"x-amz-sdk-checksum-algorithm":e.ChecksumAlgorithm,"x-amz-confirm-remove-self-bucket-access":[()=>v(e.ConfirmRemoveSelfBucketAccess),()=>e.ConfirmRemoveSelfBucketAccess.toString()],"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({policy:[,""]}),d;e.Policy!==void 0&&(d=e.Policy);let c;return e.Policy!==void 0&&(c=e.Policy,d=c),new T({protocol:r,hostname:n,port:s,method:"PUT",headers:a,path:i,query:l,body:d})},KP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"content-type":"application/xml","content-md5":e.ContentMD5,"x-amz-sdk-checksum-algorithm":e.ChecksumAlgorithm,"x-amz-bucket-object-lock-token":e.Token,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({replication:[,""]}),d;e.ReplicationConfiguration!==void 0&&(d=gb(e.ReplicationConfiguration,t));let c;return e.ReplicationConfiguration!==void 0&&(c=gb(e.ReplicationConfiguration,t),d='<?xml version="1.0" encoding="UTF-8"?>',c.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),d+=c.toString()),new T({protocol:r,hostname:n,port:s,method:"PUT",headers:a,path:i,query:l,body:d})},VP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"content-type":"application/xml","content-md5":e.ContentMD5,"x-amz-sdk-checksum-algorithm":e.ChecksumAlgorithm,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({requestPayment:[,""]}),d;e.RequestPaymentConfiguration!==void 0&&(d=Eb(e.RequestPaymentConfiguration,t));let c;return e.RequestPaymentConfiguration!==void 0&&(c=Eb(e.RequestPaymentConfiguration,t),d='<?xml version="1.0" encoding="UTF-8"?>',c.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),d+=c.toString()),new T({protocol:r,hostname:n,port:s,method:"PUT",headers:a,path:i,query:l,body:d})},WP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"content-type":"application/xml","content-md5":e.ContentMD5,"x-amz-sdk-checksum-algorithm":e.ChecksumAlgorithm,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({tagging:[,""]}),d;e.Tagging!==void 0&&(d=gd(e.Tagging,t));let c;return e.Tagging!==void 0&&(c=gd(e.Tagging,t),d='<?xml version="1.0" encoding="UTF-8"?>',c.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),d+=c.toString()),new T({protocol:r,hostname:n,port:s,method:"PUT",headers:a,path:i,query:l,body:d})},YP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"content-type":"application/xml","content-md5":e.ContentMD5,"x-amz-sdk-checksum-algorithm":e.ChecksumAlgorithm,"x-amz-mfa":e.MFA,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({versioning:[,""]}),d;e.VersioningConfiguration!==void 0&&(d=wb(e.VersioningConfiguration,t));let c;return e.VersioningConfiguration!==void 0&&(c=wb(e.VersioningConfiguration,t),d='<?xml version="1.0" encoding="UTF-8"?>',c.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),d+=c.toString()),new T({protocol:r,hostname:n,port:s,method:"PUT",headers:a,path:i,query:l,body:d})},XP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"content-type":"application/xml","content-md5":e.ContentMD5,"x-amz-sdk-checksum-algorithm":e.ChecksumAlgorithm,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({website:[,""]}),d;e.WebsiteConfiguration!==void 0&&(d=Cb(e.WebsiteConfiguration,t));let c;return e.WebsiteConfiguration!==void 0&&(c=Cb(e.WebsiteConfiguration,t),d='<?xml version="1.0" encoding="UTF-8"?>',c.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),d+=c.toString()),new T({protocol:r,hostname:n,port:s,method:"PUT",headers:a,path:i,query:l,body:d})},QP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"content-type":e.ContentType||"application/octet-stream","x-amz-acl":e.ACL,"cache-control":e.CacheControl,"content-disposition":e.ContentDisposition,"content-encoding":e.ContentEncoding,"content-language":e.ContentLanguage,"content-length":[()=>v(e.ContentLength),()=>e.ContentLength.toString()],"content-md5":e.ContentMD5,"x-amz-sdk-checksum-algorithm":e.ChecksumAlgorithm,"x-amz-checksum-crc32":e.ChecksumCRC32,"x-amz-checksum-crc32c":e.ChecksumCRC32C,"x-amz-checksum-sha1":e.ChecksumSHA1,"x-amz-checksum-sha256":e.ChecksumSHA256,expires:[()=>v(e.Expires),()=>Lt(e.Expires).toString()],"x-amz-grant-full-control":e.GrantFullControl,"x-amz-grant-read":e.GrantRead,"x-amz-grant-read-acp":e.GrantReadACP,"x-amz-grant-write-acp":e.GrantWriteACP,"x-amz-server-side-encryption":e.ServerSideEncryption,"x-amz-storage-class":e.StorageClass,"x-amz-website-redirect-location":e.WebsiteRedirectLocation,"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm,"x-amz-server-side-encryption-customer-key":e.SSECustomerKey,"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5,"x-amz-server-side-encryption-aws-kms-key-id":e.SSEKMSKeyId,"x-amz-server-side-encryption-context":e.SSEKMSEncryptionContext,"x-amz-server-side-encryption-bucket-key-enabled":[()=>v(e.BucketKeyEnabled),()=>e.BucketKeyEnabled.toString()],"x-amz-request-payer":e.RequestPayer,"x-amz-tagging":e.Tagging,"x-amz-object-lock-mode":e.ObjectLockMode,"x-amz-object-lock-retain-until-date":[()=>v(e.ObjectLockRetainUntilDate),()=>(e.ObjectLockRetainUntilDate.toISOString().split(".")[0]+"Z").toString()],"x-amz-object-lock-legal-hold":e.ObjectLockLegalHoldStatus,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner,...e.Metadata!==void 0&&Object.keys(e.Metadata).reduce((u,m)=>(u[`x-amz-meta-${m.toLowerCase()}`]=e.Metadata[m],u),{})}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/{Key+}`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1),i=O(i,e,"Key",()=>e.Key,"{Key+}",!0);let l=p({"x-id":[,"PutObject"]}),d;e.Body!==void 0&&(d=e.Body);let c;return e.Body!==void 0&&(c=e.Body,d=c),new T({protocol:r,hostname:n,port:s,method:"PUT",headers:a,path:i,query:l,body:d})},ZP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"content-type":"application/xml","x-amz-acl":e.ACL,"content-md5":e.ContentMD5,"x-amz-sdk-checksum-algorithm":e.ChecksumAlgorithm,"x-amz-grant-full-control":e.GrantFullControl,"x-amz-grant-read":e.GrantRead,"x-amz-grant-read-acp":e.GrantReadACP,"x-amz-grant-write":e.GrantWrite,"x-amz-grant-write-acp":e.GrantWriteACP,"x-amz-request-payer":e.RequestPayer,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/{Key+}`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1),i=O(i,e,"Key",()=>e.Key,"{Key+}",!0);let l=p({acl:[,""],versionId:[,e.VersionId]}),d;e.AccessControlPolicy!==void 0&&(d=Hl(e.AccessControlPolicy,t));let c;return e.AccessControlPolicy!==void 0&&(c=Hl(e.AccessControlPolicy,t),d='<?xml version="1.0" encoding="UTF-8"?>',c.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),d+=c.toString()),new T({protocol:r,hostname:n,port:s,method:"PUT",headers:a,path:i,query:l,body:d})},JP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"content-type":"application/xml","x-amz-request-payer":e.RequestPayer,"content-md5":e.ContentMD5,"x-amz-sdk-checksum-algorithm":e.ChecksumAlgorithm,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/{Key+}`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1),i=O(i,e,"Key",()=>e.Key,"{Key+}",!0);let l=p({"legal-hold":[,""],versionId:[,e.VersionId]}),d;e.LegalHold!==void 0&&(d=fb(e.LegalHold,t));let c;return e.LegalHold!==void 0&&(c=fb(e.LegalHold,t),c=c.withName("LegalHold"),d='<?xml version="1.0" encoding="UTF-8"?>',c.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),d+=c.toString()),new T({protocol:r,hostname:n,port:s,method:"PUT",headers:a,path:i,query:l,body:d})},e_=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"content-type":"application/xml","x-amz-request-payer":e.RequestPayer,"x-amz-bucket-object-lock-token":e.Token,"content-md5":e.ContentMD5,"x-amz-sdk-checksum-algorithm":e.ChecksumAlgorithm,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({"object-lock":[,""]}),d;e.ObjectLockConfiguration!==void 0&&(d=mb(e.ObjectLockConfiguration,t));let c;return e.ObjectLockConfiguration!==void 0&&(c=mb(e.ObjectLockConfiguration,t),d='<?xml version="1.0" encoding="UTF-8"?>',c.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),d+=c.toString()),new T({protocol:r,hostname:n,port:s,method:"PUT",headers:a,path:i,query:l,body:d})},t_=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"content-type":"application/xml","x-amz-request-payer":e.RequestPayer,"x-amz-bypass-governance-retention":[()=>v(e.BypassGovernanceRetention),()=>e.BypassGovernanceRetention.toString()],"content-md5":e.ContentMD5,"x-amz-sdk-checksum-algorithm":e.ChecksumAlgorithm,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/{Key+}`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1),i=O(i,e,"Key",()=>e.Key,"{Key+}",!0);let l=p({retention:[,""],versionId:[,e.VersionId]}),d;e.Retention!==void 0&&(d=hb(e.Retention,t));let c;return e.Retention!==void 0&&(c=hb(e.Retention,t),c=c.withName("Retention"),d='<?xml version="1.0" encoding="UTF-8"?>',c.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),d+=c.toString()),new T({protocol:r,hostname:n,port:s,method:"PUT",headers:a,path:i,query:l,body:d})},n_=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"content-type":"application/xml","content-md5":e.ContentMD5,"x-amz-sdk-checksum-algorithm":e.ChecksumAlgorithm,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner,"x-amz-request-payer":e.RequestPayer}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/{Key+}`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1),i=O(i,e,"Key",()=>e.Key,"{Key+}",!0);let l=p({tagging:[,""],versionId:[,e.VersionId]}),d;e.Tagging!==void 0&&(d=gd(e.Tagging,t));let c;return e.Tagging!==void 0&&(c=gd(e.Tagging,t),d='<?xml version="1.0" encoding="UTF-8"?>',c.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),d+=c.toString()),new T({protocol:r,hostname:n,port:s,method:"PUT",headers:a,path:i,query:l,body:d})},r_=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"content-type":"application/xml","content-md5":e.ContentMD5,"x-amz-sdk-checksum-algorithm":e.ChecksumAlgorithm,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({publicAccessBlock:[,""]}),d;e.PublicAccessBlockConfiguration!==void 0&&(d=yb(e.PublicAccessBlockConfiguration,t));let c;return e.PublicAccessBlockConfiguration!==void 0&&(c=yb(e.PublicAccessBlockConfiguration,t),d='<?xml version="1.0" encoding="UTF-8"?>',c.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),d+=c.toString()),new T({protocol:r,hostname:n,port:s,method:"PUT",headers:a,path:i,query:l,body:d})},s_=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"content-type":"application/xml","x-amz-request-payer":e.RequestPayer,"x-amz-sdk-checksum-algorithm":e.ChecksumAlgorithm,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/{Key+}`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1),i=O(i,e,"Key",()=>e.Key,"{Key+}",!0);let l=p({restore:[,""],"x-id":[,"RestoreObject"],versionId:[,e.VersionId]}),d;e.RestoreRequest!==void 0&&(d=xb(e.RestoreRequest,t));let c;return e.RestoreRequest!==void 0&&(c=xb(e.RestoreRequest,t),d='<?xml version="1.0" encoding="UTF-8"?>',c.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),d+=c.toString()),new T({protocol:r,hostname:n,port:s,method:"POST",headers:a,path:i,query:l,body:d})},o_=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"content-type":"application/xml","x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm,"x-amz-server-side-encryption-customer-key":e.SSECustomerKey,"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/{Key+}`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1),i=O(i,e,"Key",()=>e.Key,"{Key+}",!0);let l=p({select:[,""],"select-type":[,"2"],"x-id":[,"SelectObjectContent"]}),d;d='<?xml version="1.0" encoding="UTF-8"?>';let c=new h("SelectObjectContentRequest");if(c.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),e.Expression!==void 0){let u=h.of("Expression",e.Expression).withName("Expression");c.addChildNode(u)}if(e.ExpressionType!==void 0){let u=h.of("ExpressionType",e.ExpressionType).withName("ExpressionType");c.addChildNode(u)}if(e.InputSerialization!==void 0){let u=ZA(e.InputSerialization,t).withName("InputSerialization");c.addChildNode(u)}if(e.OutputSerialization!==void 0){let u=JA(e.OutputSerialization,t).withName("OutputSerialization");c.addChildNode(u)}if(e.RequestProgress!==void 0){let u=Z2(e.RequestProgress,t).withName("RequestProgress");c.addChildNode(u)}if(e.ScanRange!==void 0){let u=rG(e.ScanRange,t).withName("ScanRange");c.addChildNode(u)}return d+=c.toString(),new T({protocol:r,hostname:n,port:s,method:"POST",headers:a,path:i,query:l,body:d})},i_=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"content-type":"application/octet-stream","content-length":[()=>v(e.ContentLength),()=>e.ContentLength.toString()],"content-md5":e.ContentMD5,"x-amz-sdk-checksum-algorithm":e.ChecksumAlgorithm,"x-amz-checksum-crc32":e.ChecksumCRC32,"x-amz-checksum-crc32c":e.ChecksumCRC32C,"x-amz-checksum-sha1":e.ChecksumSHA1,"x-amz-checksum-sha256":e.ChecksumSHA256,"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm,"x-amz-server-side-encryption-customer-key":e.SSECustomerKey,"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5,"x-amz-request-payer":e.RequestPayer,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/{Key+}`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1),i=O(i,e,"Key",()=>e.Key,"{Key+}",!0);let l=p({"x-id":[,"UploadPart"],partNumber:[W(e.PartNumber,"PartNumber")!=null,()=>e.PartNumber.toString()],uploadId:[,W(e.UploadId,"UploadId")]}),d;e.Body!==void 0&&(d=e.Body);let c;return e.Body!==void 0&&(c=e.Body,d=c),new T({protocol:r,hostname:n,port:s,method:"PUT",headers:a,path:i,query:l,body:d})},a_=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"x-amz-copy-source":e.CopySource,"x-amz-copy-source-if-match":e.CopySourceIfMatch,"x-amz-copy-source-if-modified-since":[()=>v(e.CopySourceIfModifiedSince),()=>Lt(e.CopySourceIfModifiedSince).toString()],"x-amz-copy-source-if-none-match":e.CopySourceIfNoneMatch,"x-amz-copy-source-if-unmodified-since":[()=>v(e.CopySourceIfUnmodifiedSince),()=>Lt(e.CopySourceIfUnmodifiedSince).toString()],"x-amz-copy-source-range":e.CopySourceRange,"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm,"x-amz-server-side-encryption-customer-key":e.SSECustomerKey,"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5,"x-amz-copy-source-server-side-encryption-customer-algorithm":e.CopySourceSSECustomerAlgorithm,"x-amz-copy-source-server-side-encryption-customer-key":e.CopySourceSSECustomerKey,"x-amz-copy-source-server-side-encryption-customer-key-md5":e.CopySourceSSECustomerKeyMD5,"x-amz-request-payer":e.RequestPayer,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner,"x-amz-source-expected-bucket-owner":e.ExpectedSourceBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/{Key+}`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1),i=O(i,e,"Key",()=>e.Key,"{Key+}",!0);let l=p({"x-id":[,"UploadPartCopy"],partNumber:[W(e.PartNumber,"PartNumber")!=null,()=>e.PartNumber.toString()],uploadId:[,W(e.UploadId,"UploadId")]}),d;return new T({protocol:r,hostname:n,port:s,method:"PUT",headers:a,path:i,query:l,body:d})},c_=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},v,{"x-amz-content-sha256":"UNSIGNED-PAYLOAD","content-type":"application/octet-stream","x-amz-request-route":e.RequestRoute,"x-amz-request-token":e.RequestToken,"x-amz-fwd-status":[()=>v(e.StatusCode),()=>e.StatusCode.toString()],"x-amz-fwd-error-code":e.ErrorCode,"x-amz-fwd-error-message":e.ErrorMessage,"x-amz-fwd-header-accept-ranges":e.AcceptRanges,"x-amz-fwd-header-cache-control":e.CacheControl,"x-amz-fwd-header-content-disposition":e.ContentDisposition,"x-amz-fwd-header-content-encoding":e.ContentEncoding,"x-amz-fwd-header-content-language":e.ContentLanguage,"content-length":[()=>v(e.ContentLength),()=>e.ContentLength.toString()],"x-amz-fwd-header-content-range":e.ContentRange,"x-amz-fwd-header-content-type":e.ContentType,"x-amz-fwd-header-x-amz-checksum-crc32":e.ChecksumCRC32,"x-amz-fwd-header-x-amz-checksum-crc32c":e.ChecksumCRC32C,"x-amz-fwd-header-x-amz-checksum-sha1":e.ChecksumSHA1,"x-amz-fwd-header-x-amz-checksum-sha256":e.ChecksumSHA256,"x-amz-fwd-header-x-amz-delete-marker":[()=>v(e.DeleteMarker),()=>e.DeleteMarker.toString()],"x-amz-fwd-header-etag":e.ETag,"x-amz-fwd-header-expires":[()=>v(e.Expires),()=>Lt(e.Expires).toString()],"x-amz-fwd-header-x-amz-expiration":e.Expiration,"x-amz-fwd-header-last-modified":[()=>v(e.LastModified),()=>Lt(e.LastModified).toString()],"x-amz-fwd-header-x-amz-missing-meta":[()=>v(e.MissingMeta),()=>e.MissingMeta.toString()],"x-amz-fwd-header-x-amz-object-lock-mode":e.ObjectLockMode,"x-amz-fwd-header-x-amz-object-lock-legal-hold":e.ObjectLockLegalHoldStatus,"x-amz-fwd-header-x-amz-object-lock-retain-until-date":[()=>v(e.ObjectLockRetainUntilDate),()=>(e.ObjectLockRetainUntilDate.toISOString().split(".")[0]+"Z").toString()],"x-amz-fwd-header-x-amz-mp-parts-count":[()=>v(e.PartsCount),()=>e.PartsCount.toString()],"x-amz-fwd-header-x-amz-replication-status":e.ReplicationStatus,"x-amz-fwd-header-x-amz-request-charged":e.RequestCharged,"x-amz-fwd-header-x-amz-restore":e.Restore,"x-amz-fwd-header-x-amz-server-side-encryption":e.ServerSideEncryption,"x-amz-fwd-header-x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm,"x-amz-fwd-header-x-amz-server-side-encryption-aws-kms-key-id":e.SSEKMSKeyId,"x-amz-fwd-header-x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5,"x-amz-fwd-header-x-amz-storage-class":e.StorageClass,"x-amz-fwd-header-x-amz-tagging-count":[()=>v(e.TagCount),()=>e.TagCount.toString()],"x-amz-fwd-header-x-amz-version-id":e.VersionId,"x-amz-fwd-header-x-amz-server-side-encryption-bucket-key-enabled":[()=>v(e.BucketKeyEnabled),()=>e.BucketKeyEnabled.toString()],...e.Metadata!==void 0&&Object.keys(e.Metadata).reduce((m,S)=>(m[`x-amz-meta-${S.toLowerCase()}`]=e.Metadata[S],m),{})}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/WriteGetObjectResponse`,l=p({"x-id":[,"WriteGetObjectResponse"]}),d;e.Body!==void 0&&(d=e.Body);let c;e.Body!==void 0&&(c=e.Body,d=c);let{hostname:u}=await t.endpoint();if(t.disableHostPrefix!==!0){if(u="{RequestRoute}."+u,e.RequestRoute===void 0)throw new Error("Empty value provided for input host prefix: RequestRoute.");if(u=u.replace("{RequestRoute}",e.RequestRoute),!Hw(u))throw new Error("ValidationError: prefixed hostname must be hostname compatible.")}return new T({protocol:r,hostname:u,port:s,method:"POST",headers:a,path:i,query:l,body:d})},d_=async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return Fz(e,t);let n=p({$metadata:U(e),RequestCharged:[,e.headers["x-amz-request-charged"]]});return await re(e.body,t),n},Fz=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body);switch(r){case"NoSuchUpload":case"com.amazonaws.s3#NoSuchUpload":throw await Pq(n,t);default:let s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})}},l_=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Mz(e,t);let n=p({$metadata:U(e),Expiration:[,e.headers["x-amz-expiration"]],ServerSideEncryption:[,e.headers["x-amz-server-side-encryption"]],VersionId:[,e.headers["x-amz-version-id"]],SSEKMSKeyId:[,e.headers["x-amz-server-side-encryption-aws-kms-key-id"]],BucketKeyEnabled:[()=>e.headers["x-amz-server-side-encryption-bucket-key-enabled"]!==void 0,()=>_e(e.headers["x-amz-server-side-encryption-bucket-key-enabled"])],RequestCharged:[,e.headers["x-amz-request-charged"]]}),r=W(de(await ue(e.body,t)),"body");return r.Bucket!==void 0&&(n.Bucket=y(r.Bucket)),r.ChecksumCRC32!==void 0&&(n.ChecksumCRC32=y(r.ChecksumCRC32)),r.ChecksumCRC32C!==void 0&&(n.ChecksumCRC32C=y(r.ChecksumCRC32C)),r.ChecksumSHA1!==void 0&&(n.ChecksumSHA1=y(r.ChecksumSHA1)),r.ChecksumSHA256!==void 0&&(n.ChecksumSHA256=y(r.ChecksumSHA256)),r.ETag!==void 0&&(n.ETag=y(r.ETag)),r.Key!==void 0&&(n.Key=y(r.Key)),r.Location!==void 0&&(n.Location=y(r.Location)),n},Mz=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},u_=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Lz(e,t);let n=p({$metadata:U(e),Expiration:[,e.headers["x-amz-expiration"]],CopySourceVersionId:[,e.headers["x-amz-copy-source-version-id"]],VersionId:[,e.headers["x-amz-version-id"]],ServerSideEncryption:[,e.headers["x-amz-server-side-encryption"]],SSECustomerAlgorithm:[,e.headers["x-amz-server-side-encryption-customer-algorithm"]],SSECustomerKeyMD5:[,e.headers["x-amz-server-side-encryption-customer-key-md5"]],SSEKMSKeyId:[,e.headers["x-amz-server-side-encryption-aws-kms-key-id"]],SSEKMSEncryptionContext:[,e.headers["x-amz-server-side-encryption-context"]],BucketKeyEnabled:[()=>e.headers["x-amz-server-side-encryption-bucket-key-enabled"]!==void 0,()=>_e(e.headers["x-amz-server-side-encryption-bucket-key-enabled"])],RequestCharged:[,e.headers["x-amz-request-charged"]]}),r=de(await ue(e.body,t));return n.CopyObjectResult=UG(r,t),n},Lz=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body);switch(r){case"ObjectNotInActiveTierError":case"com.amazonaws.s3#ObjectNotInActiveTierError":throw await Aq(n,t);default:let s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})}},m_=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Uz(e,t);let n=p({$metadata:U(e),Location:[,e.headers.location]});return await re(e.body,t),n},Uz=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body);switch(r){case"BucketAlreadyExists":case"com.amazonaws.s3#BucketAlreadyExists":throw await wq(n,t);case"BucketAlreadyOwnedByYou":case"com.amazonaws.s3#BucketAlreadyOwnedByYou":throw await Cq(n,t);default:let s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})}},f_=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return zz(e,t);let n=p({$metadata:U(e),AbortDate:[()=>e.headers["x-amz-abort-date"]!==void 0,()=>W(Xr(e.headers["x-amz-abort-date"]))],AbortRuleId:[,e.headers["x-amz-abort-rule-id"]],ServerSideEncryption:[,e.headers["x-amz-server-side-encryption"]],SSECustomerAlgorithm:[,e.headers["x-amz-server-side-encryption-customer-algorithm"]],SSECustomerKeyMD5:[,e.headers["x-amz-server-side-encryption-customer-key-md5"]],SSEKMSKeyId:[,e.headers["x-amz-server-side-encryption-aws-kms-key-id"]],SSEKMSEncryptionContext:[,e.headers["x-amz-server-side-encryption-context"]],BucketKeyEnabled:[()=>e.headers["x-amz-server-side-encryption-bucket-key-enabled"]!==void 0,()=>_e(e.headers["x-amz-server-side-encryption-bucket-key-enabled"])],RequestCharged:[,e.headers["x-amz-request-charged"]],ChecksumAlgorithm:[,e.headers["x-amz-checksum-algorithm"]]}),r=W(de(await ue(e.body,t)),"body");return r.Bucket!==void 0&&(n.Bucket=y(r.Bucket)),r.Key!==void 0&&(n.Key=y(r.Key)),r.UploadId!==void 0&&(n.UploadId=y(r.UploadId)),n},zz=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},h_=async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return $z(e,t);let n=p({$metadata:U(e)});return await re(e.body,t),n},$z=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},p_=async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return qz(e,t);let n=p({$metadata:U(e)});return await re(e.body,t),n},qz=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},y_=async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return Gz(e,t);let n=p({$metadata:U(e)});return await re(e.body,t),n},Gz=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},g_=async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return jz(e,t);let n=p({$metadata:U(e)});return await re(e.body,t),n},jz=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},E_=async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return Hz(e,t);let n=p({$metadata:U(e)});return await re(e.body,t),n},Hz=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},x_=async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return Kz(e,t);let n=p({$metadata:U(e)});return await re(e.body,t),n},Kz=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},S_=async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return Vz(e,t);let n=p({$metadata:U(e)});return await re(e.body,t),n},Vz=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},w_=async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return Wz(e,t);let n=p({$metadata:U(e)});return await re(e.body,t),n},Wz=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},C_=async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return Yz(e,t);let n=p({$metadata:U(e)});return await re(e.body,t),n},Yz=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},b_=async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return Xz(e,t);let n=p({$metadata:U(e)});return await re(e.body,t),n},Xz=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},P_=async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return Qz(e,t);let n=p({$metadata:U(e)});return await re(e.body,t),n},Qz=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},__=async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return Zz(e,t);let n=p({$metadata:U(e)});return await re(e.body,t),n},Zz=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},A_=async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return Jz(e,t);let n=p({$metadata:U(e)});return await re(e.body,t),n},Jz=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},k_=async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return e$(e,t);let n=p({$metadata:U(e),DeleteMarker:[()=>e.headers["x-amz-delete-marker"]!==void 0,()=>_e(e.headers["x-amz-delete-marker"])],VersionId:[,e.headers["x-amz-version-id"]],RequestCharged:[,e.headers["x-amz-request-charged"]]});return await re(e.body,t),n},e$=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},R_=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return t$(e,t);let n=p({$metadata:U(e),RequestCharged:[,e.headers["x-amz-request-charged"]]}),r=W(de(await ue(e.body,t)),"body");return r.Deleted===""?n.Deleted=[]:r.Deleted!==void 0&&(n.Deleted=HG(te(r.Deleted),t)),r.Error===""?n.Errors=[]:r.Error!==void 0&&(n.Errors=ej(te(r.Error),t)),n},t$=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},I_=async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return n$(e,t);let n=p({$metadata:U(e),VersionId:[,e.headers["x-amz-version-id"]]});return await re(e.body,t),n},n$=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},N_=async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return r$(e,t);let n=p({$metadata:U(e)});return await re(e.body,t),n},r$=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},T_=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return s$(e,t);let n=p({$metadata:U(e)}),r=W(de(await ue(e.body,t)),"body");return r.Status!==void 0&&(n.Status=y(r.Status)),n},s$=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},v_=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return o$(e,t);let n=p({$metadata:U(e)}),r=W(de(await ue(e.body,t)),"body");return r.AccessControlList===""?n.Grants=[]:r.AccessControlList!==void 0&&r.AccessControlList.Grant!==void 0&&(n.Grants=sk(te(r.AccessControlList.Grant),t)),r.Owner!==void 0&&(n.Owner=es(r.Owner,t)),n},o$=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},D_=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return i$(e,t);let n=p({$metadata:U(e)}),r=de(await ue(e.body,t));return n.AnalyticsConfiguration=tk(r,t),n},i$=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},B_=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return a$(e,t);let n=p({$metadata:U(e)}),r=W(de(await ue(e.body,t)),"body");return r.CORSRule===""?n.CORSRules=[]:r.CORSRule!==void 0&&(n.CORSRules=qG(te(r.CORSRule),t)),n},a$=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},O_=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return c$(e,t);let n=p({$metadata:U(e)}),r=de(await ue(e.body,t));return n.ServerSideEncryptionConfiguration=hH(r,t),n},c$=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},F_=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return d$(e,t);let n=p({$metadata:U(e)}),r=de(await ue(e.body,t));return n.IntelligentTieringConfiguration=ik(r,t),n},d$=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},M_=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return l$(e,t);let n=p({$metadata:U(e)}),r=de(await ue(e.body,t));return n.InventoryConfiguration=ak(r,t),n},l$=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},L_=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return u$(e,t);let n=p({$metadata:U(e)}),r=W(de(await ue(e.body,t)),"body");return r.Rule===""?n.Rules=[]:r.Rule!==void 0&&(n.Rules=_j(te(r.Rule),t)),n},u$=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},U_=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return m$(e,t);let n=p({$metadata:U(e)}),r=W(de(await ue(e.body,t)),"body");return r.LocationConstraint!==void 0&&(n.LocationConstraint=y(r.LocationConstraint)),n},m$=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},z_=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return f$(e,t);let n=p({$metadata:U(e)}),r=W(de(await ue(e.body,t)),"body");return r.LoggingEnabled!==void 0&&(n.LoggingEnabled=Aj(r.LoggingEnabled,t)),n},f$=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},$_=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return h$(e,t);let n=p({$metadata:U(e)}),r=de(await ue(e.body,t));return n.MetricsConfiguration=ck(r,t),n},h$=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},q_=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return p$(e,t);let n=p({$metadata:U(e)}),r=W(de(await ue(e.body,t)),"body");return r.EventBridgeConfiguration!==void 0&&(n.EventBridgeConfiguration=tj(r.EventBridgeConfiguration,t)),r.CloudFunctionConfiguration===""?n.LambdaFunctionConfigurations=[]:r.CloudFunctionConfiguration!==void 0&&(n.LambdaFunctionConfigurations=Sj(te(r.CloudFunctionConfiguration),t)),r.QueueConfiguration===""?n.QueueConfigurations=[]:r.QueueConfiguration!==void 0&&(n.QueueConfigurations=eH(te(r.QueueConfiguration),t)),r.TopicConfiguration===""?n.TopicConfigurations=[]:r.TopicConfiguration!==void 0&&(n.TopicConfigurations=IH(te(r.TopicConfiguration),t)),n},p$=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},G_=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return y$(e,t);let n=p({$metadata:U(e)}),r=de(await ue(e.body,t));return n.OwnershipControls=jj(r,t),n},y$=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},j_=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return g$(e,t);let n=p({$metadata:U(e)}),r=await uk(e.body,t);return n.Policy=y(r),n},g$=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},H_=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return E$(e,t);let n=p({$metadata:U(e)}),r=de(await ue(e.body,t));return n.PolicyStatus=Xj(r,t),n},E$=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},K_=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return x$(e,t);let n=p({$metadata:U(e)}),r=de(await ue(e.body,t));return n.ReplicationConfiguration=sH(r,t),n},x$=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},V_=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return S$(e,t);let n=p({$metadata:U(e)}),r=W(de(await ue(e.body,t)),"body");return r.Payer!==void 0&&(n.Payer=y(r.Payer)),n},S$=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},W_=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return w$(e,t);let n=p({$metadata:U(e)}),r=W(de(await ue(e.body,t)),"body");return r.TagSet===""?n.TagSet=[]:r.TagSet!==void 0&&r.TagSet.Tag!==void 0&&(n.TagSet=oo(te(r.TagSet.Tag),t)),n},w$=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},Y_=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return C$(e,t);let n=p({$metadata:U(e)}),r=W(de(await ue(e.body,t)),"body");return r.MfaDelete!==void 0&&(n.MFADelete=y(r.MfaDelete)),r.Status!==void 0&&(n.Status=y(r.Status)),n},C$=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},X_=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return b$(e,t);let n=p({$metadata:U(e)}),r=W(de(await ue(e.body,t)),"body");return r.ErrorDocument!==void 0&&(n.ErrorDocument=JG(r.ErrorDocument,t)),r.IndexDocument!==void 0&&(n.IndexDocument=cj(r.IndexDocument,t)),r.RedirectAllRequestsTo!==void 0&&(n.RedirectAllRequestsTo=nH(r.RedirectAllRequestsTo,t)),r.RoutingRules===""?n.RoutingRules=[]:r.RoutingRules!==void 0&&r.RoutingRules.RoutingRule!==void 0&&(n.RoutingRules=uH(te(r.RoutingRules.RoutingRule),t)),n},b$=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},Q_=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return P$(e,t);let n=p({$metadata:U(e),DeleteMarker:[()=>e.headers["x-amz-delete-marker"]!==void 0,()=>_e(e.headers["x-amz-delete-marker"])],AcceptRanges:[,e.headers["accept-ranges"]],Expiration:[,e.headers["x-amz-expiration"]],Restore:[,e.headers["x-amz-restore"]],LastModified:[()=>e.headers["last-modified"]!==void 0,()=>W(Xr(e.headers["last-modified"]))],ContentLength:[()=>e.headers["content-length"]!==void 0,()=>ft(e.headers["content-length"])],ETag:[,e.headers.etag],ChecksumCRC32:[,e.headers["x-amz-checksum-crc32"]],ChecksumCRC32C:[,e.headers["x-amz-checksum-crc32c"]],ChecksumSHA1:[,e.headers["x-amz-checksum-sha1"]],ChecksumSHA256:[,e.headers["x-amz-checksum-sha256"]],MissingMeta:[()=>e.headers["x-amz-missing-meta"]!==void 0,()=>Ie(e.headers["x-amz-missing-meta"])],VersionId:[,e.headers["x-amz-version-id"]],CacheControl:[,e.headers["cache-control"]],ContentDisposition:[,e.headers["content-disposition"]],ContentEncoding:[,e.headers["content-encoding"]],ContentLanguage:[,e.headers["content-language"]],ContentRange:[,e.headers["content-range"]],ContentType:[,e.headers["content-type"]],Expires:[()=>e.headers.expires!==void 0,()=>W(Xr(e.headers.expires))],WebsiteRedirectLocation:[,e.headers["x-amz-website-redirect-location"]],ServerSideEncryption:[,e.headers["x-amz-server-side-encryption"]],SSECustomerAlgorithm:[,e.headers["x-amz-server-side-encryption-customer-algorithm"]],SSECustomerKeyMD5:[,e.headers["x-amz-server-side-encryption-customer-key-md5"]],SSEKMSKeyId:[,e.headers["x-amz-server-side-encryption-aws-kms-key-id"]],BucketKeyEnabled:[()=>e.headers["x-amz-server-side-encryption-bucket-key-enabled"]!==void 0,()=>_e(e.headers["x-amz-server-side-encryption-bucket-key-enabled"])],StorageClass:[,e.headers["x-amz-storage-class"]],RequestCharged:[,e.headers["x-amz-request-charged"]],ReplicationStatus:[,e.headers["x-amz-replication-status"]],PartsCount:[()=>e.headers["x-amz-mp-parts-count"]!==void 0,()=>Ie(e.headers["x-amz-mp-parts-count"])],TagCount:[()=>e.headers["x-amz-tagging-count"]!==void 0,()=>Ie(e.headers["x-amz-tagging-count"])],ObjectLockMode:[,e.headers["x-amz-object-lock-mode"]],ObjectLockRetainUntilDate:[()=>e.headers["x-amz-object-lock-retain-until-date"]!==void 0,()=>W(_t(e.headers["x-amz-object-lock-retain-until-date"]))],ObjectLockLegalHoldStatus:[,e.headers["x-amz-object-lock-legal-hold"]],Metadata:[,Object.keys(e.headers).filter(s=>s.startsWith("x-amz-meta-")).reduce((s,o)=>(s[o.substring(11)]=e.headers[o],s),{})]}),r=e.body;return t.sdkStreamMixin(r),n.Body=r,n},P$=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body);switch(r){case"InvalidObjectState":case"com.amazonaws.s3#InvalidObjectState":throw await bq(n,t);case"NoSuchKey":case"com.amazonaws.s3#NoSuchKey":throw await Kl(n,t);default:let s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})}},Z_=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return _$(e,t);let n=p({$metadata:U(e),RequestCharged:[,e.headers["x-amz-request-charged"]]}),r=W(de(await ue(e.body,t)),"body");return r.AccessControlList===""?n.Grants=[]:r.AccessControlList!==void 0&&r.AccessControlList.Grant!==void 0&&(n.Grants=sk(te(r.AccessControlList.Grant),t)),r.Owner!==void 0&&(n.Owner=es(r.Owner,t)),n},_$=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body);switch(r){case"NoSuchKey":case"com.amazonaws.s3#NoSuchKey":throw await Kl(n,t);default:let s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})}},J_=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return A$(e,t);let n=p({$metadata:U(e),DeleteMarker:[()=>e.headers["x-amz-delete-marker"]!==void 0,()=>_e(e.headers["x-amz-delete-marker"])],LastModified:[()=>e.headers["last-modified"]!==void 0,()=>W(Xr(e.headers["last-modified"]))],VersionId:[,e.headers["x-amz-version-id"]],RequestCharged:[,e.headers["x-amz-request-charged"]]}),r=W(de(await ue(e.body,t)),"body");return r.Checksum!==void 0&&(n.Checksum=OG(r.Checksum,t)),r.ETag!==void 0&&(n.ETag=y(r.ETag)),r.ObjectParts!==void 0&&(n.ObjectParts=ij(r.ObjectParts,t)),r.ObjectSize!==void 0&&(n.ObjectSize=ft(r.ObjectSize)),r.StorageClass!==void 0&&(n.StorageClass=y(r.StorageClass)),n},A$=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body);switch(r){case"NoSuchKey":case"com.amazonaws.s3#NoSuchKey":throw await Kl(n,t);default:let s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})}},eA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return k$(e,t);let n=p({$metadata:U(e)}),r=de(await ue(e.body,t));return n.LegalHold=Lj(r,t),n},k$=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},tA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return R$(e,t);let n=p({$metadata:U(e)}),r=de(await ue(e.body,t));return n.ObjectLockConfiguration=Mj(r,t),n},R$=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},nA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return I$(e,t);let n=p({$metadata:U(e)}),r=de(await ue(e.body,t));return n.Retention=Uj(r,t),n},I$=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},rA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return N$(e,t);let n=p({$metadata:U(e),VersionId:[,e.headers["x-amz-version-id"]]}),r=W(de(await ue(e.body,t)),"body");return r.TagSet===""?n.TagSet=[]:r.TagSet!==void 0&&r.TagSet.Tag!==void 0&&(n.TagSet=oo(te(r.TagSet.Tag),t)),n},N$=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},sA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return T$(e,t);let n=p({$metadata:U(e),RequestCharged:[,e.headers["x-amz-request-charged"]]}),r=e.body;return t.sdkStreamMixin(r),n.Body=r,n},T$=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},oA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return v$(e,t);let n=p({$metadata:U(e)}),r=de(await ue(e.body,t));return n.PublicAccessBlockConfiguration=Zj(r,t),n},v$=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},iA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return D$(e,t);let n=p({$metadata:U(e)});return await re(e.body,t),n},D$=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body);switch(r){case"NotFound":case"com.amazonaws.s3#NotFound":throw await YA(n,t);default:let s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})}},aA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return B$(e,t);let n=p({$metadata:U(e),DeleteMarker:[()=>e.headers["x-amz-delete-marker"]!==void 0,()=>_e(e.headers["x-amz-delete-marker"])],AcceptRanges:[,e.headers["accept-ranges"]],Expiration:[,e.headers["x-amz-expiration"]],Restore:[,e.headers["x-amz-restore"]],ArchiveStatus:[,e.headers["x-amz-archive-status"]],LastModified:[()=>e.headers["last-modified"]!==void 0,()=>W(Xr(e.headers["last-modified"]))],ContentLength:[()=>e.headers["content-length"]!==void 0,()=>ft(e.headers["content-length"])],ChecksumCRC32:[,e.headers["x-amz-checksum-crc32"]],ChecksumCRC32C:[,e.headers["x-amz-checksum-crc32c"]],ChecksumSHA1:[,e.headers["x-amz-checksum-sha1"]],ChecksumSHA256:[,e.headers["x-amz-checksum-sha256"]],ETag:[,e.headers.etag],MissingMeta:[()=>e.headers["x-amz-missing-meta"]!==void 0,()=>Ie(e.headers["x-amz-missing-meta"])],VersionId:[,e.headers["x-amz-version-id"]],CacheControl:[,e.headers["cache-control"]],ContentDisposition:[,e.headers["content-disposition"]],ContentEncoding:[,e.headers["content-encoding"]],ContentLanguage:[,e.headers["content-language"]],ContentType:[,e.headers["content-type"]],Expires:[()=>e.headers.expires!==void 0,()=>W(Xr(e.headers.expires))],WebsiteRedirectLocation:[,e.headers["x-amz-website-redirect-location"]],ServerSideEncryption:[,e.headers["x-amz-server-side-encryption"]],SSECustomerAlgorithm:[,e.headers["x-amz-server-side-encryption-customer-algorithm"]],SSECustomerKeyMD5:[,e.headers["x-amz-server-side-encryption-customer-key-md5"]],SSEKMSKeyId:[,e.headers["x-amz-server-side-encryption-aws-kms-key-id"]],BucketKeyEnabled:[()=>e.headers["x-amz-server-side-encryption-bucket-key-enabled"]!==void 0,()=>_e(e.headers["x-amz-server-side-encryption-bucket-key-enabled"])],StorageClass:[,e.headers["x-amz-storage-class"]],RequestCharged:[,e.headers["x-amz-request-charged"]],ReplicationStatus:[,e.headers["x-amz-replication-status"]],PartsCount:[()=>e.headers["x-amz-mp-parts-count"]!==void 0,()=>Ie(e.headers["x-amz-mp-parts-count"])],ObjectLockMode:[,e.headers["x-amz-object-lock-mode"]],ObjectLockRetainUntilDate:[()=>e.headers["x-amz-object-lock-retain-until-date"]!==void 0,()=>W(_t(e.headers["x-amz-object-lock-retain-until-date"]))],ObjectLockLegalHoldStatus:[,e.headers["x-amz-object-lock-legal-hold"]],Metadata:[,Object.keys(e.headers).filter(r=>r.startsWith("x-amz-meta-")).reduce((r,s)=>(r[s.substring(11)]=e.headers[s],r),{})]});return await re(e.body,t),n},B$=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body);switch(r){case"NotFound":case"com.amazonaws.s3#NotFound":throw await YA(n,t);default:let s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})}},cA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return O$(e,t);let n=p({$metadata:U(e)}),r=W(de(await ue(e.body,t)),"body");return r.AnalyticsConfiguration===""?n.AnalyticsConfigurationList=[]:r.AnalyticsConfiguration!==void 0&&(n.AnalyticsConfigurationList=IG(te(r.AnalyticsConfiguration),t)),r.ContinuationToken!==void 0&&(n.ContinuationToken=y(r.ContinuationToken)),r.IsTruncated!==void 0&&(n.IsTruncated=_e(r.IsTruncated)),r.NextContinuationToken!==void 0&&(n.NextContinuationToken=y(r.NextContinuationToken)),n},O$=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},dA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return F$(e,t);let n=p({$metadata:U(e)}),r=W(de(await ue(e.body,t)),"body");return r.ContinuationToken!==void 0&&(n.ContinuationToken=y(r.ContinuationToken)),r.IntelligentTieringConfiguration===""?n.IntelligentTieringConfigurationList=[]:r.IntelligentTieringConfiguration!==void 0&&(n.IntelligentTieringConfigurationList=lj(te(r.IntelligentTieringConfiguration),t)),r.IsTruncated!==void 0&&(n.IsTruncated=_e(r.IsTruncated)),r.NextContinuationToken!==void 0&&(n.NextContinuationToken=y(r.NextContinuationToken)),n},F$=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},lA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return M$(e,t);let n=p({$metadata:U(e)}),r=W(de(await ue(e.body,t)),"body");return r.ContinuationToken!==void 0&&(n.ContinuationToken=y(r.ContinuationToken)),r.InventoryConfiguration===""?n.InventoryConfigurationList=[]:r.InventoryConfiguration!==void 0&&(n.InventoryConfigurationList=mj(te(r.InventoryConfiguration),t)),r.IsTruncated!==void 0&&(n.IsTruncated=_e(r.IsTruncated)),r.NextContinuationToken!==void 0&&(n.NextContinuationToken=y(r.NextContinuationToken)),n},M$=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},uA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return L$(e,t);let n=p({$metadata:U(e)}),r=W(de(await ue(e.body,t)),"body");return r.ContinuationToken!==void 0&&(n.ContinuationToken=y(r.ContinuationToken)),r.IsTruncated!==void 0&&(n.IsTruncated=_e(r.IsTruncated)),r.MetricsConfiguration===""?n.MetricsConfigurationList=[]:r.MetricsConfiguration!==void 0&&(n.MetricsConfigurationList=Ij(te(r.MetricsConfiguration),t)),r.NextContinuationToken!==void 0&&(n.NextContinuationToken=y(r.NextContinuationToken)),n},L$=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},mA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return U$(e,t);let n=p({$metadata:U(e)}),r=W(de(await ue(e.body,t)),"body");return r.Buckets===""?n.Buckets=[]:r.Buckets!==void 0&&r.Buckets.Bucket!==void 0&&(n.Buckets=BG(te(r.Buckets.Bucket),t)),r.Owner!==void 0&&(n.Owner=es(r.Owner,t)),n},U$=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},fA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return z$(e,t);let n=p({$metadata:U(e)}),r=W(de(await ue(e.body,t)),"body");return r.Bucket!==void 0&&(n.Bucket=y(r.Bucket)),r.CommonPrefixes===""?n.CommonPrefixes=[]:r.CommonPrefixes!==void 0&&(n.CommonPrefixes=Vl(te(r.CommonPrefixes),t)),r.Delimiter!==void 0&&(n.Delimiter=y(r.Delimiter)),r.EncodingType!==void 0&&(n.EncodingType=y(r.EncodingType)),r.IsTruncated!==void 0&&(n.IsTruncated=_e(r.IsTruncated)),r.KeyMarker!==void 0&&(n.KeyMarker=y(r.KeyMarker)),r.MaxUploads!==void 0&&(n.MaxUploads=Ie(r.MaxUploads)),r.NextKeyMarker!==void 0&&(n.NextKeyMarker=y(r.NextKeyMarker)),r.NextUploadIdMarker!==void 0&&(n.NextUploadIdMarker=y(r.NextUploadIdMarker)),r.Prefix!==void 0&&(n.Prefix=y(r.Prefix)),r.UploadIdMarker!==void 0&&(n.UploadIdMarker=y(r.UploadIdMarker)),r.Upload===""?n.Uploads=[]:r.Upload!==void 0&&(n.Uploads=vj(te(r.Upload),t)),n},z$=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},hA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return $$(e,t);let n=p({$metadata:U(e)}),r=W(de(await ue(e.body,t)),"body");return r.CommonPrefixes===""?n.CommonPrefixes=[]:r.CommonPrefixes!==void 0&&(n.CommonPrefixes=Vl(te(r.CommonPrefixes),t)),r.Contents===""?n.Contents=[]:r.Contents!==void 0&&(n.Contents=dk(te(r.Contents),t)),r.Delimiter!==void 0&&(n.Delimiter=y(r.Delimiter)),r.EncodingType!==void 0&&(n.EncodingType=y(r.EncodingType)),r.IsTruncated!==void 0&&(n.IsTruncated=_e(r.IsTruncated)),r.Marker!==void 0&&(n.Marker=y(r.Marker)),r.MaxKeys!==void 0&&(n.MaxKeys=Ie(r.MaxKeys)),r.Name!==void 0&&(n.Name=y(r.Name)),r.NextMarker!==void 0&&(n.NextMarker=y(r.NextMarker)),r.Prefix!==void 0&&(n.Prefix=y(r.Prefix)),n},$$=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body);switch(r){case"NoSuchBucket":case"com.amazonaws.s3#NoSuchBucket":throw await WA(n,t);default:let s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})}},pA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return q$(e,t);let n=p({$metadata:U(e)}),r=W(de(await ue(e.body,t)),"body");return r.CommonPrefixes===""?n.CommonPrefixes=[]:r.CommonPrefixes!==void 0&&(n.CommonPrefixes=Vl(te(r.CommonPrefixes),t)),r.Contents===""?n.Contents=[]:r.Contents!==void 0&&(n.Contents=dk(te(r.Contents),t)),r.ContinuationToken!==void 0&&(n.ContinuationToken=y(r.ContinuationToken)),r.Delimiter!==void 0&&(n.Delimiter=y(r.Delimiter)),r.EncodingType!==void 0&&(n.EncodingType=y(r.EncodingType)),r.IsTruncated!==void 0&&(n.IsTruncated=_e(r.IsTruncated)),r.KeyCount!==void 0&&(n.KeyCount=Ie(r.KeyCount)),r.MaxKeys!==void 0&&(n.MaxKeys=Ie(r.MaxKeys)),r.Name!==void 0&&(n.Name=y(r.Name)),r.NextContinuationToken!==void 0&&(n.NextContinuationToken=y(r.NextContinuationToken)),r.Prefix!==void 0&&(n.Prefix=y(r.Prefix)),r.StartAfter!==void 0&&(n.StartAfter=y(r.StartAfter)),n},q$=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body);switch(r){case"NoSuchBucket":case"com.amazonaws.s3#NoSuchBucket":throw await WA(n,t);default:let s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})}},yA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G$(e,t);let n=p({$metadata:U(e)}),r=W(de(await ue(e.body,t)),"body");return r.CommonPrefixes===""?n.CommonPrefixes=[]:r.CommonPrefixes!==void 0&&(n.CommonPrefixes=Vl(te(r.CommonPrefixes),t)),r.DeleteMarker===""?n.DeleteMarkers=[]:r.DeleteMarker!==void 0&&(n.DeleteMarkers=WG(te(r.DeleteMarker),t)),r.Delimiter!==void 0&&(n.Delimiter=y(r.Delimiter)),r.EncodingType!==void 0&&(n.EncodingType=y(r.EncodingType)),r.IsTruncated!==void 0&&(n.IsTruncated=_e(r.IsTruncated)),r.KeyMarker!==void 0&&(n.KeyMarker=y(r.KeyMarker)),r.MaxKeys!==void 0&&(n.MaxKeys=Ie(r.MaxKeys)),r.Name!==void 0&&(n.Name=y(r.Name)),r.NextKeyMarker!==void 0&&(n.NextKeyMarker=y(r.NextKeyMarker)),r.NextVersionIdMarker!==void 0&&(n.NextVersionIdMarker=y(r.NextVersionIdMarker)),r.Prefix!==void 0&&(n.Prefix=y(r.Prefix)),r.VersionIdMarker!==void 0&&(n.VersionIdMarker=y(r.VersionIdMarker)),r.Version===""?n.Versions=[]:r.Version!==void 0&&(n.Versions=Gj(te(r.Version),t)),n},G$=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},gA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return j$(e,t);let n=p({$metadata:U(e),AbortDate:[()=>e.headers["x-amz-abort-date"]!==void 0,()=>W(Xr(e.headers["x-amz-abort-date"]))],AbortRuleId:[,e.headers["x-amz-abort-rule-id"]],RequestCharged:[,e.headers["x-amz-request-charged"]]}),r=W(de(await ue(e.body,t)),"body");return r.Bucket!==void 0&&(n.Bucket=y(r.Bucket)),r.ChecksumAlgorithm!==void 0&&(n.ChecksumAlgorithm=y(r.ChecksumAlgorithm)),r.Initiator!==void 0&&(n.Initiator=ok(r.Initiator,t)),r.IsTruncated!==void 0&&(n.IsTruncated=_e(r.IsTruncated)),r.Key!==void 0&&(n.Key=y(r.Key)),r.MaxParts!==void 0&&(n.MaxParts=Ie(r.MaxParts)),r.NextPartNumberMarker!==void 0&&(n.NextPartNumberMarker=y(r.NextPartNumberMarker)),r.Owner!==void 0&&(n.Owner=es(r.Owner,t)),r.PartNumberMarker!==void 0&&(n.PartNumberMarker=y(r.PartNumberMarker)),r.Part===""?n.Parts=[]:r.Part!==void 0&&(n.Parts=Wj(te(r.Part),t)),r.StorageClass!==void 0&&(n.StorageClass=y(r.StorageClass)),r.UploadId!==void 0&&(n.UploadId=y(r.UploadId)),n},j$=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},EA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return H$(e,t);let n=p({$metadata:U(e)});return await re(e.body,t),n},H$=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},xA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return K$(e,t);let n=p({$metadata:U(e)});return await re(e.body,t),n},K$=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},SA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return V$(e,t);let n=p({$metadata:U(e)});return await re(e.body,t),n},V$=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},wA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return W$(e,t);let n=p({$metadata:U(e)});return await re(e.body,t),n},W$=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},CA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Y$(e,t);let n=p({$metadata:U(e)});return await re(e.body,t),n},Y$=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},bA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return X$(e,t);let n=p({$metadata:U(e)});return await re(e.body,t),n},X$=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},PA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Q$(e,t);let n=p({$metadata:U(e)});return await re(e.body,t),n},Q$=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},_A=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Z$(e,t);let n=p({$metadata:U(e)});return await re(e.body,t),n},Z$=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},AA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return J$(e,t);let n=p({$metadata:U(e)});return await re(e.body,t),n},J$=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},kA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return eq(e,t);let n=p({$metadata:U(e)});return await re(e.body,t),n},eq=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},RA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return tq(e,t);let n=p({$metadata:U(e)});return await re(e.body,t),n},tq=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},IA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return nq(e,t);let n=p({$metadata:U(e)});return await re(e.body,t),n},nq=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},NA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return rq(e,t);let n=p({$metadata:U(e)});return await re(e.body,t),n},rq=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},TA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return sq(e,t);let n=p({$metadata:U(e)});return await re(e.body,t),n},sq=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},vA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return oq(e,t);let n=p({$metadata:U(e)});return await re(e.body,t),n},oq=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},DA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return iq(e,t);let n=p({$metadata:U(e)});return await re(e.body,t),n},iq=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},BA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return aq(e,t);let n=p({$metadata:U(e)});return await re(e.body,t),n},aq=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},OA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return cq(e,t);let n=p({$metadata:U(e)});return await re(e.body,t),n},cq=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},FA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return dq(e,t);let n=p({$metadata:U(e),Expiration:[,e.headers["x-amz-expiration"]],ETag:[,e.headers.etag],ChecksumCRC32:[,e.headers["x-amz-checksum-crc32"]],ChecksumCRC32C:[,e.headers["x-amz-checksum-crc32c"]],ChecksumSHA1:[,e.headers["x-amz-checksum-sha1"]],ChecksumSHA256:[,e.headers["x-amz-checksum-sha256"]],ServerSideEncryption:[,e.headers["x-amz-server-side-encryption"]],VersionId:[,e.headers["x-amz-version-id"]],SSECustomerAlgorithm:[,e.headers["x-amz-server-side-encryption-customer-algorithm"]],SSECustomerKeyMD5:[,e.headers["x-amz-server-side-encryption-customer-key-md5"]],SSEKMSKeyId:[,e.headers["x-amz-server-side-encryption-aws-kms-key-id"]],SSEKMSEncryptionContext:[,e.headers["x-amz-server-side-encryption-context"]],BucketKeyEnabled:[()=>e.headers["x-amz-server-side-encryption-bucket-key-enabled"]!==void 0,()=>_e(e.headers["x-amz-server-side-encryption-bucket-key-enabled"])],RequestCharged:[,e.headers["x-amz-request-charged"]]});return await re(e.body,t),n},dq=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},MA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return lq(e,t);let n=p({$metadata:U(e),RequestCharged:[,e.headers["x-amz-request-charged"]]});return await re(e.body,t),n},lq=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body);switch(r){case"NoSuchKey":case"com.amazonaws.s3#NoSuchKey":throw await Kl(n,t);default:let s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})}},LA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return uq(e,t);let n=p({$metadata:U(e),RequestCharged:[,e.headers["x-amz-request-charged"]]});return await re(e.body,t),n},uq=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},UA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return mq(e,t);let n=p({$metadata:U(e),RequestCharged:[,e.headers["x-amz-request-charged"]]});return await re(e.body,t),n},mq=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},zA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return fq(e,t);let n=p({$metadata:U(e),RequestCharged:[,e.headers["x-amz-request-charged"]]});return await re(e.body,t),n},fq=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},$A=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return hq(e,t);let n=p({$metadata:U(e),VersionId:[,e.headers["x-amz-version-id"]]});return await re(e.body,t),n},hq=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},qA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return pq(e,t);let n=p({$metadata:U(e)});return await re(e.body,t),n},pq=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},GA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return yq(e,t);let n=p({$metadata:U(e),RequestCharged:[,e.headers["x-amz-request-charged"]],RestoreOutputPath:[,e.headers["x-amz-restore-output-path"]]});return await re(e.body,t),n},yq=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body);switch(r){case"ObjectAlreadyInActiveTierError":case"com.amazonaws.s3#ObjectAlreadyInActiveTierError":throw await _q(n,t);default:let s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})}},jA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return gq(e,t);let n=p({$metadata:U(e)}),r=e.body;return n.Payload=kq(r,t),n},gq=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},HA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Eq(e,t);let n=p({$metadata:U(e),ServerSideEncryption:[,e.headers["x-amz-server-side-encryption"]],ETag:[,e.headers.etag],ChecksumCRC32:[,e.headers["x-amz-checksum-crc32"]],ChecksumCRC32C:[,e.headers["x-amz-checksum-crc32c"]],ChecksumSHA1:[,e.headers["x-amz-checksum-sha1"]],ChecksumSHA256:[,e.headers["x-amz-checksum-sha256"]],SSECustomerAlgorithm:[,e.headers["x-amz-server-side-encryption-customer-algorithm"]],SSECustomerKeyMD5:[,e.headers["x-amz-server-side-encryption-customer-key-md5"]],SSEKMSKeyId:[,e.headers["x-amz-server-side-encryption-aws-kms-key-id"]],BucketKeyEnabled:[()=>e.headers["x-amz-server-side-encryption-bucket-key-enabled"]!==void 0,()=>_e(e.headers["x-amz-server-side-encryption-bucket-key-enabled"])],RequestCharged:[,e.headers["x-amz-request-charged"]]});return await re(e.body,t),n},Eq=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},KA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return xq(e,t);let n=p({$metadata:U(e),CopySourceVersionId:[,e.headers["x-amz-copy-source-version-id"]],ServerSideEncryption:[,e.headers["x-amz-server-side-encryption"]],SSECustomerAlgorithm:[,e.headers["x-amz-server-side-encryption-customer-algorithm"]],SSECustomerKeyMD5:[,e.headers["x-amz-server-side-encryption-customer-key-md5"]],SSEKMSKeyId:[,e.headers["x-amz-server-side-encryption-aws-kms-key-id"]],BucketKeyEnabled:[()=>e.headers["x-amz-server-side-encryption-bucket-key-enabled"]!==void 0,()=>_e(e.headers["x-amz-server-side-encryption-bucket-key-enabled"])],RequestCharged:[,e.headers["x-amz-request-charged"]]}),r=de(await ue(e.body,t));return n.CopyPartResult=zG(r,t),n},xq=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},VA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Sq(e,t);let n=p({$metadata:U(e)});return await re(e.body,t),n},Sq=async(e,t)=>{let n={...e,body:await $(e.body,t)},r=q(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},p=ro,wq=async(e,t)=>{let n=p({}),r=e.body,s=new Jo({$metadata:U(e),...n});return we(s,e.body)},Cq=async(e,t)=>{let n=p({}),r=e.body,s=new ei({$metadata:U(e),...n});return we(s,e.body)},bq=async(e,t)=>{let n=p({}),r=e.body;r.AccessTier!==void 0&&(n.AccessTier=y(r.AccessTier)),r.StorageClass!==void 0&&(n.StorageClass=y(r.StorageClass));let s=new ti({$metadata:U(e),...n});return we(s,e.body)},WA=async(e,t)=>{let n=p({}),r=e.body,s=new si({$metadata:U(e),...n});return we(s,e.body)},Kl=async(e,t)=>{let n=p({}),r=e.body,s=new ni({$metadata:U(e),...n});return we(s,e.body)},Pq=async(e,t)=>{let n=p({}),r=e.body,s=new Qo({$metadata:U(e),...n});return we(s,e.body)},YA=async(e,t)=>{let n=p({}),r=e.body,s=new ri({$metadata:U(e),...n});return we(s,e.body)},_q=async(e,t)=>{let n=p({}),r=e.body,s=new oi({$metadata:U(e),...n});return we(s,e.body)},Aq=async(e,t)=>{let n=p({}),r=e.body,s=new Zo({$metadata:U(e),...n});return we(s,e.body)},kq=(e,t)=>t.eventStreamMarshaller.deserialize(e,async n=>n.Records!=null?{Records:await Tq(n.Records,t)}:n.Stats!=null?{Stats:await vq(n.Stats,t)}:n.Progress!=null?{Progress:await Nq(n.Progress,t)}:n.Cont!=null?{Cont:await Rq(n.Cont,t)}:n.End!=null?{End:await Iq(n.End,t)}:{$unknown:e}),Rq=async(e,t)=>{let n={},r=await ue(e.body,t);return Object.assign(n,LG(r,t)),n},Iq=async(e,t)=>{let n={},r=await ue(e.body,t);return Object.assign(n,QG(r,t)),n},Nq=async(e,t)=>{let n={},r=await ue(e.body,t);return n.Details=Qj(r,t),n},Tq=async(e,t)=>{let n={};return n.Payload=e.body,n},vq=async(e,t)=>{let n={},r=await ue(e.body,t);return n.Details=wH(r,t),n},Dq=(e,t)=>{let n=new h("AbortIncompleteMultipartUpload");if(e.DaysAfterInitiation!=null){let r=h.of("DaysAfterInitiation",String(e.DaysAfterInitiation)).withName("DaysAfterInitiation");n.addChildNode(r)}return n},eb=(e,t)=>{let n=new h("AccelerateConfiguration");if(e.Status!=null){let r=h.of("BucketAccelerateStatus",e.Status).withName("Status");n.addChildNode(r)}return n},Hl=(e,t)=>{let n=new h("AccessControlPolicy");if(e.Grants!=null){let r=QA(e.Grants,t),s=new h("AccessControlList");r.map(o=>{s.addChildNode(o)}),n.addChildNode(s)}if(e.Owner!=null){let r=L2(e.Owner,t).withName("Owner");n.addChildNode(r)}return n},Bq=(e,t)=>{let n=new h("AccessControlTranslation");if(e.Owner!=null){let r=h.of("OwnerOverride",e.Owner).withName("Owner");n.addChildNode(r)}return n},Oq=(e,t)=>e.filter(n=>n!=null).map(n=>h.of("AllowedHeader",n).withName("member")),Fq=(e,t)=>e.filter(n=>n!=null).map(n=>h.of("AllowedMethod",n).withName("member")),Mq=(e,t)=>e.filter(n=>n!=null).map(n=>h.of("AllowedOrigin",n).withName("member")),Lq=(e,t)=>{let n=new h("AnalyticsAndOperator");if(e.Prefix!=null){let r=h.of("Prefix",e.Prefix).withName("Prefix");n.addChildNode(r)}return e.Tags!=null&&ai(e.Tags,t).map(s=>{s=s.withName("Tag"),n.addChildNode(s)}),n},tb=(e,t)=>{let n=new h("AnalyticsConfiguration");if(e.Id!=null){let r=h.of("AnalyticsId",e.Id).withName("Id");n.addChildNode(r)}if(e.Filter!=null){let r=zq(e.Filter,t).withName("Filter");n.addChildNode(r)}if(e.StorageClassAnalysis!=null){let r=mG(e.StorageClassAnalysis,t).withName("StorageClassAnalysis");n.addChildNode(r)}return n},Uq=(e,t)=>{let n=new h("AnalyticsExportDestination");if(e.S3BucketDestination!=null){let r=$q(e.S3BucketDestination,t).withName("S3BucketDestination");n.addChildNode(r)}return n},zq=(e,t)=>{let n=new h("AnalyticsFilter");return $l.visit(e,{Prefix:r=>{let s=h.of("Prefix",r).withName("Prefix");n.addChildNode(s)},Tag:r=>{let s=ii(r,t).withName("Tag");n.addChildNode(s)},And:r=>{let s=Lq(r,t).withName("And");n.addChildNode(s)},_:(r,s)=>{if(!(s instanceof h||s instanceof ur))throw new Error("Unable to serialize unknown union members in XML.");n.addChildNode(new h(r).addChildNode(s))}}),n},$q=(e,t)=>{let n=new h("AnalyticsS3BucketDestination");if(e.Format!=null){let r=h.of("AnalyticsS3ExportFileFormat",e.Format).withName("Format");n.addChildNode(r)}if(e.BucketAccountId!=null){let r=h.of("AccountId",e.BucketAccountId).withName("BucketAccountId");n.addChildNode(r)}if(e.Bucket!=null){let r=h.of("BucketName",e.Bucket).withName("Bucket");n.addChildNode(r)}if(e.Prefix!=null){let r=h.of("Prefix",e.Prefix).withName("Prefix");n.addChildNode(r)}return n},nb=(e,t)=>{let n=new h("BucketLifecycleConfiguration");return e.Rules!=null&&_2(e.Rules,t).map(s=>{s=s.withName("Rule"),n.addChildNode(s)}),n},rb=(e,t)=>{let n=new h("BucketLoggingStatus");if(e.LoggingEnabled!=null){let r=A2(e.LoggingEnabled,t).withName("LoggingEnabled");n.addChildNode(r)}return n},sb=(e,t)=>{let n=new h("CompletedMultipartUpload");return e.Parts!=null&&Gq(e.Parts,t).map(s=>{s=s.withName("Part"),n.addChildNode(s)}),n},qq=(e,t)=>{let n=new h("CompletedPart");if(e.ETag!=null){let r=h.of("ETag",e.ETag).withName("ETag");n.addChildNode(r)}if(e.ChecksumCRC32!=null){let r=h.of("ChecksumCRC32",e.ChecksumCRC32).withName("ChecksumCRC32");n.addChildNode(r)}if(e.ChecksumCRC32C!=null){let r=h.of("ChecksumCRC32C",e.ChecksumCRC32C).withName("ChecksumCRC32C");n.addChildNode(r)}if(e.ChecksumSHA1!=null){let r=h.of("ChecksumSHA1",e.ChecksumSHA1).withName("ChecksumSHA1");n.addChildNode(r)}if(e.ChecksumSHA256!=null){let r=h.of("ChecksumSHA256",e.ChecksumSHA256).withName("ChecksumSHA256");n.addChildNode(r)}if(e.PartNumber!=null){let r=h.of("PartNumber",String(e.PartNumber)).withName("PartNumber");n.addChildNode(r)}return n},Gq=(e,t)=>e.filter(n=>n!=null).map(n=>qq(n,t).withName("member")),jq=(e,t)=>{let n=new h("Condition");if(e.HttpErrorCodeReturnedEquals!=null){let r=h.of("HttpErrorCodeReturnedEquals",e.HttpErrorCodeReturnedEquals).withName("HttpErrorCodeReturnedEquals");n.addChildNode(r)}if(e.KeyPrefixEquals!=null){let r=h.of("KeyPrefixEquals",e.KeyPrefixEquals).withName("KeyPrefixEquals");n.addChildNode(r)}return n},ob=(e,t)=>{let n=new h("CORSConfiguration");return e.CORSRules!=null&&Kq(e.CORSRules,t).map(s=>{s=s.withName("CORSRule"),n.addChildNode(s)}),n},Hq=(e,t)=>{let n=new h("CORSRule");if(e.ID!=null){let r=h.of("ID",e.ID).withName("ID");n.addChildNode(r)}if(e.AllowedHeaders!=null&&Oq(e.AllowedHeaders,t).map(s=>{s=s.withName("AllowedHeader"),n.addChildNode(s)}),e.AllowedMethods!=null&&Fq(e.AllowedMethods,t).map(s=>{s=s.withName("AllowedMethod"),n.addChildNode(s)}),e.AllowedOrigins!=null&&Mq(e.AllowedOrigins,t).map(s=>{s=s.withName("AllowedOrigin"),n.addChildNode(s)}),e.ExposeHeaders!=null&&r2(e.ExposeHeaders,t).map(s=>{s=s.withName("ExposeHeader"),n.addChildNode(s)}),e.MaxAgeSeconds!=null){let r=h.of("MaxAgeSeconds",String(e.MaxAgeSeconds)).withName("MaxAgeSeconds");n.addChildNode(r)}return n},Kq=(e,t)=>e.filter(n=>n!=null).map(n=>Hq(n,t).withName("member")),ib=(e,t)=>{let n=new h("CreateBucketConfiguration");if(e.LocationConstraint!=null){let r=h.of("BucketLocationConstraint",e.LocationConstraint).withName("LocationConstraint");n.addChildNode(r)}return n},Vq=(e,t)=>{let n=new h("CSVInput");if(e.FileHeaderInfo!=null){let r=h.of("FileHeaderInfo",e.FileHeaderInfo).withName("FileHeaderInfo");n.addChildNode(r)}if(e.Comments!=null){let r=h.of("Comments",e.Comments).withName("Comments");n.addChildNode(r)}if(e.QuoteEscapeCharacter!=null){let r=h.of("QuoteEscapeCharacter",e.QuoteEscapeCharacter).withName("QuoteEscapeCharacter");n.addChildNode(r)}if(e.RecordDelimiter!=null){let r=h.of("RecordDelimiter",e.RecordDelimiter).withName("RecordDelimiter");n.addChildNode(r)}if(e.FieldDelimiter!=null){let r=h.of("FieldDelimiter",e.FieldDelimiter).withName("FieldDelimiter");n.addChildNode(r)}if(e.QuoteCharacter!=null){let r=h.of("QuoteCharacter",e.QuoteCharacter).withName("QuoteCharacter");n.addChildNode(r)}if(e.AllowQuotedRecordDelimiter!=null){let r=h.of("AllowQuotedRecordDelimiter",String(e.AllowQuotedRecordDelimiter)).withName("AllowQuotedRecordDelimiter");n.addChildNode(r)}return n},Wq=(e,t)=>{let n=new h("CSVOutput");if(e.QuoteFields!=null){let r=h.of("QuoteFields",e.QuoteFields).withName("QuoteFields");n.addChildNode(r)}if(e.QuoteEscapeCharacter!=null){let r=h.of("QuoteEscapeCharacter",e.QuoteEscapeCharacter).withName("QuoteEscapeCharacter");n.addChildNode(r)}if(e.RecordDelimiter!=null){let r=h.of("RecordDelimiter",e.RecordDelimiter).withName("RecordDelimiter");n.addChildNode(r)}if(e.FieldDelimiter!=null){let r=h.of("FieldDelimiter",e.FieldDelimiter).withName("FieldDelimiter");n.addChildNode(r)}if(e.QuoteCharacter!=null){let r=h.of("QuoteCharacter",e.QuoteCharacter).withName("QuoteCharacter");n.addChildNode(r)}return n},Yq=(e,t)=>{let n=new h("DefaultRetention");if(e.Mode!=null){let r=h.of("ObjectLockRetentionMode",e.Mode).withName("Mode");n.addChildNode(r)}if(e.Days!=null){let r=h.of("Days",String(e.Days)).withName("Days");n.addChildNode(r)}if(e.Years!=null){let r=h.of("Years",String(e.Years)).withName("Years");n.addChildNode(r)}return n},ab=(e,t)=>{let n=new h("Delete");if(e.Objects!=null&&O2(e.Objects,t).map(s=>{s=s.withName("Object"),n.addChildNode(s)}),e.Quiet!=null){let r=h.of("Quiet",String(e.Quiet)).withName("Quiet");n.addChildNode(r)}return n},Xq=(e,t)=>{let n=new h("DeleteMarkerReplication");if(e.Status!=null){let r=h.of("DeleteMarkerReplicationStatus",e.Status).withName("Status");n.addChildNode(r)}return n},Qq=(e,t)=>{let n=new h("Destination");if(e.Bucket!=null){let r=h.of("BucketName",e.Bucket).withName("Bucket");n.addChildNode(r)}if(e.Account!=null){let r=h.of("AccountId",e.Account).withName("Account");n.addChildNode(r)}if(e.StorageClass!=null){let r=h.of("StorageClass",e.StorageClass).withName("StorageClass");n.addChildNode(r)}if(e.AccessControlTranslation!=null){let r=Bq(e.AccessControlTranslation,t).withName("AccessControlTranslation");n.addChildNode(r)}if(e.EncryptionConfiguration!=null){let r=Jq(e.EncryptionConfiguration,t).withName("EncryptionConfiguration");n.addChildNode(r)}if(e.ReplicationTime!=null){let r=Q2(e.ReplicationTime,t).withName("ReplicationTime");n.addChildNode(r)}if(e.Metrics!=null){let r=R2(e.Metrics,t).withName("Metrics");n.addChildNode(r)}return n},Zq=(e,t)=>{let n=new h("Encryption");if(e.EncryptionType!=null){let r=h.of("ServerSideEncryption",e.EncryptionType).withName("EncryptionType");n.addChildNode(r)}if(e.KMSKeyId!=null){let r=h.of("SSEKMSKeyId",e.KMSKeyId).withName("KMSKeyId");n.addChildNode(r)}if(e.KMSContext!=null){let r=h.of("KMSContext",e.KMSContext).withName("KMSContext");n.addChildNode(r)}return n},Jq=(e,t)=>{let n=new h("EncryptionConfiguration");if(e.ReplicaKmsKeyID!=null){let r=h.of("ReplicaKmsKeyID",e.ReplicaKmsKeyID).withName("ReplicaKmsKeyID");n.addChildNode(r)}return n},e2=(e,t)=>{let n=new h("ErrorDocument");if(e.Key!=null){let r=h.of("ObjectKey",e.Key).withName("Key");n.addChildNode(r)}return n},t2=(e,t)=>new h("EventBridgeConfiguration"),Qh=(e,t)=>e.filter(n=>n!=null).map(n=>h.of("Event",n).withName("member")),n2=(e,t)=>{let n=new h("ExistingObjectReplication");if(e.Status!=null){let r=h.of("ExistingObjectReplicationStatus",e.Status).withName("Status");n.addChildNode(r)}return n},r2=(e,t)=>e.filter(n=>n!=null).map(n=>h.of("ExposeHeader",n).withName("member")),s2=(e,t)=>{let n=new h("FilterRule");if(e.Name!=null){let r=h.of("FilterRuleName",e.Name).withName("Name");n.addChildNode(r)}if(e.Value!=null){let r=h.of("FilterRuleValue",e.Value).withName("Value");n.addChildNode(r)}return n},o2=(e,t)=>e.filter(n=>n!=null).map(n=>s2(n,t).withName("member")),i2=(e,t)=>{let n=new h("GlacierJobParameters");if(e.Tier!=null){let r=h.of("Tier",e.Tier).withName("Tier");n.addChildNode(r)}return n},a2=(e,t)=>{let n=new h("Grant");if(e.Grantee!=null){let r=XA(e.Grantee,t).withName("Grantee");r.addAttribute("xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),n.addChildNode(r)}if(e.Permission!=null){let r=h.of("Permission",e.Permission).withName("Permission");n.addChildNode(r)}return n},XA=(e,t)=>{let n=new h("Grantee");if(e.DisplayName!=null){let r=h.of("DisplayName",e.DisplayName).withName("DisplayName");n.addChildNode(r)}if(e.EmailAddress!=null){let r=h.of("EmailAddress",e.EmailAddress).withName("EmailAddress");n.addChildNode(r)}if(e.ID!=null){let r=h.of("ID",e.ID).withName("ID");n.addChildNode(r)}if(e.URI!=null){let r=h.of("URI",e.URI).withName("URI");n.addChildNode(r)}return e.Type!=null&&n.addAttribute("xsi:type",e.Type),n},QA=(e,t)=>e.filter(n=>n!=null).map(n=>a2(n,t).withName("Grant")),c2=(e,t)=>{let n=new h("IndexDocument");if(e.Suffix!=null){let r=h.of("Suffix",e.Suffix).withName("Suffix");n.addChildNode(r)}return n},ZA=(e,t)=>{let n=new h("InputSerialization");if(e.CSV!=null){let r=Vq(e.CSV,t).withName("CSV");n.addChildNode(r)}if(e.CompressionType!=null){let r=h.of("CompressionType",e.CompressionType).withName("CompressionType");n.addChildNode(r)}if(e.JSON!=null){let r=g2(e.JSON,t).withName("JSON");n.addChildNode(r)}if(e.Parquet!=null){let r=$2(e.Parquet,t).withName("Parquet");n.addChildNode(r)}return n},d2=(e,t)=>{let n=new h("IntelligentTieringAndOperator");if(e.Prefix!=null){let r=h.of("Prefix",e.Prefix).withName("Prefix");n.addChildNode(r)}return e.Tags!=null&&ai(e.Tags,t).map(s=>{s=s.withName("Tag"),n.addChildNode(s)}),n},cb=(e,t)=>{let n=new h("IntelligentTieringConfiguration");if(e.Id!=null){let r=h.of("IntelligentTieringId",e.Id).withName("Id");n.addChildNode(r)}if(e.Filter!=null){let r=l2(e.Filter,t).withName("Filter");n.addChildNode(r)}if(e.Status!=null){let r=h.of("IntelligentTieringStatus",e.Status).withName("Status");n.addChildNode(r)}return e.Tierings!=null&&gG(e.Tierings,t).map(s=>{s=s.withName("Tiering"),n.addChildNode(s)}),n},l2=(e,t)=>{let n=new h("IntelligentTieringFilter");if(e.Prefix!=null){let r=h.of("Prefix",e.Prefix).withName("Prefix");n.addChildNode(r)}if(e.Tag!=null){let r=ii(e.Tag,t).withName("Tag");n.addChildNode(r)}if(e.And!=null){let r=d2(e.And,t).withName("And");n.addChildNode(r)}return n},db=(e,t)=>{let n=new h("InventoryConfiguration");if(e.Destination!=null){let r=u2(e.Destination,t).withName("Destination");n.addChildNode(r)}if(e.IsEnabled!=null){let r=h.of("IsEnabled",String(e.IsEnabled)).withName("IsEnabled");n.addChildNode(r)}if(e.Filter!=null){let r=f2(e.Filter,t).withName("Filter");n.addChildNode(r)}if(e.Id!=null){let r=h.of("InventoryId",e.Id).withName("Id");n.addChildNode(r)}if(e.IncludedObjectVersions!=null){let r=h.of("InventoryIncludedObjectVersions",e.IncludedObjectVersions).withName("IncludedObjectVersions");n.addChildNode(r)}if(e.OptionalFields!=null){let r=h2(e.OptionalFields,t),s=new h("OptionalFields");r.map(o=>{s.addChildNode(o)}),n.addChildNode(s)}if(e.Schedule!=null){let r=y2(e.Schedule,t).withName("Schedule");n.addChildNode(r)}return n},u2=(e,t)=>{let n=new h("InventoryDestination");if(e.S3BucketDestination!=null){let r=p2(e.S3BucketDestination,t).withName("S3BucketDestination");n.addChildNode(r)}return n},m2=(e,t)=>{let n=new h("InventoryEncryption");if(e.SSES3!=null){let r=uG(e.SSES3,t).withName("SSE-S3");n.addChildNode(r)}if(e.SSEKMS!=null){let r=dG(e.SSEKMS,t).withName("SSE-KMS");n.addChildNode(r)}return n},f2=(e,t)=>{let n=new h("InventoryFilter");if(e.Prefix!=null){let r=h.of("Prefix",e.Prefix).withName("Prefix");n.addChildNode(r)}return n},h2=(e,t)=>e.filter(n=>n!=null).map(n=>h.of("InventoryOptionalField",n).withName("Field")),p2=(e,t)=>{let n=new h("InventoryS3BucketDestination");if(e.AccountId!=null){let r=h.of("AccountId",e.AccountId).withName("AccountId");n.addChildNode(r)}if(e.Bucket!=null){let r=h.of("BucketName",e.Bucket).withName("Bucket");n.addChildNode(r)}if(e.Format!=null){let r=h.of("InventoryFormat",e.Format).withName("Format");n.addChildNode(r)}if(e.Prefix!=null){let r=h.of("Prefix",e.Prefix).withName("Prefix");n.addChildNode(r)}if(e.Encryption!=null){let r=m2(e.Encryption,t).withName("Encryption");n.addChildNode(r)}return n},y2=(e,t)=>{let n=new h("InventorySchedule");if(e.Frequency!=null){let r=h.of("InventoryFrequency",e.Frequency).withName("Frequency");n.addChildNode(r)}return n},g2=(e,t)=>{let n=new h("JSONInput");if(e.Type!=null){let r=h.of("JSONType",e.Type).withName("Type");n.addChildNode(r)}return n},E2=(e,t)=>{let n=new h("JSONOutput");if(e.RecordDelimiter!=null){let r=h.of("RecordDelimiter",e.RecordDelimiter).withName("RecordDelimiter");n.addChildNode(r)}return n},x2=(e,t)=>{let n=new h("LambdaFunctionConfiguration");if(e.Id!=null){let r=h.of("NotificationId",e.Id).withName("Id");n.addChildNode(r)}if(e.LambdaFunctionArn!=null){let r=h.of("LambdaFunctionArn",e.LambdaFunctionArn).withName("CloudFunction");n.addChildNode(r)}if(e.Events!=null&&Qh(e.Events,t).map(s=>{s=s.withName("Event"),n.addChildNode(s)}),e.Filter!=null){let r=Zh(e.Filter,t).withName("Filter");n.addChildNode(r)}return n},S2=(e,t)=>e.filter(n=>n!=null).map(n=>x2(n,t).withName("member")),w2=(e,t)=>{let n=new h("LifecycleExpiration");if(e.Date!=null){let r=h.of("Date",(e.Date.toISOString().split(".")[0]+"Z").toString()).withName("Date");n.addChildNode(r)}if(e.Days!=null){let r=h.of("Days",String(e.Days)).withName("Days");n.addChildNode(r)}if(e.ExpiredObjectDeleteMarker!=null){let r=h.of("ExpiredObjectDeleteMarker",String(e.ExpiredObjectDeleteMarker)).withName("ExpiredObjectDeleteMarker");n.addChildNode(r)}return n},C2=(e,t)=>{let n=new h("LifecycleRule");if(e.Expiration!=null){let r=w2(e.Expiration,t).withName("Expiration");n.addChildNode(r)}if(e.ID!=null){let r=h.of("ID",e.ID).withName("ID");n.addChildNode(r)}if(e.Prefix!=null){let r=h.of("Prefix",e.Prefix).withName("Prefix");n.addChildNode(r)}if(e.Filter!=null){let r=P2(e.Filter,t).withName("Filter");n.addChildNode(r)}if(e.Status!=null){let r=h.of("ExpirationStatus",e.Status).withName("Status");n.addChildNode(r)}if(e.Transitions!=null&&wG(e.Transitions,t).map(s=>{s=s.withName("Transition"),n.addChildNode(s)}),e.NoncurrentVersionTransitions!=null&&D2(e.NoncurrentVersionTransitions,t).map(s=>{s=s.withName("NoncurrentVersionTransition"),n.addChildNode(s)}),e.NoncurrentVersionExpiration!=null){let r=T2(e.NoncurrentVersionExpiration,t).withName("NoncurrentVersionExpiration");n.addChildNode(r)}if(e.AbortIncompleteMultipartUpload!=null){let r=Dq(e.AbortIncompleteMultipartUpload,t).withName("AbortIncompleteMultipartUpload");n.addChildNode(r)}return n},b2=(e,t)=>{let n=new h("LifecycleRuleAndOperator");if(e.Prefix!=null){let r=h.of("Prefix",e.Prefix).withName("Prefix");n.addChildNode(r)}if(e.Tags!=null&&ai(e.Tags,t).map(s=>{s=s.withName("Tag"),n.addChildNode(s)}),e.ObjectSizeGreaterThan!=null){let r=h.of("ObjectSizeGreaterThanBytes",String(e.ObjectSizeGreaterThan)).withName("ObjectSizeGreaterThan");n.addChildNode(r)}if(e.ObjectSizeLessThan!=null){let r=h.of("ObjectSizeLessThanBytes",String(e.ObjectSizeLessThan)).withName("ObjectSizeLessThan");n.addChildNode(r)}return n},P2=(e,t)=>{let n=new h("LifecycleRuleFilter");return ql.visit(e,{Prefix:r=>{let s=h.of("Prefix",r).withName("Prefix");n.addChildNode(s)},Tag:r=>{let s=ii(r,t).withName("Tag");n.addChildNode(s)},ObjectSizeGreaterThan:r=>{let s=h.of("ObjectSizeGreaterThanBytes",String(r)).withName("ObjectSizeGreaterThan");n.addChildNode(s)},ObjectSizeLessThan:r=>{let s=h.of("ObjectSizeLessThanBytes",String(r)).withName("ObjectSizeLessThan");n.addChildNode(s)},And:r=>{let s=b2(r,t).withName("And");n.addChildNode(s)},_:(r,s)=>{if(!(s instanceof h||s instanceof ur))throw new Error("Unable to serialize unknown union members in XML.");n.addChildNode(new h(r).addChildNode(s))}}),n},_2=(e,t)=>e.filter(n=>n!=null).map(n=>C2(n,t).withName("member")),A2=(e,t)=>{let n=new h("LoggingEnabled");if(e.TargetBucket!=null){let r=h.of("TargetBucket",e.TargetBucket).withName("TargetBucket");n.addChildNode(r)}if(e.TargetGrants!=null){let r=pG(e.TargetGrants,t),s=new h("TargetGrants");r.map(o=>{s.addChildNode(o)}),n.addChildNode(s)}if(e.TargetPrefix!=null){let r=h.of("TargetPrefix",e.TargetPrefix).withName("TargetPrefix");n.addChildNode(r)}return n},k2=(e,t)=>{let n=new h("MetadataEntry");if(e.Name!=null){let r=h.of("MetadataKey",e.Name).withName("Name");n.addChildNode(r)}if(e.Value!=null){let r=h.of("MetadataValue",e.Value).withName("Value");n.addChildNode(r)}return n},R2=(e,t)=>{let n=new h("Metrics");if(e.Status!=null){let r=h.of("MetricsStatus",e.Status).withName("Status");n.addChildNode(r)}if(e.EventThreshold!=null){let r=ek(e.EventThreshold,t).withName("EventThreshold");n.addChildNode(r)}return n},I2=(e,t)=>{let n=new h("MetricsAndOperator");if(e.Prefix!=null){let r=h.of("Prefix",e.Prefix).withName("Prefix");n.addChildNode(r)}if(e.Tags!=null&&ai(e.Tags,t).map(s=>{s=s.withName("Tag"),n.addChildNode(s)}),e.AccessPointArn!=null){let r=h.of("AccessPointArn",e.AccessPointArn).withName("AccessPointArn");n.addChildNode(r)}return n},lb=(e,t)=>{let n=new h("MetricsConfiguration");if(e.Id!=null){let r=h.of("MetricsId",e.Id).withName("Id");n.addChildNode(r)}if(e.Filter!=null){let r=N2(e.Filter,t).withName("Filter");n.addChildNode(r)}return n},N2=(e,t)=>{let n=new h("MetricsFilter");return Gl.visit(e,{Prefix:r=>{let s=h.of("Prefix",r).withName("Prefix");n.addChildNode(s)},Tag:r=>{let s=ii(r,t).withName("Tag");n.addChildNode(s)},AccessPointArn:r=>{let s=h.of("AccessPointArn",r).withName("AccessPointArn");n.addChildNode(s)},And:r=>{let s=I2(r,t).withName("And");n.addChildNode(s)},_:(r,s)=>{if(!(s instanceof h||s instanceof ur))throw new Error("Unable to serialize unknown union members in XML.");n.addChildNode(new h(r).addChildNode(s))}}),n},T2=(e,t)=>{let n=new h("NoncurrentVersionExpiration");if(e.NoncurrentDays!=null){let r=h.of("Days",String(e.NoncurrentDays)).withName("NoncurrentDays");n.addChildNode(r)}if(e.NewerNoncurrentVersions!=null){let r=h.of("VersionCount",String(e.NewerNoncurrentVersions)).withName("NewerNoncurrentVersions");n.addChildNode(r)}return n},v2=(e,t)=>{let n=new h("NoncurrentVersionTransition");if(e.NoncurrentDays!=null){let r=h.of("Days",String(e.NoncurrentDays)).withName("NoncurrentDays");n.addChildNode(r)}if(e.StorageClass!=null){let r=h.of("TransitionStorageClass",e.StorageClass).withName("StorageClass");n.addChildNode(r)}if(e.NewerNoncurrentVersions!=null){let r=h.of("VersionCount",String(e.NewerNoncurrentVersions)).withName("NewerNoncurrentVersions");n.addChildNode(r)}return n},D2=(e,t)=>e.filter(n=>n!=null).map(n=>v2(n,t).withName("member")),ub=(e,t)=>{let n=new h("NotificationConfiguration");if(e.TopicConfigurations!=null&&xG(e.TopicConfigurations,t).map(s=>{s=s.withName("TopicConfiguration"),n.addChildNode(s)}),e.QueueConfigurations!=null&&G2(e.QueueConfigurations,t).map(s=>{s=s.withName("QueueConfiguration"),n.addChildNode(s)}),e.LambdaFunctionConfigurations!=null&&S2(e.LambdaFunctionConfigurations,t).map(s=>{s=s.withName("CloudFunctionConfiguration"),n.addChildNode(s)}),e.EventBridgeConfiguration!=null){let r=t2(e.EventBridgeConfiguration,t).withName("EventBridgeConfiguration");n.addChildNode(r)}return n},Zh=(e,t)=>{let n=new h("NotificationConfigurationFilter");if(e.Key!=null){let r=tG(e.Key,t).withName("S3Key");n.addChildNode(r)}return n},B2=(e,t)=>{let n=new h("ObjectIdentifier");if(e.Key!=null){let r=h.of("ObjectKey",e.Key).withName("Key");n.addChildNode(r)}if(e.VersionId!=null){let r=h.of("ObjectVersionId",e.VersionId).withName("VersionId");n.addChildNode(r)}return n},O2=(e,t)=>e.filter(n=>n!=null).map(n=>B2(n,t).withName("member")),mb=(e,t)=>{let n=new h("ObjectLockConfiguration");if(e.ObjectLockEnabled!=null){let r=h.of("ObjectLockEnabled",e.ObjectLockEnabled).withName("ObjectLockEnabled");n.addChildNode(r)}if(e.Rule!=null){let r=F2(e.Rule,t).withName("Rule");n.addChildNode(r)}return n},fb=(e,t)=>{let n=new h("ObjectLockLegalHold");if(e.Status!=null){let r=h.of("ObjectLockLegalHoldStatus",e.Status).withName("Status");n.addChildNode(r)}return n},hb=(e,t)=>{let n=new h("ObjectLockRetention");if(e.Mode!=null){let r=h.of("ObjectLockRetentionMode",e.Mode).withName("Mode");n.addChildNode(r)}if(e.RetainUntilDate!=null){let r=h.of("Date",(e.RetainUntilDate.toISOString().split(".")[0]+"Z").toString()).withName("RetainUntilDate");n.addChildNode(r)}return n},F2=(e,t)=>{let n=new h("ObjectLockRule");if(e.DefaultRetention!=null){let r=Yq(e.DefaultRetention,t).withName("DefaultRetention");n.addChildNode(r)}return n},M2=(e,t)=>{let n=new h("OutputLocation");if(e.S3!=null){let r=nG(e.S3,t).withName("S3");n.addChildNode(r)}return n},JA=(e,t)=>{let n=new h("OutputSerialization");if(e.CSV!=null){let r=Wq(e.CSV,t).withName("CSV");n.addChildNode(r)}if(e.JSON!=null){let r=E2(e.JSON,t).withName("JSON");n.addChildNode(r)}return n},L2=(e,t)=>{let n=new h("Owner");if(e.DisplayName!=null){let r=h.of("DisplayName",e.DisplayName).withName("DisplayName");n.addChildNode(r)}if(e.ID!=null){let r=h.of("ID",e.ID).withName("ID");n.addChildNode(r)}return n},pb=(e,t)=>{let n=new h("OwnershipControls");return e.Rules!=null&&z2(e.Rules,t).map(s=>{s=s.withName("Rule"),n.addChildNode(s)}),n},U2=(e,t)=>{let n=new h("OwnershipControlsRule");if(e.ObjectOwnership!=null){let r=h.of("ObjectOwnership",e.ObjectOwnership).withName("ObjectOwnership");n.addChildNode(r)}return n},z2=(e,t)=>e.filter(n=>n!=null).map(n=>U2(n,t).withName("member")),$2=(e,t)=>new h("ParquetInput"),yb=(e,t)=>{let n=new h("PublicAccessBlockConfiguration");if(e.BlockPublicAcls!=null){let r=h.of("Setting",String(e.BlockPublicAcls)).withName("BlockPublicAcls");n.addChildNode(r)}if(e.IgnorePublicAcls!=null){let r=h.of("Setting",String(e.IgnorePublicAcls)).withName("IgnorePublicAcls");n.addChildNode(r)}if(e.BlockPublicPolicy!=null){let r=h.of("Setting",String(e.BlockPublicPolicy)).withName("BlockPublicPolicy");n.addChildNode(r)}if(e.RestrictPublicBuckets!=null){let r=h.of("Setting",String(e.RestrictPublicBuckets)).withName("RestrictPublicBuckets");n.addChildNode(r)}return n},q2=(e,t)=>{let n=new h("QueueConfiguration");if(e.Id!=null){let r=h.of("NotificationId",e.Id).withName("Id");n.addChildNode(r)}if(e.QueueArn!=null){let r=h.of("QueueArn",e.QueueArn).withName("Queue");n.addChildNode(r)}if(e.Events!=null&&Qh(e.Events,t).map(s=>{s=s.withName("Event"),n.addChildNode(s)}),e.Filter!=null){let r=Zh(e.Filter,t).withName("Filter");n.addChildNode(r)}return n},G2=(e,t)=>e.filter(n=>n!=null).map(n=>q2(n,t).withName("member")),j2=(e,t)=>{let n=new h("Redirect");if(e.HostName!=null){let r=h.of("HostName",e.HostName).withName("HostName");n.addChildNode(r)}if(e.HttpRedirectCode!=null){let r=h.of("HttpRedirectCode",e.HttpRedirectCode).withName("HttpRedirectCode");n.addChildNode(r)}if(e.Protocol!=null){let r=h.of("Protocol",e.Protocol).withName("Protocol");n.addChildNode(r)}if(e.ReplaceKeyPrefixWith!=null){let r=h.of("ReplaceKeyPrefixWith",e.ReplaceKeyPrefixWith).withName("ReplaceKeyPrefixWith");n.addChildNode(r)}if(e.ReplaceKeyWith!=null){let r=h.of("ReplaceKeyWith",e.ReplaceKeyWith).withName("ReplaceKeyWith");n.addChildNode(r)}return n},H2=(e,t)=>{let n=new h("RedirectAllRequestsTo");if(e.HostName!=null){let r=h.of("HostName",e.HostName).withName("HostName");n.addChildNode(r)}if(e.Protocol!=null){let r=h.of("Protocol",e.Protocol).withName("Protocol");n.addChildNode(r)}return n},K2=(e,t)=>{let n=new h("ReplicaModifications");if(e.Status!=null){let r=h.of("ReplicaModificationsStatus",e.Status).withName("Status");n.addChildNode(r)}return n},gb=(e,t)=>{let n=new h("ReplicationConfiguration");if(e.Role!=null){let r=h.of("Role",e.Role).withName("Role");n.addChildNode(r)}return e.Rules!=null&&X2(e.Rules,t).map(s=>{s=s.withName("Rule"),n.addChildNode(s)}),n},V2=(e,t)=>{let n=new h("ReplicationRule");if(e.ID!=null){let r=h.of("ID",e.ID).withName("ID");n.addChildNode(r)}if(e.Priority!=null){let r=h.of("Priority",String(e.Priority)).withName("Priority");n.addChildNode(r)}if(e.Prefix!=null){let r=h.of("Prefix",e.Prefix).withName("Prefix");n.addChildNode(r)}if(e.Filter!=null){let r=Y2(e.Filter,t).withName("Filter");n.addChildNode(r)}if(e.Status!=null){let r=h.of("ReplicationRuleStatus",e.Status).withName("Status");n.addChildNode(r)}if(e.SourceSelectionCriteria!=null){let r=cG(e.SourceSelectionCriteria,t).withName("SourceSelectionCriteria");n.addChildNode(r)}if(e.ExistingObjectReplication!=null){let r=n2(e.ExistingObjectReplication,t).withName("ExistingObjectReplication");n.addChildNode(r)}if(e.Destination!=null){let r=Qq(e.Destination,t).withName("Destination");n.addChildNode(r)}if(e.DeleteMarkerReplication!=null){let r=Xq(e.DeleteMarkerReplication,t).withName("DeleteMarkerReplication");n.addChildNode(r)}return n},W2=(e,t)=>{let n=new h("ReplicationRuleAndOperator");if(e.Prefix!=null){let r=h.of("Prefix",e.Prefix).withName("Prefix");n.addChildNode(r)}return e.Tags!=null&&ai(e.Tags,t).map(s=>{s=s.withName("Tag"),n.addChildNode(s)}),n},Y2=(e,t)=>{let n=new h("ReplicationRuleFilter");return jl.visit(e,{Prefix:r=>{let s=h.of("Prefix",r).withName("Prefix");n.addChildNode(s)},Tag:r=>{let s=ii(r,t).withName("Tag");n.addChildNode(s)},And:r=>{let s=W2(r,t).withName("And");n.addChildNode(s)},_:(r,s)=>{if(!(s instanceof h||s instanceof ur))throw new Error("Unable to serialize unknown union members in XML.");n.addChildNode(new h(r).addChildNode(s))}}),n},X2=(e,t)=>e.filter(n=>n!=null).map(n=>V2(n,t).withName("member")),Q2=(e,t)=>{let n=new h("ReplicationTime");if(e.Status!=null){let r=h.of("ReplicationTimeStatus",e.Status).withName("Status");n.addChildNode(r)}if(e.Time!=null){let r=ek(e.Time,t).withName("Time");n.addChildNode(r)}return n},ek=(e,t)=>{let n=new h("ReplicationTimeValue");if(e.Minutes!=null){let r=h.of("Minutes",String(e.Minutes)).withName("Minutes");n.addChildNode(r)}return n},Eb=(e,t)=>{let n=new h("RequestPaymentConfiguration");if(e.Payer!=null){let r=h.of("Payer",e.Payer).withName("Payer");n.addChildNode(r)}return n},Z2=(e,t)=>{let n=new h("RequestProgress");if(e.Enabled!=null){let r=h.of("EnableRequestProgress",String(e.Enabled)).withName("Enabled");n.addChildNode(r)}return n},xb=(e,t)=>{let n=new h("RestoreRequest");if(e.Days!=null){let r=h.of("Days",String(e.Days)).withName("Days");n.addChildNode(r)}if(e.GlacierJobParameters!=null){let r=i2(e.GlacierJobParameters,t).withName("GlacierJobParameters");n.addChildNode(r)}if(e.Type!=null){let r=h.of("RestoreRequestType",e.Type).withName("Type");n.addChildNode(r)}if(e.Tier!=null){let r=h.of("Tier",e.Tier).withName("Tier");n.addChildNode(r)}if(e.Description!=null){let r=h.of("Description",e.Description).withName("Description");n.addChildNode(r)}if(e.SelectParameters!=null){let r=sG(e.SelectParameters,t).withName("SelectParameters");n.addChildNode(r)}if(e.OutputLocation!=null){let r=M2(e.OutputLocation,t).withName("OutputLocation");n.addChildNode(r)}return n},J2=(e,t)=>{let n=new h("RoutingRule");if(e.Condition!=null){let r=jq(e.Condition,t).withName("Condition");n.addChildNode(r)}if(e.Redirect!=null){let r=j2(e.Redirect,t).withName("Redirect");n.addChildNode(r)}return n},eG=(e,t)=>e.filter(n=>n!=null).map(n=>J2(n,t).withName("RoutingRule")),tG=(e,t)=>{let n=new h("S3KeyFilter");return e.FilterRules!=null&&o2(e.FilterRules,t).map(s=>{s=s.withName("FilterRule"),n.addChildNode(s)}),n},nG=(e,t)=>{let n=new h("S3Location");if(e.BucketName!=null){let r=h.of("BucketName",e.BucketName).withName("BucketName");n.addChildNode(r)}if(e.Prefix!=null){let r=h.of("LocationPrefix",e.Prefix).withName("Prefix");n.addChildNode(r)}if(e.Encryption!=null){let r=Zq(e.Encryption,t).withName("Encryption");n.addChildNode(r)}if(e.CannedACL!=null){let r=h.of("ObjectCannedACL",e.CannedACL).withName("CannedACL");n.addChildNode(r)}if(e.AccessControlList!=null){let r=QA(e.AccessControlList,t),s=new h("AccessControlList");r.map(o=>{s.addChildNode(o)}),n.addChildNode(s)}if(e.Tagging!=null){let r=gd(e.Tagging,t).withName("Tagging");n.addChildNode(r)}if(e.UserMetadata!=null){let r=CG(e.UserMetadata,t),s=new h("UserMetadata");r.map(o=>{s.addChildNode(o)}),n.addChildNode(s)}if(e.StorageClass!=null){let r=h.of("StorageClass",e.StorageClass).withName("StorageClass");n.addChildNode(r)}return n},rG=(e,t)=>{let n=new h("ScanRange");if(e.Start!=null){let r=h.of("Start",String(e.Start)).withName("Start");n.addChildNode(r)}if(e.End!=null){let r=h.of("End",String(e.End)).withName("End");n.addChildNode(r)}return n},sG=(e,t)=>{let n=new h("SelectParameters");if(e.InputSerialization!=null){let r=ZA(e.InputSerialization,t).withName("InputSerialization");n.addChildNode(r)}if(e.ExpressionType!=null){let r=h.of("ExpressionType",e.ExpressionType).withName("ExpressionType");n.addChildNode(r)}if(e.Expression!=null){let r=h.of("Expression",e.Expression).withName("Expression");n.addChildNode(r)}if(e.OutputSerialization!=null){let r=JA(e.OutputSerialization,t).withName("OutputSerialization");n.addChildNode(r)}return n},oG=(e,t)=>{let n=new h("ServerSideEncryptionByDefault");if(e.SSEAlgorithm!=null){let r=h.of("ServerSideEncryption",e.SSEAlgorithm).withName("SSEAlgorithm");n.addChildNode(r)}if(e.KMSMasterKeyID!=null){let r=h.of("SSEKMSKeyId",e.KMSMasterKeyID).withName("KMSMasterKeyID");n.addChildNode(r)}return n},Sb=(e,t)=>{let n=new h("ServerSideEncryptionConfiguration");return e.Rules!=null&&aG(e.Rules,t).map(s=>{s=s.withName("Rule"),n.addChildNode(s)}),n},iG=(e,t)=>{let n=new h("ServerSideEncryptionRule");if(e.ApplyServerSideEncryptionByDefault!=null){let r=oG(e.ApplyServerSideEncryptionByDefault,t).withName("ApplyServerSideEncryptionByDefault");n.addChildNode(r)}if(e.BucketKeyEnabled!=null){let r=h.of("BucketKeyEnabled",String(e.BucketKeyEnabled)).withName("BucketKeyEnabled");n.addChildNode(r)}return n},aG=(e,t)=>e.filter(n=>n!=null).map(n=>iG(n,t).withName("member")),cG=(e,t)=>{let n=new h("SourceSelectionCriteria");if(e.SseKmsEncryptedObjects!=null){let r=lG(e.SseKmsEncryptedObjects,t).withName("SseKmsEncryptedObjects");n.addChildNode(r)}if(e.ReplicaModifications!=null){let r=K2(e.ReplicaModifications,t).withName("ReplicaModifications");n.addChildNode(r)}return n},dG=(e,t)=>{let n=new h("SSE-KMS");if(e.KeyId!=null){let r=h.of("SSEKMSKeyId",e.KeyId).withName("KeyId");n.addChildNode(r)}return n},lG=(e,t)=>{let n=new h("SseKmsEncryptedObjects");if(e.Status!=null){let r=h.of("SseKmsEncryptedObjectsStatus",e.Status).withName("Status");n.addChildNode(r)}return n},uG=(e,t)=>new h("SSE-S3"),mG=(e,t)=>{let n=new h("StorageClassAnalysis");if(e.DataExport!=null){let r=fG(e.DataExport,t).withName("DataExport");n.addChildNode(r)}return n},fG=(e,t)=>{let n=new h("StorageClassAnalysisDataExport");if(e.OutputSchemaVersion!=null){let r=h.of("StorageClassAnalysisSchemaVersion",e.OutputSchemaVersion).withName("OutputSchemaVersion");n.addChildNode(r)}if(e.Destination!=null){let r=Uq(e.Destination,t).withName("Destination");n.addChildNode(r)}return n},ii=(e,t)=>{let n=new h("Tag");if(e.Key!=null){let r=h.of("ObjectKey",e.Key).withName("Key");n.addChildNode(r)}if(e.Value!=null){let r=h.of("Value",e.Value).withName("Value");n.addChildNode(r)}return n},gd=(e,t)=>{let n=new h("Tagging");if(e.TagSet!=null){let r=ai(e.TagSet,t),s=new h("TagSet");r.map(o=>{s.addChildNode(o)}),n.addChildNode(s)}return n},ai=(e,t)=>e.filter(n=>n!=null).map(n=>ii(n,t).withName("Tag")),hG=(e,t)=>{let n=new h("TargetGrant");if(e.Grantee!=null){let r=XA(e.Grantee,t).withName("Grantee");r.addAttribute("xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),n.addChildNode(r)}if(e.Permission!=null){let r=h.of("BucketLogsPermission",e.Permission).withName("Permission");n.addChildNode(r)}return n},pG=(e,t)=>e.filter(n=>n!=null).map(n=>hG(n,t).withName("Grant")),yG=(e,t)=>{let n=new h("Tiering");if(e.Days!=null){let r=h.of("IntelligentTieringDays",String(e.Days)).withName("Days");n.addChildNode(r)}if(e.AccessTier!=null){let r=h.of("IntelligentTieringAccessTier",e.AccessTier).withName("AccessTier");n.addChildNode(r)}return n},gG=(e,t)=>e.filter(n=>n!=null).map(n=>yG(n,t).withName("member")),EG=(e,t)=>{let n=new h("TopicConfiguration");if(e.Id!=null){let r=h.of("NotificationId",e.Id).withName("Id");n.addChildNode(r)}if(e.TopicArn!=null){let r=h.of("TopicArn",e.TopicArn).withName("Topic");n.addChildNode(r)}if(e.Events!=null&&Qh(e.Events,t).map(s=>{s=s.withName("Event"),n.addChildNode(s)}),e.Filter!=null){let r=Zh(e.Filter,t).withName("Filter");n.addChildNode(r)}return n},xG=(e,t)=>e.filter(n=>n!=null).map(n=>EG(n,t).withName("member")),SG=(e,t)=>{let n=new h("Transition");if(e.Date!=null){let r=h.of("Date",(e.Date.toISOString().split(".")[0]+"Z").toString()).withName("Date");n.addChildNode(r)}if(e.Days!=null){let r=h.of("Days",String(e.Days)).withName("Days");n.addChildNode(r)}if(e.StorageClass!=null){let r=h.of("TransitionStorageClass",e.StorageClass).withName("StorageClass");n.addChildNode(r)}return n},wG=(e,t)=>e.filter(n=>n!=null).map(n=>SG(n,t).withName("member")),CG=(e,t)=>e.filter(n=>n!=null).map(n=>k2(n,t).withName("MetadataEntry")),wb=(e,t)=>{let n=new h("VersioningConfiguration");if(e.MFADelete!=null){let r=h.of("MFADelete",e.MFADelete).withName("MfaDelete");n.addChildNode(r)}if(e.Status!=null){let r=h.of("BucketVersioningStatus",e.Status).withName("Status");n.addChildNode(r)}return n},Cb=(e,t)=>{let n=new h("WebsiteConfiguration");if(e.ErrorDocument!=null){let r=e2(e.ErrorDocument,t).withName("ErrorDocument");n.addChildNode(r)}if(e.IndexDocument!=null){let r=c2(e.IndexDocument,t).withName("IndexDocument");n.addChildNode(r)}if(e.RedirectAllRequestsTo!=null){let r=H2(e.RedirectAllRequestsTo,t).withName("RedirectAllRequestsTo");n.addChildNode(r)}if(e.RoutingRules!=null){let r=eG(e.RoutingRules,t),s=new h("RoutingRules");r.map(o=>{s.addChildNode(o)}),n.addChildNode(s)}return n},bG=(e,t)=>{let n={};return e.DaysAfterInitiation!==void 0&&(n.DaysAfterInitiation=Ie(e.DaysAfterInitiation)),n},PG=(e,t)=>{let n={};return e.Owner!==void 0&&(n.Owner=y(e.Owner)),n},_G=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>y(n)),AG=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>y(n)),kG=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>y(n)),RG=(e,t)=>{let n={};return e.Prefix!==void 0&&(n.Prefix=y(e.Prefix)),e.Tag===""?n.Tags=[]:e.Tag!==void 0&&(n.Tags=oo(te(e.Tag),t)),n},tk=(e,t)=>{let n={};return e.Id!==void 0&&(n.Id=y(e.Id)),e.Filter===""||e.Filter!==void 0&&(n.Filter=TG(ld(e.Filter),t)),e.StorageClassAnalysis!==void 0&&(n.StorageClassAnalysis=CH(e.StorageClassAnalysis,t)),n},IG=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>tk(n,t)),NG=(e,t)=>{let n={};return e.S3BucketDestination!==void 0&&(n.S3BucketDestination=vG(e.S3BucketDestination,t)),n},TG=(e,t)=>e.Prefix!==void 0?{Prefix:y(e.Prefix)}:e.Tag!==void 0?{Tag:ci(e.Tag,t)}:e.And!==void 0?{And:RG(e.And,t)}:{$unknown:Object.entries(e)[0]},vG=(e,t)=>{let n={};return e.Format!==void 0&&(n.Format=y(e.Format)),e.BucketAccountId!==void 0&&(n.BucketAccountId=y(e.BucketAccountId)),e.Bucket!==void 0&&(n.Bucket=y(e.Bucket)),e.Prefix!==void 0&&(n.Prefix=y(e.Prefix)),n},DG=(e,t)=>{let n={};return e.Name!==void 0&&(n.Name=y(e.Name)),e.CreationDate!==void 0&&(n.CreationDate=W(_t(e.CreationDate))),n},BG=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>DG(n,t)),OG=(e,t)=>{let n={};return e.ChecksumCRC32!==void 0&&(n.ChecksumCRC32=y(e.ChecksumCRC32)),e.ChecksumCRC32C!==void 0&&(n.ChecksumCRC32C=y(e.ChecksumCRC32C)),e.ChecksumSHA1!==void 0&&(n.ChecksumSHA1=y(e.ChecksumSHA1)),e.ChecksumSHA256!==void 0&&(n.ChecksumSHA256=y(e.ChecksumSHA256)),n},nk=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>y(n)),FG=(e,t)=>{let n={};return e.Prefix!==void 0&&(n.Prefix=y(e.Prefix)),n},Vl=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>FG(n,t)),MG=(e,t)=>{let n={};return e.HttpErrorCodeReturnedEquals!==void 0&&(n.HttpErrorCodeReturnedEquals=y(e.HttpErrorCodeReturnedEquals)),e.KeyPrefixEquals!==void 0&&(n.KeyPrefixEquals=y(e.KeyPrefixEquals)),n},LG=(e,t)=>({}),UG=(e,t)=>{let n={};return e.ETag!==void 0&&(n.ETag=y(e.ETag)),e.LastModified!==void 0&&(n.LastModified=W(_t(e.LastModified))),e.ChecksumCRC32!==void 0&&(n.ChecksumCRC32=y(e.ChecksumCRC32)),e.ChecksumCRC32C!==void 0&&(n.ChecksumCRC32C=y(e.ChecksumCRC32C)),e.ChecksumSHA1!==void 0&&(n.ChecksumSHA1=y(e.ChecksumSHA1)),e.ChecksumSHA256!==void 0&&(n.ChecksumSHA256=y(e.ChecksumSHA256)),n},zG=(e,t)=>{let n={};return e.ETag!==void 0&&(n.ETag=y(e.ETag)),e.LastModified!==void 0&&(n.LastModified=W(_t(e.LastModified))),e.ChecksumCRC32!==void 0&&(n.ChecksumCRC32=y(e.ChecksumCRC32)),e.ChecksumCRC32C!==void 0&&(n.ChecksumCRC32C=y(e.ChecksumCRC32C)),e.ChecksumSHA1!==void 0&&(n.ChecksumSHA1=y(e.ChecksumSHA1)),e.ChecksumSHA256!==void 0&&(n.ChecksumSHA256=y(e.ChecksumSHA256)),n},$G=(e,t)=>{let n={};return e.ID!==void 0&&(n.ID=y(e.ID)),e.AllowedHeader===""?n.AllowedHeaders=[]:e.AllowedHeader!==void 0&&(n.AllowedHeaders=_G(te(e.AllowedHeader),t)),e.AllowedMethod===""?n.AllowedMethods=[]:e.AllowedMethod!==void 0&&(n.AllowedMethods=AG(te(e.AllowedMethod),t)),e.AllowedOrigin===""?n.AllowedOrigins=[]:e.AllowedOrigin!==void 0&&(n.AllowedOrigins=kG(te(e.AllowedOrigin),t)),e.ExposeHeader===""?n.ExposeHeaders=[]:e.ExposeHeader!==void 0&&(n.ExposeHeaders=rj(te(e.ExposeHeader),t)),e.MaxAgeSeconds!==void 0&&(n.MaxAgeSeconds=Ie(e.MaxAgeSeconds)),n},qG=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>$G(n,t)),GG=(e,t)=>{let n={};return e.Mode!==void 0&&(n.Mode=y(e.Mode)),e.Days!==void 0&&(n.Days=Ie(e.Days)),e.Years!==void 0&&(n.Years=Ie(e.Years)),n},jG=(e,t)=>{let n={};return e.Key!==void 0&&(n.Key=y(e.Key)),e.VersionId!==void 0&&(n.VersionId=y(e.VersionId)),e.DeleteMarker!==void 0&&(n.DeleteMarker=_e(e.DeleteMarker)),e.DeleteMarkerVersionId!==void 0&&(n.DeleteMarkerVersionId=y(e.DeleteMarkerVersionId)),n},HG=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>jG(n,t)),KG=(e,t)=>{let n={};return e.Owner!==void 0&&(n.Owner=es(e.Owner,t)),e.Key!==void 0&&(n.Key=y(e.Key)),e.VersionId!==void 0&&(n.VersionId=y(e.VersionId)),e.IsLatest!==void 0&&(n.IsLatest=_e(e.IsLatest)),e.LastModified!==void 0&&(n.LastModified=W(_t(e.LastModified))),n},VG=(e,t)=>{let n={};return e.Status!==void 0&&(n.Status=y(e.Status)),n},WG=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>KG(n,t)),YG=(e,t)=>{let n={};return e.Bucket!==void 0&&(n.Bucket=y(e.Bucket)),e.Account!==void 0&&(n.Account=y(e.Account)),e.StorageClass!==void 0&&(n.StorageClass=y(e.StorageClass)),e.AccessControlTranslation!==void 0&&(n.AccessControlTranslation=PG(e.AccessControlTranslation,t)),e.EncryptionConfiguration!==void 0&&(n.EncryptionConfiguration=XG(e.EncryptionConfiguration,t)),e.ReplicationTime!==void 0&&(n.ReplicationTime=dH(e.ReplicationTime,t)),e.Metrics!==void 0&&(n.Metrics=kj(e.Metrics,t)),n},XG=(e,t)=>{let n={};return e.ReplicaKmsKeyID!==void 0&&(n.ReplicaKmsKeyID=y(e.ReplicaKmsKeyID)),n},QG=(e,t)=>({}),ZG=(e,t)=>{let n={};return e.Key!==void 0&&(n.Key=y(e.Key)),e.VersionId!==void 0&&(n.VersionId=y(e.VersionId)),e.Code!==void 0&&(n.Code=y(e.Code)),e.Message!==void 0&&(n.Message=y(e.Message)),n},JG=(e,t)=>{let n={};return e.Key!==void 0&&(n.Key=y(e.Key)),n},ej=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>ZG(n,t)),tj=(e,t)=>({}),Jh=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>y(n)),nj=(e,t)=>{let n={};return e.Status!==void 0&&(n.Status=y(e.Status)),n},rj=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>y(n)),sj=(e,t)=>{let n={};return e.Name!==void 0&&(n.Name=y(e.Name)),e.Value!==void 0&&(n.Value=y(e.Value)),n},oj=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>sj(n,t)),ij=(e,t)=>{let n={};return e.PartsCount!==void 0&&(n.TotalPartsCount=Ie(e.PartsCount)),e.PartNumberMarker!==void 0&&(n.PartNumberMarker=y(e.PartNumberMarker)),e.NextPartNumberMarker!==void 0&&(n.NextPartNumberMarker=y(e.NextPartNumberMarker)),e.MaxParts!==void 0&&(n.MaxParts=Ie(e.MaxParts)),e.IsTruncated!==void 0&&(n.IsTruncated=_e(e.IsTruncated)),e.Part===""?n.Parts=[]:e.Part!==void 0&&(n.Parts=Yj(te(e.Part),t)),n},aj=(e,t)=>{let n={};return e.Grantee!==void 0&&(n.Grantee=rk(e.Grantee,t)),e.Permission!==void 0&&(n.Permission=y(e.Permission)),n},rk=(e,t)=>{let n={};return e.DisplayName!==void 0&&(n.DisplayName=y(e.DisplayName)),e.EmailAddress!==void 0&&(n.EmailAddress=y(e.EmailAddress)),e.ID!==void 0&&(n.ID=y(e.ID)),e.URI!==void 0&&(n.URI=y(e.URI)),e["xsi:type"]!==void 0&&(n.Type=y(e["xsi:type"])),n},sk=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>aj(n,t)),cj=(e,t)=>{let n={};return e.Suffix!==void 0&&(n.Suffix=y(e.Suffix)),n},ok=(e,t)=>{let n={};return e.ID!==void 0&&(n.ID=y(e.ID)),e.DisplayName!==void 0&&(n.DisplayName=y(e.DisplayName)),n},dj=(e,t)=>{let n={};return e.Prefix!==void 0&&(n.Prefix=y(e.Prefix)),e.Tag===""?n.Tags=[]:e.Tag!==void 0&&(n.Tags=oo(te(e.Tag),t)),n},ik=(e,t)=>{let n={};return e.Id!==void 0&&(n.Id=y(e.Id)),e.Filter!==void 0&&(n.Filter=uj(e.Filter,t)),e.Status!==void 0&&(n.Status=y(e.Status)),e.Tiering===""?n.Tierings=[]:e.Tiering!==void 0&&(n.Tierings=kH(te(e.Tiering),t)),n},lj=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>ik(n,t)),uj=(e,t)=>{let n={};return e.Prefix!==void 0&&(n.Prefix=y(e.Prefix)),e.Tag!==void 0&&(n.Tag=ci(e.Tag,t)),e.And!==void 0&&(n.And=dj(e.And,t)),n},ak=(e,t)=>{let n={};return e.Destination!==void 0&&(n.Destination=fj(e.Destination,t)),e.IsEnabled!==void 0&&(n.IsEnabled=_e(e.IsEnabled)),e.Filter!==void 0&&(n.Filter=pj(e.Filter,t)),e.Id!==void 0&&(n.Id=y(e.Id)),e.IncludedObjectVersions!==void 0&&(n.IncludedObjectVersions=y(e.IncludedObjectVersions)),e.OptionalFields===""?n.OptionalFields=[]:e.OptionalFields!==void 0&&e.OptionalFields.Field!==void 0&&(n.OptionalFields=yj(te(e.OptionalFields.Field),t)),e.Schedule!==void 0&&(n.Schedule=Ej(e.Schedule,t)),n},mj=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>ak(n,t)),fj=(e,t)=>{let n={};return e.S3BucketDestination!==void 0&&(n.S3BucketDestination=gj(e.S3BucketDestination,t)),n},hj=(e,t)=>{let n={};return e["SSE-S3"]!==void 0&&(n.SSES3=SH(e["SSE-S3"],t)),e["SSE-KMS"]!==void 0&&(n.SSEKMS=EH(e["SSE-KMS"],t)),n},pj=(e,t)=>{let n={};return e.Prefix!==void 0&&(n.Prefix=y(e.Prefix)),n},yj=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>y(n)),gj=(e,t)=>{let n={};return e.AccountId!==void 0&&(n.AccountId=y(e.AccountId)),e.Bucket!==void 0&&(n.Bucket=y(e.Bucket)),e.Format!==void 0&&(n.Format=y(e.Format)),e.Prefix!==void 0&&(n.Prefix=y(e.Prefix)),e.Encryption!==void 0&&(n.Encryption=hj(e.Encryption,t)),n},Ej=(e,t)=>{let n={};return e.Frequency!==void 0&&(n.Frequency=y(e.Frequency)),n},xj=(e,t)=>{let n={};return e.Id!==void 0&&(n.Id=y(e.Id)),e.CloudFunction!==void 0&&(n.LambdaFunctionArn=y(e.CloudFunction)),e.Event===""?n.Events=[]:e.Event!==void 0&&(n.Events=Jh(te(e.Event),t)),e.Filter!==void 0&&(n.Filter=ep(e.Filter,t)),n},Sj=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>xj(n,t)),wj=(e,t)=>{let n={};return e.Date!==void 0&&(n.Date=W(_t(e.Date))),e.Days!==void 0&&(n.Days=Ie(e.Days)),e.ExpiredObjectDeleteMarker!==void 0&&(n.ExpiredObjectDeleteMarker=_e(e.ExpiredObjectDeleteMarker)),n},Cj=(e,t)=>{let n={};return e.Expiration!==void 0&&(n.Expiration=wj(e.Expiration,t)),e.ID!==void 0&&(n.ID=y(e.ID)),e.Prefix!==void 0&&(n.Prefix=y(e.Prefix)),e.Filter===""||e.Filter!==void 0&&(n.Filter=Pj(ld(e.Filter),t)),e.Status!==void 0&&(n.Status=y(e.Status)),e.Transition===""?n.Transitions=[]:e.Transition!==void 0&&(n.Transitions=TH(te(e.Transition),t)),e.NoncurrentVersionTransition===""?n.NoncurrentVersionTransitions=[]:e.NoncurrentVersionTransition!==void 0&&(n.NoncurrentVersionTransitions=Oj(te(e.NoncurrentVersionTransition),t)),e.NoncurrentVersionExpiration!==void 0&&(n.NoncurrentVersionExpiration=Dj(e.NoncurrentVersionExpiration,t)),e.AbortIncompleteMultipartUpload!==void 0&&(n.AbortIncompleteMultipartUpload=bG(e.AbortIncompleteMultipartUpload,t)),n},bj=(e,t)=>{let n={};return e.Prefix!==void 0&&(n.Prefix=y(e.Prefix)),e.Tag===""?n.Tags=[]:e.Tag!==void 0&&(n.Tags=oo(te(e.Tag),t)),e.ObjectSizeGreaterThan!==void 0&&(n.ObjectSizeGreaterThan=ft(e.ObjectSizeGreaterThan)),e.ObjectSizeLessThan!==void 0&&(n.ObjectSizeLessThan=ft(e.ObjectSizeLessThan)),n},Pj=(e,t)=>e.Prefix!==void 0?{Prefix:y(e.Prefix)}:e.Tag!==void 0?{Tag:ci(e.Tag,t)}:e.ObjectSizeGreaterThan!==void 0?{ObjectSizeGreaterThan:ft(e.ObjectSizeGreaterThan)}:e.ObjectSizeLessThan!==void 0?{ObjectSizeLessThan:ft(e.ObjectSizeLessThan)}:e.And!==void 0?{And:bj(e.And,t)}:{$unknown:Object.entries(e)[0]},_j=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>Cj(n,t)),Aj=(e,t)=>{let n={};return e.TargetBucket!==void 0&&(n.TargetBucket=y(e.TargetBucket)),e.TargetGrants===""?n.TargetGrants=[]:e.TargetGrants!==void 0&&e.TargetGrants.Grant!==void 0&&(n.TargetGrants=_H(te(e.TargetGrants.Grant),t)),e.TargetPrefix!==void 0&&(n.TargetPrefix=y(e.TargetPrefix)),n},kj=(e,t)=>{let n={};return e.Status!==void 0&&(n.Status=y(e.Status)),e.EventThreshold!==void 0&&(n.EventThreshold=lk(e.EventThreshold,t)),n},Rj=(e,t)=>{let n={};return e.Prefix!==void 0&&(n.Prefix=y(e.Prefix)),e.Tag===""?n.Tags=[]:e.Tag!==void 0&&(n.Tags=oo(te(e.Tag),t)),e.AccessPointArn!==void 0&&(n.AccessPointArn=y(e.AccessPointArn)),n},ck=(e,t)=>{let n={};return e.Id!==void 0&&(n.Id=y(e.Id)),e.Filter===""||e.Filter!==void 0&&(n.Filter=Nj(ld(e.Filter),t)),n},Ij=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>ck(n,t)),Nj=(e,t)=>e.Prefix!==void 0?{Prefix:y(e.Prefix)}:e.Tag!==void 0?{Tag:ci(e.Tag,t)}:e.AccessPointArn!==void 0?{AccessPointArn:y(e.AccessPointArn)}:e.And!==void 0?{And:Rj(e.And,t)}:{$unknown:Object.entries(e)[0]},Tj=(e,t)=>{let n={};return e.UploadId!==void 0&&(n.UploadId=y(e.UploadId)),e.Key!==void 0&&(n.Key=y(e.Key)),e.Initiated!==void 0&&(n.Initiated=W(_t(e.Initiated))),e.StorageClass!==void 0&&(n.StorageClass=y(e.StorageClass)),e.Owner!==void 0&&(n.Owner=es(e.Owner,t)),e.Initiator!==void 0&&(n.Initiator=ok(e.Initiator,t)),e.ChecksumAlgorithm!==void 0&&(n.ChecksumAlgorithm=y(e.ChecksumAlgorithm)),n},vj=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>Tj(n,t)),Dj=(e,t)=>{let n={};return e.NoncurrentDays!==void 0&&(n.NoncurrentDays=Ie(e.NoncurrentDays)),e.NewerNoncurrentVersions!==void 0&&(n.NewerNoncurrentVersions=Ie(e.NewerNoncurrentVersions)),n},Bj=(e,t)=>{let n={};return e.NoncurrentDays!==void 0&&(n.NoncurrentDays=Ie(e.NoncurrentDays)),e.StorageClass!==void 0&&(n.StorageClass=y(e.StorageClass)),e.NewerNoncurrentVersions!==void 0&&(n.NewerNoncurrentVersions=Ie(e.NewerNoncurrentVersions)),n},Oj=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>Bj(n,t)),ep=(e,t)=>{let n={};return e.S3Key!==void 0&&(n.Key=mH(e.S3Key,t)),n},Fj=(e,t)=>{let n={};return e.Key!==void 0&&(n.Key=y(e.Key)),e.LastModified!==void 0&&(n.LastModified=W(_t(e.LastModified))),e.ETag!==void 0&&(n.ETag=y(e.ETag)),e.ChecksumAlgorithm===""?n.ChecksumAlgorithm=[]:e.ChecksumAlgorithm!==void 0&&(n.ChecksumAlgorithm=nk(te(e.ChecksumAlgorithm),t)),e.Size!==void 0&&(n.Size=ft(e.Size)),e.StorageClass!==void 0&&(n.StorageClass=y(e.StorageClass)),e.Owner!==void 0&&(n.Owner=es(e.Owner,t)),n},dk=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>Fj(n,t)),Mj=(e,t)=>{let n={};return e.ObjectLockEnabled!==void 0&&(n.ObjectLockEnabled=y(e.ObjectLockEnabled)),e.Rule!==void 0&&(n.Rule=zj(e.Rule,t)),n},Lj=(e,t)=>{let n={};return e.Status!==void 0&&(n.Status=y(e.Status)),n},Uj=(e,t)=>{let n={};return e.Mode!==void 0&&(n.Mode=y(e.Mode)),e.RetainUntilDate!==void 0&&(n.RetainUntilDate=W(_t(e.RetainUntilDate))),n},zj=(e,t)=>{let n={};return e.DefaultRetention!==void 0&&(n.DefaultRetention=GG(e.DefaultRetention,t)),n},$j=(e,t)=>{let n={};return e.PartNumber!==void 0&&(n.PartNumber=Ie(e.PartNumber)),e.Size!==void 0&&(n.Size=ft(e.Size)),e.ChecksumCRC32!==void 0&&(n.ChecksumCRC32=y(e.ChecksumCRC32)),e.ChecksumCRC32C!==void 0&&(n.ChecksumCRC32C=y(e.ChecksumCRC32C)),e.ChecksumSHA1!==void 0&&(n.ChecksumSHA1=y(e.ChecksumSHA1)),e.ChecksumSHA256!==void 0&&(n.ChecksumSHA256=y(e.ChecksumSHA256)),n},qj=(e,t)=>{let n={};return e.ETag!==void 0&&(n.ETag=y(e.ETag)),e.ChecksumAlgorithm===""?n.ChecksumAlgorithm=[]:e.ChecksumAlgorithm!==void 0&&(n.ChecksumAlgorithm=nk(te(e.ChecksumAlgorithm),t)),e.Size!==void 0&&(n.Size=ft(e.Size)),e.StorageClass!==void 0&&(n.StorageClass=y(e.StorageClass)),e.Key!==void 0&&(n.Key=y(e.Key)),e.VersionId!==void 0&&(n.VersionId=y(e.VersionId)),e.IsLatest!==void 0&&(n.IsLatest=_e(e.IsLatest)),e.LastModified!==void 0&&(n.LastModified=W(_t(e.LastModified))),e.Owner!==void 0&&(n.Owner=es(e.Owner,t)),n},Gj=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>qj(n,t)),es=(e,t)=>{let n={};return e.DisplayName!==void 0&&(n.DisplayName=y(e.DisplayName)),e.ID!==void 0&&(n.ID=y(e.ID)),n},jj=(e,t)=>{let n={};return e.Rule===""?n.Rules=[]:e.Rule!==void 0&&(n.Rules=Kj(te(e.Rule),t)),n},Hj=(e,t)=>{let n={};return e.ObjectOwnership!==void 0&&(n.ObjectOwnership=y(e.ObjectOwnership)),n},Kj=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>Hj(n,t)),Vj=(e,t)=>{let n={};return e.PartNumber!==void 0&&(n.PartNumber=Ie(e.PartNumber)),e.LastModified!==void 0&&(n.LastModified=W(_t(e.LastModified))),e.ETag!==void 0&&(n.ETag=y(e.ETag)),e.Size!==void 0&&(n.Size=ft(e.Size)),e.ChecksumCRC32!==void 0&&(n.ChecksumCRC32=y(e.ChecksumCRC32)),e.ChecksumCRC32C!==void 0&&(n.ChecksumCRC32C=y(e.ChecksumCRC32C)),e.ChecksumSHA1!==void 0&&(n.ChecksumSHA1=y(e.ChecksumSHA1)),e.ChecksumSHA256!==void 0&&(n.ChecksumSHA256=y(e.ChecksumSHA256)),n},Wj=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>Vj(n,t)),Yj=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>$j(n,t)),Xj=(e,t)=>{let n={};return e.IsPublic!==void 0&&(n.IsPublic=_e(e.IsPublic)),n},Qj=(e,t)=>{let n={};return e.BytesScanned!==void 0&&(n.BytesScanned=ft(e.BytesScanned)),e.BytesProcessed!==void 0&&(n.BytesProcessed=ft(e.BytesProcessed)),e.BytesReturned!==void 0&&(n.BytesReturned=ft(e.BytesReturned)),n},Zj=(e,t)=>{let n={};return e.BlockPublicAcls!==void 0&&(n.BlockPublicAcls=_e(e.BlockPublicAcls)),e.IgnorePublicAcls!==void 0&&(n.IgnorePublicAcls=_e(e.IgnorePublicAcls)),e.BlockPublicPolicy!==void 0&&(n.BlockPublicPolicy=_e(e.BlockPublicPolicy)),e.RestrictPublicBuckets!==void 0&&(n.RestrictPublicBuckets=_e(e.RestrictPublicBuckets)),n},Jj=(e,t)=>{let n={};return e.Id!==void 0&&(n.Id=y(e.Id)),e.Queue!==void 0&&(n.QueueArn=y(e.Queue)),e.Event===""?n.Events=[]:e.Event!==void 0&&(n.Events=Jh(te(e.Event),t)),e.Filter!==void 0&&(n.Filter=ep(e.Filter,t)),n},eH=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>Jj(n,t)),tH=(e,t)=>{let n={};return e.HostName!==void 0&&(n.HostName=y(e.HostName)),e.HttpRedirectCode!==void 0&&(n.HttpRedirectCode=y(e.HttpRedirectCode)),e.Protocol!==void 0&&(n.Protocol=y(e.Protocol)),e.ReplaceKeyPrefixWith!==void 0&&(n.ReplaceKeyPrefixWith=y(e.ReplaceKeyPrefixWith)),e.ReplaceKeyWith!==void 0&&(n.ReplaceKeyWith=y(e.ReplaceKeyWith)),n},nH=(e,t)=>{let n={};return e.HostName!==void 0&&(n.HostName=y(e.HostName)),e.Protocol!==void 0&&(n.Protocol=y(e.Protocol)),n},rH=(e,t)=>{let n={};return e.Status!==void 0&&(n.Status=y(e.Status)),n},sH=(e,t)=>{let n={};return e.Role!==void 0&&(n.Role=y(e.Role)),e.Rule===""?n.Rules=[]:e.Rule!==void 0&&(n.Rules=cH(te(e.Rule),t)),n},oH=(e,t)=>{let n={};return e.ID!==void 0&&(n.ID=y(e.ID)),e.Priority!==void 0&&(n.Priority=Ie(e.Priority)),e.Prefix!==void 0&&(n.Prefix=y(e.Prefix)),e.Filter===""||e.Filter!==void 0&&(n.Filter=aH(ld(e.Filter),t)),e.Status!==void 0&&(n.Status=y(e.Status)),e.SourceSelectionCriteria!==void 0&&(n.SourceSelectionCriteria=gH(e.SourceSelectionCriteria,t)),e.ExistingObjectReplication!==void 0&&(n.ExistingObjectReplication=nj(e.ExistingObjectReplication,t)),e.Destination!==void 0&&(n.Destination=YG(e.Destination,t)),e.DeleteMarkerReplication!==void 0&&(n.DeleteMarkerReplication=VG(e.DeleteMarkerReplication,t)),n},iH=(e,t)=>{let n={};return e.Prefix!==void 0&&(n.Prefix=y(e.Prefix)),e.Tag===""?n.Tags=[]:e.Tag!==void 0&&(n.Tags=oo(te(e.Tag),t)),n},aH=(e,t)=>e.Prefix!==void 0?{Prefix:y(e.Prefix)}:e.Tag!==void 0?{Tag:ci(e.Tag,t)}:e.And!==void 0?{And:iH(e.And,t)}:{$unknown:Object.entries(e)[0]},cH=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>oH(n,t)),dH=(e,t)=>{let n={};return e.Status!==void 0&&(n.Status=y(e.Status)),e.Time!==void 0&&(n.Time=lk(e.Time,t)),n},lk=(e,t)=>{let n={};return e.Minutes!==void 0&&(n.Minutes=Ie(e.Minutes)),n},lH=(e,t)=>{let n={};return e.Condition!==void 0&&(n.Condition=MG(e.Condition,t)),e.Redirect!==void 0&&(n.Redirect=tH(e.Redirect,t)),n},uH=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>lH(n,t)),mH=(e,t)=>{let n={};return e.FilterRule===""?n.FilterRules=[]:e.FilterRule!==void 0&&(n.FilterRules=oj(te(e.FilterRule),t)),n},fH=(e,t)=>{let n={};return e.SSEAlgorithm!==void 0&&(n.SSEAlgorithm=y(e.SSEAlgorithm)),e.KMSMasterKeyID!==void 0&&(n.KMSMasterKeyID=y(e.KMSMasterKeyID)),n},hH=(e,t)=>{let n={};return e.Rule===""?n.Rules=[]:e.Rule!==void 0&&(n.Rules=yH(te(e.Rule),t)),n},pH=(e,t)=>{let n={};return e.ApplyServerSideEncryptionByDefault!==void 0&&(n.ApplyServerSideEncryptionByDefault=fH(e.ApplyServerSideEncryptionByDefault,t)),e.BucketKeyEnabled!==void 0&&(n.BucketKeyEnabled=_e(e.BucketKeyEnabled)),n},yH=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>pH(n,t)),gH=(e,t)=>{let n={};return e.SseKmsEncryptedObjects!==void 0&&(n.SseKmsEncryptedObjects=xH(e.SseKmsEncryptedObjects,t)),e.ReplicaModifications!==void 0&&(n.ReplicaModifications=rH(e.ReplicaModifications,t)),n},EH=(e,t)=>{let n={};return e.KeyId!==void 0&&(n.KeyId=y(e.KeyId)),n},xH=(e,t)=>{let n={};return e.Status!==void 0&&(n.Status=y(e.Status)),n},SH=(e,t)=>({}),wH=(e,t)=>{let n={};return e.BytesScanned!==void 0&&(n.BytesScanned=ft(e.BytesScanned)),e.BytesProcessed!==void 0&&(n.BytesProcessed=ft(e.BytesProcessed)),e.BytesReturned!==void 0&&(n.BytesReturned=ft(e.BytesReturned)),n},CH=(e,t)=>{let n={};return e.DataExport!==void 0&&(n.DataExport=bH(e.DataExport,t)),n},bH=(e,t)=>{let n={};return e.OutputSchemaVersion!==void 0&&(n.OutputSchemaVersion=y(e.OutputSchemaVersion)),e.Destination!==void 0&&(n.Destination=NG(e.Destination,t)),n},ci=(e,t)=>{let n={};return e.Key!==void 0&&(n.Key=y(e.Key)),e.Value!==void 0&&(n.Value=y(e.Value)),n},oo=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>ci(n,t)),PH=(e,t)=>{let n={};return e.Grantee!==void 0&&(n.Grantee=rk(e.Grantee,t)),e.Permission!==void 0&&(n.Permission=y(e.Permission)),n},_H=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>PH(n,t)),AH=(e,t)=>{let n={};return e.Days!==void 0&&(n.Days=Ie(e.Days)),e.AccessTier!==void 0&&(n.AccessTier=y(e.AccessTier)),n},kH=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>AH(n,t)),RH=(e,t)=>{let n={};return e.Id!==void 0&&(n.Id=y(e.Id)),e.Topic!==void 0&&(n.TopicArn=y(e.Topic)),e.Event===""?n.Events=[]:e.Event!==void 0&&(n.Events=Jh(te(e.Event),t)),e.Filter!==void 0&&(n.Filter=ep(e.Filter,t)),n},IH=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>RH(n,t)),NH=(e,t)=>{let n={};return e.Date!==void 0&&(n.Date=W(_t(e.Date))),e.Days!==void 0&&(n.Days=Ie(e.Days)),e.StorageClass!==void 0&&(n.StorageClass=y(e.StorageClass)),n},TH=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>NH(n,t)),U=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),re=(e=new Uint8Array,t)=>e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array),uk=(e,t)=>re(e,t).then(n=>t.utf8Encoder(n)),v=e=>e!=null&&e!==""&&(!Object.getOwnPropertyNames(e).includes("length")||e.length!=0)&&(!Object.getOwnPropertyNames(e).includes("size")||e.size!=0),ue=(e,t)=>uk(e,t).then(n=>{if(n.length){let r=new bb.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(l,d)=>d.trim()===""&&d.includes(`
`)?"":void 0});r.addEntity("#xD","\r"),r.addEntity("#10",`
`);let s=r.parse(n),o="#text",a=Object.keys(s)[0],i=s[a];return i[o]&&(i[a]=i[o],delete i[o]),hd(i)}return{}}),$=async(e,t)=>{let n=await ue(e,t);return n.Error&&(n.Error.message=n.Error.message??n.Error.Message),n},q=(e,t)=>{if((t==null?void 0:t.Code)!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"};var di=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,di.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"AbortMultipartUploadCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return Pb(t,n)}deserialize(t,n){return d_(t,n)}};var vH="content-length";function DH(){return(e,t)=>async n=>{var s;let{request:r}=n;if(T.isInstance(r)&&!r.headers[vH]){let o="Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.";typeof((s=t==null?void 0:t.logger)==null?void 0:s.warn)=="function"?t.logger.warn(o):console.warn(o)}return e({...n})}}var BH={step:"finalizeRequest",tags:["CHECK_CONTENT_LENGTH_HEADER"],name:"getCheckContentLengthHeaderPlugin",override:!0},mk=e=>({applyToStack:t=>{t.add(DH(),BH)}});var fk=e=>({...e,forcePathStyle:e.forcePathStyle??!1,useAccelerateEndpoint:e.useAccelerateEndpoint??!1,disableMultiregionAccessPoints:e.disableMultiregionAccessPoints??!1});var OH=e=>t=>async n=>{let r=await t(n),{response:s}=r;if(!fn.isInstance(s))return r;let{statusCode:o,body:a}=s;if(o<200||o>=300)return r;let i=await hk(a,e),l=await FH(i,e);if(i.length===0){let d=new Error("S3 aborted request");throw d.name="InternalError",d}return l&&l.match("<Error>")&&(s.statusCode=400),s.body=i,r},hk=(e=new Uint8Array,t)=>e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array),FH=(e,t)=>hk(e,t).then(n=>t.utf8Encoder(n)),MH={relation:"after",toMiddleware:"deserializerMiddleware",tags:["THROW_200_EXCEPTIONS","S3"],name:"throw200ExceptionsMiddleware",override:!0},li=e=>({applyToStack:t=>{t.addRelativeTo(OH(e),MH)}});var tp=e=>typeof e=="string"&&e.indexOf("arn:")===0&&e.split(":").length>=6;function LH(){return e=>async t=>{let{input:{Bucket:n}}=t;if(typeof n=="string"&&!tp(n)&&n.indexOf("/")>=0){let r=new Error(`Bucket name shouldn't contain '/', received '${n}'`);throw r.name="InvalidBucketName",r}return e({...t})}}var UH={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},pk=e=>({applyToStack:t=>{t.add(LH(),UH)}});function zH(e){return t=>async n=>{let r={...n.input},s=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}];for(let o of s){let a=r[o.target];if(a){let i=ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength):typeof a=="string"?e.utf8Decoder(a):new Uint8Array(a),l=e.base64Encoder(i),d=new e.md5;d.update(i),r={...r,[o.target]:l,[o.hash]:e.base64Encoder(await d.digest())}}}return t({...n,input:r})}}var $H={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},et=e=>({applyToStack:t=>{t.add(zH(e),$H)}});var ts=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,ts.getEndpointParameterInstructions())),this.middlewareStack.use(li(n)),this.middlewareStack.use(et(n));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"CompleteMultipartUploadCommand",inputFilterSensitiveLog:_C,outputFilterSensitiveLog:PC},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return _b(t,n)}deserialize(t,n){return l_(t,n)}};var ui=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,ui.getEndpointParameterInstructions())),this.middlewareStack.use(li(n)),this.middlewareStack.use(et(n));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"CopyObjectCommand",inputFilterSensitiveLog:kC,outputFilterSensitiveLog:AC},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return Ab(t,n)}deserialize(t,n){return u_(t,n)}};function qH(e){return t=>async n=>{let{CreateBucketConfiguration:r}=n.input,s=await e.region();return(!r||!r.LocationConstraint)&&(n={...n,input:{...n.input,CreateBucketConfiguration:s==="us-east-1"?void 0:{LocationConstraint:s}}}),t(n)}}var GH={step:"initialize",tags:["LOCATION_CONSTRAINT","CREATE_BUCKET_CONFIGURATION"],name:"locationConstraintMiddleware",override:!0},yk=e=>({applyToStack:t=>{t.add(qH(e),GH)}});var mi=class extends w{static getEndpointParameterInstructions(){return{DisableAccessPoints:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,mi.getEndpointParameterInstructions())),this.middlewareStack.use(yk(n));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"CreateBucketCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return kb(t,n)}deserialize(t,n){return m_(t,n)}};var ns=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,ns.getEndpointParameterInstructions())),this.middlewareStack.use(et(n));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"CreateMultipartUploadCommand",inputFilterSensitiveLog:IC,outputFilterSensitiveLog:RC},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return Rb(t,n)}deserialize(t,n){return f_(t,n)}};var fi=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,fi.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"DeleteBucketAnalyticsConfigurationCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return Nb(t,n)}deserialize(t,n){return p_(t,n)}};var hi=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,hi.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"DeleteBucketCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return Ib(t,n)}deserialize(t,n){return h_(t,n)}};var pi=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,pi.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"DeleteBucketCorsCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return Tb(t,n)}deserialize(t,n){return y_(t,n)}};var yi=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,yi.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"DeleteBucketEncryptionCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return vb(t,n)}deserialize(t,n){return g_(t,n)}};var gi=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,gi.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"DeleteBucketIntelligentTieringConfigurationCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return Db(t,n)}deserialize(t,n){return E_(t,n)}};var Ei=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Ei.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"DeleteBucketInventoryConfigurationCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return Bb(t,n)}deserialize(t,n){return x_(t,n)}};var xi=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,xi.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"DeleteBucketLifecycleCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return Ob(t,n)}deserialize(t,n){return S_(t,n)}};var Si=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Si.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"DeleteBucketMetricsConfigurationCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return Fb(t,n)}deserialize(t,n){return w_(t,n)}};var wi=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,wi.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"DeleteBucketOwnershipControlsCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return Mb(t,n)}deserialize(t,n){return C_(t,n)}};var Ci=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Ci.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"DeleteBucketPolicyCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return Lb(t,n)}deserialize(t,n){return b_(t,n)}};var bi=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,bi.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"DeleteBucketReplicationCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return Ub(t,n)}deserialize(t,n){return P_(t,n)}};var Pi=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Pi.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"DeleteBucketTaggingCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return zb(t,n)}deserialize(t,n){return __(t,n)}};var _i=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,_i.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"DeleteBucketWebsiteCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return $b(t,n)}deserialize(t,n){return A_(t,n)}};var Ai=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Ai.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"DeleteObjectCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return qb(t,n)}deserialize(t,n){return k_(t,n)}};var tt;(function(e){e.MD5="MD5",e.CRC32="CRC32",e.CRC32C="CRC32C",e.SHA1="SHA1",e.SHA256="SHA256"})(tt||(tt={}));var gk;(function(e){e.HEADER="header",e.TRAILER="trailer"})(gk||(gk={}));var Ed=[tt.CRC32,tt.CRC32C,tt.SHA1,tt.SHA256],Ek=[tt.CRC32,tt.CRC32C,tt.SHA1,tt.SHA256];var xk=(e,{requestChecksumRequired:t,requestAlgorithmMember:n})=>{if(!n||!e[n])return t?tt.MD5:void 0;let r=e[n];if(!Ed.includes(r))throw new Error(`The checksum algorithm "${r}" is not supported by the client. Select one of ${Ed}.`);return r};var Wl=e=>e===tt.MD5?"content-md5":`x-amz-checksum-${e.toLowerCase()}`;var Sk=(e,t)=>{let n=e.toLowerCase();for(let r of Object.keys(t))if(n===r.toLowerCase())return!0;return!1};var ki=e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]";var Yl=e=>e!==void 0&&typeof e!="string"&&!ArrayBuffer.isView(e)&&!ki(e);var Gk=cn(wd()),jk=cn(hp());var nu=(e,t)=>({[tt.MD5]:t.md5,[tt.CRC32]:Gk.AwsCrc32,[tt.CRC32C]:jk.AwsCrc32c,[tt.SHA1]:t.sha1,[tt.SHA256]:t.sha256})[e];var ru=require("buffer"),fr=(e,t=0,n=e.byteLength-t)=>{if(!ki(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return ru.Buffer.from(e,t,n)},Ri=(e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?ru.Buffer.from(e,t):ru.Buffer.from(e)};var Un=e=>{let t=Ri(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)};var jt=e=>typeof e=="string"?Un(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e);var os=e=>fr(e.buffer,e.byteOffset,e.byteLength).toString("utf8");var su=(e,t)=>{let n=new e;return n.update(jt(t||"")),n.digest()};var Hk=async(e,{streamHasher:t,checksumAlgorithmFn:n,base64Encoder:r})=>{let s=Yl(e)?t(n,e):su(n,e);return r(await s)};var Kk=(e=[])=>{let t=[];for(let n of Ek)!e.includes(n)||!Ed.includes(n)||t.push(n);return t};var Vk=async(e,{config:t,responseAlgorithms:n})=>{let r=Kk(n),{body:s,headers:o}=e;for(let a of r){let i=Wl(a),l=o[i];if(l){let d=nu(a,t),{streamHasher:c,base64Encoder:u}=t,m=await Hk(s,{streamHasher:c,checksumAlgorithmFn:d,base64Encoder:u});if(m===l)break;throw new Error(`Checksum mismatch: expected "${m}" but received "${l}" in response header "${i}".`)}}};var Wk=(e,t)=>n=>async r=>{if(!T.isInstance(r.request))return n(r);let{request:s}=r,{body:o,headers:a}=s,{base64Encoder:i,streamHasher:l}=e,{input:d,requestChecksumRequired:c,requestAlgorithmMember:u}=t,m=xk(d,{requestChecksumRequired:c,requestAlgorithmMember:u}),S=o,x=a;if(m){let Ce=Wl(m),ye=nu(m,e);if(Yl(o)){let{getAwsChunkedEncodingStream:ot,bodyLengthChecker:pe}=e;S=ot(o,{base64Encoder:i,bodyLengthChecker:pe,checksumLocationName:Ce,checksumAlgorithmFn:ye,streamHasher:l}),x={...a,"content-encoding":a["content-encoding"]?`${a["content-encoding"]},aws-chunked`:"aws-chunked","transfer-encoding":"chunked","x-amz-decoded-content-length":a["content-length"],"x-amz-content-sha256":"STREAMING-UNSIGNED-PAYLOAD-TRAILER","x-amz-trailer":Ce},delete x["content-length"]}else if(!Sk(Ce,a)){let ot=await su(ye,o);x={...a,[Ce]:i(ot)}}}let R=await n({...r,request:{...s,headers:x,body:S}}),{requestValidationModeMember:D,responseAlgorithms:X}=t;return D&&d[D]==="ENABLED"&&Vk(R.response,{config:e,responseAlgorithms:X}),R};var eK={name:"flexibleChecksumsMiddleware",step:"build",tags:["BODY_CHECKSUM"],override:!0},ae=(e,t)=>({applyToStack:n=>{n.add(Wk(e,t),eK)}});var Ii=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Ii.getEndpointParameterInstructions())),this.middlewareStack.use(ae(n,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!0}));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"DeleteObjectsCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return Gb(t,n)}deserialize(t,n){return R_(t,n)}};var Ni=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Ni.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"DeleteObjectTaggingCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return jb(t,n)}deserialize(t,n){return I_(t,n)}};var Ti=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Ti.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"DeletePublicAccessBlockCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return Hb(t,n)}deserialize(t,n){return N_(t,n)}};var vi=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,vi.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"GetBucketAccelerateConfigurationCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return Kb(t,n)}deserialize(t,n){return T_(t,n)}};var Di=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Di.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"GetBucketAclCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return Vb(t,n)}deserialize(t,n){return v_(t,n)}};var Bi=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Bi.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"GetBucketAnalyticsConfigurationCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return Wb(t,n)}deserialize(t,n){return D_(t,n)}};var Oi=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Oi.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"GetBucketCorsCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return Yb(t,n)}deserialize(t,n){return B_(t,n)}};var Fi=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Fi.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"GetBucketEncryptionCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:TC},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return Xb(t,n)}deserialize(t,n){return O_(t,n)}};var Mi=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Mi.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"GetBucketIntelligentTieringConfigurationCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return Qb(t,n)}deserialize(t,n){return F_(t,n)}};var Li=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Li.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"GetBucketInventoryConfigurationCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:vC},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return Zb(t,n)}deserialize(t,n){return M_(t,n)}};var Ui=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Ui.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"GetBucketLifecycleConfigurationCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return Jb(t,n)}deserialize(t,n){return L_(t,n)}};var zi=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,zi.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"GetBucketLocationCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return eP(t,n)}deserialize(t,n){return U_(t,n)}};var $i=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,$i.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"GetBucketLoggingCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return tP(t,n)}deserialize(t,n){return z_(t,n)}};var qi=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,qi.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"GetBucketMetricsConfigurationCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return nP(t,n)}deserialize(t,n){return $_(t,n)}};var Gi=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Gi.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"GetBucketNotificationConfigurationCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return rP(t,n)}deserialize(t,n){return q_(t,n)}};var ji=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,ji.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"GetBucketOwnershipControlsCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return sP(t,n)}deserialize(t,n){return G_(t,n)}};var Hi=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Hi.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"GetBucketPolicyCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return oP(t,n)}deserialize(t,n){return j_(t,n)}};var Ki=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Ki.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"GetBucketPolicyStatusCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return iP(t,n)}deserialize(t,n){return H_(t,n)}};var Vi=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Vi.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"GetBucketReplicationCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return aP(t,n)}deserialize(t,n){return K_(t,n)}};var Wi=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Wi.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"GetBucketRequestPaymentCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return cP(t,n)}deserialize(t,n){return V_(t,n)}};var Yi=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Yi.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"GetBucketTaggingCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return dP(t,n)}deserialize(t,n){return W_(t,n)}};var Xi=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Xi.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"GetBucketVersioningCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return lP(t,n)}deserialize(t,n){return Y_(t,n)}};var Qi=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Qi.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"GetBucketWebsiteCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return uP(t,n)}deserialize(t,n){return X_(t,n)}};var Zi=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Zi.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"GetObjectAclCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return fP(t,n)}deserialize(t,n){return Z_(t,n)}};var Ji=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Ji.getEndpointParameterInstructions())),this.middlewareStack.use(et(n));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"GetObjectAttributesCommand",inputFilterSensitiveLog:OC,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return hP(t,n)}deserialize(t,n){return J_(t,n)}};var ea=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,ea.getEndpointParameterInstructions())),this.middlewareStack.use(et(n)),this.middlewareStack.use(ae(n,{input:this.input,requestChecksumRequired:!1,requestValidationModeMember:"ChecksumMode",responseAlgorithms:["CRC32","CRC32C","SHA256","SHA1"]}));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"GetObjectCommand",inputFilterSensitiveLog:BC,outputFilterSensitiveLog:DC},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return mP(t,n)}deserialize(t,n){return Q_(t,n)}};var ta=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,ta.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"GetObjectLegalHoldCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return pP(t,n)}deserialize(t,n){return eA(t,n)}};var na=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,na.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"GetObjectLockConfigurationCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return yP(t,n)}deserialize(t,n){return tA(t,n)}};var ra=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,ra.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"GetObjectRetentionCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return gP(t,n)}deserialize(t,n){return nA(t,n)}};var sa=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,sa.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"GetObjectTaggingCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return EP(t,n)}deserialize(t,n){return rA(t,n)}};var oa=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,oa.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"GetObjectTorrentCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:FC},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return xP(t,n)}deserialize(t,n){return sA(t,n)}};var ia=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,ia.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"GetPublicAccessBlockCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return SP(t,n)}deserialize(t,n){return oA(t,n)}};var aa=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,aa.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"HeadBucketCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return wP(t,n)}deserialize(t,n){return iA(t,n)}};var ca=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,ca.getEndpointParameterInstructions())),this.middlewareStack.use(et(n));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"HeadObjectCommand",inputFilterSensitiveLog:LC,outputFilterSensitiveLog:MC},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return CP(t,n)}deserialize(t,n){return aA(t,n)}};var da=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,da.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"ListBucketAnalyticsConfigurationsCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return bP(t,n)}deserialize(t,n){return cA(t,n)}};var la=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,la.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"ListBucketIntelligentTieringConfigurationsCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return PP(t,n)}deserialize(t,n){return dA(t,n)}};var ua=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,ua.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"ListBucketInventoryConfigurationsCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:UC},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return _P(t,n)}deserialize(t,n){return lA(t,n)}};var ma=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,ma.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"ListBucketMetricsConfigurationsCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return AP(t,n)}deserialize(t,n){return uA(t,n)}};var fa=class extends w{static getEndpointParameterInstructions(){return{ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,fa.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"ListBucketsCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return kP(t,n)}deserialize(t,n){return mA(t,n)}};var ha=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,ha.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"ListMultipartUploadsCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return RP(t,n)}deserialize(t,n){return fA(t,n)}};var pa=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,pa.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"ListObjectsCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return IP(t,n)}deserialize(t,n){return hA(t,n)}};var ya=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,ya.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"ListObjectsV2Command",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return NP(t,n)}deserialize(t,n){return pA(t,n)}};var ga=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,ga.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"ListObjectVersionsCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return TP(t,n)}deserialize(t,n){return yA(t,n)}};var Ea=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Ea.getEndpointParameterInstructions())),this.middlewareStack.use(et(n));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"ListPartsCommand",inputFilterSensitiveLog:zC,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return vP(t,n)}deserialize(t,n){return gA(t,n)}};var xa=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,xa.getEndpointParameterInstructions())),this.middlewareStack.use(ae(n,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!1}));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"PutBucketAccelerateConfigurationCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return DP(t,n)}deserialize(t,n){return EA(t,n)}};var Sa=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Sa.getEndpointParameterInstructions())),this.middlewareStack.use(ae(n,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!0}));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"PutBucketAclCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return BP(t,n)}deserialize(t,n){return xA(t,n)}};var wa=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,wa.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"PutBucketAnalyticsConfigurationCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return OP(t,n)}deserialize(t,n){return SA(t,n)}};var Ca=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Ca.getEndpointParameterInstructions())),this.middlewareStack.use(ae(n,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!0}));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"PutBucketCorsCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return FP(t,n)}deserialize(t,n){return wA(t,n)}};var ba=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,ba.getEndpointParameterInstructions())),this.middlewareStack.use(ae(n,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!0}));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"PutBucketEncryptionCommand",inputFilterSensitiveLog:$C,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return MP(t,n)}deserialize(t,n){return CA(t,n)}};var Pa=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Pa.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"PutBucketIntelligentTieringConfigurationCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return LP(t,n)}deserialize(t,n){return bA(t,n)}};var _a=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,_a.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"PutBucketInventoryConfigurationCommand",inputFilterSensitiveLog:qC,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return UP(t,n)}deserialize(t,n){return PA(t,n)}};var Aa=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Aa.getEndpointParameterInstructions())),this.middlewareStack.use(ae(n,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!0}));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"PutBucketLifecycleConfigurationCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return zP(t,n)}deserialize(t,n){return _A(t,n)}};var ka=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,ka.getEndpointParameterInstructions())),this.middlewareStack.use(ae(n,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!0}));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"PutBucketLoggingCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return $P(t,n)}deserialize(t,n){return AA(t,n)}};var Ra=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Ra.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"PutBucketMetricsConfigurationCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return qP(t,n)}deserialize(t,n){return kA(t,n)}};var Ia=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Ia.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"PutBucketNotificationConfigurationCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return GP(t,n)}deserialize(t,n){return RA(t,n)}};var Na=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Na.getEndpointParameterInstructions())),this.middlewareStack.use(ae(n,{input:this.input,requestChecksumRequired:!0}));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"PutBucketOwnershipControlsCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return jP(t,n)}deserialize(t,n){return IA(t,n)}};var Ta=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Ta.getEndpointParameterInstructions())),this.middlewareStack.use(ae(n,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!0}));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"PutBucketPolicyCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return HP(t,n)}deserialize(t,n){return NA(t,n)}};var va=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,va.getEndpointParameterInstructions())),this.middlewareStack.use(ae(n,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!0}));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"PutBucketReplicationCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return KP(t,n)}deserialize(t,n){return TA(t,n)}};var Da=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Da.getEndpointParameterInstructions())),this.middlewareStack.use(ae(n,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!0}));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"PutBucketRequestPaymentCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return VP(t,n)}deserialize(t,n){return vA(t,n)}};var Ba=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Ba.getEndpointParameterInstructions())),this.middlewareStack.use(ae(n,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!0}));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"PutBucketTaggingCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return WP(t,n)}deserialize(t,n){return DA(t,n)}};var Oa=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Oa.getEndpointParameterInstructions())),this.middlewareStack.use(ae(n,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!0}));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"PutBucketVersioningCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return YP(t,n)}deserialize(t,n){return BA(t,n)}};var Fa=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Fa.getEndpointParameterInstructions())),this.middlewareStack.use(ae(n,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!0}));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"PutBucketWebsiteCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return XP(t,n)}deserialize(t,n){return OA(t,n)}};var Ma=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Ma.getEndpointParameterInstructions())),this.middlewareStack.use(ae(n,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!0}));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"PutObjectAclCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return ZP(t,n)}deserialize(t,n){return MA(t,n)}};var hr=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,hr.getEndpointParameterInstructions())),this.middlewareStack.use(mk(n)),this.middlewareStack.use(et(n)),this.middlewareStack.use(ae(n,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!1}));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"PutObjectCommand",inputFilterSensitiveLog:jC,outputFilterSensitiveLog:GC},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return QP(t,n)}deserialize(t,n){return FA(t,n)}};var La=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,La.getEndpointParameterInstructions())),this.middlewareStack.use(ae(n,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!0}));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"PutObjectLegalHoldCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return JP(t,n)}deserialize(t,n){return LA(t,n)}};var Ua=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Ua.getEndpointParameterInstructions())),this.middlewareStack.use(ae(n,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!0}));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"PutObjectLockConfigurationCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return e_(t,n)}deserialize(t,n){return UA(t,n)}};var za=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,za.getEndpointParameterInstructions())),this.middlewareStack.use(ae(n,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!0}));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"PutObjectRetentionCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return t_(t,n)}deserialize(t,n){return zA(t,n)}};var is=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,is.getEndpointParameterInstructions())),this.middlewareStack.use(ae(n,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!0}));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"PutObjectTaggingCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return n_(t,n)}deserialize(t,n){return $A(t,n)}};var $a=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,$a.getEndpointParameterInstructions())),this.middlewareStack.use(ae(n,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!0}));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"PutPublicAccessBlockCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return r_(t,n)}deserialize(t,n){return qA(t,n)}};var qa=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,qa.getEndpointParameterInstructions())),this.middlewareStack.use(ae(n,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!1}));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"RestoreObjectCommand",inputFilterSensitiveLog:KC,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return s_(t,n)}deserialize(t,n){return GA(t,n)}};var Ga=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Ga.getEndpointParameterInstructions())),this.middlewareStack.use(et(n));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"SelectObjectContentCommand",inputFilterSensitiveLog:WC,outputFilterSensitiveLog:VC},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return o_(t,n)}deserialize(t,n){return jA(t,n)}};var as=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,as.getEndpointParameterInstructions())),this.middlewareStack.use(et(n)),this.middlewareStack.use(ae(n,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!1}));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"UploadPartCommand",inputFilterSensitiveLog:XC,outputFilterSensitiveLog:YC},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return i_(t,n)}deserialize(t,n){return HA(t,n)}};var ja=class extends w{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,ja.getEndpointParameterInstructions())),this.middlewareStack.use(li(n)),this.middlewareStack.use(et(n));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"UploadPartCopyCommand",inputFilterSensitiveLog:ZC,outputFilterSensitiveLog:QC},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return a_(t,n)}deserialize(t,n){return KA(t,n)}};var Ha=class extends w{static getEndpointParameterInstructions(){return{UseObjectLambdaEndpoint:{type:"staticContextParams",value:!0},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Ha.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"WriteGetObjectResponseCommand",inputFilterSensitiveLog:JC,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return c_(t,n)}deserialize(t,n){return VA(t,n)}};var hn;(function(e){e.ENV="env",e.CONFIG="shared config entry"})(hn||(hn={}));var zn=(e,t,n)=>{if(t in e){if(e[t]==="true")return!0;if(e[t]==="false")return!1;throw new Error(`Cannot load ${n} "${t}". Expected "true" or "false", got ${e[t]}.`)}};var tK="AWS_USE_DUALSTACK_ENDPOINT",nK="use_dualstack_endpoint";var cs={environmentVariableSelector:e=>zn(e,tK,hn.ENV),configFileSelector:e=>zn(e,nK,hn.CONFIG),default:!1};var rK="AWS_USE_FIPS_ENDPOINT",sK="use_fips_endpoint";var ds={environmentVariableSelector:e=>zn(e,rK,hn.ENV),configFileSelector:e=>zn(e,sK,hn.CONFIG),default:!1};var oK="AWS_REGION",iK="region",$n={environmentVariableSelector:e=>e[oK],configFileSelector:e=>e[iK],default:()=>{throw new Error("Region is missing")}},ls={preferredFile:"credentials"};var ou=e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips"));var pp=e=>ou(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e;var us=e=>{let{region:t,useFipsEndpoint:n}=e;if(!t)throw new Error("Region is missing");return{...e,region:async()=>{if(typeof t=="string")return pp(t);let r=await t();return pp(r)},useFipsEndpoint:async()=>{let r=typeof t=="string"?t:await t();return ou(r)?!0:typeof n!="function"?Promise.resolve(!!n):n()}}};var Yk=e=>({...e,eventStreamMarshaller:e.eventStreamSerdeProvider(e)});var Xk="content-length";function aK(e){return t=>async n=>{let r=n.request;if(T.isInstance(r)){let{body:s,headers:o}=r;if(s&&Object.keys(o).map(a=>a.toLowerCase()).indexOf(Xk)===-1)try{let a=e(s);r.headers={...r.headers,[Xk]:String(a)}}catch{}}return t({...n,request:r})}}var cK={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},ms=e=>({applyToStack:t=>{t.add(aK(e.bodyLengthChecker),cK)}});function dK(e){return t=>async n=>{let{request:r}=n;return T.isInstance(r)&&r.body&&e.runtime==="node"&&(r.headers={...r.headers,Expect:"100-continue"}),t({...n,request:r})}}var lK={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},Qk=e=>({applyToStack:t=>{t.add(dK(e),lK)}});var uK=e=>t=>async n=>{if(!T.isInstance(n.request))return t(n);let{request:r}=n,{handlerProtocol:s=""}=e.requestHandler.metadata||{};if(s.indexOf("h2")>=0&&!r.headers[":authority"])delete r.headers.host,r.headers[":authority"]="";else if(!r.headers.host){let o=r.hostname;r.port!=null&&(o+=`:${r.port}`),r.headers.host=o}return t(n)},mK={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},fs=e=>({applyToStack:t=>{t.add(uK(e),mK)}});var fK=()=>(e,t)=>async n=>{var r,s;try{let o=await e(n),{clientName:a,commandName:i,logger:l,dynamoDbDocumentClientOptions:d={}}=t,{overrideInputFilterSensitiveLog:c,overrideOutputFilterSensitiveLog:u}=d,m=c??t.inputFilterSensitiveLog,S=u??t.outputFilterSensitiveLog,{$metadata:x,...R}=o.output;return(r=l==null?void 0:l.info)==null||r.call(l,{clientName:a,commandName:i,input:m(n.input),output:S(R),metadata:x}),o}catch(o){let{clientName:a,commandName:i,logger:l,dynamoDbDocumentClientOptions:d={}}=t,{overrideInputFilterSensitiveLog:c}=d,u=c??t.inputFilterSensitiveLog;throw(s=l==null?void 0:l.error)==null||s.call(l,{clientName:a,commandName:i,input:u(n.input),error:o,metadata:o.$metadata}),o}},hK={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},hs=e=>({applyToStack:t=>{t.add(fK(),hK)}});var Zk="X-Amzn-Trace-Id",pK="AWS_LAMBDA_FUNCTION_NAME",yK="_X_AMZN_TRACE_ID",gK=e=>t=>async n=>{let{request:r}=n;if(!T.isInstance(r)||e.runtime!=="node"||r.headers.hasOwnProperty(Zk))return t(n);let s=process.env[pK],o=process.env[yK],a=i=>typeof i=="string"&&i.length>0;return a(s)&&a(o)&&(r.headers[Zk]=o),t({...n,request:r})},EK={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},ps=e=>({applyToStack:t=>{t.add(gK(e),EK)}});var qn;(function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"})(qn||(qn={}));var io=3,Gn="STANDARD";var Jk=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],eR=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],tR=[500,502,503,504],nR=["ECONNRESET","EPIPE","ETIMEDOUT"];var Ka=e=>{var t,n;return((t=e.$metadata)==null?void 0:t.httpStatusCode)===429||Jk.includes(e.name)||((n=e.$retryable)==null?void 0:n.throttling)==!0},iu=e=>{var t;return eR.includes(e.name)||nR.includes((e==null?void 0:e.code)||"")||tR.includes(((t=e.$metadata)==null?void 0:t.httpStatusCode)||0)},rR=e=>{var t;if(((t=e.$metadata)==null?void 0:t.httpStatusCode)!==void 0){let n=e.$metadata.httpStatusCode;return 500<=n&&n<=599&&!iu(e)}return!1};var bd=class{constructor(t){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=(t==null?void 0:t.beta)??.7,this.minCapacity=(t==null?void 0:t.minCapacity)??1,this.minFillRate=(t==null?void 0:t.minFillRate)??.5,this.scaleConstant=(t==null?void 0:t.scaleConstant)??.4,this.smooth=(t==null?void 0:t.smooth)??.8;let n=this.getCurrentTimeInSeconds();this.lastThrottleTime=n,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){let n=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(r=>setTimeout(r,n))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){let t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}let n=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+n),this.lastTimestamp=t}updateClientSendingRate(t){let n;if(this.updateMeasuredRate(),Ka(t)){let s=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=s,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),n=this.cubicThrottle(s),this.enableTokenBucket()}else this.calculateTimeWindow(),n=this.cubicSuccess(this.getCurrentTimeInSeconds());let r=Math.min(n,2*this.measuredTxRate);this.updateTokenBucketRate(r)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let t=this.getCurrentTimeInSeconds(),n=Math.floor(t*2)/2;if(this.requestCount++,n>this.lastTxRateBucket){let r=this.requestCount/(n-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(r*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=n}}getPrecise(t){return parseFloat(t.toFixed(8))}};var au="amz-sdk-invocation-id",cu="amz-sdk-request";var sR=()=>{let e=100;return{computeNextBackoffDelay:r=>Math.floor(Math.min(2e4,Math.random()*2**r*e)),setDelayBase:r=>{e=r}}};var dR=(e,t,n,r)=>{let s=e,o=(r==null?void 0:r.retryCost)??5,a=(r==null?void 0:r.timeoutRetryCost)??10,i=(r==null?void 0:r.retryBackoffStrategy)??sR(),l=e,d=Math.min(2e4,t),c,u=n??0,m=ye=>ye==="TRANSIENT"?a:o,S=()=>u,x=()=>d,R=()=>c,D=ye=>m(ye)<=l;return{getRetryCount:S,getRetryDelay:x,getLastRetryCost:R,hasRetryTokens:D,getRetryTokenCount:ye=>{let ot=ye.errorType;if(!D(ot))throw new Error("No retry token available");let pe=m(ot),$e=ot==="THROTTLING"?500:100;i.setDelayBase($e);let Ee=i.computeNextBackoffDelay(u);if(ye.retryAfterHint){let le=ye.retryAfterHint.getTime()-Date.now();d=Math.max(le||0,Ee)}else d=Ee;return u++,c=pe,l-=pe,pe},releaseRetryTokens:ye=>{l+=ye??1,l=Math.min(l,s)}}};var Wa=class{constructor(t){this.maxAttemptsProvider=t,this.mode=qn.STANDARD,this.retryToken=dR(500,100),this.maxAttemptsProvider=t}async acquireInitialRetryToken(t){return this.retryToken}async refreshRetryTokenForRetry(t,n){let r=await this.getMaxAttempts();if(this.shouldRetry(t,n,r))return t.getRetryTokenCount(n),t;throw new Error("No retry token available")}recordSuccess(t){this.retryToken.releaseRetryTokens(t.getLastRetryCost())}async getMaxAttempts(){let t;try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${io}`),io}}shouldRetry(t,n,r){return t.getRetryCount()<r&&t.hasRetryTokens(n.errorType)&&this.isRetryableError(n.errorType)}isRetryableError(t){return t==="THROTTLING"||t==="TRANSIENT"}};var lu=class{constructor(t,n){this.maxAttemptsProvider=t,this.mode=qn.ADAPTIVE;let{rateLimiter:r}=n??{};this.rateLimiter=r??new bd,this.standardRetryStrategy=new Wa(t)}async acquireInitialRetryToken(t){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(t)}async refreshRetryTokenForRetry(t,n){return this.rateLimiter.updateClientSendingRate(n),this.standardRetryStrategy.refreshRetryTokenForRetry(t,n)}recordSuccess(t){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(t)}};var yp=e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`);var uR="AWS_MAX_ATTEMPTS",mR="max_attempts",ys={environmentVariableSelector:e=>{let t=e[uR];if(!t)return;let n=parseInt(t);if(Number.isNaN(n))throw new Error(`Environment variable ${uR} mast be a number, got "${t}"`);return n},configFileSelector:e=>{let t=e[mR];if(!t)return;let n=parseInt(t);if(Number.isNaN(n))throw new Error(`Shared config file entry ${mR} mast be a number, got "${t}"`);return n},default:io},gs=e=>{let{retryStrategy:t}=e,n=St(e.maxAttempts??io);return{...e,maxAttempts:n,retryStrategy:async()=>t||(await St(e.retryMode)()===qn.ADAPTIVE?new lu(n):new Wa(n))}},xK="AWS_RETRY_MODE",SK="retry_mode",Es={environmentVariableSelector:e=>e[xK],configFileSelector:e=>e[SK],default:Gn};yh();var wK=e=>(t,n)=>async r=>{let s=await e.retryStrategy(),o=await e.maxAttempts();if(CK(s)){s=s;let a=await s.acquireInitialRetryToken(n.partition_id),i=new Error,l=0,d=0,{request:c}=r;for(T.isInstance(c)&&(c.headers[au]=Dl());;)try{T.isInstance(c)&&(c.headers[cu]=`attempt=${l+1}; max=${o}`);let{response:u,output:m}=await t(r);return s.recordSuccess(a),m.$metadata.attempts=l+1,m.$metadata.totalRetryDelay=d,{response:u,output:m}}catch(u){let m=bK(u);i=yp(u);try{a=await s.refreshRetryTokenForRetry(a,m)}catch{throw i.$metadata||(i.$metadata={}),i.$metadata.attempts=l+1,i.$metadata.totalRetryDelay=d,i}l=a.getRetryCount();let S=a.getRetryDelay();d+=S,await new Promise(x=>setTimeout(x,S))}}else return s=s,s!=null&&s.mode&&(n.userAgent=[...n.userAgent||[],["cfg/retry-mode",s.mode]]),s.retry(t,r)},CK=e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u",bK=e=>{let t={errorType:PK(e)},n=AK(e.$response);return n&&(t.retryAfterHint=n),t},PK=e=>Ka(e)?"THROTTLING":iu(e)?"TRANSIENT":rR(e)?"SERVER_ERROR":"CLIENT_ERROR",_K={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},xs=e=>({applyToStack:t=>{t.add(wK(e),_K)}}),AK=e=>{if(!fn.isInstance(e))return;let t=Object.keys(e.headers).find(o=>o.toLowerCase()==="retry-after");if(!t)return;let n=e.headers[t],r=Number(n);return Number.isNaN(r)?new Date(n):new Date(r*1e3)};var Ht=class extends Error{constructor(t,n=!0){super(t),this.tryNextLink=n,this.name="ProviderError",Object.setPrototypeOf(this,Ht.prototype)}static from(t,n=!0){return Object.assign(new this(t.message,n),t)}};var ne=class extends Ht{constructor(t,n=!0){super(t,n),this.tryNextLink=n,this.name="CredentialsProviderError",Object.setPrototypeOf(this,ne.prototype)}};var Kt=class extends Ht{constructor(t,n=!0){super(t,n),this.tryNextLink=n,this.name="TokenProviderError",Object.setPrototypeOf(this,Kt.prototype)}};function uu(...e){return()=>{let t=Promise.reject(new Ht("No providers in chain"));for(let n of e)t=t.catch(r=>{if(r!=null&&r.tryNextLink)return n();throw r});return t}}var fR=e=>()=>Promise.resolve(e);var Ss=(e,t,n)=>{let r,s,o,a=!1,i=async()=>{s||(s=e());try{r=await s,o=!0,a=!1}finally{s=void 0}return r};return t===void 0?async l=>((!o||l!=null&&l.forceRefresh)&&(r=await i()),r):async l=>((!o||l!=null&&l.forceRefresh)&&(r=await i()),a?r:n&&!n(r)?(a=!0,r):(t(r)&&await i(),r))};var hR={},gp={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),hR[e]=t,gp[t]=e}function pR(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2){let r=e.slice(n,n+2).toLowerCase();if(r in gp)t[n/2]=gp[r];else throw new Error(`Cannot decode unrecognized sequence ${r} as hexadecimal`)}return t}function wt(e){let t="";for(let n=0;n<e.byteLength;n++)t+=hR[e[n]];return t}var yR="X-Amz-Algorithm",gR="X-Amz-Credential",Ep="X-Amz-Date",ER="X-Amz-SignedHeaders",xR="X-Amz-Expires",xp="X-Amz-Signature",Sp="X-Amz-Security-Token";var wp="authorization",Cp=Ep.toLowerCase(),kK="date",SR=[wp,Cp,kK],wR=xp.toLowerCase(),Pd="x-amz-content-sha256",CR=Sp.toLowerCase();var bR={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},PR=/^proxy-/,_R=/^sec-/;var mu="AWS4-HMAC-SHA256";var AR="AWS4-HMAC-SHA256-PAYLOAD",kR="UNSIGNED-PAYLOAD",RR=50,bp="aws4_request",IR=60*60*24*7;var fu={},Pp=[],hu=(e,t,n)=>`${e}/${t}/${n}/${bp}`,TR=async(e,t,n,r,s)=>{let o=await NR(e,t.secretAccessKey,t.accessKeyId),a=`${n}:${r}:${s}:${wt(o)}:${t.sessionToken}`;if(a in fu)return fu[a];for(Pp.push(a);Pp.length>RR;)delete fu[Pp.shift()];let i=`AWS4${t.secretAccessKey}`;for(let l of[n,r,s,bp])i=await NR(e,i,l);return fu[a]=i};var NR=(e,t,n)=>{let r=new e(t);return r.update(jt(n)),r.digest()};var pu=({headers:e},t,n)=>{let r={};for(let s of Object.keys(e).sort()){if(e[s]==null)continue;let o=s.toLowerCase();(o in bR||t!=null&&t.has(o)||PR.test(o)||_R.test(o))&&(!n||n&&!n.has(o))||(r[o]=e[s].trim().replace(/\s+/g," "))}return r};var jn=e=>encodeURIComponent(e).replace(/[!'()*]/g,RK),RK=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`;var _p=({query:e={}})=>{let t=[],n={};for(let r of Object.keys(e).sort()){if(r.toLowerCase()===wR)continue;t.push(r);let s=e[r];typeof s=="string"?n[r]=`${jn(r)}=${jn(s)}`:Array.isArray(s)&&(n[r]=s.slice(0).sort().reduce((o,a)=>o.concat([`${jn(r)}=${jn(a)}`]),[]).join("&"))}return t.map(r=>n[r]).filter(r=>r).join("&")};var _d=async({headers:e,body:t},n)=>{for(let r of Object.keys(e))if(r.toLowerCase()===Pd)return e[r];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||ki(t)){let r=new n;return r.update(jt(t)),wt(await r.digest())}return kR};var vR=(e,t)=>{e=e.toLowerCase();for(let n of Object.keys(t))if(e===n.toLowerCase())return!0;return!1};var yu=({headers:e,query:t,...n})=>({...n,headers:{...e},query:t?IK(t):void 0}),IK=e=>Object.keys(e).reduce((t,n)=>{let r=e[n];return{...t,[n]:Array.isArray(r)?[...r]:r}},{});var Ap=(e,t={})=>{var s;let{headers:n,query:r={}}=typeof e.clone=="function"?e.clone():yu(e);for(let o of Object.keys(n)){let a=o.toLowerCase();a.slice(0,6)==="x-amz-"&&!((s=t.unhoistableHeaders)!=null&&s.has(a))&&(r[o]=n[o],delete n[o])}return{...e,headers:n,query:r}};var gu=e=>{e=typeof e.clone=="function"?e.clone():yu(e);for(let t of Object.keys(e.headers))SR.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e};var DR=e=>NK(e).toISOString().replace(/\.\d{3}Z$/,"Z"),NK=e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e;var ao=class{constructor({applyChecksum:t,credentials:n,region:r,service:s,sha256:o,uriEscapePath:a=!0}){this.service=s,this.sha256=o,this.uriEscapePath=a,this.applyChecksum=typeof t=="boolean"?t:!0,this.regionProvider=St(r),this.credentialProvider=St(n)}async presign(t,n={}){let{signingDate:r=new Date,expiresIn:s=3600,unsignableHeaders:o,unhoistableHeaders:a,signableHeaders:i,signingRegion:l,signingService:d}=n,c=await this.credentialProvider();this.validateResolvedCredentials(c);let u=l??await this.regionProvider(),{longDate:m,shortDate:S}=Eu(r);if(s>IR)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let x=hu(S,u,d??this.service),R=Ap(gu(t),{unhoistableHeaders:a});c.sessionToken&&(R.query[Sp]=c.sessionToken),R.query[yR]=mu,R.query[gR]=`${c.accessKeyId}/${x}`,R.query[Ep]=m,R.query[xR]=s.toString(10);let D=pu(R,o,i);return R.query[ER]=BR(D),R.query[xp]=await this.getSignature(m,x,this.getSigningKey(c,u,S,d),this.createCanonicalRequest(R,D,await _d(t,this.sha256))),R}async sign(t,n){return typeof t=="string"?this.signString(t,n):t.headers&&t.payload?this.signEvent(t,n):this.signRequest(t,n)}async signEvent({headers:t,payload:n},{signingDate:r=new Date,priorSignature:s,signingRegion:o,signingService:a}){let i=o??await this.regionProvider(),{shortDate:l,longDate:d}=Eu(r),c=hu(l,i,a??this.service),u=await _d({headers:{},body:n},this.sha256),m=new this.sha256;m.update(t);let S=wt(await m.digest()),x=[AR,d,c,s,S,u].join(`
`);return this.signString(x,{signingDate:r,signingRegion:i,signingService:a})}async signString(t,{signingDate:n=new Date,signingRegion:r,signingService:s}={}){let o=await this.credentialProvider();this.validateResolvedCredentials(o);let a=r??await this.regionProvider(),{shortDate:i}=Eu(n),l=new this.sha256(await this.getSigningKey(o,a,i,s));return l.update(jt(t)),wt(await l.digest())}async signRequest(t,{signingDate:n=new Date,signableHeaders:r,unsignableHeaders:s,signingRegion:o,signingService:a}={}){let i=await this.credentialProvider();this.validateResolvedCredentials(i);let l=o??await this.regionProvider(),d=gu(t),{longDate:c,shortDate:u}=Eu(n),m=hu(u,l,a??this.service);d.headers[Cp]=c,i.sessionToken&&(d.headers[CR]=i.sessionToken);let S=await _d(d,this.sha256);!vR(Pd,d.headers)&&this.applyChecksum&&(d.headers[Pd]=S);let x=pu(d,s,r),R=await this.getSignature(c,m,this.getSigningKey(i,l,u,a),this.createCanonicalRequest(d,x,S));return d.headers[wp]=`${mu} Credential=${i.accessKeyId}/${m}, SignedHeaders=${BR(x)}, Signature=${R}`,d}createCanonicalRequest(t,n,r){let s=Object.keys(n).sort();return`${t.method}
${this.getCanonicalPath(t)}
${_p(t)}
${s.map(o=>`${o}:${n[o]}`).join(`
`)}

${s.join(";")}
${r}`}async createStringToSign(t,n,r){let s=new this.sha256;s.update(jt(r));let o=await s.digest();return`${mu}
${t}
${n}
${wt(o)}`}getCanonicalPath({path:t}){if(this.uriEscapePath){let n=[];for(let o of t.split("/"))(o==null?void 0:o.length)!==0&&o!=="."&&(o===".."?n.pop():n.push(o));let r=`${t!=null&&t.startsWith("/")?"/":""}${n.join("/")}${n.length>0&&(t!=null&&t.endsWith("/"))?"/":""}`;return encodeURIComponent(r).replace(/%2F/g,"/")}return t}async getSignature(t,n,r,s){let o=await this.createStringToSign(t,n,s),a=new this.sha256(await r);return a.update(jt(o)),wt(await a.digest())}getSigningKey(t,n,r,s){return TR(this.sha256,t,r,n,s||this.service)}validateResolvedCredentials(t){if(typeof t!="object"||typeof t.accessKeyId!="string"||typeof t.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}},Eu=e=>{let t=DR(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}},BR=e=>Object.keys(e).sort().join(";");var TK=3e5,xu=e=>{let t=e.credentials?vK(e.credentials):e.credentialDefaultProvider(e),{signingEscapePath:n=!0,systemClockOffset:r=e.systemClockOffset||0,sha256:s}=e,o;return e.signer?o=St(e.signer):e.regionInfoProvider?o=()=>St(e.region)().then(async a=>[await e.regionInfoProvider(a,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},a]).then(([a,i])=>{let{signingRegion:l,signingService:d}=a;e.signingRegion=e.signingRegion||l||i,e.signingName=e.signingName||d||e.serviceId;let c={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:s,uriEscapePath:n},u=e.signerConstructor||ao;return new u(c)}):o=async a=>{a=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await St(e.region)(),properties:{}},a);let i=a.signingRegion,l=a.signingName;e.signingRegion=e.signingRegion||i,e.signingName=e.signingName||l||e.serviceId;let d={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:s,uriEscapePath:n},c=e.signerConstructor||ao;return new c(d)},{...e,systemClockOffset:r,signingEscapePath:n,credentials:t,signer:o}};var vK=e=>typeof e=="function"?Ss(e,t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<TK,t=>t.expiration!==void 0):St(e);var Su=e=>new Date(Date.now()+e);var OR=(e,t)=>Math.abs(Su(t).getTime()-e)>=3e5;var kp=(e,t)=>{let n=Date.parse(e);return OR(n,t)?n-Date.now():t};var DK=e=>(t,n)=>async function(r){var d,c,u,m;if(!T.isInstance(r.request))return t(r);let s=(u=(c=(d=n.endpointV2)==null?void 0:d.properties)==null?void 0:c.authSchemes)==null?void 0:u[0],o=(s==null?void 0:s.name)==="sigv4a"?(m=s==null?void 0:s.signingRegionSet)==null?void 0:m.join(","):void 0,a=await e.signer(s),i=await t({...r,request:await a.sign(r.request,{signingDate:Su(e.systemClockOffset),signingRegion:o||n.signing_region,signingService:n.signing_service})}).catch(S=>{let x=S.ServerTime??FR(S.$response);throw x&&(e.systemClockOffset=kp(x,e.systemClockOffset)),S}),l=FR(i.response);return l&&(e.systemClockOffset=kp(l,e.systemClockOffset)),i},FR=e=>{var t,n;return fn.isInstance(e)?((t=e.headers)==null?void 0:t.date)??((n=e.headers)==null?void 0:n.Date):void 0},BK={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},wu=e=>({applyToStack:t=>{t.addRelativeTo(DK(e),BK)}});function ws(e){return{...e,customUserAgent:typeof e.customUserAgent=="string"?[[e.customUserAgent]]:e.customUserAgent}}var Rp={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}}],version:"1.1"};var MR=Rp,LR="",FK=e=>{let{partitions:t}=MR;for(let r of t){let{regions:s,outputs:o}=r;for(let[a,i]of Object.entries(s))if(a===e)return{...o,...i}}for(let r of t){let{regionRegex:s,outputs:o}=r;if(new RegExp(s).test(e))return{...o}}let n=t.find(r=>r.id==="aws");if(!n)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...n.outputs}},UR=(e,t="")=>{MR=e,LR=t},MK=()=>{UR(Rp,"")},Ip=()=>LR;var pr="endpoints";function pn(e){return typeof e!="object"||e==null?e:"ref"in e?`$${pn(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(pn).join(", ")})`:JSON.stringify(e,null,2)}var He=class extends Error{constructor(t){super(t),this.name="EndpointError"}};var Dp={};zo(Dp,{aws:()=>Np,booleanEquals:()=>$K,getAttr:()=>Tp,isSet:()=>qK,isValidHostLabel:()=>bu,not:()=>GK,parseURL:()=>jK,stringEquals:()=>HK,substring:()=>KK,uriEncode:()=>VK});var Np={};zo(Np,{getUserAgentPrefix:()=>Ip,isVirtualHostableS3Bucket:()=>zR,parseArn:()=>zK,partition:()=>FK,setPartitionInfo:()=>UR,useDefaultPartitionInfo:()=>MK});var LK=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),Cu=e=>LK.test(e)||e.startsWith("[")&&e.endsWith("]");var UK=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),bu=(e,t=!1)=>{if(!t)return UK.test(e);let n=e.split(".");for(let r of n)if(!bu(r))return!1;return!0};var zR=(e,t=!1)=>{if(t){for(let n of e.split("."))if(!zR(n))return!1;return!0}return!(!bu(e)||e.length<3||e.length>63||e!==e.toLowerCase()||Cu(e))};var zK=e=>{let t=e.split(":");if(t.length<6)return null;let[n,r,s,o,a,...i]=t;return n!=="arn"||r===""||s===""||i[0]===""?null:{partition:r,service:s,region:o,accountId:a,resourceId:i[0].includes("/")?i[0].split("/"):i}};var $K=(e,t)=>e===t;var $R=e=>{let t=e.split("."),n=[];for(let r of t){let s=r.indexOf("[");if(s!==-1){if(r.indexOf("]")!==r.length-1)throw new He(`Path: '${e}' does not end with ']'`);let o=r.slice(s+1,-1);if(Number.isNaN(parseInt(o)))throw new He(`Invalid array index: '${o}' in path: '${e}'`);s!==0&&n.push(r.slice(0,s)),n.push(o)}else n.push(r)}return n};var Tp=(e,t)=>$R(t).reduce((n,r)=>{if(typeof n!="object")throw new He(`Index '${r}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(n)?n[parseInt(r)]:n[r]},e);var qK=e=>e!=null;var GK=e=>!e;var qR;(function(e){e.HEADER="header",e.QUERY="query"})(qR||(qR={}));var GR;(function(e){e.AAAA="AAAA",e.A="A"})(GR||(GR={}));var Ya;(function(e){e.HTTP="http",e.HTTPS="https"})(Ya||(Ya={}));var jR;(function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"})(jR||(jR={}));var vp={[Ya.HTTP]:80,[Ya.HTTPS]:443},jK=e=>{let t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:m,port:S,protocol:x="",path:R="",query:D={}}=e,X=new URL(`${x}//${m}${S?`:${S}`:""}${R}`);return X.search=Object.entries(D).map(([Ce,ye])=>`${Ce}=${ye}`).join("&"),X}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let n=t.href,{host:r,hostname:s,pathname:o,protocol:a,search:i}=t;if(i)return null;let l=a.slice(0,-1);if(!Object.values(Ya).includes(l))return null;let d=Cu(s),c=n.includes(`${r}:${vp[l]}`)||typeof e=="string"&&e.includes(`${r}:${vp[l]}`),u=`${r}${c?`:${vp[l]}`:""}`;return{scheme:l,authority:u,path:o,normalizedPath:o.endsWith("/")?o:`${o}/`,isIp:d}};var HK=(e,t)=>e===t;var KK=(e,t,n,r)=>t>=n||e.length<n?null:r?e.substring(e.length-n,e.length-t):e.substring(t,n);var VK=e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`);var Pu=(e,t)=>{let n=[],r={...t.endpointParams,...t.referenceRecord},s=0;for(;s<e.length;){let o=e.indexOf("{",s);if(o===-1){n.push(e.slice(s));break}n.push(e.slice(s,o));let a=e.indexOf("}",o);if(a===-1){n.push(e.slice(o));break}e[o+1]==="{"&&e[a+1]==="}"&&(n.push(e.slice(o+1,a)),s=a+2);let i=e.substring(o+1,a);if(i.includes("#")){let[l,d]=i.split("#");n.push(Tp(r[l],d))}else n.push(r[i]);s=a+1}return n.join("")};var HR=({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e];var Cs=(e,t,n)=>{if(typeof e=="string")return Pu(e,n);if(e.fn)return _u(e,n);if(e.ref)return HR(e,n);throw new He(`'${t}': ${String(e)} is not a string, function or reference.`)};var _u=({fn:e,argv:t},n)=>{let r=t.map(s=>["boolean","number"].includes(typeof s)?s:Cs(s,"arg",n));return e.split(".").reduce((s,o)=>s[o],Dp)(...r)};var KR=({assign:e,...t},n)=>{var s,o;if(e&&e in n.referenceRecord)throw new He(`'${e}' is already defined in Reference Record.`);let r=_u(t,n);return(o=(s=n.logger)==null?void 0:s.debug)==null||o.call(s,pr,`evaluateCondition: ${pn(t)} = ${pn(r)}`),{result:r===""?!0:!!r,...e!=null&&{toAssign:{name:e,value:r}}}};var Xa=(e=[],t)=>{var r,s;let n={};for(let o of e){let{result:a,toAssign:i}=KR(o,{...t,referenceRecord:{...t.referenceRecord,...n}});if(!a)return{result:a};i&&(n[i.name]=i.value,(s=(r=t.logger)==null?void 0:r.debug)==null||s.call(r,pr,`assign: ${i.name} := ${pn(i.value)}`))}return{result:!0,referenceRecord:n}};var VR=(e,t)=>Object.entries(e).reduce((n,[r,s])=>({...n,[r]:s.map(o=>{let a=Cs(o,"Header value entry",t);if(typeof a!="string")throw new He(`Header '${r}' value '${a}' is not a string`);return a})}),{});var Bp=(e,t)=>{if(Array.isArray(e))return e.map(n=>Bp(n,t));switch(typeof e){case"string":return Pu(e,t);case"object":if(e===null)throw new He(`Unexpected endpoint property: ${e}`);return Au(e,t);case"boolean":return e;default:throw new He(`Unexpected endpoint property type: ${typeof e}`)}};var Au=(e,t)=>Object.entries(e).reduce((n,[r,s])=>({...n,[r]:Bp(s,t)}),{});var WR=(e,t)=>{let n=Cs(e,"Endpoint URL",t);if(typeof n=="string")try{return new URL(n)}catch(r){throw console.error(`Failed to construct URL with ${n}`,r),r}throw new He(`Endpoint URL must be a string, got ${typeof n}`)};var YR=(e,t)=>{var c,u;let{conditions:n,endpoint:r}=e,{result:s,referenceRecord:o}=Xa(n,t);if(!s)return;let a={...t,referenceRecord:{...t.referenceRecord,...o}},{url:i,properties:l,headers:d}=r;return(u=(c=t.logger)==null?void 0:c.debug)==null||u.call(c,pr,`Resolving endpoint from template: ${pn(r)}`),{...d!=null&&{headers:VR(d,a)},...l!=null&&{properties:Au(l,a)},url:WR(i,a)}};var XR=(e,t)=>{let{conditions:n,error:r}=e,{result:s,referenceRecord:o}=Xa(n,t);if(s)throw new He(Cs(r,"Error",{...t,referenceRecord:{...t.referenceRecord,...o}}))};var QR=(e,t)=>{let{conditions:n,rules:r}=e,{result:s,referenceRecord:o}=Xa(n,t);if(s)return ku(r,{...t,referenceRecord:{...t.referenceRecord,...o}})};var ku=(e,t)=>{for(let n of e)if(n.type==="endpoint"){let r=YR(n,t);if(r)return r}else if(n.type==="error")XR(n,t);else if(n.type==="tree"){let r=QR(n,t);if(r)return r}else throw new He(`Unknown endpoint rule: ${n}`);throw new He("Rules evaluation failed")};var bs=(e,t)=>{var d,c,u,m,S;let{endpointParams:n,logger:r}=t,{parameters:s,rules:o}=e;(c=(d=t.logger)==null?void 0:d.debug)==null||c.call(d,pr,`Initial EndpointParams: ${pn(n)}`);let a=Object.entries(s).filter(([,x])=>x.default!=null).map(([x,R])=>[x,R.default]);if(a.length>0)for(let[x,R]of a)n[x]=n[x]??R;let i=Object.entries(s).filter(([,x])=>x.required).map(([x])=>x);for(let x of i)if(n[x]==null)throw new He(`Missing required parameter: '${x}'`);let l=ku(o,{endpointParams:n,logger:r,referenceRecord:{}});if((u=t.endpointParams)!=null&&u.Endpoint)try{let x=new URL(t.endpointParams.Endpoint),{protocol:R,port:D}=x;l.url.protocol=R,l.url.port=D}catch{}return(S=(m=t.logger)==null?void 0:m.debug)==null||S.call(m,pr,`Resolved endpoint: ${pn(l)}`),l};var Op="user-agent",Ru="x-amz-user-agent",Fp=" ",ZR=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g;var WK=e=>(t,n)=>async r=>{var m,S;let{request:s}=r;if(!T.isInstance(s))return t(r);let{headers:o}=s,a=((m=n==null?void 0:n.userAgent)==null?void 0:m.map(Mp))||[],i=(await e.defaultUserAgentProvider()).map(Mp),l=((S=e==null?void 0:e.customUserAgent)==null?void 0:S.map(Mp))||[],d=Ip(),c=(d?[d]:[]).concat([...i,...a,...l]).join(Fp),u=[...i.filter(x=>x.startsWith("aws-sdk-")),...l].join(Fp);return e.runtime!=="browser"?(u&&(o[Ru]=o[Ru]?`${o[Op]} ${u}`:u),o[Op]=c):o[Ru]=c,t({...r,request:s})},Mp=([e,t])=>{let n=e.indexOf("/"),r=e.substring(0,n),s=e.substring(n+1);return r==="api"&&(s=s.toLowerCase()),[r,s,t].filter(o=>o&&o.length>0).map(o=>o==null?void 0:o.replace(ZR,"_")).join("/")},YK={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},Ps=e=>({applyToStack:t=>{t.add(WK(e),YK)}});var JR=e=>({...e,useFipsEndpoint:e.useFipsEndpoint??!1,useDualstackEndpoint:e.useDualstackEndpoint??!1,useAccelerateEndpoint:e.useAccelerateEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,disableMultiregionAccessPoints:e.disableMultiregionAccessPoints??!1,defaultSigningName:"s3"});var e0={name:"@aws-sdk/client-s3",description:"AWS SDK for JavaScript S3 Client for Node.js, Browser and React Native",version:"3.309.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo s3",test:"yarn test:unit","test:e2e":"ts-mocha test/**/*.ispec.ts && karma start karma.conf.js","test:unit":"ts-mocha test/**/*.spec.ts"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha1-browser":"3.0.0","@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/client-sts":"3.309.0","@aws-sdk/config-resolver":"3.306.0","@aws-sdk/credential-provider-node":"3.309.0","@aws-sdk/eventstream-serde-browser":"3.306.0","@aws-sdk/eventstream-serde-config-resolver":"3.306.0","@aws-sdk/eventstream-serde-node":"3.306.0","@aws-sdk/fetch-http-handler":"3.306.0","@aws-sdk/hash-blob-browser":"3.306.0","@aws-sdk/hash-node":"3.306.0","@aws-sdk/hash-stream-node":"3.306.0","@aws-sdk/invalid-dependency":"3.306.0","@aws-sdk/md5-js":"3.306.0","@aws-sdk/middleware-bucket-endpoint":"3.306.0","@aws-sdk/middleware-content-length":"3.306.0","@aws-sdk/middleware-endpoint":"3.306.0","@aws-sdk/middleware-expect-continue":"3.306.0","@aws-sdk/middleware-flexible-checksums":"3.306.0","@aws-sdk/middleware-host-header":"3.306.0","@aws-sdk/middleware-location-constraint":"3.306.0","@aws-sdk/middleware-logger":"3.306.0","@aws-sdk/middleware-recursion-detection":"3.306.0","@aws-sdk/middleware-retry":"3.306.0","@aws-sdk/middleware-sdk-s3":"3.306.0","@aws-sdk/middleware-serde":"3.306.0","@aws-sdk/middleware-signing":"3.306.0","@aws-sdk/middleware-ssec":"3.306.0","@aws-sdk/middleware-stack":"3.306.0","@aws-sdk/middleware-user-agent":"3.306.0","@aws-sdk/node-config-provider":"3.306.0","@aws-sdk/node-http-handler":"3.306.0","@aws-sdk/protocol-http":"3.306.0","@aws-sdk/signature-v4-multi-region":"3.306.0","@aws-sdk/smithy-client":"3.309.0","@aws-sdk/types":"3.306.0","@aws-sdk/url-parser":"3.306.0","@aws-sdk/util-base64":"3.303.0","@aws-sdk/util-body-length-browser":"3.303.0","@aws-sdk/util-body-length-node":"3.303.0","@aws-sdk/util-defaults-mode-browser":"3.309.0","@aws-sdk/util-defaults-mode-node":"3.309.0","@aws-sdk/util-endpoints":"3.306.0","@aws-sdk/util-retry":"3.306.0","@aws-sdk/util-stream-browser":"3.306.0","@aws-sdk/util-stream-node":"3.306.0","@aws-sdk/util-user-agent-browser":"3.306.0","@aws-sdk/util-user-agent-node":"3.306.0","@aws-sdk/util-utf8":"3.303.0","@aws-sdk/util-waiter":"3.306.0","@aws-sdk/xml-builder":"3.303.0","fast-xml-parser":"4.1.2",tslib:"^2.5.0"},devDependencies:{"@aws-sdk/service-client-documentation-generator":"3.303.0","@tsconfig/node14":"1.0.3","@types/chai":"^4.2.11","@types/mocha":"^8.0.4","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-s3",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-s3"}};var t0=cn(Yh());var Ut=class extends mn{constructor(t){super(t),Object.setPrototypeOf(this,Ut.prototype)}};var Qa=class extends Ut{constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,Qa.prototype)}},Za=class extends Ut{constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),this.name="MalformedPolicyDocumentException",this.$fault="client",Object.setPrototypeOf(this,Za.prototype)}},Ja=class extends Ut{constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),this.name="PackedPolicyTooLargeException",this.$fault="client",Object.setPrototypeOf(this,Ja.prototype)}},ec=class extends Ut{constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),this.name="RegionDisabledException",this.$fault="client",Object.setPrototypeOf(this,ec.prototype)}},tc=class extends Ut{constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),this.name="IDPRejectedClaimException",this.$fault="client",Object.setPrototypeOf(this,tc.prototype)}},nc=class extends Ut{constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),this.name="InvalidIdentityTokenException",this.$fault="client",Object.setPrototypeOf(this,nc.prototype)}},rc=class extends Ut{constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),this.name="IDPCommunicationErrorException",this.$fault="client",Object.setPrototypeOf(this,rc.prototype)}};var n0=async(e,t)=>{let n={"content-type":"application/x-www-form-urlencoded"},r;return r=p0({...n4(e,t),Action:"AssumeRole",Version:"2011-06-15"}),f0(t,n,"/",void 0,r)};var r0=async(e,t)=>{let n={"content-type":"application/x-www-form-urlencoded"},r;return r=p0({...r4(e,t),Action:"AssumeRoleWithWebIdentity",Version:"2011-06-15"}),f0(t,n,"/",void 0,r)};var s0=async(e,t)=>{if(e.statusCode>=300)return QK(e,t);let n=await Lp(e.body,t),r={};r=c4(n.AssumeRoleResult,t);let s={$metadata:yr(e),...r};return Promise.resolve(s)},QK=async(e,t)=>{let n={...e,body:await h0(e.body,t)},r=y0(e,n.body);switch(r){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await i0(n,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await a0(n,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await c0(n,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await d0(n,t);default:let s=n.body;z({output:e,parsedBody:s.Error,exceptionCtor:Ut,errorCode:r})}};var o0=async(e,t)=>{if(e.statusCode>=300)return ZK(e,t);let n=await Lp(e.body,t),r={};r=d4(n.AssumeRoleWithWebIdentityResult,t);let s={$metadata:yr(e),...r};return Promise.resolve(s)},ZK=async(e,t)=>{let n={...e,body:await h0(e.body,t)},r=y0(e,n.body);switch(r){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await i0(n,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await JK(n,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await e4(n,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await t4(n,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await a0(n,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await c0(n,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await d0(n,t);default:let s=n.body;z({output:e,parsedBody:s.Error,exceptionCtor:Ut,errorCode:r})}};var i0=async(e,t)=>{let n=e.body,r=l4(n.Error,t),s=new Qa({$metadata:yr(e),...r});return we(s,n)},JK=async(e,t)=>{let n=e.body,r=u4(n.Error,t),s=new rc({$metadata:yr(e),...r});return we(s,n)},e4=async(e,t)=>{let n=e.body,r=m4(n.Error,t),s=new tc({$metadata:yr(e),...r});return we(s,n)};var t4=async(e,t)=>{let n=e.body,r=f4(n.Error,t),s=new nc({$metadata:yr(e),...r});return we(s,n)},a0=async(e,t)=>{let n=e.body,r=h4(n.Error,t),s=new Za({$metadata:yr(e),...r});return we(s,n)},c0=async(e,t)=>{let n=e.body,r=p4(n.Error,t),s=new Ja({$metadata:yr(e),...r});return we(s,n)},d0=async(e,t)=>{let n=e.body,r=y4(n.Error,t),s=new ec({$metadata:yr(e),...r});return we(s,n)},n4=(e,t)=>{var r,s,o;let n={};if(e.RoleArn!=null&&(n.RoleArn=e.RoleArn),e.RoleSessionName!=null&&(n.RoleSessionName=e.RoleSessionName),e.PolicyArns!=null){let a=l0(e.PolicyArns,t);((r=e.PolicyArns)==null?void 0:r.length)===0&&(n.PolicyArns=[]),Object.entries(a).forEach(([i,l])=>{let d=`PolicyArns.${i}`;n[d]=l})}if(e.Policy!=null&&(n.Policy=e.Policy),e.DurationSeconds!=null&&(n.DurationSeconds=e.DurationSeconds),e.Tags!=null){let a=a4(e.Tags,t);((s=e.Tags)==null?void 0:s.length)===0&&(n.Tags=[]),Object.entries(a).forEach(([i,l])=>{let d=`Tags.${i}`;n[d]=l})}if(e.TransitiveTagKeys!=null){let a=i4(e.TransitiveTagKeys,t);((o=e.TransitiveTagKeys)==null?void 0:o.length)===0&&(n.TransitiveTagKeys=[]),Object.entries(a).forEach(([i,l])=>{let d=`TransitiveTagKeys.${i}`;n[d]=l})}return e.ExternalId!=null&&(n.ExternalId=e.ExternalId),e.SerialNumber!=null&&(n.SerialNumber=e.SerialNumber),e.TokenCode!=null&&(n.TokenCode=e.TokenCode),e.SourceIdentity!=null&&(n.SourceIdentity=e.SourceIdentity),n};var r4=(e,t)=>{var r;let n={};if(e.RoleArn!=null&&(n.RoleArn=e.RoleArn),e.RoleSessionName!=null&&(n.RoleSessionName=e.RoleSessionName),e.WebIdentityToken!=null&&(n.WebIdentityToken=e.WebIdentityToken),e.ProviderId!=null&&(n.ProviderId=e.ProviderId),e.PolicyArns!=null){let s=l0(e.PolicyArns,t);((r=e.PolicyArns)==null?void 0:r.length)===0&&(n.PolicyArns=[]),Object.entries(s).forEach(([o,a])=>{let i=`PolicyArns.${o}`;n[i]=a})}return e.Policy!=null&&(n.Policy=e.Policy),e.DurationSeconds!=null&&(n.DurationSeconds=e.DurationSeconds),n};var l0=(e,t)=>{let n={},r=1;for(let s of e){if(s===null)continue;let o=s4(s,t);Object.entries(o).forEach(([a,i])=>{n[`member.${r}.${a}`]=i}),r++}return n},s4=(e,t)=>{let n={};return e.arn!=null&&(n.arn=e.arn),n},o4=(e,t)=>{let n={};return e.Key!=null&&(n.Key=e.Key),e.Value!=null&&(n.Value=e.Value),n},i4=(e,t)=>{let n={},r=1;for(let s of e)s!==null&&(n[`member.${r}`]=s,r++);return n},a4=(e,t)=>{let n={},r=1;for(let s of e){if(s===null)continue;let o=o4(s,t);Object.entries(o).forEach(([a,i])=>{n[`member.${r}.${a}`]=i}),r++}return n},u0=(e,t)=>{let n={};return e.AssumedRoleId!==void 0&&(n.AssumedRoleId=y(e.AssumedRoleId)),e.Arn!==void 0&&(n.Arn=y(e.Arn)),n},c4=(e,t)=>{let n={};return e.Credentials!==void 0&&(n.Credentials=m0(e.Credentials,t)),e.AssumedRoleUser!==void 0&&(n.AssumedRoleUser=u0(e.AssumedRoleUser,t)),e.PackedPolicySize!==void 0&&(n.PackedPolicySize=Ie(e.PackedPolicySize)),e.SourceIdentity!==void 0&&(n.SourceIdentity=y(e.SourceIdentity)),n};var d4=(e,t)=>{let n={};return e.Credentials!==void 0&&(n.Credentials=m0(e.Credentials,t)),e.SubjectFromWebIdentityToken!==void 0&&(n.SubjectFromWebIdentityToken=y(e.SubjectFromWebIdentityToken)),e.AssumedRoleUser!==void 0&&(n.AssumedRoleUser=u0(e.AssumedRoleUser,t)),e.PackedPolicySize!==void 0&&(n.PackedPolicySize=Ie(e.PackedPolicySize)),e.Provider!==void 0&&(n.Provider=y(e.Provider)),e.Audience!==void 0&&(n.Audience=y(e.Audience)),e.SourceIdentity!==void 0&&(n.SourceIdentity=y(e.SourceIdentity)),n},m0=(e,t)=>{let n={};return e.AccessKeyId!==void 0&&(n.AccessKeyId=y(e.AccessKeyId)),e.SecretAccessKey!==void 0&&(n.SecretAccessKey=y(e.SecretAccessKey)),e.SessionToken!==void 0&&(n.SessionToken=y(e.SessionToken)),e.Expiration!==void 0&&(n.Expiration=W(_t(e.Expiration))),n};var l4=(e,t)=>{let n={};return e.message!==void 0&&(n.message=y(e.message)),n};var u4=(e,t)=>{let n={};return e.message!==void 0&&(n.message=y(e.message)),n},m4=(e,t)=>{let n={};return e.message!==void 0&&(n.message=y(e.message)),n};var f4=(e,t)=>{let n={};return e.message!==void 0&&(n.message=y(e.message)),n},h4=(e,t)=>{let n={};return e.message!==void 0&&(n.message=y(e.message)),n},p4=(e,t)=>{let n={};return e.message!==void 0&&(n.message=y(e.message)),n},y4=(e,t)=>{let n={};return e.message!==void 0&&(n.message=y(e.message)),n},yr=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),g4=(e=new Uint8Array,t)=>e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array),E4=(e,t)=>g4(e,t).then(n=>t.utf8Encoder(n)),f0=async(e,t,n,r,s)=>{let{hostname:o,protocol:a="https",port:i,path:l}=await e.endpoint(),d={protocol:a,hostname:o,port:i,method:"POST",path:l.endsWith("/")?l.slice(0,-1)+n:l+n,headers:t};return r!==void 0&&(d.hostname=r),s!==void 0&&(d.body=s),new T(d)},Lp=(e,t)=>E4(e,t).then(n=>{if(n.length){let r=new t0.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(l,d)=>d.trim()===""&&d.includes(`
`)?"":void 0});r.addEntity("#xD","\r"),r.addEntity("#10",`
`);let s=r.parse(n),o="#text",a=Object.keys(s)[0],i=s[a];return i[o]&&(i[a]=i[o],delete i[o]),hd(i)}return{}}),h0=async(e,t)=>{let n=await Lp(e,t);return n.Error&&(n.Error.message=n.Error.message??n.Error.Message),n},p0=e=>Object.entries(e).map(([t,n])=>Xo(t)+"="+Xo(n)).join("&"),y0=(e,t)=>{var n;if(((n=t.Error)==null?void 0:n.Code)!==void 0)return t.Error.Code;if(e.statusCode==404)return"NotFound"};var sc=class extends w{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,sc.getEndpointParameterInstructions())),this.middlewareStack.use(wu(n));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"STSClient",commandName:"AssumeRoleCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return n0(t,n)}deserialize(t,n){return s0(t,n)}};var oc=class extends w{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,oc.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"STSClient",commandName:"AssumeRoleWithWebIdentityCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return r0(t,n)}deserialize(t,n){return o0(t,n)}};var g0=(e,{stsClientCtor:t})=>xu({...e,stsClientCtor:t});var E0=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"});var x0={name:"@aws-sdk/client-sts",description:"AWS SDK for JavaScript Sts Client for Node.js, Browser and React Native",version:"3.309.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sts",test:"yarn test:unit","test:unit":"jest"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/config-resolver":"3.306.0","@aws-sdk/credential-provider-node":"3.309.0","@aws-sdk/fetch-http-handler":"3.306.0","@aws-sdk/hash-node":"3.306.0","@aws-sdk/invalid-dependency":"3.306.0","@aws-sdk/middleware-content-length":"3.306.0","@aws-sdk/middleware-endpoint":"3.306.0","@aws-sdk/middleware-host-header":"3.306.0","@aws-sdk/middleware-logger":"3.306.0","@aws-sdk/middleware-recursion-detection":"3.306.0","@aws-sdk/middleware-retry":"3.306.0","@aws-sdk/middleware-sdk-sts":"3.306.0","@aws-sdk/middleware-serde":"3.306.0","@aws-sdk/middleware-signing":"3.306.0","@aws-sdk/middleware-stack":"3.306.0","@aws-sdk/middleware-user-agent":"3.306.0","@aws-sdk/node-config-provider":"3.306.0","@aws-sdk/node-http-handler":"3.306.0","@aws-sdk/protocol-http":"3.306.0","@aws-sdk/smithy-client":"3.309.0","@aws-sdk/types":"3.306.0","@aws-sdk/url-parser":"3.306.0","@aws-sdk/util-base64":"3.303.0","@aws-sdk/util-body-length-browser":"3.303.0","@aws-sdk/util-body-length-node":"3.303.0","@aws-sdk/util-defaults-mode-browser":"3.309.0","@aws-sdk/util-defaults-mode-node":"3.309.0","@aws-sdk/util-endpoints":"3.306.0","@aws-sdk/util-retry":"3.306.0","@aws-sdk/util-user-agent-browser":"3.306.0","@aws-sdk/util-user-agent-node":"3.306.0","@aws-sdk/util-utf8":"3.303.0","fast-xml-parser":"4.1.2",tslib:"^2.5.0"},devDependencies:{"@aws-sdk/service-client-documentation-generator":"3.303.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sts",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sts"}};var S0="us-east-1",w0=e=>typeof e!="function"?e===void 0?S0:e:async()=>{try{return await e()}catch{return S0}},Up=(e,t)=>{let n,r;return async(s,o)=>{if(r=s,!n){let{logger:i,region:l,requestHandler:d}=e;n=new t({logger:i,credentialDefaultProvider:()=>async()=>r,region:w0(l||e.region),...d?{requestHandler:d}:{}})}let{Credentials:a}=await n.send(new sc(o));if(!a||!a.AccessKeyId||!a.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${o.RoleArn}`);return{accessKeyId:a.AccessKeyId,secretAccessKey:a.SecretAccessKey,sessionToken:a.SessionToken,expiration:a.Expiration}}},zp=(e,t)=>{let n;return async r=>{if(!n){let{logger:o,region:a,requestHandler:i}=e;n=new t({logger:o,region:w0(a||e.region),...i?{requestHandler:i}:{}})}let{Credentials:s}=await n.send(new oc(r));if(!s||!s.AccessKeyId||!s.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${r.RoleArn}`);return{accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.SessionToken,expiration:s.Expiration}}},C0=e=>t=>e({roleAssumer:Up(t,t.stsClientCtor),roleAssumerWithWebIdentity:zp(t,t.stsClientCtor),...t});var S4="AWS_ACCESS_KEY_ID",w4="AWS_SECRET_ACCESS_KEY",C4="AWS_SESSION_TOKEN",b4="AWS_CREDENTIAL_EXPIRATION",Iu=()=>async()=>{let e=process.env[S4],t=process.env[w4],n=process.env[C4],r=process.env[b4];if(e&&t)return{accessKeyId:e,secretAccessKey:t,...n&&{sessionToken:n},...r&&{expiration:new Date(r)}};throw new ne("Unable to find environment variable credentials.")};var b0=require("os"),P0=require("path"),ic=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:n,HOMEDRIVE:r=`C:${P0.sep}`}=process.env;return e||t||(n?`${r}${n}`:(0,b0.homedir)())};var $p="AWS_PROFILE",P4="default",yn=e=>e.profile||process.env[$p]||P4;var _0=require("crypto"),A0=require("path");var Nu=e=>{let n=(0,_0.createHash)("sha1").update(e).digest("hex");return(0,A0.join)(ic(),".aws","sso","cache",`${n}.json`)};var k0=require("fs");var{readFile:_4}=k0.promises,Tu=async e=>{let t=Nu(e),n=await _4(t,"utf8");return JSON.parse(n)};var R0=require("path");var A4="AWS_CONFIG_FILE",vu=()=>process.env[A4]||(0,R0.join)(ic(),".aws","config");var I0=require("path");var k4="AWS_SHARED_CREDENTIALS_FILE",N0=()=>process.env[k4]||(0,I0.join)(ic(),".aws","credentials");var T0=/^profile\s(["'])?([^\1]+)\1$/,v0=e=>Object.entries(e).filter(([t])=>T0.test(t)).reduce((t,[n,r])=>({...t,[T0.exec(n)[2]]:r}),{...e.default&&{default:e.default}});var R4=["__proto__","profile __proto__"],Ad=e=>{let t={},n;for(let r of e.split(/\r?\n/))if(r=r.split(/(^|\s)[;#]/)[0].trim(),r[0]==="["&&r[r.length-1]==="]"){if(n=r.substring(1,r.length-1),R4.includes(n))throw new Error(`Found invalid profile name "${n}"`)}else if(n){let o=r.indexOf("="),a=0,i=r.length-1;if(o!==-1&&o!==a&&o!==i){let[d,c]=[r.substring(0,o).trim(),r.substring(o+1).trim()];t[n]=t[n]||{},t[n][d]=c}}return t};var D0=require("fs"),{readFile:I4}=D0.promises,qp={},kd=(e,t)=>((!qp[e]||t!=null&&t.ignoreCache)&&(qp[e]=I4(e,"utf8")),qp[e]);var B0=()=>({}),Du=async(e={})=>{let{filepath:t=N0(),configFilepath:n=vu()}=e,r=await Promise.all([kd(n,{ignoreCache:e.ignoreCache}).then(Ad).then(v0).catch(B0),kd(t,{ignoreCache:e.ignoreCache}).then(Ad).catch(B0)]);return{configFile:r[0],credentialsFile:r[1]}};var O0=/^sso-session\s(["'])?([^\1]+)\1$/,F0=e=>Object.entries(e).filter(([t])=>O0.test(t)).reduce((t,[n,r])=>({...t,[O0.exec(n)[2]]:r}),{});var N4=()=>({}),Bu=async(e={})=>kd(e.configFilepath??vu()).then(Ad).then(F0).catch(N4);var M0=(...e)=>{let t={};for(let n of e)for(let[r,s]of Object.entries(n))t[r]!==void 0?Object.assign(t[r],s):t[r]=s;return t};var _s=async e=>{let t=await Du(e);return M0(t.configFile,t.credentialsFile)};var $0=require("url");var L0=require("buffer"),U0=require("http");function gr(e){return new Promise((t,n)=>{var s;let r=(0,U0.request)({method:"GET",...e,hostname:(s=e.hostname)==null?void 0:s.replace(/^\[(.+)\]$/,"$1")});r.on("error",o=>{n(Object.assign(new Ht("Unable to connect to instance metadata service"),o)),r.destroy()}),r.on("timeout",()=>{n(new Ht("TimeoutError from instance metadata service")),r.destroy()}),r.on("response",o=>{let{statusCode:a=400}=o;(a<200||300<=a)&&(n(Object.assign(new Ht("Error response received from instance metadata service"),{statusCode:a})),r.destroy());let i=[];o.on("data",l=>{i.push(l)}),o.on("end",()=>{t(L0.Buffer.concat(i)),r.destroy()})}),r.end()})}var Ou=e=>!!e&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string",Fu=e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration)});var Mu=({maxRetries:e=0,timeout:t=1e3})=>({maxRetries:e,timeout:t});var Rd=(e,t)=>{let n=e();for(let r=0;r<t;r++)n=n.catch(e);return n};var Id="AWS_CONTAINER_CREDENTIALS_FULL_URI",Nd="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",z0="AWS_CONTAINER_AUTHORIZATION_TOKEN",Lu=(e={})=>{let{timeout:t,maxRetries:n}=Mu(e);return()=>Rd(async()=>{let r=await O4(),s=JSON.parse(await T4(t,r));if(!Ou(s))throw new ne("Invalid response received from instance metadata service.");return Fu(s)},n)},T4=async(e,t)=>(process.env[z0]&&(t.headers={...t.headers,Authorization:process.env[z0]}),(await gr({...t,timeout:e})).toString()),v4="169.254.170.2",D4={localhost:!0,"127.0.0.1":!0},B4={"http:":!0,"https:":!0},O4=async()=>{if(process.env[Nd])return{hostname:v4,path:process.env[Nd]};if(process.env[Id]){let e=(0,$0.parse)(process.env[Id]);if(!e.hostname||!(e.hostname in D4))throw new ne(`${e.hostname} is not a valid container metadata service hostname`,!1);if(!e.protocol||!(e.protocol in B4))throw new ne(`${e.protocol} is not a valid container metadata service protocol`,!1);return{...e,port:e.port?parseInt(e.port,10):void 0}}throw new ne(`The container metadata credential provider cannot be used unless the ${Nd} or ${Id} environment variable is set`,!1)};var q0=e=>async()=>{try{let t=e(process.env);if(t===void 0)throw new Error;return t}catch(t){throw new ne(t.message||`Cannot load config from environment variables with getter: ${e}`)}};var G0=(e,{preferredFile:t="config",...n}={})=>async()=>{let r=yn(n),{configFile:s,credentialsFile:o}=await Du(n),a=o[r]||{},i=s[r]||{},l=t==="config"?{...a,...i}:{...i,...a};try{let d=e(l);if(d===void 0)throw new Error;return d}catch(d){throw new ne(d.message||`Cannot load config for profile ${r} in SDK configuration files with getter: ${e}`)}};var F4=e=>typeof e=="function",j0=e=>F4(e)?async()=>await e():fR(e);var ke=({environmentVariableSelector:e,configFileSelector:t,default:n},r={})=>Ss(uu(q0(e),G0(t,r),j0(n)));var Td;(function(e){e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]"})(Td||(Td={}));var M4="AWS_EC2_METADATA_SERVICE_ENDPOINT",L4="ec2_metadata_service_endpoint",H0={environmentVariableSelector:e=>e[M4],configFileSelector:e=>e[L4],default:void 0};var As;(function(e){e.IPv4="IPv4",e.IPv6="IPv6"})(As||(As={}));var U4="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",z4="ec2_metadata_service_endpoint_mode",K0={environmentVariableSelector:e=>e[U4],configFileSelector:e=>e[z4],default:As.IPv4};var vd=async()=>qt(await $4()||await q4()),$4=async()=>ke(H0)(),q4=async()=>{let e=await ke(K0)();switch(e){case As.IPv4:return Td.IPv4;case As.IPv6:return Td.IPv6;default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(As)}`)}};var G4="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",Gp=(e,t)=>{let n=300+Math.floor(Math.random()*300),r=new Date(Date.now()+n*1e3);t.warn("Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(newExpiration)}.\nFor more information, please visit: "+G4);let s=e.originalExpiration??e.expiration;return{...e,...s?{originalExpiration:s}:{},expiration:r}};var V0=(e,t={})=>{let n=(t==null?void 0:t.logger)||console,r;return async()=>{let s;try{s=await e(),s.expiration&&s.expiration.getTime()<Date.now()&&(s=Gp(s,n))}catch(o){if(r)n.warn("Credential renew failed: ",o),s=Gp(r,n);else throw o}return r=s,s}};var W0="/latest/meta-data/iam/security-credentials/",j4="/latest/api/token",Uu=(e={})=>V0(H4(e),{logger:e.logger}),H4=e=>{let t=!1,{timeout:n,maxRetries:r}=Mu(e),s=async(o,a)=>{let i=(await Rd(async()=>{let l;try{l=await V4(a)}catch(d){throw d.statusCode===401&&(t=!1),d}return l},o)).trim();return Rd(async()=>{let l;try{l=await W4(i,a)}catch(d){throw d.statusCode===401&&(t=!1),d}return l},o)};return async()=>{let o=await vd();if(t)return s(r,{...o,timeout:n});{let a;try{a=(await K4({...o,timeout:n})).toString()}catch(i){if((i==null?void 0:i.statusCode)===400)throw Object.assign(i,{message:"EC2 Metadata token request returned error"});return(i.message==="TimeoutError"||[403,404,405].includes(i.statusCode))&&(t=!0),s(r,{...o,timeout:n})}return s(r,{...o,headers:{"x-aws-ec2-metadata-token":a},timeout:n})}}},K4=async e=>gr({...e,path:j4,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),V4=async e=>(await gr({...e,path:W0})).toString(),W4=async(e,t)=>{let n=JSON.parse((await gr({...t,path:W0+e})).toString());if(!Ou(n))throw new ne("Invalid response received from instance metadata service.");return Fu(n)};var Y0=(e,t)=>{let n={EcsContainer:Lu,Ec2InstanceMetadata:Uu,Environment:Iu};if(e in n)return n[e]();throw new ne(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`)};var X0=e=>!!e&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(Y4(e)||X4(e)),Y4=e=>typeof e.source_profile=="string"&&typeof e.credential_source>"u",X4=e=>typeof e.credential_source=="string"&&typeof e.source_profile>"u",Q0=async(e,t,n,r={})=>{let s=t[e];if(!n.roleAssumer)throw new ne(`Profile ${e} requires a role to be assumed, but no role assumption callback was provided.`,!1);let{source_profile:o}=s;if(o&&o in r)throw new ne(`Detected a cycle attempting to resolve credentials for profile ${yn(n)}. Profiles visited: `+Object.keys(r).join(", "),!1);let a=o?zu(o,t,n,{...r,[o]:!0}):Y0(s.credential_source,e)(),i={RoleArn:s.role_arn,RoleSessionName:s.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:s.external_id},{mfa_serial:l}=s;if(l){if(!n.mfaCodeProvider)throw new ne(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,!1);i.SerialNumber=l,i.TokenCode=await n.mfaCodeProvider(l)}let d=await a;return n.roleAssumer(d,i)};var J0=require("child_process"),eI=require("util");var Z0=(e,t)=>{if(t.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(t.AccessKeyId===void 0||t.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){let n=new Date;if(new Date(t.Expiration)<n)throw Error(`Profile ${e} credential_process returned expired credentials.`)}return{accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)}}};var tI=async(e,t)=>{let n=t[e];if(t[e]){let r=n.credential_process;if(r!==void 0){let s=(0,eI.promisify)(J0.exec);try{let{stdout:o}=await s(r),a;try{a=JSON.parse(o.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return Z0(e,a)}catch(o){throw new ne(o.message)}}else throw new ne(`Profile ${e} did not contain credential_process.`)}else throw new ne(`Profile ${e} could not be found in shared credentials file.`)};var $u=(e={})=>async()=>{let t=await _s(e);return tI(yn(e),t)};var nI=e=>!!e&&typeof e=="object"&&typeof e.credential_process=="string",rI=async(e,t)=>$u({...e,profile:t})();var Dd=e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string");var In=class extends mn{constructor(t){super(t),Object.setPrototypeOf(this,In.prototype)}};var ac=class extends In{constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,ac.prototype)}},cc=class extends In{constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,cc.prototype)}},dc=class extends In{constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),this.name="TooManyRequestsException",this.$fault="client",Object.setPrototypeOf(this,dc.prototype)}},lc=class extends In{constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),this.name="UnauthorizedException",this.$fault="client",Object.setPrototypeOf(this,lc.prototype)}},sI=e=>({...e,...e.accessToken&&{accessToken:xe}}),Q4=e=>({...e,...e.secretAccessKey&&{secretAccessKey:xe},...e.sessionToken&&{sessionToken:xe}}),oI=e=>({...e,...e.roleCredentials&&{roleCredentials:Q4(e.roleCredentials)}});var iI=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=co({},i5,{"x-amz-sso_bearer_token":e.accessToken}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/federation/credentials`,l=co({role_name:[,W(e.roleName,"roleName")],account_id:[,W(e.accountId,"accountId")]}),d;return new T({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})};var aI=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Z4(e,t);let n=co({$metadata:Bd(e)}),r=W(de(await cI(e.body,t)),"body");return r.roleCredentials!=null&&(n.roleCredentials=r5(r.roleCredentials,t)),n},Z4=async(e,t)=>{let n={...e,body:await a5(e.body,t)},r=c5(e,n.body);switch(r){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await J4(n,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await e5(n,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await t5(n,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await n5(n,t);default:let s=n.body;z({output:e,parsedBody:s,exceptionCtor:In,errorCode:r})}};var co=ro,J4=async(e,t)=>{let n=co({}),r=e.body;r.message!=null&&(n.message=y(r.message));let s=new ac({$metadata:Bd(e),...n});return we(s,e.body)},e5=async(e,t)=>{let n=co({}),r=e.body;r.message!=null&&(n.message=y(r.message));let s=new cc({$metadata:Bd(e),...n});return we(s,e.body)},t5=async(e,t)=>{let n=co({}),r=e.body;r.message!=null&&(n.message=y(r.message));let s=new dc({$metadata:Bd(e),...n});return we(s,e.body)},n5=async(e,t)=>{let n=co({}),r=e.body;r.message!=null&&(n.message=y(r.message));let s=new lc({$metadata:Bd(e),...n});return we(s,e.body)};var r5=(e,t)=>({accessKeyId:y(e.accessKeyId),expiration:Yo(e.expiration),secretAccessKey:y(e.secretAccessKey),sessionToken:y(e.sessionToken)});var Bd=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),s5=(e=new Uint8Array,t)=>e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array),o5=(e,t)=>s5(e,t).then(n=>t.utf8Encoder(n)),i5=e=>e!=null&&e!==""&&(!Object.getOwnPropertyNames(e).includes("length")||e.length!=0)&&(!Object.getOwnPropertyNames(e).includes("size")||e.size!=0),cI=(e,t)=>o5(e,t).then(n=>n.length?JSON.parse(n):{}),a5=async(e,t)=>{let n=await cI(e,t);return n.message=n.message??n.Message,n},c5=(e,t)=>{let n=(o,a)=>Object.keys(o).find(i=>i.toLowerCase()===a.toLowerCase()),r=o=>{let a=o;return typeof a=="number"&&(a=a.toString()),a.indexOf(",")>=0&&(a=a.split(",")[0]),a.indexOf(":")>=0&&(a=a.split(":")[0]),a.indexOf("#")>=0&&(a=a.split("#")[1]),a},s=n(e.headers,"x-amzn-errortype");if(s!==void 0)return r(e.headers[s]);if(t.code!==void 0)return r(t.code);if(t.__type!==void 0)return r(t.__type)};var uc=class extends w{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,uc.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"SSOClient",commandName:"GetRoleCredentialsCommand",inputFilterSensitiveLog:sI,outputFilterSensitiveLog:oI},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return iI(t,n)}deserialize(t,n){return aI(t,n)}};var dI=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"});var lI={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.309.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/config-resolver":"3.306.0","@aws-sdk/fetch-http-handler":"3.306.0","@aws-sdk/hash-node":"3.306.0","@aws-sdk/invalid-dependency":"3.306.0","@aws-sdk/middleware-content-length":"3.306.0","@aws-sdk/middleware-endpoint":"3.306.0","@aws-sdk/middleware-host-header":"3.306.0","@aws-sdk/middleware-logger":"3.306.0","@aws-sdk/middleware-recursion-detection":"3.306.0","@aws-sdk/middleware-retry":"3.306.0","@aws-sdk/middleware-serde":"3.306.0","@aws-sdk/middleware-stack":"3.306.0","@aws-sdk/middleware-user-agent":"3.306.0","@aws-sdk/node-config-provider":"3.306.0","@aws-sdk/node-http-handler":"3.306.0","@aws-sdk/protocol-http":"3.306.0","@aws-sdk/smithy-client":"3.309.0","@aws-sdk/types":"3.306.0","@aws-sdk/url-parser":"3.306.0","@aws-sdk/util-base64":"3.303.0","@aws-sdk/util-body-length-browser":"3.303.0","@aws-sdk/util-body-length-node":"3.303.0","@aws-sdk/util-defaults-mode-browser":"3.309.0","@aws-sdk/util-defaults-mode-node":"3.309.0","@aws-sdk/util-endpoints":"3.306.0","@aws-sdk/util-retry":"3.306.0","@aws-sdk/util-user-agent-browser":"3.306.0","@aws-sdk/util-user-agent-node":"3.306.0","@aws-sdk/util-utf8":"3.303.0",tslib:"^2.5.0"},devDependencies:{"@aws-sdk/service-client-documentation-generator":"3.303.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}};var mI=require("buffer"),qu=require("crypto"),gn=class{constructor(t,n){this.algorithmIdentifier=t,this.secret=n,this.reset()}update(t,n){this.hash.update(jt(uI(t,n)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?(0,qu.createHmac)(this.algorithmIdentifier,uI(this.secret)):(0,qu.createHash)(this.algorithmIdentifier)}};function uI(e,t){return mI.Buffer.isBuffer(e)?e:typeof e=="string"?Ri(e,t):ArrayBuffer.isView(e)?fr(e.buffer,e.byteOffset,e.byteLength):fr(e)}function jp(e){let t=[];for(let n of Object.keys(e).sort()){let r=e[n];if(n=jn(n),Array.isArray(r))for(let s=0,o=r.length;s<o;s++)t.push(`${n}=${jn(r[s])}`);else{let s=n;(r||typeof r=="string")&&(s+=`=${jn(r)}`),t.push(s)}}return t.join("&")}var Gu=require("http"),ju=require("https");var fI=["ECONNRESET","EPIPE","ETIMEDOUT"];var Hp=e=>{let t={};for(let n of Object.keys(e)){let r=e[n];t[n]=Array.isArray(r)?r.join(","):r}return t};var pI=require("stream");function Kp(e,t){(t.headers.Expect||t.headers.expect)==="100-continue"?e.on("continue",()=>{hI(e,t.body)}):hI(e,t.body)}function hI(e,t){t instanceof pI.Readable?t.pipe(e):t?e.end(Buffer.from(t)):e.end()}var yI=0,Hn=class{constructor(t){this.metadata={handlerProtocol:"http/1.1"},this.configProvider=new Promise((n,r)=>{typeof t=="function"?t().then(s=>{n(this.resolveDefaultConfig(s))}).catch(r):n(this.resolveDefaultConfig(t))})}resolveDefaultConfig(t){let{requestTimeout:n,connectionTimeout:r,socketTimeout:s,httpAgent:o,httpsAgent:a}=t||{},i=!0,l=50;return{connectionTimeout:r,socketTimeout:s,requestTimeout:n??r??s??yI,httpAgent:o||new Gu.Agent({keepAlive:i,maxSockets:l}),httpsAgent:a||new ju.Agent({keepAlive:i,maxSockets:l})}}destroy(){var t,n,r,s;(n=(t=this.config)==null?void 0:t.httpAgent)==null||n.destroy(),(s=(r=this.config)==null?void 0:r.httpsAgent)==null||s.destroy()}async handle(t,{abortSignal:n}={}){return this.config||(this.config=await this.configProvider),new Promise((r,s)=>{var u;if(!this.config)throw new Error("Node HTTP request handler config is not resolved");if(n!=null&&n.aborted){let m=new Error("Request aborted");m.name="AbortError",s(m);return}let o=t.protocol==="https:",a=jp(t.query||{}),i={headers:t.headers,host:t.hostname,method:t.method,path:a?`${t.path}?${a}`:t.path,port:t.port,agent:o?this.config.httpsAgent:this.config.httpAgent},d=(o?ju.request:Gu.request)(i,m=>{let S=new fn({statusCode:m.statusCode||-1,headers:Hp(m.headers),body:m});r({response:S})});d.on("error",m=>{fI.includes(m.code)?s(Object.assign(m,{name:"TimeoutError"})):s(m)});let c=((u=this.config)==null?void 0:u.requestTimeout)??yI;d.setTimeout(c,()=>{d.destroy(),s(Object.assign(new Error(`Connection timed out after ${c} ms`),{name:"TimeoutError"}))}),n&&(n.onabort=()=>{d.abort();let m=new Error("Request aborted");m.name="AbortError",s(m)}),Kp(d,t)})}};var Vp=class{constructor(t){this.sessions=[],this.sessions=t??[]}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(t){this.sessions.push(t)}contains(t){return this.sessions.includes(t)}remove(t){this.sessions=this.sessions.filter(n=>n!==t)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(t){for(let n of this.sessions)n===t&&(n.destroyed||n.destroy())}};var gI=require("stream"),Hu=class extends gI.Writable{constructor(){super(...arguments),this.bufferedBytes=[]}_write(t,n,r){this.bufferedBytes.push(t),r()}};var Kn=e=>new Promise((t,n)=>{let r=new Hu;e.pipe(r),e.on("error",s=>{r.end(),n(s)}),r.on("error",n),r.on("finish",function(){let s=new Uint8Array(Buffer.concat(this.bufferedBytes));t(s)})});var Ku=require("fs"),ks=e=>{if(!e)return 0;if(typeof e=="string")return Buffer.from(e).length;if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.path=="string"||Buffer.isBuffer(e.path))return(0,Ku.lstatSync)(e.path).size;if(typeof e.fd=="number")return(0,Ku.fstatSync)(e.fd).size;throw new Error(`Body Length computation failed for ${e}`)};var Vu=require("os"),Od=require("process");var EI=()=>{try{return typeof require=="function"&&typeof module<"u"&&require("aws-crt")?["md/crt-avail"]:null}catch{return null}};var l5="AWS_SDK_UA_APP_ID",u5="sdk-ua-app-id",Rs=({serviceId:e,clientVersion:t})=>{let n=[["aws-sdk-js",t],[`os/${(0,Vu.platform)()}`,(0,Vu.release)()],["lang/js"],["md/nodejs",`${Od.versions.node}`]],r=EI();r&&n.push(r),e&&n.push([`api/${e}`,t]),Od.env.AWS_EXECUTION_ENV&&n.push([`exec-env/${Od.env.AWS_EXECUTION_ENV}`]);let s=ke({environmentVariableSelector:a=>a[l5],configFileSelector:a=>a[u5],default:void 0})(),o;return async()=>{if(!o){let a=await s;o=a?[...n,[`app/${a}`]]:[...n]}return o}};var m5=/^[A-Za-z0-9+/]*={0,2}$/,Is=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!m5.exec(e))throw new TypeError("Invalid base64 string.");let t=Ri(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};var Ns=e=>fr(e.buffer,e.byteOffset,e.byteLength).toString("base64");var AI="required",Er="fn",xr="argv",mc="ref",Wp="PartitionResult",Vn="tree",Fd="error",Md="endpoint",xI={[AI]:!1,type:"String"},SI={[AI]:!0,default:!1,type:"Boolean"},kI={[mc]:"Endpoint"},RI={[Er]:"booleanEquals",[xr]:[{[mc]:"UseFIPS"},!0]},II={[Er]:"booleanEquals",[xr]:[{[mc]:"UseDualStack"},!0]},Wn={},wI={[Er]:"booleanEquals",[xr]:[!0,{[Er]:"getAttr",[xr]:[{[mc]:Wp},"supportsFIPS"]}]},CI={[Er]:"booleanEquals",[xr]:[!0,{[Er]:"getAttr",[xr]:[{[mc]:Wp},"supportsDualStack"]}]},bI=[kI],PI=[RI],_I=[II],f5={version:"1.0",parameters:{Region:xI,UseDualStack:SI,UseFIPS:SI,Endpoint:xI},rules:[{conditions:[{[Er]:"aws.partition",[xr]:[{[mc]:"Region"}],assign:Wp}],type:Vn,rules:[{conditions:[{[Er]:"isSet",[xr]:bI},{[Er]:"parseURL",[xr]:bI,assign:"url"}],type:Vn,rules:[{conditions:PI,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Fd},{type:Vn,rules:[{conditions:_I,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Fd},{endpoint:{url:kI,properties:Wn,headers:Wn},type:Md}]}]},{conditions:[RI,II],type:Vn,rules:[{conditions:[wI,CI],type:Vn,rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Wn,headers:Wn},type:Md}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Fd}]},{conditions:PI,type:Vn,rules:[{conditions:[wI],type:Vn,rules:[{type:Vn,rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Wn,headers:Wn},type:Md}]}]},{error:"FIPS is enabled but this partition does not support FIPS",type:Fd}]},{conditions:_I,type:Vn,rules:[{conditions:[CI],type:Vn,rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Wn,headers:Wn},type:Md}]},{error:"DualStack is enabled but this partition does not support DualStack",type:Fd}]},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:Wn,headers:Wn},type:Md}]}]},NI=f5;var TI=(e,t={})=>bs(NI,{endpointParams:e,logger:t.logger});var vI=e=>({apiVersion:"2019-06-10",base64Decoder:(e==null?void 0:e.base64Decoder)??Is,base64Encoder:(e==null?void 0:e.base64Encoder)??Ns,disableHostPrefix:(e==null?void 0:e.disableHostPrefix)??!1,endpointProvider:(e==null?void 0:e.endpointProvider)??TI,logger:(e==null?void 0:e.logger)??new Fn,serviceId:(e==null?void 0:e.serviceId)??"SSO",urlParser:(e==null?void 0:e.urlParser)??qt,utf8Decoder:(e==null?void 0:e.utf8Decoder)??Un,utf8Encoder:(e==null?void 0:e.utf8Encoder)??os});var DI="AWS_EXECUTION_ENV",Yp="AWS_REGION",Xp="AWS_DEFAULT_REGION",BI="AWS_EC2_METADATA_DISABLED",OI=["in-region","cross-region","mobile","standard","legacy"],FI="/latest/meta-data/placement/region";var h5="AWS_DEFAULTS_MODE",p5="defaults_mode",MI={environmentVariableSelector:e=>e[h5],configFileSelector:e=>e[p5],default:"legacy"};var Ts=({region:e=ke($n),defaultsMode:t=ke(MI)}={})=>Ss(async()=>{let n=typeof t=="function"?await t():t;switch(n==null?void 0:n.toLowerCase()){case"auto":return y5(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(n==null?void 0:n.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${OI.join(", ")}, got ${n}`)}}),y5=async e=>{if(e){let t=typeof e=="function"?await e():e,n=await g5();return n?t===n?"in-region":"cross-region":"standard"}return"standard"},g5=async()=>{if(process.env[DI]&&(process.env[Yp]||process.env[Xp]))return process.env[Yp]??process.env[Xp];if(!process.env[BI])try{let e=await vd();return(await gr({...e,path:FI})).toString()}catch{}};var LI=e=>{Zr(process.version);let t=Ts(e),n=()=>t().then(Qr),r=vI(e);return{...r,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:(e==null?void 0:e.bodyLengthChecker)??ks,defaultUserAgentProvider:(e==null?void 0:e.defaultUserAgentProvider)??Rs({serviceId:r.serviceId,clientVersion:lI.version}),maxAttempts:(e==null?void 0:e.maxAttempts)??ke(ys),region:(e==null?void 0:e.region)??ke($n,ls),requestHandler:(e==null?void 0:e.requestHandler)??new Hn(n),retryMode:(e==null?void 0:e.retryMode)??ke({...Es,default:async()=>(await n()).retryMode||Gn}),sha256:(e==null?void 0:e.sha256)??gn.bind(null,"sha256"),streamCollector:(e==null?void 0:e.streamCollector)??Kn,useDualstackEndpoint:(e==null?void 0:e.useDualstackEndpoint)??ke(cs),useFipsEndpoint:(e==null?void 0:e.useFipsEndpoint)??ke(ds)}};var Wu=class extends Mn{constructor(t){let n=LI(t),r=dI(n),s=us(r),o=Wr(s),a=gs(o),i=a,l=ws(i);super(l),this.config=l,this.middlewareStack.use(xs(this.config)),this.middlewareStack.use(ms(this.config)),this.middlewareStack.use(fs(this.config)),this.middlewareStack.use(hs(this.config)),this.middlewareStack.use(ps(this.config)),this.middlewareStack.use(Ps(this.config))}destroy(){super.destroy()}};var fc="To refresh this SSO session run 'aws sso login' with the corresponding profile.";var ht=class extends mn{constructor(t){super(t),Object.setPrototypeOf(this,ht.prototype)}};var hc=class extends ht{constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),this.name="AccessDeniedException",this.$fault="client",Object.setPrototypeOf(this,hc.prototype),this.error=t.error,this.error_description=t.error_description}},pc=class extends ht{constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t}),this.name="AuthorizationPendingException",this.$fault="client",Object.setPrototypeOf(this,pc.prototype),this.error=t.error,this.error_description=t.error_description}},yc=class extends ht{constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,yc.prototype),this.error=t.error,this.error_description=t.error_description}},gc=class extends ht{constructor(t){super({name:"InternalServerException",$fault:"server",...t}),this.name="InternalServerException",this.$fault="server",Object.setPrototypeOf(this,gc.prototype),this.error=t.error,this.error_description=t.error_description}},Ec=class extends ht{constructor(t){super({name:"InvalidClientException",$fault:"client",...t}),this.name="InvalidClientException",this.$fault="client",Object.setPrototypeOf(this,Ec.prototype),this.error=t.error,this.error_description=t.error_description}},xc=class extends ht{constructor(t){super({name:"InvalidGrantException",$fault:"client",...t}),this.name="InvalidGrantException",this.$fault="client",Object.setPrototypeOf(this,xc.prototype),this.error=t.error,this.error_description=t.error_description}},Sc=class extends ht{constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,Sc.prototype),this.error=t.error,this.error_description=t.error_description}},wc=class extends ht{constructor(t){super({name:"InvalidScopeException",$fault:"client",...t}),this.name="InvalidScopeException",this.$fault="client",Object.setPrototypeOf(this,wc.prototype),this.error=t.error,this.error_description=t.error_description}},Cc=class extends ht{constructor(t){super({name:"SlowDownException",$fault:"client",...t}),this.name="SlowDownException",this.$fault="client",Object.setPrototypeOf(this,Cc.prototype),this.error=t.error,this.error_description=t.error_description}},bc=class extends ht{constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t}),this.name="UnauthorizedClientException",this.$fault="client",Object.setPrototypeOf(this,bc.prototype),this.error=t.error,this.error_description=t.error_description}},Pc=class extends ht{constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t}),this.name="UnsupportedGrantTypeException",this.$fault="client",Object.setPrototypeOf(this,Pc.prototype),this.error=t.error,this.error_description=t.error_description}};var UI=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a={"content-type":"application/json"},i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/token`,l;return l=JSON.stringify({...e.clientId!=null&&{clientId:e.clientId},...e.clientSecret!=null&&{clientSecret:e.clientSecret},...e.code!=null&&{code:e.code},...e.deviceCode!=null&&{deviceCode:e.deviceCode},...e.grantType!=null&&{grantType:e.grantType},...e.redirectUri!=null&&{redirectUri:e.redirectUri},...e.refreshToken!=null&&{refreshToken:e.refreshToken},...e.scope!=null&&{scope:N5(e.scope,t)}}),new T({protocol:r,hostname:n,port:s,method:"POST",headers:a,path:i,body:l})};var zI=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return E5(e,t);let n=En({$metadata:xn(e)}),r=W(de(await $I(e.body,t)),"body");return r.accessToken!=null&&(n.accessToken=y(r.accessToken)),r.expiresIn!=null&&(n.expiresIn=Ul(r.expiresIn)),r.idToken!=null&&(n.idToken=y(r.idToken)),r.refreshToken!=null&&(n.refreshToken=y(r.refreshToken)),r.tokenType!=null&&(n.tokenType=y(r.tokenType)),n},E5=async(e,t)=>{let n={...e,body:await D5(e.body,t)},r=B5(e,n.body);switch(r){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await x5(n,t);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await S5(n,t);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await w5(n,t);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await C5(n,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await b5(n,t);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await P5(n,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await _5(n,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await A5(n,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await k5(n,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await R5(n,t);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await I5(n,t);default:let s=n.body;z({output:e,parsedBody:s,exceptionCtor:ht,errorCode:r})}};var En=ro,x5=async(e,t)=>{let n=En({}),r=e.body;r.error!=null&&(n.error=y(r.error)),r.error_description!=null&&(n.error_description=y(r.error_description));let s=new hc({$metadata:xn(e),...n});return we(s,e.body)},S5=async(e,t)=>{let n=En({}),r=e.body;r.error!=null&&(n.error=y(r.error)),r.error_description!=null&&(n.error_description=y(r.error_description));let s=new pc({$metadata:xn(e),...n});return we(s,e.body)},w5=async(e,t)=>{let n=En({}),r=e.body;r.error!=null&&(n.error=y(r.error)),r.error_description!=null&&(n.error_description=y(r.error_description));let s=new yc({$metadata:xn(e),...n});return we(s,e.body)},C5=async(e,t)=>{let n=En({}),r=e.body;r.error!=null&&(n.error=y(r.error)),r.error_description!=null&&(n.error_description=y(r.error_description));let s=new gc({$metadata:xn(e),...n});return we(s,e.body)},b5=async(e,t)=>{let n=En({}),r=e.body;r.error!=null&&(n.error=y(r.error)),r.error_description!=null&&(n.error_description=y(r.error_description));let s=new Ec({$metadata:xn(e),...n});return we(s,e.body)};var P5=async(e,t)=>{let n=En({}),r=e.body;r.error!=null&&(n.error=y(r.error)),r.error_description!=null&&(n.error_description=y(r.error_description));let s=new xc({$metadata:xn(e),...n});return we(s,e.body)},_5=async(e,t)=>{let n=En({}),r=e.body;r.error!=null&&(n.error=y(r.error)),r.error_description!=null&&(n.error_description=y(r.error_description));let s=new Sc({$metadata:xn(e),...n});return we(s,e.body)},A5=async(e,t)=>{let n=En({}),r=e.body;r.error!=null&&(n.error=y(r.error)),r.error_description!=null&&(n.error_description=y(r.error_description));let s=new wc({$metadata:xn(e),...n});return we(s,e.body)},k5=async(e,t)=>{let n=En({}),r=e.body;r.error!=null&&(n.error=y(r.error)),r.error_description!=null&&(n.error_description=y(r.error_description));let s=new Cc({$metadata:xn(e),...n});return we(s,e.body)},R5=async(e,t)=>{let n=En({}),r=e.body;r.error!=null&&(n.error=y(r.error)),r.error_description!=null&&(n.error_description=y(r.error_description));let s=new bc({$metadata:xn(e),...n});return we(s,e.body)},I5=async(e,t)=>{let n=En({}),r=e.body;r.error!=null&&(n.error=y(r.error)),r.error_description!=null&&(n.error_description=y(r.error_description));let s=new Pc({$metadata:xn(e),...n});return we(s,e.body)},N5=(e,t)=>e.filter(n=>n!=null).map(n=>n),xn=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),T5=(e=new Uint8Array,t)=>e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array),v5=(e,t)=>T5(e,t).then(n=>t.utf8Encoder(n));var $I=(e,t)=>v5(e,t).then(n=>n.length?JSON.parse(n):{}),D5=async(e,t)=>{let n=await $I(e,t);return n.message=n.message??n.Message,n},B5=(e,t)=>{let n=(o,a)=>Object.keys(o).find(i=>i.toLowerCase()===a.toLowerCase()),r=o=>{let a=o;return typeof a=="number"&&(a=a.toString()),a.indexOf(",")>=0&&(a=a.split(",")[0]),a.indexOf(":")>=0&&(a=a.split(":")[0]),a.indexOf("#")>=0&&(a=a.split("#")[1]),a},s=n(e.headers,"x-amzn-errortype");if(s!==void 0)return r(e.headers[s]);if(t.code!==void 0)return r(t.code);if(t.__type!==void 0)return r(t.__type)};var _c=class extends w{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,_c.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"SSOOIDCClient",commandName:"CreateTokenCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return UI(t,n)}deserialize(t,n){return zI(t,n)}};var qI=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssooidc"});var GI={name:"@aws-sdk/client-sso-oidc",description:"AWS SDK for JavaScript Sso Oidc Client for Node.js, Browser and React Native",version:"3.309.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso-oidc"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/config-resolver":"3.306.0","@aws-sdk/fetch-http-handler":"3.306.0","@aws-sdk/hash-node":"3.306.0","@aws-sdk/invalid-dependency":"3.306.0","@aws-sdk/middleware-content-length":"3.306.0","@aws-sdk/middleware-endpoint":"3.306.0","@aws-sdk/middleware-host-header":"3.306.0","@aws-sdk/middleware-logger":"3.306.0","@aws-sdk/middleware-recursion-detection":"3.306.0","@aws-sdk/middleware-retry":"3.306.0","@aws-sdk/middleware-serde":"3.306.0","@aws-sdk/middleware-stack":"3.306.0","@aws-sdk/middleware-user-agent":"3.306.0","@aws-sdk/node-config-provider":"3.306.0","@aws-sdk/node-http-handler":"3.306.0","@aws-sdk/protocol-http":"3.306.0","@aws-sdk/smithy-client":"3.309.0","@aws-sdk/types":"3.306.0","@aws-sdk/url-parser":"3.306.0","@aws-sdk/util-base64":"3.303.0","@aws-sdk/util-body-length-browser":"3.303.0","@aws-sdk/util-body-length-node":"3.303.0","@aws-sdk/util-defaults-mode-browser":"3.309.0","@aws-sdk/util-defaults-mode-node":"3.309.0","@aws-sdk/util-endpoints":"3.306.0","@aws-sdk/util-retry":"3.306.0","@aws-sdk/util-user-agent-browser":"3.306.0","@aws-sdk/util-user-agent-node":"3.306.0","@aws-sdk/util-utf8":"3.303.0",tslib:"^2.5.0"},devDependencies:{"@aws-sdk/service-client-documentation-generator":"3.303.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso-oidc",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso-oidc"}};var QI="required",Sr="fn",wr="argv",Ac="ref",Zp="PartitionResult",Yn="tree",Ld="error",Ud="endpoint",jI={[QI]:!1,type:"String"},HI={[QI]:!0,default:!1,type:"Boolean"},ZI={[Ac]:"Endpoint"},JI={[Sr]:"booleanEquals",[wr]:[{[Ac]:"UseFIPS"},!0]},eN={[Sr]:"booleanEquals",[wr]:[{[Ac]:"UseDualStack"},!0]},Xn={},KI={[Sr]:"booleanEquals",[wr]:[!0,{[Sr]:"getAttr",[wr]:[{[Ac]:Zp},"supportsFIPS"]}]},VI={[Sr]:"booleanEquals",[wr]:[!0,{[Sr]:"getAttr",[wr]:[{[Ac]:Zp},"supportsDualStack"]}]},WI=[ZI],YI=[JI],XI=[eN],F5={version:"1.0",parameters:{Region:jI,UseDualStack:HI,UseFIPS:HI,Endpoint:jI},rules:[{conditions:[{[Sr]:"aws.partition",[wr]:[{[Ac]:"Region"}],assign:Zp}],type:Yn,rules:[{conditions:[{[Sr]:"isSet",[wr]:WI},{[Sr]:"parseURL",[wr]:WI,assign:"url"}],type:Yn,rules:[{conditions:YI,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Ld},{type:Yn,rules:[{conditions:XI,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Ld},{endpoint:{url:ZI,properties:Xn,headers:Xn},type:Ud}]}]},{conditions:[JI,eN],type:Yn,rules:[{conditions:[KI,VI],type:Yn,rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Xn,headers:Xn},type:Ud}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Ld}]},{conditions:YI,type:Yn,rules:[{conditions:[KI],type:Yn,rules:[{type:Yn,rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Xn,headers:Xn},type:Ud}]}]},{error:"FIPS is enabled but this partition does not support FIPS",type:Ld}]},{conditions:XI,type:Yn,rules:[{conditions:[VI],type:Yn,rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Xn,headers:Xn},type:Ud}]},{error:"DualStack is enabled but this partition does not support DualStack",type:Ld}]},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:Xn,headers:Xn},type:Ud}]}]},tN=F5;var nN=(e,t={})=>bs(tN,{endpointParams:e,logger:t.logger});var rN=e=>({apiVersion:"2019-06-10",base64Decoder:(e==null?void 0:e.base64Decoder)??Is,base64Encoder:(e==null?void 0:e.base64Encoder)??Ns,disableHostPrefix:(e==null?void 0:e.disableHostPrefix)??!1,endpointProvider:(e==null?void 0:e.endpointProvider)??nN,logger:(e==null?void 0:e.logger)??new Fn,serviceId:(e==null?void 0:e.serviceId)??"SSO OIDC",urlParser:(e==null?void 0:e.urlParser)??qt,utf8Decoder:(e==null?void 0:e.utf8Decoder)??Un,utf8Encoder:(e==null?void 0:e.utf8Encoder)??os});var sN=e=>{Zr(process.version);let t=Ts(e),n=()=>t().then(Qr),r=rN(e);return{...r,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:(e==null?void 0:e.bodyLengthChecker)??ks,defaultUserAgentProvider:(e==null?void 0:e.defaultUserAgentProvider)??Rs({serviceId:r.serviceId,clientVersion:GI.version}),maxAttempts:(e==null?void 0:e.maxAttempts)??ke(ys),region:(e==null?void 0:e.region)??ke($n,ls),requestHandler:(e==null?void 0:e.requestHandler)??new Hn(n),retryMode:(e==null?void 0:e.retryMode)??ke({...Es,default:async()=>(await n()).retryMode||Gn}),sha256:(e==null?void 0:e.sha256)??gn.bind(null,"sha256"),streamCollector:(e==null?void 0:e.streamCollector)??Kn,useDualstackEndpoint:(e==null?void 0:e.useDualstackEndpoint)??ke(cs),useFipsEndpoint:(e==null?void 0:e.useFipsEndpoint)??ke(ds)}};var Yu=class extends Mn{constructor(t){let n=sN(t),r=qI(n),s=us(r),o=Wr(s),a=gs(o),i=a,l=ws(i);super(l),this.config=l,this.middlewareStack.use(xs(this.config)),this.middlewareStack.use(ms(this.config)),this.middlewareStack.use(fs(this.config)),this.middlewareStack.use(hs(this.config)),this.middlewareStack.use(ps(this.config)),this.middlewareStack.use(Ps(this.config))}destroy(){super.destroy()}};var Jp={},oN=e=>{if(Jp[e])return Jp[e];let t=new Yu({region:e});return Jp[e]=t,t};var iN=(e,t)=>oN(t).send(new _c({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}));var ey=e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new Kt(`Token is expired. ${fc}`,!1)};var vs=(e,t,n=!1)=>{if(typeof t>"u")throw new Kt(`Value not present for '${e}' in SSO Token${n?". Cannot refresh":""}. ${fc}`,!1)};var aN=require("fs"),{writeFile:M5}=aN.promises,cN=(e,t)=>{let n=Nu(e),r=JSON.stringify(t,null,2);return M5(n,r)};var dN=new Date(0),lN=(e={})=>async()=>{let t=await _s(e),n=yn(e),r=t[n];if(r){if(!r.sso_session)throw new Kt(`Profile '${n}' is missing required property 'sso_session'.`)}else throw new Kt(`Profile '${n}' could not be found in shared credentials file.`,!1);let s=r.sso_session,a=(await Bu(e))[s];if(!a)throw new Kt(`Sso session '${s}' could not be found in shared credentials file.`,!1);for(let S of["sso_start_url","sso_region"])if(!a[S])throw new Kt(`Sso session '${s}' is missing required property '${S}'.`,!1);let i=a.sso_start_url,l=a.sso_region,d;try{d=await Tu(s)}catch{throw new Kt(`The SSO session token associated with profile=${n} was not found or is invalid. ${fc}`,!1)}vs("accessToken",d.accessToken),vs("expiresAt",d.expiresAt);let{accessToken:c,expiresAt:u}=d,m={token:c,expiration:new Date(u)};if(m.expiration.getTime()-Date.now()>3e5)return m;if(Date.now()-dN.getTime()<30*1e3)return ey(m),m;vs("clientId",d.clientId,!0),vs("clientSecret",d.clientSecret,!0),vs("refreshToken",d.refreshToken,!0);try{dN.setTime(Date.now());let S=await iN(d,l);vs("accessToken",S.accessToken),vs("expiresIn",S.expiresIn);let x=new Date(Date.now()+S.expiresIn*1e3);try{await cN(s,{...d,accessToken:S.accessToken,expiresAt:x.toISOString(),refreshToken:S.refreshToken})}catch{}return{token:S.accessToken,expiration:x}}catch{return ey(m),m}};var U5=15*60*1e3,zd=!1,ty=async({ssoStartUrl:e,ssoSession:t,ssoAccountId:n,ssoRegion:r,ssoRoleName:s,ssoClient:o,profile:a})=>{let i,l="To refresh this SSO session run aws sso login with the corresponding profile.";if(t)try{let D=await lN({profile:a})();i={accessToken:D.token,expiresAt:new Date(D.expiration).toISOString()}}catch(D){throw new ne(D.message,zd)}else try{i=await Tu(e)}catch{throw new ne(`The SSO session associated with this profile is invalid. ${l}`,zd)}if(new Date(i.expiresAt).getTime()-Date.now()<=U5)throw new ne(`The SSO session associated with this profile has expired. ${l}`,zd);let{accessToken:d}=i,c=o||new Wu({region:r}),u;try{u=await c.send(new uc({accountId:n,roleName:s,accessToken:d}))}catch(D){throw ne.from(D,zd)}let{roleCredentials:{accessKeyId:m,secretAccessKey:S,sessionToken:x,expiration:R}={}}=u;if(!m||!S||!x||!R)throw new ne("SSO returns an invalid temporary credential.",zd);return{accessKeyId:m,secretAccessKey:S,sessionToken:x,expiration:new Date(R)}};var Xu=e=>{let{sso_start_url:t,sso_account_id:n,sso_region:r,sso_role_name:s}=e;if(!t||!n||!r||!s)throw new ne(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,!1);return e};var Qu=(e={})=>async()=>{let{ssoStartUrl:t,ssoAccountId:n,ssoRegion:r,ssoRoleName:s,ssoClient:o,ssoSession:a}=e,i=yn(e);if(!t&&!n&&!r&&!s&&!a){let d=(await _s(e))[i];if(!d)throw new ne(`Profile ${i} was not found.`);if(!Dd(d))throw new ne(`Profile ${i} is not configured with SSO credentials.`);if(d!=null&&d.sso_session){let D=(await Bu(e))[d.sso_session],X=` configurations in profile ${i} and sso-session ${d.sso_session}`;if(r&&r!==D.sso_region)throw new ne("Conflicting SSO region"+X,!1);if(t&&t!==D.sso_start_url)throw new ne("Conflicting SSO start_url"+X,!1);d.sso_region=D.sso_region,d.sso_start_url=D.sso_start_url}let{sso_start_url:c,sso_account_id:u,sso_region:m,sso_role_name:S,sso_session:x}=Xu(d);return ty({ssoStartUrl:c,ssoSession:x,ssoAccountId:u,ssoRegion:m,ssoRoleName:S,ssoClient:o,profile:i})}else{if(!t||!n||!r||!s)throw new ne('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"');return ty({ssoStartUrl:t,ssoSession:a,ssoAccountId:n,ssoRegion:r,ssoRoleName:s,ssoClient:o,profile:i})}};var uN=e=>{let{sso_start_url:t,sso_account_id:n,sso_session:r,sso_region:s,sso_role_name:o}=Xu(e);return Qu({ssoStartUrl:t,ssoAccountId:n,ssoSession:r,ssoRegion:s,ssoRoleName:o})()};var ny=e=>!!e&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1,ry=e=>Promise.resolve({accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token});var fN=require("fs");var mN=e=>()=>{let{roleArn:t,roleSessionName:n,webIdentityToken:r,providerId:s,policyArns:o,policy:a,durationSeconds:i,roleAssumerWithWebIdentity:l}=e;if(!l)throw new ne(`Role Arn '${t}' needs to be assumed with web identity, but no role assumption callback was provided.`,!1);return l({RoleArn:t,RoleSessionName:n??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:r,ProviderId:s,PolicyArns:o,Policy:a,DurationSeconds:i})};var z5="AWS_WEB_IDENTITY_TOKEN_FILE",$5="AWS_ROLE_ARN",q5="AWS_ROLE_SESSION_NAME",Zu=(e={})=>async()=>G5(e),G5=e=>{let t=(e==null?void 0:e.webIdentityTokenFile)??process.env[z5],n=(e==null?void 0:e.roleArn)??process.env[$5],r=(e==null?void 0:e.roleSessionName)??process.env[q5];if(!t||!n)throw new ne("Web identity configuration not specified");return mN({...e,webIdentityToken:(0,fN.readFileSync)(t,{encoding:"ascii"}),roleArn:n,roleSessionName:r})()};var hN=e=>!!e&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,pN=async(e,t)=>Zu({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity})();var zu=async(e,t,n,r={})=>{let s=t[e];if(Object.keys(r).length>0&&ny(s))return ry(s);if(X0(s))return Q0(e,t,n,r);if(ny(s))return ry(s);if(hN(s))return pN(s,n);if(nI(s))return rI(n,e);if(Dd(s))return uN(s);throw new ne(`Profile ${e} could not be found or parsed in shared credentials file.`)};var yN=(e={})=>async()=>{let t=await _s(e);return zu(yn(e),t,e)};var j5="AWS_EC2_METADATA_DISABLED",gN=e=>process.env[Nd]||process.env[Id]?Lu(e):process.env[j5]?async()=>{throw new ne("EC2 Instance Metadata Service access disabled")}:Uu(e);var Ju=(e={})=>Ss(uu(...e.profile||process.env[$p]?[]:[Iu()],Qu(e),yN(e),$u(e),Zu(e),gN(e),async()=>{throw new ne("Could not load credentials from any providers",!1)}),t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,t=>t.expiration!==void 0);var AN="required",ge="type",De="fn",Be="argv",Ds="ref",lo="properties",uo="headers";var oy="PartitionResult",Sn="tree",mo="booleanEquals",Ct="stringEquals",kN="sigv4",RN="us-east-1",IN="sts",Ye="endpoint",NN="https://sts.{Region}.{PartitionResult#dnsSuffix}",$d="error",iy="getAttr",EN={[AN]:!1,[ge]:"String"},sy={[AN]:!0,default:!1,[ge]:"Boolean"},bt={[Ds]:"Region"},TN={[Ds]:"UseFIPS"},vN={[Ds]:"UseDualStack"},xN={[De]:"isSet",[Be]:[{[Ds]:"Endpoint"}]},DN={[Ds]:"Endpoint"},At={url:"https://sts.amazonaws.com",[lo]:{authSchemes:[{name:kN,signingRegion:RN,signingName:IN}]},[uo]:{}},Cr={},SN={conditions:[{[De]:Ct,[Be]:[bt,"aws-global"]}],[Ye]:At,[ge]:Ye},BN={[De]:mo,[Be]:[TN,!0]},ON={[De]:mo,[Be]:[vN,!0]},wN={[De]:mo,[Be]:[!0,{[De]:iy,[Be]:[{[Ds]:oy},"supportsFIPS"]}]},FN={[Ds]:oy},CN={[De]:mo,[Be]:[!0,{[De]:iy,[Be]:[FN,"supportsDualStack"]}]},bN={url:NN,[lo]:{},[uo]:{}},H5=[DN],PN=[BN],_N=[ON],K5={version:"1.0",parameters:{Region:EN,UseDualStack:sy,UseFIPS:sy,Endpoint:EN,UseGlobalEndpoint:sy},rules:[{conditions:[{[De]:"aws.partition",[Be]:[bt],assign:oy}],[ge]:Sn,rules:[{conditions:[{[De]:mo,[Be]:[{[Ds]:"UseGlobalEndpoint"},!0]},{[De]:mo,[Be]:[TN,!1]},{[De]:mo,[Be]:[vN,!1]},{[De]:"not",[Be]:[xN]}],[ge]:Sn,rules:[{conditions:[{[De]:Ct,[Be]:[bt,"ap-northeast-1"]}],endpoint:At,[ge]:Ye},{conditions:[{[De]:Ct,[Be]:[bt,"ap-south-1"]}],endpoint:At,[ge]:Ye},{conditions:[{[De]:Ct,[Be]:[bt,"ap-southeast-1"]}],endpoint:At,[ge]:Ye},{conditions:[{[De]:Ct,[Be]:[bt,"ap-southeast-2"]}],endpoint:At,[ge]:Ye},SN,{conditions:[{[De]:Ct,[Be]:[bt,"ca-central-1"]}],endpoint:At,[ge]:Ye},{conditions:[{[De]:Ct,[Be]:[bt,"eu-central-1"]}],endpoint:At,[ge]:Ye},{conditions:[{[De]:Ct,[Be]:[bt,"eu-north-1"]}],endpoint:At,[ge]:Ye},{conditions:[{[De]:Ct,[Be]:[bt,"eu-west-1"]}],endpoint:At,[ge]:Ye},{conditions:[{[De]:Ct,[Be]:[bt,"eu-west-2"]}],endpoint:At,[ge]:Ye},{conditions:[{[De]:Ct,[Be]:[bt,"eu-west-3"]}],endpoint:At,[ge]:Ye},{conditions:[{[De]:Ct,[Be]:[bt,"sa-east-1"]}],endpoint:At,[ge]:Ye},{conditions:[{[De]:Ct,[Be]:[bt,RN]}],endpoint:At,[ge]:Ye},{conditions:[{[De]:Ct,[Be]:[bt,"us-east-2"]}],endpoint:At,[ge]:Ye},{conditions:[{[De]:Ct,[Be]:[bt,"us-west-1"]}],endpoint:At,[ge]:Ye},{conditions:[{[De]:Ct,[Be]:[bt,"us-west-2"]}],endpoint:At,[ge]:Ye},{endpoint:{url:NN,[lo]:{authSchemes:[{name:kN,signingRegion:"{Region}",signingName:IN}]},[uo]:Cr},[ge]:Ye}]},{conditions:[xN,{[De]:"parseURL",[Be]:H5,assign:"url"}],[ge]:Sn,rules:[{conditions:PN,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[ge]:$d},{[ge]:Sn,rules:[{conditions:_N,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[ge]:$d},{endpoint:{url:DN,[lo]:Cr,[uo]:Cr},[ge]:Ye}]}]},{conditions:[BN,ON],[ge]:Sn,rules:[{conditions:[wN,CN],[ge]:Sn,rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",[lo]:Cr,[uo]:Cr},[ge]:Ye}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[ge]:$d}]},{conditions:PN,[ge]:Sn,rules:[{conditions:[wN],[ge]:Sn,rules:[{[ge]:Sn,rules:[{conditions:[{[De]:Ct,[Be]:["aws-us-gov",{[De]:iy,[Be]:[FN,"name"]}]}],endpoint:bN,[ge]:Ye},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",[lo]:Cr,[uo]:Cr},[ge]:Ye}]}]},{error:"FIPS is enabled but this partition does not support FIPS",[ge]:$d}]},{conditions:_N,[ge]:Sn,rules:[{conditions:[CN],[ge]:Sn,rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",[lo]:Cr,[uo]:Cr},[ge]:Ye}]},{error:"DualStack is enabled but this partition does not support DualStack",[ge]:$d}]},{[ge]:Sn,rules:[SN,{endpoint:bN,[ge]:Ye}]}]}]},MN=K5;var LN=(e,t={})=>bs(MN,{endpointParams:e,logger:t.logger});var UN=e=>({apiVersion:"2011-06-15",base64Decoder:(e==null?void 0:e.base64Decoder)??Is,base64Encoder:(e==null?void 0:e.base64Encoder)??Ns,disableHostPrefix:(e==null?void 0:e.disableHostPrefix)??!1,endpointProvider:(e==null?void 0:e.endpointProvider)??LN,logger:(e==null?void 0:e.logger)??new Fn,serviceId:(e==null?void 0:e.serviceId)??"STS",urlParser:(e==null?void 0:e.urlParser)??qt,utf8Decoder:(e==null?void 0:e.utf8Decoder)??Un,utf8Encoder:(e==null?void 0:e.utf8Encoder)??os});var zN=e=>{Zr(process.version);let t=Ts(e),n=()=>t().then(Qr),r=UN(e);return{...r,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:(e==null?void 0:e.bodyLengthChecker)??ks,credentialDefaultProvider:(e==null?void 0:e.credentialDefaultProvider)??C0(Ju),defaultUserAgentProvider:(e==null?void 0:e.defaultUserAgentProvider)??Rs({serviceId:r.serviceId,clientVersion:x0.version}),maxAttempts:(e==null?void 0:e.maxAttempts)??ke(ys),region:(e==null?void 0:e.region)??ke($n,ls),requestHandler:(e==null?void 0:e.requestHandler)??new Hn(n),retryMode:(e==null?void 0:e.retryMode)??ke({...Es,default:async()=>(await n()).retryMode||Gn}),sha256:(e==null?void 0:e.sha256)??gn.bind(null,"sha256"),streamCollector:(e==null?void 0:e.streamCollector)??Kn,useDualstackEndpoint:(e==null?void 0:e.useDualstackEndpoint)??ke(cs),useFipsEndpoint:(e==null?void 0:e.useFipsEndpoint)??ke(ds)}};var fo=class extends Mn{constructor(t){let n=zN(t),r=E0(n),s=us(r),o=Wr(s),a=gs(o),i=a,l=g0(i,{stsClientCtor:fo}),d=ws(l);super(d),this.config=d,this.middlewareStack.use(xs(this.config)),this.middlewareStack.use(ms(this.config)),this.middlewareStack.use(fs(this.config)),this.middlewareStack.use(hs(this.config)),this.middlewareStack.use(ps(this.config)),this.middlewareStack.use(Ps(this.config))}destroy(){super.destroy()}};var $N=(e,t)=>t?class extends e{constructor(r){super(r);for(let s of t)this.middlewareStack.use(s)}}:e,V5=(e={},t)=>Up(e,$N(fo,t)),W5=(e={},t)=>zp(e,$N(fo,t)),qN=e=>t=>e({roleAssumer:V5(t),roleAssumerWithWebIdentity:W5(t),...t});var YN=cn(wd());var Bs=class{constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let n=new Uint8Array(8);for(let r=7,s=Math.abs(Math.round(t));r>-1&&s>0;r--,s/=256)n[r]=s;return t<0&&GN(n),new Bs(n)}valueOf(){let t=this.bytes.slice(0),n=t[0]&128;return n&&GN(t),parseInt(wt(t),16)*(n?-1:1)}toString(){return String(this.valueOf())}};function GN(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}var em=class{constructor(t,n){this.toUtf8=t,this.fromUtf8=n}format(t){let n=[];for(let o of Object.keys(t)){let a=this.fromUtf8(o);n.push(Uint8Array.from([a.byteLength]),a,this.formatHeaderValue(t[o]))}let r=new Uint8Array(n.reduce((o,a)=>o+a.byteLength,0)),s=0;for(let o of n)r.set(o,s),s+=o.byteLength;return r}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":let n=new DataView(new ArrayBuffer(3));return n.setUint8(0,3),n.setInt16(1,t.value,!1),new Uint8Array(n.buffer);case"integer":let r=new DataView(new ArrayBuffer(5));return r.setUint8(0,4),r.setInt32(1,t.value,!1),new Uint8Array(r.buffer);case"long":let s=new Uint8Array(9);return s[0]=5,s.set(t.value.bytes,1),s;case"binary":let o=new DataView(new ArrayBuffer(3+t.value.byteLength));o.setUint8(0,6),o.setUint16(1,t.value.byteLength,!1);let a=new Uint8Array(o.buffer);return a.set(t.value,3),a;case"string":let i=this.fromUtf8(t.value),l=new DataView(new ArrayBuffer(3+i.byteLength));l.setUint8(0,7),l.setUint16(1,i.byteLength,!1);let d=new Uint8Array(l.buffer);return d.set(i,3),d;case"timestamp":let c=new Uint8Array(9);return c[0]=8,c.set(Bs.fromNumber(t.value.valueOf()).bytes,1),c;case"uuid":if(!r8.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);let u=new Uint8Array(17);return u[0]=9,u.set(pR(t.value.replace(/\-/g,"")),1),u}}parse(t){let n={},r=0;for(;r<t.byteLength;){let s=t.getUint8(r++),o=this.toUtf8(new Uint8Array(t.buffer,t.byteOffset+r,s));switch(r+=s,t.getUint8(r++)){case 0:n[o]={type:HN,value:!0};break;case 1:n[o]={type:HN,value:!1};break;case 2:n[o]={type:Y5,value:t.getInt8(r++)};break;case 3:n[o]={type:X5,value:t.getInt16(r,!1)},r+=2;break;case 4:n[o]={type:Q5,value:t.getInt32(r,!1)},r+=4;break;case 5:n[o]={type:Z5,value:new Bs(new Uint8Array(t.buffer,t.byteOffset+r,8))},r+=8;break;case 6:let a=t.getUint16(r,!1);r+=2,n[o]={type:J5,value:new Uint8Array(t.buffer,t.byteOffset+r,a)},r+=a;break;case 7:let i=t.getUint16(r,!1);r+=2,n[o]={type:e8,value:this.toUtf8(new Uint8Array(t.buffer,t.byteOffset+r,i))},r+=i;break;case 8:n[o]={type:t8,value:new Date(new Bs(new Uint8Array(t.buffer,t.byteOffset+r,8)).valueOf())},r+=8;break;case 9:let l=new Uint8Array(t.buffer,t.byteOffset+r,16);r+=16,n[o]={type:n8,value:`${wt(l.subarray(0,4))}-${wt(l.subarray(4,6))}-${wt(l.subarray(6,8))}-${wt(l.subarray(8,10))}-${wt(l.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return n}},jN;(function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"})(jN||(jN={}));var HN="boolean",Y5="byte",X5="short",Q5="integer",Z5="long",J5="binary",e8="string",t8="timestamp",n8="uuid",r8=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;var KN=cn(wd()),VN=4,Os=VN*2,ho=4,s8=Os+ho*2;function WN({byteLength:e,byteOffset:t,buffer:n}){if(e<s8)throw new Error("Provided message too short to accommodate event stream message overhead");let r=new DataView(n,t,e),s=r.getUint32(0,!1);if(e!==s)throw new Error("Reported message length does not match received message length");let o=r.getUint32(VN,!1),a=r.getUint32(Os,!1),i=r.getUint32(e-ho,!1),l=new KN.Crc32().update(new Uint8Array(n,t,Os));if(a!==l.digest())throw new Error(`The prelude checksum specified in the message (${a}) does not match the calculated CRC32 checksum (${l.digest()})`);if(l.update(new Uint8Array(n,t+Os,e-(Os+ho))),i!==l.digest())throw new Error(`The message checksum (${l.digest()}) did not match the expected value of ${i}`);return{headers:new DataView(n,t+Os+ho,o),body:new Uint8Array(n,t+Os+ho+o,s-o-(Os+ho+ho))}}var tm=class{constructor(t,n){this.headerMarshaller=new em(t,n)}encode({headers:t,body:n}){let r=this.headerMarshaller.format(t),s=r.byteLength+n.byteLength+16,o=new Uint8Array(s),a=new DataView(o.buffer,o.byteOffset,o.byteLength),i=new YN.Crc32;return a.setUint32(0,s,!1),a.setUint32(4,r.byteLength,!1),a.setUint32(8,i.update(o.subarray(0,8)).digest(),!1),o.set(r,12),o.set(n,r.byteLength+12),a.setUint32(s-4,i.update(o.subarray(8,s-4)).digest(),!1),o}decode(t){let{headers:n,body:r}=WN(t);return{headers:this.headerMarshaller.parse(n),body:r}}formatHeaders(t){return this.headerMarshaller.format(t)}};function XN(e){let t=0,n=0,r=null,s=null,o=i=>{if(typeof i!="number")throw new Error("Attempted to allocate an event message where size was not a number: "+i);t=i,n=4,r=new Uint8Array(i),new DataView(r.buffer).setUint32(0,i,!1)},a=async function*(){let i=e[Symbol.asyncIterator]();for(;;){let{value:l,done:d}=await i.next();if(d){if(t)if(t===n)yield r;else throw new Error("Truncated event message received.");else return;return}let c=l.length,u=0;for(;u<c;){if(!r){let S=c-u;s||(s=new Uint8Array(4));let x=Math.min(4-n,S);if(s.set(l.slice(u,u+x),n),n+=x,u+=x,n<4)break;o(new DataView(s.buffer).getUint32(0,!1)),s=null}let m=Math.min(t-n,c-u);r.set(l.slice(u,u+m),n),n+=m,u+=m,t&&t===n&&(yield r,r=null,t=0,n=0)}}};return{[Symbol.asyncIterator]:a}}function QN(e,t){return{[Symbol.asyncIterator]:async function*(){for await(let n of e){let r=t.eventStreamCodec.decode(n),{value:s}=r.headers[":message-type"];if(s==="error"){let o=new Error(r.headers[":error-message"].value||"UnknownError");throw o.name=r.headers[":error-code"].value,o}else if(s==="exception"){let o=r.headers[":exception-type"].value,a={[o]:r},i=await t.deserializer(a);if(i.$unknown){let l=new Error(t.toUtf8(r.body));throw l.name=o,l}throw i[o]}else if(s==="event"){let o={[r.headers[":event-type"].value]:r},a=await t.deserializer(o);if(a.$unknown)continue;yield a}else throw Error(`Unrecognizable event type: ${r.headers[":event-type"].value}`)}}}}var qd=class{constructor({utf8Encoder:t,utf8Decoder:n}){this.eventStreamCodec=new tm(t,n),this.utfEncoder=t}deserialize(t,n){let r=XN(t);return QN(r,{eventStreamCodec:this.eventStreamCodec,deserializer:n,toUtf8:this.utfEncoder})}serialize(t,n){let r=this,s=async function*(){for await(let o of t)yield r.eventStreamCodec.encode(n(o));yield new Uint8Array(0)};return{[Symbol.asyncIterator]:s}}};var JN=require("stream");async function*ZN(e){let t=!1,n=!1,r=new Array;for(e.on("error",s=>{if(t||(t=!0),s)throw s}),e.on("data",s=>{r.push(s)}),e.on("end",()=>{t=!0});!n;){let s=await new Promise(o=>setTimeout(()=>o(r.shift()),0));s&&(yield s),n=t&&r.length===0}}var nm=class{constructor({utf8Encoder:t,utf8Decoder:n}){this.universalMarshaller=new qd({utf8Decoder:n,utf8Encoder:t})}deserialize(t,n){let r=typeof t[Symbol.asyncIterator]=="function"?t:ZN(t);return this.universalMarshaller.deserialize(r,n)}serialize(t,n){return JN.Readable.from(this.universalMarshaller.serialize(t,n))}};var eT=e=>new nm(e);var tT=require("stream"),Gd=class extends tT.Writable{constructor(t,n){super(n),this.hash=t}_write(t,n,r){try{this.hash.update(jt(t))}catch(s){return r(s)}r()}};var nT=(e,t)=>{if(t.readableFlowing!==null)throw new Error("Unable to calculate hash for flowing readable stream");let n=new e,r=new Gd(n);return t.pipe(r),new Promise((s,o)=>{t.on("error",a=>{r.end(),o(a)}),r.on("error",o),r.on("finish",()=>{n.digest().then(s).catch(o)})})};var o8="AWS_S3_USE_ARN_REGION",i8="s3_use_arn_region",rT={environmentVariableSelector:e=>zn(e,o8,hn.ENV),configFileSelector:e=>zn(e,i8,hn.CONFIG),default:!1};var sT=require("stream"),oT=(e,t)=>{let{base64Encoder:n,bodyLengthChecker:r,checksumAlgorithmFn:s,checksumLocationName:o,streamHasher:a}=t,i=n!==void 0&&s!==void 0&&o!==void 0&&a!==void 0,l=i?a(s,e):void 0,d=new sT.Readable({read:()=>{}});return e.on("data",c=>{d.push(`${(r(c)||0).toString(16)}\r
${c.toString()}\r
`)}),e.on("end",async()=>{if(d.push(`0\r
`),i){let c=n(await l);d.push(`${o}:${c}\r
`),d.push(`\r
`)}d.push(null)}),d};var rm=require("stream"),aT=require("util"),iT="The stream has already been transformed.",cT=e=>{var r,s;if(!(e instanceof rm.Readable)){let o=((s=(r=e==null?void 0:e.__proto__)==null?void 0:r.constructor)==null?void 0:s.name)||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${o}`)}let t=!1,n=async()=>{if(t)throw new Error(iT);return t=!0,await Kn(e)};return Object.assign(e,{transformToByteArray:n,transformToString:async o=>{let a=await n();return o===void 0||Buffer.isEncoding(o)?fr(a.buffer,a.byteOffset,a.byteLength).toString(o):new aT.TextDecoder(o).decode(a)},transformToWebStream:()=>{if(t)throw new Error(iT);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof rm.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please make sure you are using Node.js >= 17.0.0, or polyfill is available.");return t=!0,rm.Readable.toWeb(e)}})};var sm=class{constructor(t){this.sigv4Signer=new ao(t),this.signerOptions=t}async sign(t,n={}){if(n.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().sign(t,n)}return this.sigv4Signer.sign(t,n)}async presign(t,n={}){if(n.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().presign(t,n)}return this.sigv4Signer.presign(t,n)}getSigv4aSigner(){if(!this.sigv4aSigner){let t;try{if(t=typeof require=="function"&&require("@aws-sdk/signature-v4-crt").CrtSignerV4,typeof t!="function")throw new Error}catch(n){throw n.message=`${n.message}
Please check if you have installed "@aws-sdk/signature-v4-crt" package explicitly. 
For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`,n}this.sigv4aSigner=new t({...this.signerOptions,signingAlgorithm:1})}return this.sigv4aSigner}};var Ry="required",f="type",_="rules",P="conditions",g="fn",E="argv",I="ref",pt="assign",H="url",K="properties",se="authSchemes",oe="disableDoubleEncoding",ie="signingName",ce="signingRegion",V="headers";var A="tree",en="isSet",jd="substring",pv="hardwareType",yv="regionPrefix",dT="abbaSuffix",Ay="outpostId",Yd="aws.partition",Z="stringEquals",go="isValidHostLabel",Je="not",Y="error",gv="parseURL",Iy="s3-outposts",N="endpoint",G="booleanEquals",Ev="aws.parseArn",me="s3",lT="aws.isVirtualHostableS3Bucket",Xe="getAttr",ee="name",ay="Host override cannot be combined with Dualstack, FIPS, or S3 Accelerate",xv="https://{Bucket}.s3.{partitionResult#dnsSuffix}",Sv="bucketArn",wv="arnType",lm="",Ny="s3-object-lambda",Cv="accesspoint",Ty="accessPointName",uT="{url#scheme}://{accessPointName}-{bucketArn#accountId}.{url#authority}{url#path}",mT="mrapPartition",fT="outpostType",hT="arnPrefix",Eo="{url#scheme}://{url#authority}{url#path}",bv="https://s3.{partitionResult#dnsSuffix}",cy={[Ry]:!1,[f]:"String"},Hd={[Ry]:!0,default:!1,[f]:"Boolean"},om={[Ry]:!1,[f]:"Boolean"},Pv={[g]:en,[E]:[{[I]:"Bucket"}]},Qn={[I]:"Bucket"},pT={[I]:pv},yT={[P]:[{[g]:Je,[E]:[{[g]:en,[E]:[{[I]:"Endpoint"}]}]}],[Y]:"Expected a endpoint to be specified but no endpoint was found",[f]:Y},fe={[g]:Je,[E]:[{[g]:en,[E]:[{[I]:"Endpoint"}]}]},Pe={[g]:en,[E]:[{[I]:"Endpoint"}]},Le={[g]:gv,[E]:[{[I]:"Endpoint"}],[pt]:"url"},im={[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:Iy,[ce]:"{Region}"}]},ct={},gT={[I]:"ForcePathStyle"},ET={[P]:[{[g]:"uriEncode",[E]:[Qn],[pt]:"uri_encoded_bucket"}],[f]:A,[_]:[{[P]:[{[g]:G,[E]:[{[I]:"UseDualStack"},!0]},Pe],[Y]:"Cannot set dual-stack in combination with a custom endpoint.",[f]:Y},{[f]:A,[_]:[{[P]:[{[g]:Yd,[E]:[{[I]:"Region"}],[pt]:"partitionResult"}],[f]:A,[_]:[{[f]:A,[_]:[{[P]:[{[g]:G,[E]:[{[I]:"Accelerate"},!1]}],[f]:A,[_]:[{[f]:A,[_]:[{[P]:[{[g]:G,[E]:[{[I]:"UseDualStack"},!0]},fe,{[g]:G,[E]:[{[I]:"UseFIPS"},!0]},{[g]:Z,[E]:[{[I]:"Region"},"aws-global"]}],[N]:{[H]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"us-east-1"}]},[V]:{}},[f]:N},{[P]:[{[g]:G,[E]:[{[I]:"UseDualStack"},!0]},fe,{[g]:G,[E]:[{[I]:"UseFIPS"},!0]},{[g]:Z,[E]:[{[I]:"Region"},"aws-global"]}],[N]:{[H]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"us-east-1"}]},[V]:{}},[f]:N},{[P]:[{[g]:G,[E]:[{[I]:"UseDualStack"},!0]},fe,{[g]:G,[E]:[{[I]:"UseFIPS"},!0]},{[g]:Je,[E]:[{[g]:Z,[E]:[{[I]:"Region"},"aws-global"]}]},{[g]:G,[E]:[{[I]:"UseGlobalEndpoint"},!0]}],[f]:A,[_]:[{[N]:{[H]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"{Region}"}]},[V]:{}},[f]:N}]},{[P]:[{[g]:G,[E]:[{[I]:"UseDualStack"},!0]},fe,{[g]:G,[E]:[{[I]:"UseFIPS"},!0]},{[g]:Je,[E]:[{[g]:Z,[E]:[{[I]:"Region"},"aws-global"]}]},{[g]:G,[E]:[{[I]:"UseGlobalEndpoint"},!1]}],[N]:{[H]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"{Region}"}]},[V]:{}},[f]:N},{[P]:[{[g]:G,[E]:[{[I]:"UseDualStack"},!1]},Pe,Le,{[g]:G,[E]:[{[I]:"UseFIPS"},!0]},{[g]:Z,[E]:[{[I]:"Region"},"aws-global"]}],[N]:{[H]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"us-east-1"}]},[V]:{}},[f]:N},{[P]:[{[g]:G,[E]:[{[I]:"UseDualStack"},!1]},Pe,Le,{[g]:G,[E]:[{[I]:"UseFIPS"},!0]},{[g]:Z,[E]:[{[I]:"Region"},"aws-global"]}],[N]:{[H]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"us-east-1"}]},[V]:{}},[f]:N},{[P]:[{[g]:G,[E]:[{[I]:"UseDualStack"},!1]},Pe,Le,{[g]:G,[E]:[{[I]:"UseFIPS"},!0]},{[g]:Je,[E]:[{[g]:Z,[E]:[{[I]:"Region"},"aws-global"]}]},{[g]:G,[E]:[{[I]:"UseGlobalEndpoint"},!0]}],[f]:A,[_]:[{[N]:{[H]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"{Region}"}]},[V]:{}},[f]:N}]},{[P]:[{[g]:G,[E]:[{[I]:"UseDualStack"},!1]},Pe,Le,{[g]:G,[E]:[{[I]:"UseFIPS"},!0]},{[g]:Je,[E]:[{[g]:Z,[E]:[{[I]:"Region"},"aws-global"]}]},{[g]:G,[E]:[{[I]:"UseGlobalEndpoint"},!1]}],[N]:{[H]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"{Region}"}]},[V]:{}},[f]:N},{[P]:[{[g]:G,[E]:[{[I]:"UseDualStack"},!1]},fe,{[g]:G,[E]:[{[I]:"UseFIPS"},!0]},{[g]:Z,[E]:[{[I]:"Region"},"aws-global"]}],[N]:{[H]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"us-east-1"}]},[V]:{}},[f]:N},{[P]:[{[g]:G,[E]:[{[I]:"UseDualStack"},!1]},fe,{[g]:G,[E]:[{[I]:"UseFIPS"},!0]},{[g]:Z,[E]:[{[I]:"Region"},"aws-global"]}],[N]:{[H]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"us-east-1"}]},[V]:{}},[f]:N},{[P]:[{[g]:G,[E]:[{[I]:"UseDualStack"},!1]},fe,{[g]:G,[E]:[{[I]:"UseFIPS"},!0]},{[g]:Je,[E]:[{[g]:Z,[E]:[{[I]:"Region"},"aws-global"]}]},{[g]:G,[E]:[{[I]:"UseGlobalEndpoint"},!0]}],[f]:A,[_]:[{[N]:{[H]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"{Region}"}]},[V]:{}},[f]:N}]},{[P]:[{[g]:G,[E]:[{[I]:"UseDualStack"},!1]},fe,{[g]:G,[E]:[{[I]:"UseFIPS"},!0]},{[g]:Je,[E]:[{[g]:Z,[E]:[{[I]:"Region"},"aws-global"]}]},{[g]:G,[E]:[{[I]:"UseGlobalEndpoint"},!1]}],[N]:{[H]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"{Region}"}]},[V]:{}},[f]:N},{[P]:[{[g]:G,[E]:[{[I]:"UseDualStack"},!0]},fe,{[g]:G,[E]:[{[I]:"UseFIPS"},!1]},{[g]:Z,[E]:[{[I]:"Region"},"aws-global"]}],[N]:{[H]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"us-east-1"}]},[V]:{}},[f]:N},{[P]:[{[g]:G,[E]:[{[I]:"UseDualStack"},!0]},fe,{[g]:G,[E]:[{[I]:"UseFIPS"},!1]},{[g]:Z,[E]:[{[I]:"Region"},"aws-global"]}],[N]:{[H]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"us-east-1"}]},[V]:{}},[f]:N},{[P]:[{[g]:G,[E]:[{[I]:"UseDualStack"},!0]},fe,{[g]:G,[E]:[{[I]:"UseFIPS"},!1]},{[g]:Je,[E]:[{[g]:Z,[E]:[{[I]:"Region"},"aws-global"]}]},{[g]:G,[E]:[{[I]:"UseGlobalEndpoint"},!0]}],[f]:A,[_]:[{[N]:{[H]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"{Region}"}]},[V]:{}},[f]:N}]},{[P]:[{[g]:G,[E]:[{[I]:"UseDualStack"},!0]},fe,{[g]:G,[E]:[{[I]:"UseFIPS"},!1]},{[g]:Je,[E]:[{[g]:Z,[E]:[{[I]:"Region"},"aws-global"]}]},{[g]:G,[E]:[{[I]:"UseGlobalEndpoint"},!1]}],[N]:{[H]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"{Region}"}]},[V]:{}},[f]:N},{[P]:[{[g]:G,[E]:[{[I]:"UseDualStack"},!1]},Pe,Le,{[g]:G,[E]:[{[I]:"UseFIPS"},!1]},{[g]:Z,[E]:[{[I]:"Region"},"aws-global"]}],[N]:{[H]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"us-east-1"}]},[V]:{}},[f]:N},{[P]:[{[g]:G,[E]:[{[I]:"UseDualStack"},!1]},Pe,Le,{[g]:G,[E]:[{[I]:"UseFIPS"},!1]},{[g]:Z,[E]:[{[I]:"Region"},"aws-global"]}],[N]:{[H]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"us-east-1"}]},[V]:{}},[f]:N},{[P]:[{[g]:G,[E]:[{[I]:"UseDualStack"},!1]},Pe,Le,{[g]:G,[E]:[{[I]:"UseFIPS"},!1]},{[g]:Je,[E]:[{[g]:Z,[E]:[{[I]:"Region"},"aws-global"]}]},{[g]:G,[E]:[{[I]:"UseGlobalEndpoint"},!0]}],[f]:A,[_]:[{[P]:[{[g]:Z,[E]:[{[I]:"Region"},"us-east-1"]}],[N]:{[H]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"{Region}"}]},[V]:{}},[f]:N},{[N]:{[H]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"{Region}"}]},[V]:{}},[f]:N}]},{[P]:[{[g]:G,[E]:[{[I]:"UseDualStack"},!1]},Pe,Le,{[g]:G,[E]:[{[I]:"UseFIPS"},!1]},{[g]:Je,[E]:[{[g]:Z,[E]:[{[I]:"Region"},"aws-global"]}]},{[g]:G,[E]:[{[I]:"UseGlobalEndpoint"},!1]}],[N]:{[H]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"{Region}"}]},[V]:{}},[f]:N},{[P]:[{[g]:G,[E]:[{[I]:"UseDualStack"},!1]},fe,{[g]:G,[E]:[{[I]:"UseFIPS"},!1]},{[g]:Z,[E]:[{[I]:"Region"},"aws-global"]}],[N]:{[H]:"https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"us-east-1"}]},[V]:{}},[f]:N},{[P]:[{[g]:G,[E]:[{[I]:"UseDualStack"},!1]},fe,{[g]:G,[E]:[{[I]:"UseFIPS"},!1]},{[g]:Z,[E]:[{[I]:"Region"},"aws-global"]}],[N]:{[H]:"https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"us-east-1"}]},[V]:{}},[f]:N},{[P]:[{[g]:G,[E]:[{[I]:"UseDualStack"},!1]},fe,{[g]:G,[E]:[{[I]:"UseFIPS"},!1]},{[g]:Je,[E]:[{[g]:Z,[E]:[{[I]:"Region"},"aws-global"]}]},{[g]:G,[E]:[{[I]:"UseGlobalEndpoint"},!0]}],[f]:A,[_]:[{[P]:[{[g]:Z,[E]:[{[I]:"Region"},"us-east-1"]}],[N]:{[H]:"https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"{Region}"}]},[V]:{}},[f]:N},{[N]:{[H]:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"{Region}"}]},[V]:{}},[f]:N}]},{[P]:[{[g]:G,[E]:[{[I]:"UseDualStack"},!1]},fe,{[g]:G,[E]:[{[I]:"UseFIPS"},!1]},{[g]:Je,[E]:[{[g]:Z,[E]:[{[I]:"Region"},"aws-global"]}]},{[g]:G,[E]:[{[I]:"UseGlobalEndpoint"},!1]}],[N]:{[H]:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"{Region}"}]},[V]:{}},[f]:N}]}]},{[Y]:"Path-style addressing cannot be used with S3 Accelerate",[f]:Y}]}]},{[Y]:"A valid partition could not be determined",[f]:Y}]}]},ze={[g]:G,[E]:[{[I]:"UseDualStack"},!0]},ut={[g]:G,[E]:[{[I]:"Accelerate"},!1]},Ke={[g]:G,[E]:[{[I]:"UseFIPS"},!0]},Ne={[g]:Je,[E]:[{[g]:Z,[E]:[{[I]:"Region"},"aws-global"]}]},kt={[g]:G,[E]:[{[I]:"UseGlobalEndpoint"},!0]},It={[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"{Region}"}]},Rt={[g]:G,[E]:[{[I]:"UseGlobalEndpoint"},!1]},Oe={[g]:G,[E]:[{[I]:"UseDualStack"},!1]},Ae={[g]:G,[E]:[{[I]:"UseFIPS"},!1]},po={[Y]:"A valid partition could not be determined",[f]:Y},dy={[P]:[Ke,{[g]:Z,[E]:[{[g]:Xe,[E]:[{[I]:"partitionResult"},ee]},"aws-cn"]}],[Y]:"Partition does not support FIPS",[f]:Y},y8={[g]:Z,[E]:[{[g]:Xe,[E]:[{[I]:"partitionResult"},ee]},"aws-cn"]},Nn={[g]:G,[E]:[{[I]:"Accelerate"},!0]},xT={[P]:[ze,Ke,ut,fe,{[g]:Z,[E]:[{[I]:"Region"},"aws-global"]}],[N]:{[H]:"https://{Bucket}.s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"us-east-1"}]},[V]:{}},[f]:N},ST={[H]:"https://{Bucket}.s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[K]:It,[V]:{}},wT={[P]:[Oe,Ke,ut,fe,{[g]:Z,[E]:[{[I]:"Region"},"aws-global"]}],[N]:{[H]:"https://{Bucket}.s3-fips.us-east-1.{partitionResult#dnsSuffix}",[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"us-east-1"}]},[V]:{}},[f]:N},CT={[H]:"https://{Bucket}.s3-fips.{Region}.{partitionResult#dnsSuffix}",[K]:It,[V]:{}},bT={[P]:[ze,Ae,Nn,fe,{[g]:Z,[E]:[{[I]:"Region"},"aws-global"]}],[N]:{[H]:"https://{Bucket}.s3-accelerate.dualstack.us-east-1.{partitionResult#dnsSuffix}",[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"us-east-1"}]},[V]:{}},[f]:N},PT={[H]:"https://{Bucket}.s3-accelerate.dualstack.{partitionResult#dnsSuffix}",[K]:It,[V]:{}},_T={[P]:[ze,Ae,ut,fe,{[g]:Z,[E]:[{[I]:"Region"},"aws-global"]}],[N]:{[H]:"https://{Bucket}.s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"us-east-1"}]},[V]:{}},[f]:N},AT={[H]:"https://{Bucket}.s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[K]:It,[V]:{}},kT={[P]:[Oe,Ae,ut,Pe,Le,{[g]:G,[E]:[{[g]:Xe,[E]:[{[I]:"url"},"isIp"]},!0]},{[g]:Z,[E]:[{[I]:"Region"},"aws-global"]}],[N]:{[H]:"{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"us-east-1"}]},[V]:{}},[f]:N},RT={[g]:G,[E]:[{[g]:Xe,[E]:[{[I]:"url"},"isIp"]},!0]},vy={[I]:"url"},IT={[P]:[Oe,Ae,ut,Pe,Le,{[g]:G,[E]:[{[g]:Xe,[E]:[vy,"isIp"]},!1]},{[g]:Z,[E]:[{[I]:"Region"},"aws-global"]}],[N]:{[H]:"{url#scheme}://{Bucket}.{url#authority}{url#path}",[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"us-east-1"}]},[V]:{}},[f]:N},NT={[g]:G,[E]:[{[g]:Xe,[E]:[vy,"isIp"]},!1]},ly={[H]:"{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",[K]:It,[V]:{}},ky={[H]:"{url#scheme}://{Bucket}.{url#authority}{url#path}",[K]:It,[V]:{}},TT={[N]:ky,[f]:N},vT={[P]:[Oe,Ae,Nn,fe,{[g]:Z,[E]:[{[I]:"Region"},"aws-global"]}],[N]:{[H]:"https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"us-east-1"}]},[V]:{}},[f]:N},uy={[H]:"https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",[K]:It,[V]:{}},DT={[P]:[Oe,Ae,ut,fe,{[g]:Z,[E]:[{[I]:"Region"},"aws-global"]}],[N]:{[H]:xv,[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"us-east-1"}]},[V]:{}},[f]:N},BT={[H]:"https://{Bucket}.s3.{Region}.{partitionResult#dnsSuffix}",[K]:It,[V]:{}},am={[Y]:"Invalid region: region was not a valid DNS name.",[f]:Y},Vt={[I]:Sv},_v={[I]:wv},my={[g]:Xe,[E]:[Vt,"service"]},Dy={[I]:Ty},OT={[P]:[ze],[Y]:"S3 Object Lambda does not support Dual-stack",[f]:Y},FT={[P]:[Nn],[Y]:"S3 Object Lambda does not support S3 Accelerate",[f]:Y},MT={[P]:[{[g]:en,[E]:[{[I]:"DisableAccessPoints"}]},{[g]:G,[E]:[{[I]:"DisableAccessPoints"},!0]}],[Y]:"Access points are not supported for this operation",[f]:Y},fy={[P]:[{[g]:en,[E]:[{[I]:"UseArnRegion"}]},{[g]:G,[E]:[{[I]:"UseArnRegion"},!1]},{[g]:Je,[E]:[{[g]:Z,[E]:[{[g]:Xe,[E]:[Vt,"region"]},"{Region}"]}]}],[Y]:"Invalid configuration: region from ARN `{bucketArn#region}` does not match client region `{Region}` and UseArnRegion is `false`",[f]:Y},By={[g]:Xe,[E]:[{[I]:"bucketPartition"},ee]},Av={[g]:Xe,[E]:[Vt,"accountId"]},LT={[P]:[Ke,{[g]:Z,[E]:[By,"aws-cn"]}],[Y]:"Partition does not support FIPS",[f]:Y},hy={[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:Ny,[ce]:"{bucketArn#region}"}]},UT={[Y]:"Invalid ARN: The access point name may only contain a-z, A-Z, 0-9 and `-`. Found: `{accessPointName}`",[f]:Y},py={[Y]:"Invalid ARN: The account id may only contain a-z, A-Z, 0-9 and `-`. Found: `{bucketArn#accountId}`",[f]:Y},yy={[Y]:"Invalid region in ARN: `{bucketArn#region}` (invalid DNS name)",[f]:Y},gy={[Y]:"Client was configured for partition `{partitionResult#name}` but ARN (`{Bucket}`) has `{bucketPartition#name}`",[f]:Y},zT={[Y]:"Could not load partition for ARN region `{bucketArn#region}`",[f]:Y},$T={[Y]:"Invalid ARN: The ARN may only contain a single resource component after `accesspoint`.",[f]:Y},qT={[Y]:"Invalid ARN: bucket ARN is missing a region",[f]:Y},GT={[Y]:"Invalid ARN: Expected a resource of the format `accesspoint:<accesspoint name>` but no name was provided",[f]:Y},Kd={[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"{bucketArn#region}"}]},jT={[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:Iy,[ce]:"{bucketArn#region}"}]},HT={[I]:"UseObjectLambdaEndpoint"},Ey={[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:Ny,[ce]:"{Region}"}]},KT={[P]:[Ke,ze,Pe,Le,{[g]:Z,[E]:[{[I]:"Region"},"aws-global"]}],[N]:{[H]:Eo,[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"us-east-1"}]},[V]:{}},[f]:N},kv={[N]:{[H]:Eo,[K]:It,[V]:{}},[f]:N},Vd={[H]:Eo,[K]:It,[V]:{}},VT={[P]:[Ke,ze,fe,{[g]:Z,[E]:[{[I]:"Region"},"aws-global"]}],[N]:{[H]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"us-east-1"}]},[V]:{}},[f]:N},WT={[H]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[K]:It,[V]:{}},YT={[P]:[Ke,Oe,Pe,Le,{[g]:Z,[E]:[{[I]:"Region"},"aws-global"]}],[N]:{[H]:Eo,[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"us-east-1"}]},[V]:{}},[f]:N},XT={[P]:[Ke,Oe,fe,{[g]:Z,[E]:[{[I]:"Region"},"aws-global"]}],[N]:{[H]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}",[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"us-east-1"}]},[V]:{}},[f]:N},QT={[H]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}",[K]:It,[V]:{}},ZT={[P]:[Ae,ze,Pe,Le,{[g]:Z,[E]:[{[I]:"Region"},"aws-global"]}],[N]:{[H]:Eo,[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"us-east-1"}]},[V]:{}},[f]:N},JT={[P]:[Ae,ze,fe,{[g]:Z,[E]:[{[I]:"Region"},"aws-global"]}],[N]:{[H]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"us-east-1"}]},[V]:{}},[f]:N},ev={[H]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[K]:It,[V]:{}},tv={[P]:[Ae,Oe,Pe,Le,{[g]:Z,[E]:[{[I]:"Region"},"aws-global"]}],[N]:{[H]:Eo,[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"us-east-1"}]},[V]:{}},[f]:N},nv={[P]:[Ae,Oe,fe,{[g]:Z,[E]:[{[I]:"Region"},"aws-global"]}],[N]:{[H]:bv,[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"us-east-1"}]},[V]:{}},[f]:N},rv={[H]:"https://s3.{Region}.{partitionResult#dnsSuffix}",[K]:It,[V]:{}},dm=[{[I]:"Region"}],g8=[Qn],sv=[{[g]:go,[E]:[{[I]:Ay},!1]}],ov=[{[g]:Z,[E]:[{[I]:yv},"beta"]}],E8=[{[I]:"Endpoint"}],Wd=[Pe,Le],iv=[Pv],av=[{[g]:Ev,[E]:[Qn]}],x8=[ze,Pe],yo=[{[g]:Yd,[E]:dm,[pt]:"partitionResult"}],kc=[{[g]:Z,[E]:[{[I]:"Region"},"us-east-1"]}],cv=[{[g]:go,[E]:[{[I]:"Region"},!1]}],xy=[{[g]:Z,[E]:[_v,Cv]}],dv=[{[g]:Xe,[E]:[Vt,"resourceId[1]"],[pt]:Ty},{[g]:Je,[E]:[{[g]:Z,[E]:[Dy,lm]}]}],S8=[Vt,"resourceId[1]"],lv=[ze],Sy=[Nn],wy=[{[g]:Je,[E]:[{[g]:Z,[E]:[{[g]:Xe,[E]:[Vt,"region"]},lm]}]}],uv=[{[g]:Je,[E]:[{[g]:en,[E]:[{[g]:Xe,[E]:[Vt,"resourceId[2]"]}]}]}],w8=[Vt,"resourceId[2]"],Cy=[{[g]:Yd,[E]:[{[g]:Xe,[E]:[Vt,"region"]}],[pt]:"bucketPartition"}],mv=[{[g]:Z,[E]:[By,{[g]:Xe,[E]:[{[I]:"partitionResult"},ee]}]}],by=[{[g]:go,[E]:[{[g]:Xe,[E]:[Vt,"region"]},!0]}],Py=[{[g]:go,[E]:[Av,!1]}],fv=[{[g]:go,[E]:[Dy,!1]}],cm=[Ke],hv=[{[g]:go,[E]:[{[I]:"Region"},!0]}],_y=[kv],C8={version:"1.0",parameters:{Bucket:cy,Region:cy,UseFIPS:Hd,UseDualStack:Hd,Endpoint:cy,ForcePathStyle:om,Accelerate:Hd,UseGlobalEndpoint:Hd,UseObjectLambdaEndpoint:om,DisableAccessPoints:om,DisableMultiRegionAccessPoints:Hd,UseArnRegion:om},[_]:[{[f]:A,[_]:[{[P]:[{[g]:en,[E]:dm}],[f]:A,[_]:[{[f]:A,[_]:[{[P]:[Pv,{[g]:jd,[E]:[Qn,49,50,!0],[pt]:pv},{[g]:jd,[E]:[Qn,8,12,!0],[pt]:yv},{[g]:jd,[E]:[Qn,0,7,!0],[pt]:dT},{[g]:jd,[E]:[Qn,32,49,!0],[pt]:Ay},{[g]:Yd,[E]:dm,[pt]:"regionPartition"},{[g]:Z,[E]:[{[I]:dT},"--op-s3"]}],[f]:A,[_]:[{[P]:sv,[f]:A,[_]:[{[f]:A,[_]:[{[P]:[{[g]:Z,[E]:[pT,"e"]}],[f]:A,[_]:[{[P]:ov,[f]:A,[_]:[yT,{[P]:Wd,endpoint:{[H]:"https://{Bucket}.ec2.{url#authority}",[K]:im,[V]:ct},[f]:N}]},{endpoint:{[H]:"https://{Bucket}.ec2.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[K]:im,[V]:ct},[f]:N}]},{[P]:[{[g]:Z,[E]:[pT,"o"]}],[f]:A,[_]:[{[P]:ov,[f]:A,[_]:[yT,{[P]:Wd,endpoint:{[H]:"https://{Bucket}.op-{outpostId}.{url#authority}",[K]:im,[V]:ct},[f]:N}]},{endpoint:{[H]:"https://{Bucket}.op-{outpostId}.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[K]:im,[V]:ct},[f]:N}]},{error:'Unrecognized hardware type: "Expected hardware type o or e but got {hardwareType}"',[f]:Y}]}]},{error:"Invalid ARN: The outpost Id must only contain a-z, A-Z, 0-9 and `-`.",[f]:Y}]},{[P]:iv,[f]:A,[_]:[{[P]:[Pe,{[g]:Je,[E]:[{[g]:en,[E]:[{[g]:gv,[E]:E8}]}]}],error:"Custom endpoint `{Endpoint}` was not a valid URI",[f]:Y},{[f]:A,[_]:[{[P]:[{[g]:en,[E]:[gT]},{[g]:G,[E]:[gT,!0]}],[f]:A,[_]:[{[f]:A,[_]:[{[P]:av,error:"Path-style addressing cannot be used with ARN buckets",[f]:Y},ET]}]},{[P]:[{[g]:lT,[E]:[Qn,!1]}],[f]:A,[_]:[{[P]:yo,[f]:A,[_]:[{[f]:A,[_]:[{[P]:cv,[f]:A,[_]:[{[f]:A,[_]:[dy,{[f]:A,[_]:[{[P]:[Nn,Ke],error:"Accelerate cannot be used with FIPS",[f]:Y},{[f]:A,[_]:[{[P]:[Nn,y8],error:"S3 Accelerate cannot be used in this region",[f]:Y},{[f]:A,[_]:[{[P]:[Pe,ze],error:ay,[f]:Y},{[f]:A,[_]:[{[P]:[Pe,Ke],error:ay,[f]:Y},{[f]:A,[_]:[{[P]:[Pe,Nn],error:ay,[f]:Y},{[f]:A,[_]:[xT,xT,{[P]:[ze,Ke,ut,fe,Ne,kt],[f]:A,[_]:[{endpoint:ST,[f]:N}]},{[P]:[ze,Ke,ut,fe,Ne,Rt],endpoint:ST,[f]:N},wT,wT,{[P]:[Oe,Ke,ut,fe,Ne,kt],[f]:A,[_]:[{endpoint:CT,[f]:N}]},{[P]:[Oe,Ke,ut,fe,Ne,Rt],endpoint:CT,[f]:N},bT,bT,{[P]:[ze,Ae,Nn,fe,Ne,kt],[f]:A,[_]:[{endpoint:PT,[f]:N}]},{[P]:[ze,Ae,Nn,fe,Ne,Rt],endpoint:PT,[f]:N},_T,_T,{[P]:[ze,Ae,ut,fe,Ne,kt],[f]:A,[_]:[{endpoint:AT,[f]:N}]},{[P]:[ze,Ae,ut,fe,Ne,Rt],endpoint:AT,[f]:N},kT,IT,kT,IT,{[P]:[Oe,Ae,ut,Pe,Le,RT,Ne,kt],[f]:A,[_]:[{[P]:kc,endpoint:ly,[f]:N},{endpoint:ly,[f]:N}]},{[P]:[Oe,Ae,ut,Pe,Le,NT,Ne,kt],[f]:A,[_]:[{[P]:kc,endpoint:ky,[f]:N},TT]},{[P]:[Oe,Ae,ut,Pe,Le,RT,Ne,Rt],endpoint:ly,[f]:N},{[P]:[Oe,Ae,ut,Pe,Le,NT,Ne,Rt],endpoint:ky,[f]:N},vT,vT,{[P]:[Oe,Ae,Nn,fe,Ne,kt],[f]:A,[_]:[{[P]:kc,endpoint:uy,[f]:N},{endpoint:uy,[f]:N}]},{[P]:[Oe,Ae,Nn,fe,Ne,Rt],endpoint:uy,[f]:N},DT,DT,{[P]:[Oe,Ae,ut,fe,Ne,kt],[f]:A,[_]:[{[P]:kc,endpoint:{[H]:xv,[K]:It,[V]:ct},[f]:N},{endpoint:BT,[f]:N}]},{[P]:[Oe,Ae,ut,fe,Ne,Rt],endpoint:BT,[f]:N}]}]}]}]}]}]}]}]},am]}]},po]},{[P]:[Pe,Le,{[g]:Z,[E]:[{[g]:Xe,[E]:[vy,"scheme"]},"http"]},{[g]:lT,[E]:[Qn,!0]},Ae,Oe,ut],[f]:A,[_]:[{[P]:yo,[f]:A,[_]:[{[f]:A,[_]:[{[P]:cv,[f]:A,[_]:[TT]},am]}]},po]},{[P]:[{[g]:Ev,[E]:g8,[pt]:Sv}],[f]:A,[_]:[{[P]:[{[g]:Xe,[E]:[Vt,"resourceId[0]"],[pt]:wv},{[g]:Je,[E]:[{[g]:Z,[E]:[_v,lm]}]}],[f]:A,[_]:[{[f]:A,[_]:[{[P]:[{[g]:Z,[E]:[my,Ny]}],[f]:A,[_]:[{[P]:xy,[f]:A,[_]:[{[f]:A,[_]:[{[P]:dv,[f]:A,[_]:[{[f]:A,[_]:[OT,{[f]:A,[_]:[FT,{[f]:A,[_]:[{[P]:wy,[f]:A,[_]:[{[f]:A,[_]:[MT,{[f]:A,[_]:[{[P]:uv,[f]:A,[_]:[{[f]:A,[_]:[fy,{[f]:A,[_]:[{[P]:Cy,[f]:A,[_]:[{[f]:A,[_]:[{[P]:yo,[f]:A,[_]:[{[f]:A,[_]:[{[P]:mv,[f]:A,[_]:[{[f]:A,[_]:[{[P]:by,[f]:A,[_]:[{[f]:A,[_]:[{[P]:[{[g]:Z,[E]:[Av,lm]}],error:"Invalid ARN: Missing account id",[f]:Y},{[f]:A,[_]:[{[P]:Py,[f]:A,[_]:[{[f]:A,[_]:[{[P]:fv,[f]:A,[_]:[{[f]:A,[_]:[LT,{[f]:A,[_]:[{[P]:Wd,endpoint:{[H]:uT,[K]:hy,[V]:ct},[f]:N},{[P]:cm,endpoint:{[H]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[K]:hy,[V]:ct},[f]:N},{endpoint:{[H]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda.{bucketArn#region}.{bucketPartition#dnsSuffix}",[K]:hy,[V]:ct},[f]:N}]}]}]},UT]}]},py]}]}]},yy]}]},gy]}]},po]}]},zT]}]}]},$T]}]}]},qT]}]}]}]},GT]}]},{error:"Invalid ARN: Object Lambda ARNs only support `accesspoint` arn types, but found: `{arnType}`",[f]:Y}]},{[P]:xy,[f]:A,[_]:[{[P]:dv,[f]:A,[_]:[{[f]:A,[_]:[{[P]:wy,[f]:A,[_]:[{[P]:xy,[f]:A,[_]:[{[P]:wy,[f]:A,[_]:[{[f]:A,[_]:[MT,{[f]:A,[_]:[{[P]:uv,[f]:A,[_]:[{[f]:A,[_]:[fy,{[f]:A,[_]:[{[P]:Cy,[f]:A,[_]:[{[f]:A,[_]:[{[P]:yo,[f]:A,[_]:[{[f]:A,[_]:[{[P]:[{[g]:Z,[E]:[By,"{partitionResult#name}"]}],[f]:A,[_]:[{[f]:A,[_]:[{[P]:by,[f]:A,[_]:[{[f]:A,[_]:[{[P]:[{[g]:Z,[E]:[my,me]}],[f]:A,[_]:[{[f]:A,[_]:[{[P]:Py,[f]:A,[_]:[{[f]:A,[_]:[{[P]:fv,[f]:A,[_]:[{[f]:A,[_]:[{[P]:Sy,error:"Access Points do not support S3 Accelerate",[f]:Y},{[f]:A,[_]:[LT,{[f]:A,[_]:[{[P]:x8,error:"DualStack cannot be combined with a Host override (PrivateLink)",[f]:Y},{[f]:A,[_]:[{[P]:[Ke,ze],endpoint:{[H]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[K]:Kd,[V]:ct},[f]:N},{[P]:[Ke,Oe],endpoint:{[H]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[K]:Kd,[V]:ct},[f]:N},{[P]:[Ae,ze],endpoint:{[H]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[K]:Kd,[V]:ct},[f]:N},{[P]:[Ae,Oe,Pe,Le],endpoint:{[H]:uT,[K]:Kd,[V]:ct},[f]:N},{[P]:[Ae,Oe],endpoint:{[H]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.{bucketArn#region}.{bucketPartition#dnsSuffix}",[K]:Kd,[V]:ct},[f]:N}]}]}]}]}]},UT]}]},py]}]},{error:"Invalid ARN: The ARN was not for the S3 service, found: {bucketArn#service}",[f]:Y}]}]},yy]}]},gy]}]},po]}]},zT]}]}]},$T]}]}]},qT]}]},{[f]:A,[_]:[{[P]:[{[g]:go,[E]:[Dy,!0]}],[f]:A,[_]:[{[f]:A,[_]:[{[P]:lv,error:"S3 MRAP does not support dual-stack",[f]:Y},{[f]:A,[_]:[{[P]:cm,error:"S3 MRAP does not support FIPS",[f]:Y},{[f]:A,[_]:[{[P]:Sy,error:"S3 MRAP does not support S3 Accelerate",[f]:Y},{[f]:A,[_]:[{[P]:[{[g]:G,[E]:[{[I]:"DisableMultiRegionAccessPoints"},!0]}],error:"Invalid configuration: Multi-Region Access Point ARNs are disabled.",[f]:Y},{[f]:A,[_]:[{[P]:[{[g]:Yd,[E]:dm,[pt]:mT}],[f]:A,[_]:[{[f]:A,[_]:[{[P]:[{[g]:Z,[E]:[{[g]:Xe,[E]:[{[I]:mT},ee]},{[g]:Xe,[E]:[Vt,"partition"]}]}],[f]:A,[_]:[{endpoint:{[H]:"https://{accessPointName}.accesspoint.s3-global.{mrapPartition#dnsSuffix}",[K]:{[se]:[{[oe]:!0,name:"sigv4a",[ie]:me,signingRegionSet:["*"]}]},[V]:ct},[f]:N}]},{error:"Client was configured for partition `{mrapPartition#name}` but bucket referred to partition `{bucketArn#partition}`",[f]:Y}]}]},{error:"{Region} was not a valid region",[f]:Y}]}]}]}]}]}]},{error:"Invalid Access Point Name",[f]:Y}]}]}]},GT]},{[P]:[{[g]:Z,[E]:[my,Iy]}],[f]:A,[_]:[{[P]:lv,error:"S3 Outposts does not support Dual-stack",[f]:Y},{[f]:A,[_]:[{[P]:cm,error:"S3 Outposts does not support FIPS",[f]:Y},{[f]:A,[_]:[{[P]:Sy,error:"S3 Outposts does not support S3 Accelerate",[f]:Y},{[f]:A,[_]:[{[P]:[{[g]:en,[E]:[{[g]:Xe,[E]:[Vt,"resourceId[4]"]}]}],error:"Invalid Arn: Outpost Access Point ARN contains sub resources",[f]:Y},{[f]:A,[_]:[{[P]:[{[g]:Xe,[E]:S8,[pt]:Ay}],[f]:A,[_]:[{[f]:A,[_]:[{[P]:sv,[f]:A,[_]:[{[f]:A,[_]:[fy,{[f]:A,[_]:[{[P]:Cy,[f]:A,[_]:[{[f]:A,[_]:[{[P]:yo,[f]:A,[_]:[{[f]:A,[_]:[{[P]:mv,[f]:A,[_]:[{[f]:A,[_]:[{[P]:by,[f]:A,[_]:[{[f]:A,[_]:[{[P]:Py,[f]:A,[_]:[{[f]:A,[_]:[{[P]:[{[g]:Xe,[E]:w8,[pt]:fT}],[f]:A,[_]:[{[f]:A,[_]:[{[P]:[{[g]:Xe,[E]:[Vt,"resourceId[3]"],[pt]:Ty}],[f]:A,[_]:[{[f]:A,[_]:[{[P]:[{[g]:Z,[E]:[{[I]:fT},Cv]}],[f]:A,[_]:[{[f]:A,[_]:[{[P]:Wd,endpoint:{[H]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.{url#authority}",[K]:jT,[V]:ct},[f]:N},{endpoint:{[H]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.s3-outposts.{bucketArn#region}.{bucketPartition#dnsSuffix}",[K]:jT,[V]:ct},[f]:N}]}]},{error:"Expected an outpost type `accesspoint`, found {outpostType}",[f]:Y}]}]},{error:"Invalid ARN: expected an access point name",[f]:Y}]}]},{error:"Invalid ARN: Expected a 4-component resource",[f]:Y}]}]},py]}]},yy]}]},gy]}]},po]}]},{error:"Could not load partition for ARN region {bucketArn#region}",[f]:Y}]}]}]},{error:"Invalid ARN: The outpost Id may only contain a-z, A-Z, 0-9 and `-`. Found: `{outpostId}`",[f]:Y}]}]},{error:"Invalid ARN: The Outpost Id was not set",[f]:Y}]}]}]}]}]},{error:"Invalid ARN: Unrecognized format: {Bucket} (type: {arnType})",[f]:Y}]}]},{error:"Invalid ARN: No ARN type specified",[f]:Y}]},{[P]:[{[g]:jd,[E]:[Qn,0,4,!1],[pt]:hT},{[g]:Z,[E]:[{[I]:hT},"arn:"]},{[g]:Je,[E]:[{[g]:en,[E]:av}]}],error:"Invalid ARN: `{Bucket}` was not a valid ARN",[f]:Y},ET]}]},{[P]:[{[g]:en,[E]:[HT]},{[g]:G,[E]:[HT,!0]}],[f]:A,[_]:[{[P]:yo,[f]:A,[_]:[{[f]:A,[_]:[{[P]:hv,[f]:A,[_]:[{[f]:A,[_]:[OT,{[f]:A,[_]:[FT,{[f]:A,[_]:[dy,{[f]:A,[_]:[{[P]:Wd,endpoint:{[H]:Eo,[K]:Ey,[V]:ct},[f]:N},{[P]:cm,endpoint:{[H]:"https://s3-object-lambda-fips.{Region}.{partitionResult#dnsSuffix}",[K]:Ey,[V]:ct},[f]:N},{endpoint:{[H]:"https://s3-object-lambda.{Region}.{partitionResult#dnsSuffix}",[K]:Ey,[V]:ct},[f]:N}]}]}]}]}]},am]}]},po]},{[P]:[{[g]:Je,[E]:iv}],[f]:A,[_]:[{[P]:yo,[f]:A,[_]:[{[f]:A,[_]:[{[P]:hv,[f]:A,[_]:[{[f]:A,[_]:[dy,{[f]:A,[_]:[KT,KT,{[P]:[Ke,ze,Pe,Le,Ne,kt],[f]:A,[_]:_y},{[P]:[Ke,ze,Pe,Le,Ne,Rt],endpoint:Vd,[f]:N},VT,VT,{[P]:[Ke,ze,fe,Ne,kt],[f]:A,[_]:[{endpoint:WT,[f]:N}]},{[P]:[Ke,ze,fe,Ne,Rt],endpoint:WT,[f]:N},YT,YT,{[P]:[Ke,Oe,Pe,Le,Ne,kt],[f]:A,[_]:_y},{[P]:[Ke,Oe,Pe,Le,Ne,Rt],endpoint:Vd,[f]:N},XT,XT,{[P]:[Ke,Oe,fe,Ne,kt],[f]:A,[_]:[{endpoint:QT,[f]:N}]},{[P]:[Ke,Oe,fe,Ne,Rt],endpoint:QT,[f]:N},ZT,ZT,{[P]:[Ae,ze,Pe,Le,Ne,kt],[f]:A,[_]:_y},{[P]:[Ae,ze,Pe,Le,Ne,Rt],endpoint:Vd,[f]:N},JT,JT,{[P]:[Ae,ze,fe,Ne,kt],[f]:A,[_]:[{endpoint:ev,[f]:N}]},{[P]:[Ae,ze,fe,Ne,Rt],endpoint:ev,[f]:N},tv,tv,{[P]:[Ae,Oe,Pe,Le,Ne,kt],[f]:A,[_]:[{[P]:kc,endpoint:Vd,[f]:N},kv]},{[P]:[Ae,Oe,Pe,Le,Ne,Rt],endpoint:Vd,[f]:N},nv,nv,{[P]:[Ae,Oe,fe,Ne,kt],[f]:A,[_]:[{[P]:kc,endpoint:{[H]:bv,[K]:It,[V]:ct},[f]:N},{endpoint:rv,[f]:N}]},{[P]:[Ae,Oe,fe,Ne,Rt],endpoint:rv,[f]:N}]}]}]},am]}]},po]}]}]},{error:"A region must be set when sending requests to S3.",[f]:Y}]}]},Rv=C8;var Iv=(e,t={})=>bs(Rv,{endpointParams:e,logger:t.logger});var Nv=e=>({apiVersion:"2006-03-01",base64Decoder:(e==null?void 0:e.base64Decoder)??Is,base64Encoder:(e==null?void 0:e.base64Encoder)??Ns,disableHostPrefix:(e==null?void 0:e.disableHostPrefix)??!1,endpointProvider:(e==null?void 0:e.endpointProvider)??Iv,logger:(e==null?void 0:e.logger)??new Fn,serviceId:(e==null?void 0:e.serviceId)??"S3",signerConstructor:(e==null?void 0:e.signerConstructor)??sm,signingEscapePath:(e==null?void 0:e.signingEscapePath)??!1,urlParser:(e==null?void 0:e.urlParser)??qt,useArnRegion:(e==null?void 0:e.useArnRegion)??!1,utf8Decoder:(e==null?void 0:e.utf8Decoder)??Un,utf8Encoder:(e==null?void 0:e.utf8Encoder)??os});var Tv=e=>{Zr(process.version);let t=Ts(e),n=()=>t().then(Qr),r=Nv(e);return{...r,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:(e==null?void 0:e.bodyLengthChecker)??ks,credentialDefaultProvider:(e==null?void 0:e.credentialDefaultProvider)??qN(Ju),defaultUserAgentProvider:(e==null?void 0:e.defaultUserAgentProvider)??Rs({serviceId:r.serviceId,clientVersion:e0.version}),eventStreamSerdeProvider:(e==null?void 0:e.eventStreamSerdeProvider)??eT,getAwsChunkedEncodingStream:(e==null?void 0:e.getAwsChunkedEncodingStream)??oT,maxAttempts:(e==null?void 0:e.maxAttempts)??ke(ys),md5:(e==null?void 0:e.md5)??gn.bind(null,"md5"),region:(e==null?void 0:e.region)??ke($n,ls),requestHandler:(e==null?void 0:e.requestHandler)??new Hn(n),retryMode:(e==null?void 0:e.retryMode)??ke({...Es,default:async()=>(await n()).retryMode||Gn}),sdkStreamMixin:(e==null?void 0:e.sdkStreamMixin)??cT,sha1:(e==null?void 0:e.sha1)??gn.bind(null,"sha1"),sha256:(e==null?void 0:e.sha256)??gn.bind(null,"sha256"),streamCollector:(e==null?void 0:e.streamCollector)??Kn,streamHasher:(e==null?void 0:e.streamHasher)??nT,useArnRegion:(e==null?void 0:e.useArnRegion)??ke(rT),useDualstackEndpoint:(e==null?void 0:e.useDualstackEndpoint)??ke(cs),useFipsEndpoint:(e==null?void 0:e.useFipsEndpoint)??ke(ds)}};var um=class extends Mn{constructor(t){let n=Tv(t),r=JR(n),s=us(r),o=Wr(s),a=gs(o),i=a,l=xu(i),d=fk(l),c=ws(d),u=Yk(c);super(u),this.config=u,this.middlewareStack.use(xs(this.config)),this.middlewareStack.use(ms(this.config)),this.middlewareStack.use(fs(this.config)),this.middlewareStack.use(hs(this.config)),this.middlewareStack.use(ps(this.config)),this.middlewareStack.use(wu(this.config)),this.middlewareStack.use(pk(this.config)),this.middlewareStack.use(Qk(this.config)),this.middlewareStack.use(Ps(this.config))}destroy(){super.destroy()}};var mm=class extends um{abortMultipartUpload(t,n,r){let s=new di(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}completeMultipartUpload(t,n,r){let s=new ts(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}copyObject(t,n,r){let s=new ui(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}createBucket(t,n,r){let s=new mi(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}createMultipartUpload(t,n,r){let s=new ns(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}deleteBucket(t,n,r){let s=new hi(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}deleteBucketAnalyticsConfiguration(t,n,r){let s=new fi(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}deleteBucketCors(t,n,r){let s=new pi(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}deleteBucketEncryption(t,n,r){let s=new yi(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}deleteBucketIntelligentTieringConfiguration(t,n,r){let s=new gi(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}deleteBucketInventoryConfiguration(t,n,r){let s=new Ei(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}deleteBucketLifecycle(t,n,r){let s=new xi(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}deleteBucketMetricsConfiguration(t,n,r){let s=new Si(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}deleteBucketOwnershipControls(t,n,r){let s=new wi(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}deleteBucketPolicy(t,n,r){let s=new Ci(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}deleteBucketReplication(t,n,r){let s=new bi(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}deleteBucketTagging(t,n,r){let s=new Pi(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}deleteBucketWebsite(t,n,r){let s=new _i(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}deleteObject(t,n,r){let s=new Ai(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}deleteObjects(t,n,r){let s=new Ii(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}deleteObjectTagging(t,n,r){let s=new Ni(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}deletePublicAccessBlock(t,n,r){let s=new Ti(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}getBucketAccelerateConfiguration(t,n,r){let s=new vi(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}getBucketAcl(t,n,r){let s=new Di(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}getBucketAnalyticsConfiguration(t,n,r){let s=new Bi(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}getBucketCors(t,n,r){let s=new Oi(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}getBucketEncryption(t,n,r){let s=new Fi(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}getBucketIntelligentTieringConfiguration(t,n,r){let s=new Mi(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}getBucketInventoryConfiguration(t,n,r){let s=new Li(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}getBucketLifecycleConfiguration(t,n,r){let s=new Ui(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}getBucketLocation(t,n,r){let s=new zi(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}getBucketLogging(t,n,r){let s=new $i(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}getBucketMetricsConfiguration(t,n,r){let s=new qi(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}getBucketNotificationConfiguration(t,n,r){let s=new Gi(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}getBucketOwnershipControls(t,n,r){let s=new ji(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}getBucketPolicy(t,n,r){let s=new Hi(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}getBucketPolicyStatus(t,n,r){let s=new Ki(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}getBucketReplication(t,n,r){let s=new Vi(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}getBucketRequestPayment(t,n,r){let s=new Wi(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}getBucketTagging(t,n,r){let s=new Yi(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}getBucketVersioning(t,n,r){let s=new Xi(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}getBucketWebsite(t,n,r){let s=new Qi(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}getObject(t,n,r){let s=new ea(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}getObjectAcl(t,n,r){let s=new Zi(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}getObjectAttributes(t,n,r){let s=new Ji(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}getObjectLegalHold(t,n,r){let s=new ta(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}getObjectLockConfiguration(t,n,r){let s=new na(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}getObjectRetention(t,n,r){let s=new ra(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}getObjectTagging(t,n,r){let s=new sa(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}getObjectTorrent(t,n,r){let s=new oa(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}getPublicAccessBlock(t,n,r){let s=new ia(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}headBucket(t,n,r){let s=new aa(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}headObject(t,n,r){let s=new ca(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}listBucketAnalyticsConfigurations(t,n,r){let s=new da(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}listBucketIntelligentTieringConfigurations(t,n,r){let s=new la(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}listBucketInventoryConfigurations(t,n,r){let s=new ua(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}listBucketMetricsConfigurations(t,n,r){let s=new ma(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}listBuckets(t,n,r){let s=new fa(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}listMultipartUploads(t,n,r){let s=new ha(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}listObjects(t,n,r){let s=new pa(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}listObjectsV2(t,n,r){let s=new ya(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}listObjectVersions(t,n,r){let s=new ga(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}listParts(t,n,r){let s=new Ea(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}putBucketAccelerateConfiguration(t,n,r){let s=new xa(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}putBucketAcl(t,n,r){let s=new Sa(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}putBucketAnalyticsConfiguration(t,n,r){let s=new wa(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}putBucketCors(t,n,r){let s=new Ca(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}putBucketEncryption(t,n,r){let s=new ba(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}putBucketIntelligentTieringConfiguration(t,n,r){let s=new Pa(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}putBucketInventoryConfiguration(t,n,r){let s=new _a(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}putBucketLifecycleConfiguration(t,n,r){let s=new Aa(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}putBucketLogging(t,n,r){let s=new ka(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}putBucketMetricsConfiguration(t,n,r){let s=new Ra(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}putBucketNotificationConfiguration(t,n,r){let s=new Ia(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}putBucketOwnershipControls(t,n,r){let s=new Na(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}putBucketPolicy(t,n,r){let s=new Ta(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}putBucketReplication(t,n,r){let s=new va(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}putBucketRequestPayment(t,n,r){let s=new Da(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}putBucketTagging(t,n,r){let s=new Ba(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}putBucketVersioning(t,n,r){let s=new Oa(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}putBucketWebsite(t,n,r){let s=new Fa(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}putObject(t,n,r){let s=new hr(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}putObjectAcl(t,n,r){let s=new Ma(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}putObjectLegalHold(t,n,r){let s=new La(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}putObjectLockConfiguration(t,n,r){let s=new Ua(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}putObjectRetention(t,n,r){let s=new za(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}putObjectTagging(t,n,r){let s=new is(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}putPublicAccessBlock(t,n,r){let s=new $a(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}restoreObject(t,n,r){let s=new qa(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}selectObjectContent(t,n,r){let s=new Ga(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}uploadPart(t,n,r){let s=new as(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}uploadPartCopy(t,n,r){let s=new ja(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}writeGetObjectResponse(t,n,r){let s=new Ha(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}};var fm=class{constructor(){this.onabort=null,this._aborted=!1,Object.defineProperty(this,"_aborted",{value:!1,writable:!0})}get aborted(){return this._aborted}abort(){this._aborted=!0,this.onabort&&(this.onabort(this),this.onabort=null)}};var hm=class{constructor(){this.signal=new fm}abort(){this.signal.abort()}};var vv=async e=>{let t=(e==null?void 0:e.Bucket)||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),k8(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!A8(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},b8=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,P8=/(\d+\.){3}\d+/,_8=/\.\./;var A8=e=>b8.test(e)&&!P8.test(e)&&!_8.test(e),k8=e=>{let[t,n,r,s,o,a]=e.split(":"),i=t==="arn"&&e.split(":").length>=6,l=[t,n,r,o,a].filter(Boolean).length===5;if(i&&!l)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return t==="arn"&&!!n&&!!r&&!!o&&!!a};var Dv=(e,t,n)=>{let r=async()=>{let s=n[e]??n[t];return typeof s=="function"?s():s};return e==="endpoint"||t==="endpoint"?async()=>{let s=await r();if(s&&typeof s=="object"){if("url"in s)return s.url.href;if("hostname"in s){let{protocol:o,hostname:a,port:i,path:l}=s;return`${o}//${a}${i?":"+i:""}${l}`}}return s}:r};var Oy=async(e,t,n,r)=>{let s=await R8(e,t,n);if(typeof n.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return n.endpointProvider(s,r)},R8=async(e,t,n)=>{var o;let r={},s=((o=t==null?void 0:t.getEndpointParameterInstructions)==null?void 0:o.call(t))||{};for(let[a,i]of Object.entries(s))switch(i.type){case"staticContextParams":r[a]=i.value;break;case"contextParams":r[a]=e[i.name];break;case"clientContextParams":case"builtInParams":r[a]=await Dv(i.name,a,n)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(i))}return Object.keys(s).length===0&&Object.assign(r,n),String(n.serviceId).toLowerCase()==="s3"&&await vv(r),r};function Bv(e){let t={};if(e=e.replace(/^\?/,""),e)for(let n of e.split("&")){let[r,s=null]=n.split("=");r=decodeURIComponent(r),s&&(s=decodeURIComponent(s)),r in t?Array.isArray(t[r])?t[r].push(s):t[r]=[t[r],s]:t[r]=s}return t}var pm=e=>{if(typeof e=="string")return pm(new URL(e));let{hostname:t,pathname:n,port:r,protocol:s,search:o}=e,a;return o&&(a=Bv(o)),{hostname:t,port:r?parseInt(r):void 0,protocol:s,path:n,query:a}};var Fy=e=>typeof e=="object"?"url"in e?pm(e.url):e:pm(e);var Ov={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};var RTe={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:Ov.name};var ZTe=Math.ceil(34028234663852886e22);var ove=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/);var ive=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/);var ave=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),cve=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),dve=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/);var lve=50*365*24*60*60*1e3;function ym(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}var My=function(){let e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,[null,...arguments]),n=new t;return Object.setPrototypeOf(n,e.prototype),n};My.prototype=Object.create(String.prototype,{constructor:{value:My,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf(My,String);var xm=require("events");var Mv=require("fs");var Fv={lstatSync:()=>{}};var Lv={...Fv,runtime:"node",lstatSync:Mv.lstatSync};var gm=e=>{if(e==null)return 0;if(typeof e=="string"&&(e=Buffer.from(e)),typeof e.byteLength=="number")return e.byteLength;if(typeof e.length=="number")return e.length;if(typeof e.size=="number")return e.size;if(typeof e.path=="string")try{return Lv.lstatSync(e.path).size}catch{return}};var $y=require("buffer"),qv=require("stream");async function*Ly(e,t){let n=1,r=0,s=t;for(;s<e.byteLength;)yield{partNumber:n,data:e.slice(r,s)},n+=1,r=s,s=r+t;yield{partNumber:n,data:e.slice(r),lastPart:!0}}var Uy=require("buffer");async function*Em(e,t,n){let r=1,s={chunks:[],length:0};for await(let o of n(e))for(s.chunks.push(o),s.length+=o.length;s.length>=t;){let a=s.chunks.length>1?Uy.Buffer.concat(s.chunks):s.chunks[0];yield{partNumber:r,data:a.slice(0,t)},s.chunks=[a.slice(t)],s.length=s.chunks[0].length,r+=1}yield{partNumber:r,data:Uy.Buffer.concat(s.chunks),lastPart:!0}}var Uv=require("buffer");async function*zv(e){for await(let t of e)yield Uv.Buffer.from(t)}var $v=require("buffer");async function*zy(e){let t=e.getReader();try{for(;;){let{done:n,value:r}=await t.read();if(n)return;yield $v.Buffer.from(r)}}catch(n){throw n}finally{t.releaseLock()}}var Gv=(e,t)=>{if(e instanceof $y.Buffer)return Ly(e,t);if(e instanceof qv.Readable)return Em(e,t,zv);if(e instanceof String||typeof e=="string"||e instanceof Uint8Array)return Ly($y.Buffer.from(e),t);if(typeof e.stream=="function")return Em(e.stream(),t,zy);if(e instanceof ReadableStream)return Em(e,t,zy);throw new Error("Body Data is unsupported format, expected data to be one of: string | Uint8Array | Buffer | Readable | ReadableStream | Blob;.")};var qy=1024*1024*5,Sm=class extends xm.EventEmitter{constructor(t){super(),this.MAX_PARTS=1e4,this.queueSize=4,this.partSize=qy,this.leavePartsOnError=!1,this.tags=[],this.concurrentUploaders=[],this.uploadedParts=[],this.isMultiPart=!0,this.queueSize=t.queueSize||this.queueSize,this.partSize=t.partSize||this.partSize,this.leavePartsOnError=t.leavePartsOnError||this.leavePartsOnError,this.tags=t.tags||this.tags,this.client=t.client,this.params=t.params,this.__validateInput(),this.totalBytes=gm(this.params.Body),this.bytesUploadedSoFar=0,this.abortController=t.abortController??new hm}async abort(){this.abortController.abort()}async done(){return await Promise.race([this.__doMultipartUpload(),this.__abortTimeout(this.abortController.signal)])}on(t,n){return this.uploadEvent=t,super.on(t,n)}async __uploadUsingPut(t){var x;this.isMultiPart=!1;let n={...this.params,Body:t.data},r=this.client.config,s=r.requestHandler,o=s instanceof xm.EventEmitter?s:null,a=R=>{this.bytesUploadedSoFar=R.loaded,this.totalBytes=R.total,this.__notifyProgress({loaded:this.bytesUploadedSoFar,total:this.totalBytes,part:t.partNumber,Key:this.params.Key,Bucket:this.params.Bucket})};o!==null&&o.on("xhr.upload.progress",a);let i=await Promise.all([this.client.send(new hr(n)),(x=r==null?void 0:r.endpoint)==null?void 0:x.call(r)]),l=i[0],d=i[1];if(d||(d=Fy(await Oy(n,hr,{...r}))),!d)throw new Error('Could not resolve endpoint from S3 "client.config.endpoint()" nor EndpointsV2.');o!==null&&o.off("xhr.upload.progress",a);let c=this.params.Key.split("/").map(R=>ym(R)).join("/"),u=ym(this.params.Bucket),m=(()=>{let R=d.hostname.startsWith(`${u}.`);return this.client.config.forcePathStyle?`${d.protocol}//${d.hostname}/${u}/${c}`:R?`${d.protocol}//${d.hostname}/${c}`:`${d.protocol}//${u}.${d.hostname}/${c}`})();this.singleUploadResult={...l,Bucket:this.params.Bucket,Key:this.params.Key,Location:m};let S=gm(t.data);this.__notifyProgress({loaded:S,total:S,part:1,Key:this.params.Key,Bucket:this.params.Bucket})}async __createMultipartUpload(){if(!this.createMultiPartPromise){let n={...this.params,Body:void 0};this.createMultiPartPromise=this.client.send(new ns(n))}let t=await this.createMultiPartPromise;this.uploadId=t.UploadId}async __doConcurrentUpload(t){for await(let n of t){if(this.uploadedParts.length>this.MAX_PARTS)throw new Error(`Exceeded ${this.MAX_PARTS} as part of the upload to ${this.params.Key} and ${this.params.Bucket}.`);try{if(this.abortController.signal.aborted)return;if(n.partNumber===1&&n.lastPart)return await this.__uploadUsingPut(n);if(!this.uploadId&&(await this.__createMultipartUpload(),this.abortController.signal.aborted))return;let r=gm(n.data)||0,s=this.client.config.requestHandler,o=s instanceof xm.EventEmitter?s:null,a=0,i=(d,c)=>{(Number(c.query.partNumber)||-1)===n.partNumber&&(d.total&&r&&(this.bytesUploadedSoFar+=d.loaded-a,a=d.loaded),this.__notifyProgress({loaded:this.bytesUploadedSoFar,total:this.totalBytes,part:n.partNumber,Key:this.params.Key,Bucket:this.params.Bucket}))};o!==null&&o.on("xhr.upload.progress",i);let l=await this.client.send(new as({...this.params,UploadId:this.uploadId,Body:n.data,PartNumber:n.partNumber}));if(o!==null&&o.off("xhr.upload.progress",i),this.abortController.signal.aborted)return;if(!l.ETag)throw new Error(`Part ${n.partNumber} is missing ETag in UploadPart response. Missing Bucket CORS configuration for ETag header?`);this.uploadedParts.push({PartNumber:n.partNumber,ETag:l.ETag,...l.ChecksumCRC32&&{ChecksumCRC32:l.ChecksumCRC32},...l.ChecksumCRC32C&&{ChecksumCRC32C:l.ChecksumCRC32C},...l.ChecksumSHA1&&{ChecksumSHA1:l.ChecksumSHA1},...l.ChecksumSHA256&&{ChecksumSHA256:l.ChecksumSHA256}}),o===null&&(this.bytesUploadedSoFar+=r),this.__notifyProgress({loaded:this.bytesUploadedSoFar,total:this.totalBytes,part:n.partNumber,Key:this.params.Key,Bucket:this.params.Bucket})}catch(r){if(!this.uploadId||this.leavePartsOnError)throw r}}}async __doMultipartUpload(){let t=Gv(this.params.Body,this.partSize);for(let r=0;r<this.queueSize;r++){let s=this.__doConcurrentUpload(t);this.concurrentUploaders.push(s)}if(await Promise.all(this.concurrentUploaders),this.abortController.signal.aborted)throw Object.assign(new Error("Upload aborted."),{name:"AbortError"});let n;if(this.isMultiPart){this.uploadedParts.sort((s,o)=>s.PartNumber-o.PartNumber);let r={...this.params,Body:void 0,UploadId:this.uploadId,MultipartUpload:{Parts:this.uploadedParts}};n=await this.client.send(new ts(r))}else n=this.singleUploadResult;return this.tags.length&&await this.client.send(new is({...this.params,Tagging:{TagSet:this.tags}})),n}__notifyProgress(t){this.uploadEvent&&this.emit(this.uploadEvent,t)}async __abortTimeout(t){return new Promise((n,r)=>{t.onabort=()=>{let s=new Error("Upload aborted.");s.name="AbortError",r(s)}})}__validateInput(){if(!this.params)throw new Error("InputError: Upload requires params to be passed to upload.");if(!this.client)throw new Error("InputError: Upload requires a AWS client to do uploads with.");if(this.partSize<qy)throw new Error(`EntityTooSmall: Your proposed upload partsize [${this.partSize}] is smaller than the minimum allowed size [${qy}] (5MB)`);if(this.queueSize<1)throw new Error("Queue size: Must have at least one uploading queue.")}};var u1=cn($O()),m1=cn(a1()),f1=new mm({});async function VQ(){try{let e=(0,$r.getInput)("bucket",{required:!0}),t=(0,$r.getMultilineInput)("path",{required:!0}),n=(0,$r.getInput)("prefix"),r=(0,$r.getBooleanInput)("archive"),s=(await Promise.all(t.map(a=>(0,m1.default)(a,{onlyFiles:!1,markDirectories:!0})))).flat(),o=Array.from(new Set(s)).filter((a,i,l)=>a.at(-1)!=="/"||!l.some((d,c)=>i!==c&&d.startsWith(a)&&d.length>a.length));if(r){let a=Cl.posix.join(n,"archive.tar"),i=(0,u1.create)({gzip:!0},o),l=new Sm({client:f1,params:{Bucket:e,Key:a,Body:i.pipe(new l1.PassThrough)}});l.on("httpUploadProgress",d=>{d.loaded&&d.total&&console.log("Uploaded:",Math.round(d.loaded/d.total*100)+"%")}),await l.done()}else await WQ(e,n,o)}catch(e){console.log(">>>>>>>>>>ERROR"),console.log(e),e instanceof Error&&(0,$r.setFailed)(e)}}async function WQ(e,t,n){let r=0;await Promise.all(n.map(async s=>{let o=s.at(-1)==="/",a=Cl.posix.join(t,s),i=(0,Cl.join)(process.cwd(),s),l=o?void 0:(0,c1.createReadStream)(i),d=o?void 0:(await(0,d1.stat)(i)).size;(await f1.putObject({Bucket:e,Key:a,Body:l,ContentLength:d})).$metadata.httpStatusCode===200&&(r++,console.info("Uploaded:",i))})),console.log("### Total files uploaded:",r,"###")}VQ();
/*! Bundled license information:

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

is-extglob/index.js:
  (*!
   * is-extglob <https://github.com/jonschlinkert/is-extglob>
   *
   * Copyright (c) 2014-2016, Jon Schlinkert.
   * Licensed under the MIT License.
   *)

is-glob/index.js:
  (*!
   * is-glob <https://github.com/jonschlinkert/is-glob>
   *
   * Copyright (c) 2014-2017, Jon Schlinkert.
   * Released under the MIT License.
   *)

is-number/index.js:
  (*!
   * is-number <https://github.com/jonschlinkert/is-number>
   *
   * Copyright (c) 2014-present, Jon Schlinkert.
   * Released under the MIT License.
   *)

to-regex-range/index.js:
  (*!
   * to-regex-range <https://github.com/micromatch/to-regex-range>
   *
   * Copyright (c) 2015-present, Jon Schlinkert.
   * Released under the MIT License.
   *)

fill-range/index.js:
  (*!
   * fill-range <https://github.com/jonschlinkert/fill-range>
   *
   * Copyright (c) 2014-present, Jon Schlinkert.
   * Licensed under the MIT License.
   *)

queue-microtask/index.js:
  (*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

run-parallel/index.js:
  (*! run-parallel. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/
