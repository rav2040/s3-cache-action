"use strict";var qL=Object.create;var kl=Object.defineProperty;var $L=Object.getOwnPropertyDescriptor;var GL=Object.getOwnPropertyNames;var jL=Object.getPrototypeOf,HL=Object.prototype.hasOwnProperty;var it=(e,t)=>()=>(e&&(t=e(e=0)),t);var k=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Oo=(e,t)=>{for(var n in t)kl(e,n,{get:t[n],enumerable:!0})},mx=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of GL(t))!HL.call(e,s)&&s!==n&&kl(e,s,{get:()=>t[s],enumerable:!(r=$L(t,s))||r.enumerable});return e};var cn=(e,t,n)=>(n=e!=null?qL(jL(e)):{},mx(t||!e||!e.__esModule?kl(n,"default",{value:e,enumerable:!0}):n,e)),Fo=e=>mx(kl({},"__esModule",{value:!0}),e);var Rl=k(Mo=>{"use strict";Object.defineProperty(Mo,"__esModule",{value:!0});Mo.toCommandProperties=Mo.toCommandValue=void 0;function KL(e){return e==null?"":typeof e=="string"||e instanceof String?e:JSON.stringify(e)}Mo.toCommandValue=KL;function VL(e){return Object.keys(e).length?{title:e.title,file:e.file,line:e.startLine,endLine:e.endLine,col:e.startColumn,endColumn:e.endColumn}:{}}Mo.toCommandProperties=VL});var yx=k(dn=>{"use strict";var WL=dn&&dn.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),YL=dn&&dn.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),XL=dn&&dn.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.hasOwnProperty.call(e,n)&&WL(t,e,n);return YL(t,e),t};Object.defineProperty(dn,"__esModule",{value:!0});dn.issue=dn.issueCommand=void 0;var QL=XL(require("os")),hx=Rl();function px(e,t,n){let r=new th(e,t,n);process.stdout.write(r.toString()+QL.EOL)}dn.issueCommand=px;function ZL(e,t=""){px(e,{},t)}dn.issue=ZL;var fx="::",th=class{constructor(t,n,r){t||(t="missing.command"),this.command=t,this.properties=n,this.message=r}toString(){let t=fx+this.command;if(this.properties&&Object.keys(this.properties).length>0){t+=" ";let n=!0;for(let r in this.properties)if(this.properties.hasOwnProperty(r)){let s=this.properties[r];s&&(n?n=!1:t+=",",t+=`${r}=${e1(s)}`)}}return t+=`${fx}${JL(this.message)}`,t}};function JL(e){return hx.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function e1(e){return hx.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}});function ad(){return Il>Nl.length-16&&(gx.default.randomFillSync(Nl),Il=0),Nl.slice(Il,Il+=16)}var gx,Nl,Il,nh=it(()=>{gx=cn(require("crypto")),Nl=new Uint8Array(256),Il=Nl.length});var Ex,Sx=it(()=>{Ex=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function t1(e){return typeof e=="string"&&Ex.test(e)}var $r,cd=it(()=>{Sx();$r=t1});function n1(e,t=0){let n=(St[e[t+0]]+St[e[t+1]]+St[e[t+2]]+St[e[t+3]]+"-"+St[e[t+4]]+St[e[t+5]]+"-"+St[e[t+6]]+St[e[t+7]]+"-"+St[e[t+8]]+St[e[t+9]]+"-"+St[e[t+10]]+St[e[t+11]]+St[e[t+12]]+St[e[t+13]]+St[e[t+14]]+St[e[t+15]]).toLowerCase();if(!$r(n))throw TypeError("Stringified UUID is invalid");return n}var St,Gr,dd=it(()=>{cd();St=[];for(let e=0;e<256;++e)St.push((e+256).toString(16).substr(1));Gr=n1});function r1(e,t,n){let r=t&&n||0,s=t||new Array(16);e=e||{};let o=e.node||xx,a=e.clockseq!==void 0?e.clockseq:rh;if(o==null||a==null){let u=e.random||(e.rng||ad)();o==null&&(o=xx=[u[0]|1,u[1],u[2],u[3],u[4],u[5]]),a==null&&(a=rh=(u[6]<<8|u[7])&16383)}let i=e.msecs!==void 0?e.msecs:Date.now(),l=e.nsecs!==void 0?e.nsecs:oh+1,d=i-sh+(l-oh)/1e4;if(d<0&&e.clockseq===void 0&&(a=a+1&16383),(d<0||i>sh)&&e.nsecs===void 0&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");sh=i,oh=l,rh=a,i+=122192928e5;let c=((i&268435455)*1e4+l)%4294967296;s[r++]=c>>>24&255,s[r++]=c>>>16&255,s[r++]=c>>>8&255,s[r++]=c&255;let m=i/4294967296*1e4&268435455;s[r++]=m>>>8&255,s[r++]=m&255,s[r++]=m>>>24&15|16,s[r++]=m>>>16&255,s[r++]=a>>>8|128,s[r++]=a&255;for(let u=0;u<6;++u)s[r+u]=o[u];return t||Gr(s)}var xx,rh,sh,oh,wx,Cx=it(()=>{nh();dd();sh=0,oh=0;wx=r1});function s1(e){if(!$r(e))throw TypeError("Invalid UUID");let t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=t&255,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=t&255,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=t&255,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=t&255,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=t&255,n}var vl,ih=it(()=>{cd();vl=s1});function o1(e){e=unescape(encodeURIComponent(e));let t=[];for(let n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}function Tl(e,t,n){function r(s,o,a,i){if(typeof s=="string"&&(s=o1(s)),typeof o=="string"&&(o=vl(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let l=new Uint8Array(16+s.length);if(l.set(o),l.set(s,o.length),l=n(l),l[6]=l[6]&15|t,l[8]=l[8]&63|128,a){i=i||0;for(let d=0;d<16;++d)a[i+d]=l[d];return a}return Gr(l)}try{r.name=e}catch{}return r.DNS=i1,r.URL=a1,r}var i1,a1,ah=it(()=>{dd();ih();i1="6ba7b810-9dad-11d1-80b4-00c04fd430c8",a1="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function c1(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),bx.default.createHash("md5").update(e).digest()}var bx,Px,_x=it(()=>{bx=cn(require("crypto"));Px=c1});var d1,Ax,kx=it(()=>{ah();_x();d1=Tl("v3",48,Px),Ax=d1});function l1(e,t,n){e=e||{};let r=e.random||(e.rng||ad)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let s=0;s<16;++s)t[n+s]=r[s];return t}return Gr(r)}var Dl,Rx=it(()=>{nh();dd();Dl=l1});function u1(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),Ix.default.createHash("sha1").update(e).digest()}var Ix,Nx,vx=it(()=>{Ix=cn(require("crypto"));Nx=u1});var m1,Tx,Dx=it(()=>{ah();vx();m1=Tl("v5",80,Nx),Tx=m1});var Bx,Ox=it(()=>{Bx="00000000-0000-0000-0000-000000000000"});function f1(e){if(!$r(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}var Fx,Mx=it(()=>{cd();Fx=f1});var Lx={};Oo(Lx,{NIL:()=>Bx,parse:()=>vl,stringify:()=>Gr,v1:()=>wx,v3:()=>Ax,v4:()=>Dl,v5:()=>Tx,validate:()=>$r,version:()=>Fx});var ch=it(()=>{Cx();kx();Rx();Dx();Ox();Mx();cd();dd();ih()});var $x=k(ln=>{"use strict";var h1=ln&&ln.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),p1=ln&&ln.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),zx=ln&&ln.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.hasOwnProperty.call(e,n)&&h1(t,e,n);return p1(t,e),t};Object.defineProperty(ln,"__esModule",{value:!0});ln.prepareKeyValueMessage=ln.issueFileCommand=void 0;var Ux=zx(require("fs")),dh=zx(require("os")),y1=(ch(),Fo(Lx)),qx=Rl();function g1(e,t){let n=process.env[`GITHUB_${e}`];if(!n)throw new Error(`Unable to find environment variable for file command ${e}`);if(!Ux.existsSync(n))throw new Error(`Missing file at path: ${n}`);Ux.appendFileSync(n,`${qx.toCommandValue(t)}${dh.EOL}`,{encoding:"utf8"})}ln.issueFileCommand=g1;function E1(e,t){let n=`ghadelimiter_${y1.v4()}`,r=qx.toCommandValue(t);if(e.includes(n))throw new Error(`Unexpected input: name should not contain the delimiter "${n}"`);if(r.includes(n))throw new Error(`Unexpected input: value should not contain the delimiter "${n}"`);return`${e}<<${n}${dh.EOL}${r}${dh.EOL}${n}`}ln.prepareKeyValueMessage=E1});var jx=k(Lo=>{"use strict";Object.defineProperty(Lo,"__esModule",{value:!0});Lo.checkBypass=Lo.getProxyUrl=void 0;function S1(e){let t=e.protocol==="https:";if(Gx(e))return;let n=(()=>t?process.env.https_proxy||process.env.HTTPS_PROXY:process.env.http_proxy||process.env.HTTP_PROXY)();if(n)return new URL(n)}Lo.getProxyUrl=S1;function Gx(e){if(!e.hostname)return!1;let t=e.hostname;if(x1(t))return!0;let n=process.env.no_proxy||process.env.NO_PROXY||"";if(!n)return!1;let r;e.port?r=Number(e.port):e.protocol==="http:"?r=80:e.protocol==="https:"&&(r=443);let s=[e.hostname.toUpperCase()];typeof r=="number"&&s.push(`${s[0]}:${r}`);for(let o of n.split(",").map(a=>a.trim().toUpperCase()).filter(a=>a))if(o==="*"||s.some(a=>a===o||a.endsWith(`.${o}`)||o.startsWith(".")&&a.endsWith(`${o}`)))return!0;return!1}Lo.checkBypass=Gx;function x1(e){let t=e.toLowerCase();return t==="localhost"||t.startsWith("127.")||t.startsWith("[::1]")||t.startsWith("[0:0:0:0:0:0:0:1]")}});var Wx=k(Uo=>{"use strict";var tZ=require("net"),w1=require("tls"),lh=require("http"),Hx=require("https"),C1=require("events"),nZ=require("assert"),b1=require("util");Uo.httpOverHttp=P1;Uo.httpsOverHttp=_1;Uo.httpOverHttps=A1;Uo.httpsOverHttps=k1;function P1(e){var t=new lr(e);return t.request=lh.request,t}function _1(e){var t=new lr(e);return t.request=lh.request,t.createSocket=Kx,t.defaultPort=443,t}function A1(e){var t=new lr(e);return t.request=Hx.request,t}function k1(e){var t=new lr(e);return t.request=Hx.request,t.createSocket=Kx,t.defaultPort=443,t}function lr(e){var t=this;t.options=e||{},t.proxyOptions=t.options.proxy||{},t.maxSockets=t.options.maxSockets||lh.Agent.defaultMaxSockets,t.requests=[],t.sockets=[],t.on("free",function(r,s,o,a){for(var i=Vx(s,o,a),l=0,d=t.requests.length;l<d;++l){var c=t.requests[l];if(c.host===i.host&&c.port===i.port){t.requests.splice(l,1),c.request.onSocket(r);return}}r.destroy(),t.removeSocket(r)})}b1.inherits(lr,C1.EventEmitter);lr.prototype.addRequest=function(t,n,r,s){var o=this,a=uh({request:t},o.options,Vx(n,r,s));if(o.sockets.length>=this.maxSockets){o.requests.push(a);return}o.createSocket(a,function(i){i.on("free",l),i.on("close",d),i.on("agentRemove",d),t.onSocket(i);function l(){o.emit("free",i,a)}function d(c){o.removeSocket(i),i.removeListener("free",l),i.removeListener("close",d),i.removeListener("agentRemove",d)}})};lr.prototype.createSocket=function(t,n){var r=this,s={};r.sockets.push(s);var o=uh({},r.proxyOptions,{method:"CONNECT",path:t.host+":"+t.port,agent:!1,headers:{host:t.host+":"+t.port}});t.localAddress&&(o.localAddress=t.localAddress),o.proxyAuth&&(o.headers=o.headers||{},o.headers["Proxy-Authorization"]="Basic "+new Buffer(o.proxyAuth).toString("base64")),jr("making CONNECT request");var a=r.request(o);a.useChunkedEncodingByDefault=!1,a.once("response",i),a.once("upgrade",l),a.once("connect",d),a.once("error",c),a.end();function i(m){m.upgrade=!0}function l(m,u,w){process.nextTick(function(){d(m,u,w)})}function d(m,u,w){if(a.removeAllListeners(),u.removeAllListeners(),m.statusCode!==200){jr("tunneling socket could not be established, statusCode=%d",m.statusCode),u.destroy();var S=new Error("tunneling socket could not be established, statusCode="+m.statusCode);S.code="ECONNRESET",t.request.emit("error",S),r.removeSocket(s);return}if(w.length>0){jr("got illegal response body from proxy"),u.destroy();var S=new Error("got illegal response body from proxy");S.code="ECONNRESET",t.request.emit("error",S),r.removeSocket(s);return}return jr("tunneling connection has established"),r.sockets[r.sockets.indexOf(s)]=u,n(u)}function c(m){a.removeAllListeners(),jr(`tunneling socket could not be established, cause=%s
`,m.message,m.stack);var u=new Error("tunneling socket could not be established, cause="+m.message);u.code="ECONNRESET",t.request.emit("error",u),r.removeSocket(s)}};lr.prototype.removeSocket=function(t){var n=this.sockets.indexOf(t);if(n!==-1){this.sockets.splice(n,1);var r=this.requests.shift();r&&this.createSocket(r,function(s){r.request.onSocket(s)})}};function Kx(e,t){var n=this;lr.prototype.createSocket.call(n,e,function(r){var s=e.request.getHeader("host"),o=uh({},n.options,{socket:r,servername:s?s.replace(/:.*$/,""):e.host}),a=w1.connect(0,o);n.sockets[n.sockets.indexOf(r)]=a,t(a)})}function Vx(e,t,n){return typeof e=="string"?{host:e,port:t,localAddress:n}:e}function uh(e){for(var t=1,n=arguments.length;t<n;++t){var r=arguments[t];if(typeof r=="object")for(var s=Object.keys(r),o=0,a=s.length;o<a;++o){var i=s[o];r[i]!==void 0&&(e[i]=r[i])}}return e}var jr;process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)?jr=function(){var e=Array.prototype.slice.call(arguments);typeof e[0]=="string"?e[0]="TUNNEL: "+e[0]:e.unshift("TUNNEL:"),console.error.apply(console,e)}:jr=function(){};Uo.debug=jr});var Xx=k((sZ,Yx)=>{Yx.exports=Wx()});var Zx=k(Me=>{"use strict";var R1=Me&&Me.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),I1=Me&&Me.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Ll=Me&&Me.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.hasOwnProperty.call(e,n)&&R1(t,e,n);return I1(t,e),t},lt=Me&&Me.__awaiter||function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function i(c){try{d(r.next(c))}catch(m){a(m)}}function l(c){try{d(r.throw(c))}catch(m){a(m)}}function d(c){c.done?o(c.value):s(c.value).then(i,l)}d((r=r.apply(e,t||[])).next())})};Object.defineProperty(Me,"__esModule",{value:!0});Me.HttpClient=Me.isHttps=Me.HttpClientResponse=Me.HttpClientError=Me.getProxyUrl=Me.MediaTypes=Me.Headers=Me.HttpCodes=void 0;var Bl=Ll(require("http")),mh=Ll(require("https")),Qx=Ll(jx()),Ol=Ll(Xx()),Rn;(function(e){e[e.OK=200]="OK",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.ResourceMoved=302]="ResourceMoved",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.SwitchProxy=306]="SwitchProxy",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.TooManyRequests=429]="TooManyRequests",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout"})(Rn=Me.HttpCodes||(Me.HttpCodes={}));var Mt;(function(e){e.Accept="accept",e.ContentType="content-type"})(Mt=Me.Headers||(Me.Headers={}));var Hr;(function(e){e.ApplicationJson="application/json"})(Hr=Me.MediaTypes||(Me.MediaTypes={}));function N1(e){let t=Qx.getProxyUrl(new URL(e));return t?t.href:""}Me.getProxyUrl=N1;var v1=[Rn.MovedPermanently,Rn.ResourceMoved,Rn.SeeOther,Rn.TemporaryRedirect,Rn.PermanentRedirect],T1=[Rn.BadGateway,Rn.ServiceUnavailable,Rn.GatewayTimeout],D1=["OPTIONS","GET","DELETE","HEAD"],B1=10,O1=5,zo=class extends Error{constructor(t,n){super(t),this.name="HttpClientError",this.statusCode=n,Object.setPrototypeOf(this,zo.prototype)}};Me.HttpClientError=zo;var Ml=class{constructor(t){this.message=t}readBody(){return lt(this,void 0,void 0,function*(){return new Promise(t=>lt(this,void 0,void 0,function*(){let n=Buffer.alloc(0);this.message.on("data",r=>{n=Buffer.concat([n,r])}),this.message.on("end",()=>{t(n.toString())})}))})}};Me.HttpClientResponse=Ml;function F1(e){return new URL(e).protocol==="https:"}Me.isHttps=F1;var fh=class{constructor(t,n,r){this._ignoreSslError=!1,this._allowRedirects=!0,this._allowRedirectDowngrade=!1,this._maxRedirects=50,this._allowRetries=!1,this._maxRetries=1,this._keepAlive=!1,this._disposed=!1,this.userAgent=t,this.handlers=n||[],this.requestOptions=r,r&&(r.ignoreSslError!=null&&(this._ignoreSslError=r.ignoreSslError),this._socketTimeout=r.socketTimeout,r.allowRedirects!=null&&(this._allowRedirects=r.allowRedirects),r.allowRedirectDowngrade!=null&&(this._allowRedirectDowngrade=r.allowRedirectDowngrade),r.maxRedirects!=null&&(this._maxRedirects=Math.max(r.maxRedirects,0)),r.keepAlive!=null&&(this._keepAlive=r.keepAlive),r.allowRetries!=null&&(this._allowRetries=r.allowRetries),r.maxRetries!=null&&(this._maxRetries=r.maxRetries))}options(t,n){return lt(this,void 0,void 0,function*(){return this.request("OPTIONS",t,null,n||{})})}get(t,n){return lt(this,void 0,void 0,function*(){return this.request("GET",t,null,n||{})})}del(t,n){return lt(this,void 0,void 0,function*(){return this.request("DELETE",t,null,n||{})})}post(t,n,r){return lt(this,void 0,void 0,function*(){return this.request("POST",t,n,r||{})})}patch(t,n,r){return lt(this,void 0,void 0,function*(){return this.request("PATCH",t,n,r||{})})}put(t,n,r){return lt(this,void 0,void 0,function*(){return this.request("PUT",t,n,r||{})})}head(t,n){return lt(this,void 0,void 0,function*(){return this.request("HEAD",t,null,n||{})})}sendStream(t,n,r,s){return lt(this,void 0,void 0,function*(){return this.request(t,n,r,s)})}getJson(t,n={}){return lt(this,void 0,void 0,function*(){n[Mt.Accept]=this._getExistingOrDefaultHeader(n,Mt.Accept,Hr.ApplicationJson);let r=yield this.get(t,n);return this._processResponse(r,this.requestOptions)})}postJson(t,n,r={}){return lt(this,void 0,void 0,function*(){let s=JSON.stringify(n,null,2);r[Mt.Accept]=this._getExistingOrDefaultHeader(r,Mt.Accept,Hr.ApplicationJson),r[Mt.ContentType]=this._getExistingOrDefaultHeader(r,Mt.ContentType,Hr.ApplicationJson);let o=yield this.post(t,s,r);return this._processResponse(o,this.requestOptions)})}putJson(t,n,r={}){return lt(this,void 0,void 0,function*(){let s=JSON.stringify(n,null,2);r[Mt.Accept]=this._getExistingOrDefaultHeader(r,Mt.Accept,Hr.ApplicationJson),r[Mt.ContentType]=this._getExistingOrDefaultHeader(r,Mt.ContentType,Hr.ApplicationJson);let o=yield this.put(t,s,r);return this._processResponse(o,this.requestOptions)})}patchJson(t,n,r={}){return lt(this,void 0,void 0,function*(){let s=JSON.stringify(n,null,2);r[Mt.Accept]=this._getExistingOrDefaultHeader(r,Mt.Accept,Hr.ApplicationJson),r[Mt.ContentType]=this._getExistingOrDefaultHeader(r,Mt.ContentType,Hr.ApplicationJson);let o=yield this.patch(t,s,r);return this._processResponse(o,this.requestOptions)})}request(t,n,r,s){return lt(this,void 0,void 0,function*(){if(this._disposed)throw new Error("Client has already been disposed.");let o=new URL(n),a=this._prepareRequest(t,o,s),i=this._allowRetries&&D1.includes(t)?this._maxRetries+1:1,l=0,d;do{if(d=yield this.requestRaw(a,r),d&&d.message&&d.message.statusCode===Rn.Unauthorized){let m;for(let u of this.handlers)if(u.canHandleAuthentication(d)){m=u;break}return m?m.handleAuthentication(this,a,r):d}let c=this._maxRedirects;for(;d.message.statusCode&&v1.includes(d.message.statusCode)&&this._allowRedirects&&c>0;){let m=d.message.headers.location;if(!m)break;let u=new URL(m);if(o.protocol==="https:"&&o.protocol!==u.protocol&&!this._allowRedirectDowngrade)throw new Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.");if(yield d.readBody(),u.hostname!==o.hostname)for(let w in s)w.toLowerCase()==="authorization"&&delete s[w];a=this._prepareRequest(t,u,s),d=yield this.requestRaw(a,r),c--}if(!d.message.statusCode||!T1.includes(d.message.statusCode))return d;l+=1,l<i&&(yield d.readBody(),yield this._performExponentialBackoff(l))}while(l<i);return d})}dispose(){this._agent&&this._agent.destroy(),this._disposed=!0}requestRaw(t,n){return lt(this,void 0,void 0,function*(){return new Promise((r,s)=>{function o(a,i){a?s(a):i?r(i):s(new Error("Unknown error"))}this.requestRawWithCallback(t,n,o)})})}requestRawWithCallback(t,n,r){typeof n=="string"&&(t.options.headers||(t.options.headers={}),t.options.headers["Content-Length"]=Buffer.byteLength(n,"utf8"));let s=!1;function o(l,d){s||(s=!0,r(l,d))}let a=t.httpModule.request(t.options,l=>{let d=new Ml(l);o(void 0,d)}),i;a.on("socket",l=>{i=l}),a.setTimeout(this._socketTimeout||3*6e4,()=>{i&&i.end(),o(new Error(`Request timeout: ${t.options.path}`))}),a.on("error",function(l){o(l)}),n&&typeof n=="string"&&a.write(n,"utf8"),n&&typeof n!="string"?(n.on("close",function(){a.end()}),n.pipe(a)):a.end()}getAgent(t){let n=new URL(t);return this._getAgent(n)}_prepareRequest(t,n,r){let s={};s.parsedUrl=n;let o=s.parsedUrl.protocol==="https:";s.httpModule=o?mh:Bl;let a=o?443:80;if(s.options={},s.options.host=s.parsedUrl.hostname,s.options.port=s.parsedUrl.port?parseInt(s.parsedUrl.port):a,s.options.path=(s.parsedUrl.pathname||"")+(s.parsedUrl.search||""),s.options.method=t,s.options.headers=this._mergeHeaders(r),this.userAgent!=null&&(s.options.headers["user-agent"]=this.userAgent),s.options.agent=this._getAgent(s.parsedUrl),this.handlers)for(let i of this.handlers)i.prepareRequest(s.options);return s}_mergeHeaders(t){return this.requestOptions&&this.requestOptions.headers?Object.assign({},Fl(this.requestOptions.headers),Fl(t||{})):Fl(t||{})}_getExistingOrDefaultHeader(t,n,r){let s;return this.requestOptions&&this.requestOptions.headers&&(s=Fl(this.requestOptions.headers)[n]),t[n]||s||r}_getAgent(t){let n,r=Qx.getProxyUrl(t),s=r&&r.hostname;if(this._keepAlive&&s&&(n=this._proxyAgent),this._keepAlive&&!s&&(n=this._agent),n)return n;let o=t.protocol==="https:",a=100;if(this.requestOptions&&(a=this.requestOptions.maxSockets||Bl.globalAgent.maxSockets),r&&r.hostname){let i={maxSockets:a,keepAlive:this._keepAlive,proxy:Object.assign(Object.assign({},(r.username||r.password)&&{proxyAuth:`${r.username}:${r.password}`}),{host:r.hostname,port:r.port})},l,d=r.protocol==="https:";o?l=d?Ol.httpsOverHttps:Ol.httpsOverHttp:l=d?Ol.httpOverHttps:Ol.httpOverHttp,n=l(i),this._proxyAgent=n}if(this._keepAlive&&!n){let i={keepAlive:this._keepAlive,maxSockets:a};n=o?new mh.Agent(i):new Bl.Agent(i),this._agent=n}return n||(n=o?mh.globalAgent:Bl.globalAgent),o&&this._ignoreSslError&&(n.options=Object.assign(n.options||{},{rejectUnauthorized:!1})),n}_performExponentialBackoff(t){return lt(this,void 0,void 0,function*(){t=Math.min(B1,t);let n=O1*Math.pow(2,t);return new Promise(r=>setTimeout(()=>r(),n))})}_processResponse(t,n){return lt(this,void 0,void 0,function*(){return new Promise((r,s)=>lt(this,void 0,void 0,function*(){let o=t.message.statusCode||0,a={statusCode:o,result:null,headers:{}};o===Rn.NotFound&&r(a);function i(c,m){if(typeof m=="string"){let u=new Date(m);if(!isNaN(u.valueOf()))return u}return m}let l,d;try{d=yield t.readBody(),d&&d.length>0&&(n&&n.deserializeDates?l=JSON.parse(d,i):l=JSON.parse(d),a.result=l),a.headers=t.message.headers}catch{}if(o>299){let c;l&&l.message?c=l.message:d&&d.length>0?c=d:c=`Failed request: (${o})`;let m=new zo(c,o);m.result=a.result,s(m)}else r(a)}))})}};Me.HttpClient=fh;var Fl=e=>Object.keys(e).reduce((t,n)=>(t[n.toLowerCase()]=e[n],t),{})});var Jx=k(On=>{"use strict";var gh=On&&On.__awaiter||function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function i(c){try{d(r.next(c))}catch(m){a(m)}}function l(c){try{d(r.throw(c))}catch(m){a(m)}}function d(c){c.done?o(c.value):s(c.value).then(i,l)}d((r=r.apply(e,t||[])).next())})};Object.defineProperty(On,"__esModule",{value:!0});On.PersonalAccessTokenCredentialHandler=On.BearerCredentialHandler=On.BasicCredentialHandler=void 0;var hh=class{constructor(t,n){this.username=t,this.password=n}prepareRequest(t){if(!t.headers)throw Error("The request has no headers");t.headers.Authorization=`Basic ${Buffer.from(`${this.username}:${this.password}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return gh(this,void 0,void 0,function*(){throw new Error("not implemented")})}};On.BasicCredentialHandler=hh;var ph=class{constructor(t){this.token=t}prepareRequest(t){if(!t.headers)throw Error("The request has no headers");t.headers.Authorization=`Bearer ${this.token}`}canHandleAuthentication(){return!1}handleAuthentication(){return gh(this,void 0,void 0,function*(){throw new Error("not implemented")})}};On.BearerCredentialHandler=ph;var yh=class{constructor(t){this.token=t}prepareRequest(t){if(!t.headers)throw Error("The request has no headers");t.headers.Authorization=`Basic ${Buffer.from(`PAT:${this.token}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return gh(this,void 0,void 0,function*(){throw new Error("not implemented")})}};On.PersonalAccessTokenCredentialHandler=yh});var nw=k(qo=>{"use strict";var ew=qo&&qo.__awaiter||function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function i(c){try{d(r.next(c))}catch(m){a(m)}}function l(c){try{d(r.throw(c))}catch(m){a(m)}}function d(c){c.done?o(c.value):s(c.value).then(i,l)}d((r=r.apply(e,t||[])).next())})};Object.defineProperty(qo,"__esModule",{value:!0});qo.OidcClient=void 0;var M1=Zx(),L1=Jx(),tw=Eh(),Kr=class{static createHttpClient(t=!0,n=10){let r={allowRetries:t,maxRetries:n};return new M1.HttpClient("actions/oidc-client",[new L1.BearerCredentialHandler(Kr.getRequestToken())],r)}static getRequestToken(){let t=process.env.ACTIONS_ID_TOKEN_REQUEST_TOKEN;if(!t)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_TOKEN env variable");return t}static getIDTokenUrl(){let t=process.env.ACTIONS_ID_TOKEN_REQUEST_URL;if(!t)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_URL env variable");return t}static getCall(t){var n;return ew(this,void 0,void 0,function*(){let o=(n=(yield Kr.createHttpClient().getJson(t).catch(a=>{throw new Error(`Failed to get ID Token. 
 
        Error Code : ${a.statusCode}
 
        Error Message: ${a.result.message}`)})).result)===null||n===void 0?void 0:n.value;if(!o)throw new Error("Response json body do not have ID Token field");return o})}static getIDToken(t){return ew(this,void 0,void 0,function*(){try{let n=Kr.getIDTokenUrl();if(t){let s=encodeURIComponent(t);n=`${n}&audience=${s}`}tw.debug(`ID token url is ${n}`);let r=yield Kr.getCall(n);return tw.setSecret(r),r}catch(n){throw new Error(`Error message: ${n.message}`)}})}};qo.OidcClient=Kr});var Ch=k(zt=>{"use strict";var Sh=zt&&zt.__awaiter||function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function i(c){try{d(r.next(c))}catch(m){a(m)}}function l(c){try{d(r.throw(c))}catch(m){a(m)}}function d(c){c.done?o(c.value):s(c.value).then(i,l)}d((r=r.apply(e,t||[])).next())})};Object.defineProperty(zt,"__esModule",{value:!0});zt.summary=zt.markdownSummary=zt.SUMMARY_DOCS_URL=zt.SUMMARY_ENV_VAR=void 0;var U1=require("os"),xh=require("fs"),{access:z1,appendFile:q1,writeFile:$1}=xh.promises;zt.SUMMARY_ENV_VAR="GITHUB_STEP_SUMMARY";zt.SUMMARY_DOCS_URL="https://docs.github.com/actions/using-workflows/workflow-commands-for-github-actions#adding-a-job-summary";var wh=class{constructor(){this._buffer=""}filePath(){return Sh(this,void 0,void 0,function*(){if(this._filePath)return this._filePath;let t=process.env[zt.SUMMARY_ENV_VAR];if(!t)throw new Error(`Unable to find environment variable for $${zt.SUMMARY_ENV_VAR}. Check if your runtime environment supports job summaries.`);try{yield z1(t,xh.constants.R_OK|xh.constants.W_OK)}catch{throw new Error(`Unable to access summary file: '${t}'. Check if the file has correct read/write permissions.`)}return this._filePath=t,this._filePath})}wrap(t,n,r={}){let s=Object.entries(r).map(([o,a])=>` ${o}="${a}"`).join("");return n?`<${t}${s}>${n}</${t}>`:`<${t}${s}>`}write(t){return Sh(this,void 0,void 0,function*(){let n=!!(t!=null&&t.overwrite),r=yield this.filePath();return yield(n?$1:q1)(r,this._buffer,{encoding:"utf8"}),this.emptyBuffer()})}clear(){return Sh(this,void 0,void 0,function*(){return this.emptyBuffer().write({overwrite:!0})})}stringify(){return this._buffer}isEmptyBuffer(){return this._buffer.length===0}emptyBuffer(){return this._buffer="",this}addRaw(t,n=!1){return this._buffer+=t,n?this.addEOL():this}addEOL(){return this.addRaw(U1.EOL)}addCodeBlock(t,n){let r=Object.assign({},n&&{lang:n}),s=this.wrap("pre",this.wrap("code",t),r);return this.addRaw(s).addEOL()}addList(t,n=!1){let r=n?"ol":"ul",s=t.map(a=>this.wrap("li",a)).join(""),o=this.wrap(r,s);return this.addRaw(o).addEOL()}addTable(t){let n=t.map(s=>{let o=s.map(a=>{if(typeof a=="string")return this.wrap("td",a);let{header:i,data:l,colspan:d,rowspan:c}=a,m=i?"th":"td",u=Object.assign(Object.assign({},d&&{colspan:d}),c&&{rowspan:c});return this.wrap(m,l,u)}).join("");return this.wrap("tr",o)}).join(""),r=this.wrap("table",n);return this.addRaw(r).addEOL()}addDetails(t,n){let r=this.wrap("details",this.wrap("summary",t)+n);return this.addRaw(r).addEOL()}addImage(t,n,r){let{width:s,height:o}=r||{},a=Object.assign(Object.assign({},s&&{width:s}),o&&{height:o}),i=this.wrap("img",null,Object.assign({src:t,alt:n},a));return this.addRaw(i).addEOL()}addHeading(t,n){let r=`h${n}`,s=["h1","h2","h3","h4","h5","h6"].includes(r)?r:"h1",o=this.wrap(s,t);return this.addRaw(o).addEOL()}addSeparator(){let t=this.wrap("hr",null);return this.addRaw(t).addEOL()}addBreak(){let t=this.wrap("br",null);return this.addRaw(t).addEOL()}addQuote(t,n){let r=Object.assign({},n&&{cite:n}),s=this.wrap("blockquote",t,r);return this.addRaw(s).addEOL()}addLink(t,n){let r=this.wrap("a",t,{href:n});return this.addRaw(r).addEOL()}},rw=new wh;zt.markdownSummary=rw;zt.summary=rw});var sw=k(qt=>{"use strict";var G1=qt&&qt.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),j1=qt&&qt.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),H1=qt&&qt.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.hasOwnProperty.call(e,n)&&G1(t,e,n);return j1(t,e),t};Object.defineProperty(qt,"__esModule",{value:!0});qt.toPlatformPath=qt.toWin32Path=qt.toPosixPath=void 0;var K1=H1(require("path"));function V1(e){return e.replace(/[\\]/g,"/")}qt.toPosixPath=V1;function W1(e){return e.replace(/[/]/g,"\\")}qt.toWin32Path=W1;function Y1(e){return e.replace(/[/\\]/g,K1.sep)}qt.toPlatformPath=Y1});var Eh=k(J=>{"use strict";var X1=J&&J.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Q1=J&&J.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),ow=J&&J.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.hasOwnProperty.call(e,n)&&X1(t,e,n);return Q1(t,e),t},iw=J&&J.__awaiter||function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function i(c){try{d(r.next(c))}catch(m){a(m)}}function l(c){try{d(r.throw(c))}catch(m){a(m)}}function d(c){c.done?o(c.value):s(c.value).then(i,l)}d((r=r.apply(e,t||[])).next())})};Object.defineProperty(J,"__esModule",{value:!0});J.getIDToken=J.getState=J.saveState=J.group=J.endGroup=J.startGroup=J.info=J.notice=J.warning=J.error=J.debug=J.isDebug=J.setFailed=J.setCommandEcho=J.setOutput=J.getBooleanInput=J.getMultilineInput=J.getInput=J.addPath=J.setSecret=J.exportVariable=J.ExitCode=void 0;var un=yx(),Qs=$x(),$o=Rl(),aw=ow(require("os")),Z1=ow(require("path")),J1=nw(),cw;(function(e){e[e.Success=0]="Success",e[e.Failure=1]="Failure"})(cw=J.ExitCode||(J.ExitCode={}));function e3(e,t){let n=$o.toCommandValue(t);if(process.env[e]=n,process.env.GITHUB_ENV||"")return Qs.issueFileCommand("ENV",Qs.prepareKeyValueMessage(e,t));un.issueCommand("set-env",{name:e},n)}J.exportVariable=e3;function t3(e){un.issueCommand("add-mask",{},e)}J.setSecret=t3;function n3(e){process.env.GITHUB_PATH||""?Qs.issueFileCommand("PATH",e):un.issueCommand("add-path",{},e),process.env.PATH=`${e}${Z1.delimiter}${process.env.PATH}`}J.addPath=n3;function bh(e,t){let n=process.env[`INPUT_${e.replace(/ /g,"_").toUpperCase()}`]||"";if(t&&t.required&&!n)throw new Error(`Input required and not supplied: ${e}`);return t&&t.trimWhitespace===!1?n:n.trim()}J.getInput=bh;function r3(e,t){let n=bh(e,t).split(`
`).filter(r=>r!=="");return t&&t.trimWhitespace===!1?n:n.map(r=>r.trim())}J.getMultilineInput=r3;function s3(e,t){let n=["true","True","TRUE"],r=["false","False","FALSE"],s=bh(e,t);if(n.includes(s))return!0;if(r.includes(s))return!1;throw new TypeError(`Input does not meet YAML 1.2 "Core Schema" specification: ${e}
Support boolean input list: \`true | True | TRUE | false | False | FALSE\``)}J.getBooleanInput=s3;function o3(e,t){if(process.env.GITHUB_OUTPUT||"")return Qs.issueFileCommand("OUTPUT",Qs.prepareKeyValueMessage(e,t));process.stdout.write(aw.EOL),un.issueCommand("set-output",{name:e},$o.toCommandValue(t))}J.setOutput=o3;function i3(e){un.issue("echo",e?"on":"off")}J.setCommandEcho=i3;function a3(e){process.exitCode=cw.Failure,dw(e)}J.setFailed=a3;function c3(){return process.env.RUNNER_DEBUG==="1"}J.isDebug=c3;function d3(e){un.issueCommand("debug",{},e)}J.debug=d3;function dw(e,t={}){un.issueCommand("error",$o.toCommandProperties(t),e instanceof Error?e.toString():e)}J.error=dw;function l3(e,t={}){un.issueCommand("warning",$o.toCommandProperties(t),e instanceof Error?e.toString():e)}J.warning=l3;function u3(e,t={}){un.issueCommand("notice",$o.toCommandProperties(t),e instanceof Error?e.toString():e)}J.notice=u3;function m3(e){process.stdout.write(e+aw.EOL)}J.info=m3;function lw(e){un.issue("group",e)}J.startGroup=lw;function uw(){un.issue("endgroup")}J.endGroup=uw;function f3(e,t){return iw(this,void 0,void 0,function*(){lw(e);let n;try{n=yield t()}finally{uw()}return n})}J.group=f3;function h3(e,t){if(process.env.GITHUB_STATE||"")return Qs.issueFileCommand("STATE",Qs.prepareKeyValueMessage(e,t));un.issueCommand("save-state",{name:e},$o.toCommandValue(t))}J.saveState=h3;function p3(e){return process.env[`STATE_${e}`]||""}J.getState=p3;function y3(e){return iw(this,void 0,void 0,function*(){return yield J1.OidcClient.getIDToken(e)})}J.getIDToken=y3;var g3=Ch();Object.defineProperty(J,"summary",{enumerable:!0,get:function(){return g3.summary}});var E3=Ch();Object.defineProperty(J,"markdownSummary",{enumerable:!0,get:function(){return E3.markdownSummary}});var Ph=sw();Object.defineProperty(J,"toPosixPath",{enumerable:!0,get:function(){return Ph.toPosixPath}});Object.defineProperty(J,"toWin32Path",{enumerable:!0,get:function(){return Ph.toWin32Path}});Object.defineProperty(J,"toPlatformPath",{enumerable:!0,get:function(){return Ph.toPlatformPath}})});var vh=k(mr=>{"use strict";var Dw=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",X3=Dw+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",Bw="["+Dw+"]["+X3+"]*",Q3=new RegExp("^"+Bw+"$"),Z3=function(e,t){let n=[],r=t.exec(e);for(;r;){let s=[];s.startIndex=t.lastIndex-r[0].length;let o=r.length;for(let a=0;a<o;a++)s.push(r[a]);n.push(s),r=t.exec(e)}return n},J3=function(e){let t=Q3.exec(e);return!(t===null||typeof t>"u")};mr.isExist=function(e){return typeof e<"u"};mr.isEmptyObject=function(e){return Object.keys(e).length===0};mr.merge=function(e,t,n){if(t){let r=Object.keys(t),s=r.length;for(let o=0;o<s;o++)n==="strict"?e[r[o]]=[t[r[o]]]:e[r[o]]=t[r[o]]}};mr.getValue=function(e){return mr.isExist(e)?e:""};mr.isName=J3;mr.getAllMatches=Z3;mr.nameRegexp=Bw});var Dh=k(Uw=>{"use strict";var Th=vh(),eU={allowBooleanAttributes:!1,unpairedTags:[]};Uw.validate=function(e,t){t=Object.assign({},eU,t);let n=[],r=!1,s=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let o=0;o<e.length;o++)if(e[o]==="<"&&e[o+1]==="?"){if(o+=2,o=Fw(e,o),o.err)return o}else if(e[o]==="<"){let a=o;if(o++,e[o]==="!"){o=Mw(e,o);continue}else{let i=!1;e[o]==="/"&&(i=!0,o++);let l="";for(;o<e.length&&e[o]!==">"&&e[o]!==" "&&e[o]!=="	"&&e[o]!==`
`&&e[o]!=="\r";o++)l+=e[o];if(l=l.trim(),l[l.length-1]==="/"&&(l=l.substring(0,l.length-1),o--),!cU(l)){let m;return l.trim().length===0?m="Invalid space after '<'.":m="Tag '"+l+"' is an invalid name.",at("InvalidTag",m,Gt(e,o))}let d=rU(e,o);if(d===!1)return at("InvalidAttr","Attributes for '"+l+"' have open quote.",Gt(e,o));let c=d.value;if(o=d.index,c[c.length-1]==="/"){let m=o-c.length;c=c.substring(0,c.length-1);let u=Lw(c,t);if(u===!0)r=!0;else return at(u.err.code,u.err.msg,Gt(e,m+u.err.line))}else if(i)if(d.tagClosed){if(c.trim().length>0)return at("InvalidTag","Closing tag '"+l+"' can't have attributes or invalid starting.",Gt(e,a));{let m=n.pop();if(l!==m.tagName){let u=Gt(e,m.tagStartPos);return at("InvalidTag","Expected closing tag '"+m.tagName+"' (opened in line "+u.line+", col "+u.col+") instead of closing tag '"+l+"'.",Gt(e,a))}n.length==0&&(s=!0)}}else return at("InvalidTag","Closing tag '"+l+"' doesn't have proper closing.",Gt(e,o));else{let m=Lw(c,t);if(m!==!0)return at(m.err.code,m.err.msg,Gt(e,o-c.length+m.err.line));if(s===!0)return at("InvalidXml","Multiple possible root nodes found.",Gt(e,o));t.unpairedTags.indexOf(l)!==-1||n.push({tagName:l,tagStartPos:a}),r=!0}for(o++;o<e.length;o++)if(e[o]==="<")if(e[o+1]==="!"){o++,o=Mw(e,o);continue}else if(e[o+1]==="?"){if(o=Fw(e,++o),o.err)return o}else break;else if(e[o]==="&"){let m=iU(e,o);if(m==-1)return at("InvalidChar","char '&' is not expected.",Gt(e,o));o=m}else if(s===!0&&!Ow(e[o]))return at("InvalidXml","Extra text at the end",Gt(e,o));e[o]==="<"&&o--}}else{if(Ow(e[o]))continue;return at("InvalidChar","char '"+e[o]+"' is not expected.",Gt(e,o))}if(r){if(n.length==1)return at("InvalidTag","Unclosed tag '"+n[0].tagName+"'.",Gt(e,n[0].tagStartPos));if(n.length>0)return at("InvalidXml","Invalid '"+JSON.stringify(n.map(o=>o.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return at("InvalidXml","Start tag expected.",1);return!0};function Ow(e){return e===" "||e==="	"||e===`
`||e==="\r"}function Fw(e,t){let n=t;for(;t<e.length;t++)if(e[t]=="?"||e[t]==" "){let r=e.substr(n,t-n);if(t>5&&r==="xml")return at("InvalidXml","XML declaration allowed only at the start of the document.",Gt(e,t));if(e[t]=="?"&&e[t+1]==">"){t++;break}else continue}return t}function Mw(e,t){if(e.length>t+5&&e[t+1]==="-"&&e[t+2]==="-"){for(t+=3;t<e.length;t++)if(e[t]==="-"&&e[t+1]==="-"&&e[t+2]===">"){t+=2;break}}else if(e.length>t+8&&e[t+1]==="D"&&e[t+2]==="O"&&e[t+3]==="C"&&e[t+4]==="T"&&e[t+5]==="Y"&&e[t+6]==="P"&&e[t+7]==="E"){let n=1;for(t+=8;t<e.length;t++)if(e[t]==="<")n++;else if(e[t]===">"&&(n--,n===0))break}else if(e.length>t+9&&e[t+1]==="["&&e[t+2]==="C"&&e[t+3]==="D"&&e[t+4]==="A"&&e[t+5]==="T"&&e[t+6]==="A"&&e[t+7]==="["){for(t+=8;t<e.length;t++)if(e[t]==="]"&&e[t+1]==="]"&&e[t+2]===">"){t+=2;break}}return t}var tU='"',nU="'";function rU(e,t){let n="",r="",s=!1;for(;t<e.length;t++){if(e[t]===tU||e[t]===nU)r===""?r=e[t]:r!==e[t]||(r="");else if(e[t]===">"&&r===""){s=!0;break}n+=e[t]}return r!==""?!1:{value:n,index:t,tagClosed:s}}var sU=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function Lw(e,t){let n=Th.getAllMatches(e,sU),r={};for(let s=0;s<n.length;s++){if(n[s][1].length===0)return at("InvalidAttr","Attribute '"+n[s][2]+"' has no space in starting.",pd(n[s]));if(n[s][3]!==void 0&&n[s][4]===void 0)return at("InvalidAttr","Attribute '"+n[s][2]+"' is without value.",pd(n[s]));if(n[s][3]===void 0&&!t.allowBooleanAttributes)return at("InvalidAttr","boolean attribute '"+n[s][2]+"' is not allowed.",pd(n[s]));let o=n[s][2];if(!aU(o))return at("InvalidAttr","Attribute '"+o+"' is an invalid name.",pd(n[s]));if(!r.hasOwnProperty(o))r[o]=1;else return at("InvalidAttr","Attribute '"+o+"' is repeated.",pd(n[s]))}return!0}function oU(e,t){let n=/\d/;for(e[t]==="x"&&(t++,n=/[\da-fA-F]/);t<e.length;t++){if(e[t]===";")return t;if(!e[t].match(n))break}return-1}function iU(e,t){if(t++,e[t]===";")return-1;if(e[t]==="#")return t++,oU(e,t);let n=0;for(;t<e.length;t++,n++)if(!(e[t].match(/\w/)&&n<20)){if(e[t]===";")break;return-1}return t}function at(e,t,n){return{err:{code:e,msg:t,line:n.line||n,col:n.col}}}function aU(e){return Th.isName(e)}function cU(e){return Th.isName(e)}function Gt(e,t){let n=e.substring(0,t).split(/\r?\n/);return{line:n.length,col:n[n.length-1].length+1}}function pd(e){return e.startIndex+e[1].length}});var qw=k(Bh=>{var zw={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1},dU=function(e){return Object.assign({},zw,e)};Bh.buildOptions=dU;Bh.defaultOptions=zw});var Gw=k((See,$w)=>{"use strict";var Oh=class{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,n){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:n})}addChild(t){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,[":@"]:t[":@"]}):this.child.push({[t.tagname]:t.child})}};$w.exports=Oh});var Hw=k((xee,jw)=>{function lU(e,t){let n={};if(e[t+3]==="O"&&e[t+4]==="C"&&e[t+5]==="T"&&e[t+6]==="Y"&&e[t+7]==="P"&&e[t+8]==="E"){t=t+9;let r=1,s=!1,o=!1,a=!1,i="";for(;t<e.length;t++)if(e[t]==="<"&&!a){if(s&&e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="N"&&e[t+4]==="T"&&e[t+5]==="I"&&e[t+6]==="T"&&e[t+7]==="Y")t+=7,o=!0;else if(s&&e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="L"&&e[t+4]==="E"&&e[t+5]==="M"&&e[t+6]==="E"&&e[t+7]==="N"&&e[t+8]==="T")t+=8;else if(s&&e[t+1]==="!"&&e[t+2]==="A"&&e[t+3]==="T"&&e[t+4]==="T"&&e[t+5]==="L"&&e[t+6]==="I"&&e[t+7]==="S"&&e[t+8]==="T")t+=8;else if(s&&e[t+1]==="!"&&e[t+2]==="N"&&e[t+3]==="O"&&e[t+4]==="T"&&e[t+5]==="A"&&e[t+6]==="T"&&e[t+7]==="I"&&e[t+8]==="O"&&e[t+9]==="N")t+=9;else if(e[t+1]==="!"&&e[t+2]==="-"&&e[t+3]==="-")a=!0;else throw new Error("Invalid DOCTYPE");r++,i=""}else if(e[t]===">"){if(a?e[t-1]==="-"&&e[t-2]==="-"&&(a=!1,r--):(o&&(mU(i,n),o=!1),r--),r===0)break}else e[t]==="["?s=!0:i+=e[t];if(r!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:n,i:t}}var uU=RegExp(`^\\s([a-zA-z0-0]+)[ 	](['"])([^&]+)\\2`);function mU(e,t){let n=uU.exec(e);n&&(t[n[1]]={regx:RegExp(`&${n[1]};`,"g"),val:n[3]})}jw.exports=lU});var Vw=k((wee,Kw)=>{var fU=/^[-+]?0x[a-fA-F0-9]+$/,hU=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt);!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);var pU={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function yU(e,t={}){if(t=Object.assign({},pU,t),!e||typeof e!="string")return e;let n=e.trim();if(t.skipLike!==void 0&&t.skipLike.test(n))return e;if(t.hex&&fU.test(n))return Number.parseInt(n,16);{let r=hU.exec(n);if(r){let s=r[1],o=r[2],a=gU(r[3]),i=r[4]||r[6];if(!t.leadingZeros&&o.length>0&&s&&n[2]!==".")return e;if(!t.leadingZeros&&o.length>0&&!s&&n[1]!==".")return e;{let l=Number(n),d=""+l;return d.search(/[eE]/)!==-1||i?t.eNotation?l:e:n.indexOf(".")!==-1?d==="0"&&a===""||d===a||s&&d==="-"+a?l:e:o?a===d||s+a===d?l:e:n===d||n===s+d?l:e}}else return e}}function gU(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substr(0,e.length-1))),e}Kw.exports=yU});var Yw=k((bee,Ww)=>{"use strict";var Uh=vh(),yd=Gw(),EU=Hw(),SU=Vw(),Cee="<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,Uh.nameRegexp),Fh=class{constructor(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"}},this.addExternalEntities=xU,this.parseXml=_U,this.parseTextData=wU,this.resolveNameSpace=CU,this.buildAttributesMap=PU,this.isItStopNode=RU,this.replaceEntitiesValue=AU,this.readStopNodeData=NU,this.saveTextToParentTag=kU}};function xU(e){let t=Object.keys(e);for(let n=0;n<t.length;n++){let r=t[n];this.lastEntities[r]={regex:new RegExp("&"+r+";","g"),val:e[r]}}}function wU(e,t,n,r,s,o,a){if(e!==void 0&&(this.options.trimValues&&!r&&(e=e.trim()),e.length>0)){a||(e=this.replaceEntitiesValue(e));let i=this.options.tagValueProcessor(t,e,n,s,o);return i==null?e:typeof i!=typeof e||i!==e?i:this.options.trimValues?Lh(e,this.options.parseTagValue,this.options.numberParseOptions):e.trim()===e?Lh(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function CU(e){if(this.options.removeNSPrefix){let t=e.split(":"),n=e.charAt(0)==="/"?"/":"";if(t[0]==="xmlns")return"";t.length===2&&(e=n+t[1])}return e}var bU=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function PU(e,t){if(!this.options.ignoreAttributes&&typeof e=="string"){let n=Uh.getAllMatches(e,bU),r=n.length,s={};for(let o=0;o<r;o++){let a=this.resolveNameSpace(n[o][1]),i=n[o][4],l=this.options.attributeNamePrefix+a;if(a.length)if(this.options.transformAttributeName&&(l=this.options.transformAttributeName(l)),l==="__proto__"&&(l="#__proto__"),i!==void 0){this.options.trimValues&&(i=i.trim()),i=this.replaceEntitiesValue(i);let d=this.options.attributeValueProcessor(a,i,t);d==null?s[l]=i:typeof d!=typeof i||d!==i?s[l]=d:s[l]=Lh(i,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(s[l]=!0)}if(!Object.keys(s).length)return;if(this.options.attributesGroupName){let o={};return o[this.options.attributesGroupName]=s,o}return s}}var _U=function(e){e=e.replace(/\r\n?/g,`
`);let t=new yd("!xml"),n=t,r="",s="";for(let o=0;o<e.length;o++)if(e[o]==="<")if(e[o+1]==="/"){let i=Js(e,">",o,"Closing Tag is not closed."),l=e.substring(o+2,i).trim();if(this.options.removeNSPrefix){let d=l.indexOf(":");d!==-1&&(l=l.substr(d+1))}this.options.transformTagName&&(l=this.options.transformTagName(l)),n&&(r=this.saveTextToParentTag(r,n,s)),s=s.substr(0,s.lastIndexOf(".")),n=this.tagsNodeStack.pop(),r="",o=i}else if(e[o+1]==="?"){let i=Mh(e,o,!1,"?>");if(!i)throw new Error("Pi Tag is not closed.");if(r=this.saveTextToParentTag(r,n,s),!(this.options.ignoreDeclaration&&i.tagName==="?xml"||this.options.ignorePiTags)){let l=new yd(i.tagName);l.add(this.options.textNodeName,""),i.tagName!==i.tagExp&&i.attrExpPresent&&(l[":@"]=this.buildAttributesMap(i.tagExp,s)),n.addChild(l)}o=i.closeIndex+1}else if(e.substr(o+1,3)==="!--"){let i=Js(e,"-->",o+4,"Comment is not closed.");if(this.options.commentPropName){let l=e.substring(o+4,i-2);r=this.saveTextToParentTag(r,n,s),n.add(this.options.commentPropName,[{[this.options.textNodeName]:l}])}o=i}else if(e.substr(o+1,2)==="!D"){let i=EU(e,o);this.docTypeEntities=i.entities,o=i.i}else if(e.substr(o+1,2)==="!["){let i=Js(e,"]]>",o,"CDATA is not closed.")-2,l=e.substring(o+9,i);if(r=this.saveTextToParentTag(r,n,s),this.options.cdataPropName)n.add(this.options.cdataPropName,[{[this.options.textNodeName]:l}]);else{let d=this.parseTextData(l,n.tagname,s,!0,!1,!0);d==null&&(d=""),n.add(this.options.textNodeName,d)}o=i+2}else{let i=Mh(e,o,this.options.removeNSPrefix),l=i.tagName,d=i.tagExp,c=i.attrExpPresent,m=i.closeIndex;this.options.transformTagName&&(l=this.options.transformTagName(l)),n&&r&&n.tagname!=="!xml"&&(r=this.saveTextToParentTag(r,n,s,!1)),l!==t.tagname&&(s+=s?"."+l:l);let u=n;if(u&&this.options.unpairedTags.indexOf(u.tagname)!==-1&&(n=this.tagsNodeStack.pop()),this.isItStopNode(this.options.stopNodes,s,l)){let w="";if(d.length>0&&d.lastIndexOf("/")===d.length-1)o=i.closeIndex;else if(this.options.unpairedTags.indexOf(l)!==-1)o=i.closeIndex;else{let I=this.readStopNodeData(e,l,m+1);if(!I)throw new Error(`Unexpected end of ${l}`);o=I.i,w=I.tagContent}let S=new yd(l);l!==d&&c&&(S[":@"]=this.buildAttributesMap(d,s)),w&&(w=this.parseTextData(w,l,s,!0,c,!0,!0)),s=s.substr(0,s.lastIndexOf(".")),S.add(this.options.textNodeName,w),n.addChild(S)}else{if(d.length>0&&d.lastIndexOf("/")===d.length-1){l[l.length-1]==="/"?(l=l.substr(0,l.length-1),d=l):d=d.substr(0,d.length-1),this.options.transformTagName&&(l=this.options.transformTagName(l));let w=new yd(l);l!==d&&c&&(w[":@"]=this.buildAttributesMap(d,s)),s=s.substr(0,s.lastIndexOf(".")),n.addChild(w)}else{let w=new yd(l);this.tagsNodeStack.push(n),l!==d&&c&&(w[":@"]=this.buildAttributesMap(d,s)),n.addChild(w),n=w}r="",o=m}}else r+=e[o];return t.child},AU=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){let n=this.docTypeEntities[t];e=e.replace(n.regx,n.val)}for(let t in this.lastEntities){let n=this.lastEntities[t];e=e.replace(n.regex,n.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){let n=this.htmlEntities[t];e=e.replace(n.regex,n.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};function kU(e,t,n,r){return e&&(r===void 0&&(r=Object.keys(t.child).length===0),e=this.parseTextData(e,t.tagname,n,!1,t[":@"]?Object.keys(t[":@"]).length!==0:!1,r),e!==void 0&&e!==""&&t.add(this.options.textNodeName,e),e=""),e}function RU(e,t,n){let r="*."+n;for(let s in e){let o=e[s];if(r===o||t===o)return!0}return!1}function IU(e,t,n=">"){let r,s="";for(let o=t;o<e.length;o++){let a=e[o];if(r)a===r&&(r="");else if(a==='"'||a==="'")r=a;else if(a===n[0])if(n[1]){if(e[o+1]===n[1])return{data:s,index:o}}else return{data:s,index:o};else a==="	"&&(a=" ");s+=a}}function Js(e,t,n,r){let s=e.indexOf(t,n);if(s===-1)throw new Error(r);return s+t.length-1}function Mh(e,t,n,r=">"){let s=IU(e,t+1,r);if(!s)return;let o=s.data,a=s.index,i=o.search(/\s/),l=o,d=!0;if(i!==-1&&(l=o.substr(0,i).replace(/\s\s*$/,""),o=o.substr(i+1)),n){let c=l.indexOf(":");c!==-1&&(l=l.substr(c+1),d=l!==s.data.substr(c+1))}return{tagName:l,tagExp:o,closeIndex:a,attrExpPresent:d}}function NU(e,t,n){let r=n,s=1;for(;n<e.length;n++)if(e[n]==="<")if(e[n+1]==="/"){let o=Js(e,">",n,`${t} is not closed`);if(e.substring(n+2,o).trim()===t&&(s--,s===0))return{tagContent:e.substring(r,n),i:o};n=o}else if(e[n+1]==="?")n=Js(e,"?>",n+1,"StopNode is not closed.");else if(e.substr(n+1,3)==="!--")n=Js(e,"-->",n+3,"StopNode is not closed.");else if(e.substr(n+1,2)==="![")n=Js(e,"]]>",n,"StopNode is not closed.")-2;else{let o=Mh(e,n,">");o&&((o&&o.tagName)===t&&o.tagExp[o.tagExp.length-1]!=="/"&&s++,n=o.closeIndex)}}function Lh(e,t,n){if(t&&typeof e=="string"){let r=e.trim();return r==="true"?!0:r==="false"?!1:SU(e,n)}else return Uh.isExist(e)?e:""}Ww.exports=Fh});var Zw=k(Qw=>{"use strict";function vU(e,t){return Xw(e,t)}function Xw(e,t,n){let r,s={};for(let o=0;o<e.length;o++){let a=e[o],i=TU(a),l="";if(n===void 0?l=i:l=n+"."+i,i===t.textNodeName)r===void 0?r=a[i]:r+=""+a[i];else{if(i===void 0)continue;if(a[i]){let d=Xw(a[i],t,l),c=BU(d,t);a[":@"]?DU(d,a[":@"],l,t):Object.keys(d).length===1&&d[t.textNodeName]!==void 0&&!t.alwaysCreateTextNode?d=d[t.textNodeName]:Object.keys(d).length===0&&(t.alwaysCreateTextNode?d[t.textNodeName]="":d=""),s[i]!==void 0&&s.hasOwnProperty(i)?(Array.isArray(s[i])||(s[i]=[s[i]]),s[i].push(d)):t.isArray(i,l,c)?s[i]=[d]:s[i]=d}}}return typeof r=="string"?r.length>0&&(s[t.textNodeName]=r):r!==void 0&&(s[t.textNodeName]=r),s}function TU(e){let t=Object.keys(e);for(let n=0;n<t.length;n++){let r=t[n];if(r!==":@")return r}}function DU(e,t,n,r){if(t){let s=Object.keys(t),o=s.length;for(let a=0;a<o;a++){let i=s[a];r.isArray(i,n+"."+i,!0,!0)?e[i]=[t[i]]:e[i]=t[i]}}}function BU(e,t){let n=Object.keys(e).length;return!!(n===0||n===1&&e[t.textNodeName])}Qw.prettify=vU});var eC=k((_ee,Jw)=>{var{buildOptions:OU}=qw(),FU=Yw(),{prettify:MU}=Zw(),LU=Dh(),zh=class{constructor(t){this.externalEntities={},this.options=OU(t)}parse(t,n){if(typeof t!="string")if(t.toString)t=t.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(n){n===!0&&(n={});let o=LU.validate(t,n);if(o!==!0)throw Error(`${o.err.msg}:${o.err.line}:${o.err.col}`)}let r=new FU(this.options);r.addExternalEntities(this.externalEntities);let s=r.parseXml(t);return this.options.preserveOrder||s===void 0?s:MU(s,this.options)}addEntity(t,n){if(n.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(t.indexOf("&")!==-1||t.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(n==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=n}};Jw.exports=zh});var oC=k((Aee,sC)=>{var UU=`
`;function zU(e,t){let n="";return t.format&&t.indentBy.length>0&&(n=UU),nC(e,t,"",n)}function nC(e,t,n,r){let s="",o=!1;for(let a=0;a<e.length;a++){let i=e[a],l=qU(i),d="";if(n.length===0?d=l:d=`${n}.${l}`,l===t.textNodeName){let S=i[l];$U(d,t)||(S=t.tagValueProcessor(l,S),S=rC(S,t)),o&&(s+=r),s+=S,o=!1;continue}else if(l===t.cdataPropName){o&&(s+=r),s+=`<![CDATA[${i[l][0][t.textNodeName]}]]>`,o=!1;continue}else if(l===t.commentPropName){s+=r+`<!--${i[l][0][t.textNodeName]}-->`,o=!0;continue}else if(l[0]==="?"){let S=tC(i[":@"],t),I=l==="?xml"?"":r,D=i[l][0][t.textNodeName];D=D.length!==0?" "+D:"",s+=I+`<${l}${D}${S}?>`,o=!0;continue}let c=r;c!==""&&(c+=t.indentBy);let m=tC(i[":@"],t),u=r+`<${l}${m}`,w=nC(i[l],t,d,c);t.unpairedTags.indexOf(l)!==-1?t.suppressUnpairedNode?s+=u+">":s+=u+"/>":(!w||w.length===0)&&t.suppressEmptyNode?s+=u+"/>":w&&w.endsWith(">")?s+=u+`>${w}${r}</${l}>`:(s+=u+">",w&&r!==""&&(w.includes("/>")||w.includes("</"))?s+=r+t.indentBy+w+r:s+=w,s+=`</${l}>`),o=!0}return s}function qU(e){let t=Object.keys(e);for(let n=0;n<t.length;n++){let r=t[n];if(r!==":@")return r}}function tC(e,t){let n="";if(e&&!t.ignoreAttributes)for(let r in e){let s=t.attributeValueProcessor(r,e[r]);s=rC(s,t),s===!0&&t.suppressBooleanAttributes?n+=` ${r.substr(t.attributeNamePrefix.length)}`:n+=` ${r.substr(t.attributeNamePrefix.length)}="${s}"`}return n}function $U(e,t){e=e.substr(0,e.length-t.textNodeName.length-1);let n=e.substr(e.lastIndexOf(".")+1);for(let r in t.stopNodes)if(t.stopNodes[r]===e||t.stopNodes[r]==="*."+n)return!0;return!1}function rC(e,t){if(e&&e.length>0&&t.processEntities)for(let n=0;n<t.entities.length;n++){let r=t.entities[n];e=e.replace(r.regex,r.val)}return e}sC.exports=zU});var aC=k((kee,iC)=>{"use strict";var GU=oC(),jU={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[]};function Zr(e){this.options=Object.assign({},jU,e),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=VU),this.processTextOrObjNode=HU,this.options.format?(this.indentate=KU,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}Zr.prototype.build=function(e){return this.options.preserveOrder?GU(e,this.options):(Array.isArray(e)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(e={[this.options.arrayNodeName]:e}),this.j2x(e,0).val)};Zr.prototype.j2x=function(e,t){let n="",r="";for(let s in e)if(!(typeof e[s]>"u"))if(e[s]===null)s[0]==="?"?r+=this.indentate(t)+"<"+s+"?"+this.tagEndChar:r+=this.indentate(t)+"<"+s+"/"+this.tagEndChar;else if(e[s]instanceof Date)r+=this.buildTextValNode(e[s],s,"",t);else if(typeof e[s]!="object"){let o=this.isAttribute(s);if(o)n+=this.buildAttrPairStr(o,""+e[s]);else if(s===this.options.textNodeName){let a=this.options.tagValueProcessor(s,""+e[s]);r+=this.replaceEntitiesValue(a)}else r+=this.buildTextValNode(e[s],s,"",t)}else if(Array.isArray(e[s])){let o=e[s].length;for(let a=0;a<o;a++){let i=e[s][a];typeof i>"u"||(i===null?s[0]==="?"?r+=this.indentate(t)+"<"+s+"?"+this.tagEndChar:r+=this.indentate(t)+"<"+s+"/"+this.tagEndChar:typeof i=="object"?r+=this.processTextOrObjNode(i,s,t):r+=this.buildTextValNode(i,s,"",t))}}else if(this.options.attributesGroupName&&s===this.options.attributesGroupName){let o=Object.keys(e[s]),a=o.length;for(let i=0;i<a;i++)n+=this.buildAttrPairStr(o[i],""+e[s][o[i]])}else r+=this.processTextOrObjNode(e[s],s,t);return{attrStr:n,val:r}};Zr.prototype.buildAttrPairStr=function(e,t){return t=this.options.attributeValueProcessor(e,""+t),t=this.replaceEntitiesValue(t),this.options.suppressBooleanAttributes&&t==="true"?" "+e:" "+e+'="'+t+'"'};function HU(e,t,n){let r=this.j2x(e,n+1);return e[this.options.textNodeName]!==void 0&&Object.keys(e).length===1?this.buildTextValNode(e[this.options.textNodeName],t,r.attrStr,n):this.buildObjectNode(r.val,t,r.attrStr,n)}Zr.prototype.buildObjectNode=function(e,t,n,r){if(e==="")return t[0]==="?"?this.indentate(r)+"<"+t+n+"?"+this.tagEndChar:this.indentate(r)+"<"+t+n+this.closeTag(t)+this.tagEndChar;{let s="</"+t+this.tagEndChar,o="";return t[0]==="?"&&(o="?",s=""),n&&e.indexOf("<")===-1?this.indentate(r)+"<"+t+n+o+">"+e+s:this.options.commentPropName!==!1&&t===this.options.commentPropName&&o.length===0?this.indentate(r)+`<!--${e}-->`+this.newLine:this.indentate(r)+"<"+t+n+o+this.tagEndChar+e+this.indentate(r)+s}};Zr.prototype.closeTag=function(e){let t="";return this.options.unpairedTags.indexOf(e)!==-1?this.options.suppressUnpairedNode||(t="/"):this.options.suppressEmptyNode?t="/":t=`></${e}`,t};Zr.prototype.buildTextValNode=function(e,t,n,r){if(this.options.cdataPropName!==!1&&t===this.options.cdataPropName)return this.indentate(r)+`<![CDATA[${e}]]>`+this.newLine;if(this.options.commentPropName!==!1&&t===this.options.commentPropName)return this.indentate(r)+`<!--${e}-->`+this.newLine;if(t[0]==="?")return this.indentate(r)+"<"+t+n+"?"+this.tagEndChar;{let s=this.options.tagValueProcessor(t,e);return s=this.replaceEntitiesValue(s),s===""?this.indentate(r)+"<"+t+n+this.closeTag(t)+this.tagEndChar:this.indentate(r)+"<"+t+n+">"+s+"</"+t+this.tagEndChar}};Zr.prototype.replaceEntitiesValue=function(e){if(e&&e.length>0&&this.options.processEntities)for(let t=0;t<this.options.entities.length;t++){let n=this.options.entities[t];e=e.replace(n.regex,n.val)}return e};function KU(e){return this.options.indentBy.repeat(e)}function VU(e){return e.startsWith(this.options.attributeNamePrefix)?e.substr(this.attrPrefixLen):!1}iC.exports=Zr});var qh=k((Ree,cC)=>{"use strict";var WU=Dh(),YU=eC(),XU=aC();cC.exports={XMLParser:YU,XMLValidator:WU,XMLBuilder:XU}});var Qh={};Oo(Qh,{__assign:()=>Yh,__asyncDelegator:()=>kH,__asyncGenerator:()=>AH,__asyncValues:()=>RH,__await:()=>Sd,__awaiter:()=>xH,__classPrivateFieldGet:()=>TH,__classPrivateFieldSet:()=>DH,__createBinding:()=>CH,__decorate:()=>gH,__exportStar:()=>bH,__extends:()=>pH,__generator:()=>wH,__importDefault:()=>vH,__importStar:()=>NH,__makeTemplateObject:()=>IH,__metadata:()=>SH,__param:()=>EH,__read:()=>ik,__rest:()=>yH,__spread:()=>PH,__spreadArrays:()=>_H,__values:()=>Xh});function pH(e,t){Wh(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function yH(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function gH(e,t,n,r){var s=arguments.length,o=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,n,r);else for(var i=e.length-1;i>=0;i--)(a=e[i])&&(o=(s<3?a(o):s>3?a(t,n,o):a(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o}function EH(e,t){return function(n,r){t(n,r,e)}}function SH(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function xH(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function i(c){try{d(r.next(c))}catch(m){a(m)}}function l(c){try{d(r.throw(c))}catch(m){a(m)}}function d(c){c.done?o(c.value):s(c.value).then(i,l)}d((r=r.apply(e,t||[])).next())})}function wH(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,a;return a={next:i(0),throw:i(1),return:i(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function i(d){return function(c){return l([d,c])}}function l(d){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(o=d[0]&2?s.return:d[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,d[1])).done)return o;switch(s=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,s=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){n.label=d[1];break}if(d[0]===6&&n.label<o[1]){n.label=o[1],o=d;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(d);break}o[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(c){d=[6,c],s=0}finally{r=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function CH(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}function bH(e,t){for(var n in e)n!=="default"&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Xh(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ik(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),s,o=[],a;try{for(;(t===void 0||t-- >0)&&!(s=r.next()).done;)o.push(s.value)}catch(i){a={error:i}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o}function PH(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ik(arguments[t]));return e}function _H(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),s=0,t=0;t<n;t++)for(var o=arguments[t],a=0,i=o.length;a<i;a++,s++)r[s]=o[a];return r}function Sd(e){return this instanceof Sd?(this.v=e,this):new Sd(e)}function AH(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),s,o=[];return s={},a("next"),a("throw"),a("return"),s[Symbol.asyncIterator]=function(){return this},s;function a(u){r[u]&&(s[u]=function(w){return new Promise(function(S,I){o.push([u,w,S,I])>1||i(u,w)})})}function i(u,w){try{l(r[u](w))}catch(S){m(o[0][3],S)}}function l(u){u.value instanceof Sd?Promise.resolve(u.value.v).then(d,c):m(o[0][2],u)}function d(u){i("next",u)}function c(u){i("throw",u)}function m(u,w){u(w),o.shift(),o.length&&i(o[0][0],o[0][1])}}function kH(e){var t,n;return t={},r("next"),r("throw",function(s){throw s}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(s,o){t[s]=e[s]?function(a){return(n=!n)?{value:Sd(e[s](a)),done:s==="return"}:o?o(a):a}:o}}function RH(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Xh=="function"?Xh(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(a){return new Promise(function(i,l){a=e[o](a),s(i,l,a.done,a.value)})}}function s(o,a,i,l){Promise.resolve(l).then(function(d){o({value:d,done:i})},a)}}function IH(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function NH(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function vH(e){return e&&e.__esModule?e:{default:e}}function TH(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function DH(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}var Wh,Yh,Zh=it(()=>{Wh=function(e,t){return Wh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},Wh(e,t)};Yh=function(){return Yh=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Yh.apply(this,arguments)}});var ak,ck,dk=it(()=>{ak=e=>{let t=[];for(let n=0,r=e.length;n<r;n++){let s=e.charCodeAt(n);if(s<128)t.push(s);else if(s<2048)t.push(s>>6|192,s&63|128);else if(n+1<e.length&&(s&64512)===55296&&(e.charCodeAt(n+1)&64512)===56320){let o=65536+((s&1023)<<10)+(e.charCodeAt(++n)&1023);t.push(o>>18|240,o>>12&63|128,o>>6&63|128,o&63|128)}else t.push(s>>12|224,s>>6&63|128,s&63|128)}return Uint8Array.from(t)},ck=e=>{let t="";for(let n=0,r=e.length;n<r;n++){let s=e[n];if(s<128)t+=String.fromCharCode(s);else if(192<=s&&s<224){let o=e[++n];t+=String.fromCharCode((s&31)<<6|o&63)}else if(240<=s&&s<365){let a="%"+[s,e[++n],e[++n],e[++n]].map(i=>i.toString(16)).join("%");t+=decodeURIComponent(a)}else t+=String.fromCharCode((s&15)<<12|(e[++n]&63)<<6|e[++n]&63)}return t}});function lk(e){return new TextEncoder().encode(e)}function uk(e){return new TextDecoder("utf-8").decode(e)}var mk=it(()=>{});var fk={};Oo(fk,{fromUtf8:()=>BH,toUtf8:()=>OH});var BH,OH,hk=it(()=>{dk();mk();BH=e=>typeof TextEncoder=="function"?lk(e):ak(e),OH=e=>typeof TextDecoder=="function"?uk(e):ck(e)});var pk=k(Xl=>{"use strict";Object.defineProperty(Xl,"__esModule",{value:!0});Xl.convertToBuffer=void 0;var FH=(hk(),Fo(fk)),MH=typeof Buffer<"u"&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:FH.fromUtf8;function LH(e){return e instanceof Uint8Array?e:typeof e=="string"?MH(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}Xl.convertToBuffer=LH});var yk=k(Ql=>{"use strict";Object.defineProperty(Ql,"__esModule",{value:!0});Ql.isEmptyData=void 0;function UH(e){return typeof e=="string"?e.length===0:e.byteLength===0}Ql.isEmptyData=UH});var gk=k(Zl=>{"use strict";Object.defineProperty(Zl,"__esModule",{value:!0});Zl.numToUint8=void 0;function zH(e){return new Uint8Array([(e&4278190080)>>24,(e&16711680)>>16,(e&65280)>>8,e&255])}Zl.numToUint8=zH});var Ek=k(Jl=>{"use strict";Object.defineProperty(Jl,"__esModule",{value:!0});Jl.uint32ArrayFrom=void 0;function qH(e){if(!Uint32Array.from){for(var t=new Uint32Array(e.length),n=0;n<e.length;)t[n]=e[n],n+=1;return t}return Uint32Array.from(e)}Jl.uint32ArrayFrom=qH});var xd=k(Ln=>{"use strict";Object.defineProperty(Ln,"__esModule",{value:!0});Ln.uint32ArrayFrom=Ln.numToUint8=Ln.isEmptyData=Ln.convertToBuffer=void 0;var $H=pk();Object.defineProperty(Ln,"convertToBuffer",{enumerable:!0,get:function(){return $H.convertToBuffer}});var GH=yk();Object.defineProperty(Ln,"isEmptyData",{enumerable:!0,get:function(){return GH.isEmptyData}});var jH=gk();Object.defineProperty(Ln,"numToUint8",{enumerable:!0,get:function(){return jH.numToUint8}});var HH=Ek();Object.defineProperty(Ln,"uint32ArrayFrom",{enumerable:!0,get:function(){return HH.uint32ArrayFrom}})});var wk=k(eu=>{"use strict";Object.defineProperty(eu,"__esModule",{value:!0});eu.AwsCrc32=void 0;var Sk=(Zh(),Fo(Qh)),Jh=xd(),xk=wd(),KH=function(){function e(){this.crc32=new xk.Crc32}return e.prototype.update=function(t){(0,Jh.isEmptyData)(t)||this.crc32.update((0,Jh.convertToBuffer)(t))},e.prototype.digest=function(){return Sk.__awaiter(this,void 0,void 0,function(){return Sk.__generator(this,function(t){return[2,(0,Jh.numToUint8)(this.crc32.digest())]})})},e.prototype.reset=function(){this.crc32=new xk.Crc32},e}();eu.AwsCrc32=KH});var wd=k(es=>{"use strict";Object.defineProperty(es,"__esModule",{value:!0});es.AwsCrc32=es.Crc32=es.crc32=void 0;var VH=(Zh(),Fo(Qh)),WH=xd();function YH(e){return new Ck().update(e).digest()}es.crc32=YH;var Ck=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(t){var n,r;try{for(var s=VH.__values(t),o=s.next();!o.done;o=s.next()){var a=o.value;this.checksum=this.checksum>>>8^QH[(this.checksum^a)&255]}}catch(i){n={error:i}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return this},e.prototype.digest=function(){return(this.checksum^4294967295)>>>0},e}();es.Crc32=Ck;var XH=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],QH=(0,WH.uint32ArrayFrom)(XH),ZH=wk();Object.defineProperty(es,"AwsCrc32",{enumerable:!0,get:function(){return ZH.AwsCrc32}})});var rp={};Oo(rp,{__assign:()=>tp,__asyncDelegator:()=>u6,__asyncGenerator:()=>l6,__asyncValues:()=>m6,__await:()=>Cd,__awaiter:()=>s6,__classPrivateFieldGet:()=>y6,__classPrivateFieldSet:()=>g6,__createBinding:()=>i6,__decorate:()=>t6,__exportStar:()=>a6,__extends:()=>JH,__generator:()=>o6,__importDefault:()=>p6,__importStar:()=>h6,__makeTemplateObject:()=>f6,__metadata:()=>r6,__param:()=>n6,__read:()=>bk,__rest:()=>e6,__spread:()=>c6,__spreadArrays:()=>d6,__values:()=>np});function JH(e,t){ep(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function e6(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function t6(e,t,n,r){var s=arguments.length,o=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,n,r);else for(var i=e.length-1;i>=0;i--)(a=e[i])&&(o=(s<3?a(o):s>3?a(t,n,o):a(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o}function n6(e,t){return function(n,r){t(n,r,e)}}function r6(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function s6(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function i(c){try{d(r.next(c))}catch(m){a(m)}}function l(c){try{d(r.throw(c))}catch(m){a(m)}}function d(c){c.done?o(c.value):s(c.value).then(i,l)}d((r=r.apply(e,t||[])).next())})}function o6(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,a;return a={next:i(0),throw:i(1),return:i(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function i(d){return function(c){return l([d,c])}}function l(d){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(o=d[0]&2?s.return:d[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,d[1])).done)return o;switch(s=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,s=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){n.label=d[1];break}if(d[0]===6&&n.label<o[1]){n.label=o[1],o=d;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(d);break}o[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(c){d=[6,c],s=0}finally{r=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function i6(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}function a6(e,t){for(var n in e)n!=="default"&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function np(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function bk(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),s,o=[],a;try{for(;(t===void 0||t-- >0)&&!(s=r.next()).done;)o.push(s.value)}catch(i){a={error:i}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o}function c6(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(bk(arguments[t]));return e}function d6(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),s=0,t=0;t<n;t++)for(var o=arguments[t],a=0,i=o.length;a<i;a++,s++)r[s]=o[a];return r}function Cd(e){return this instanceof Cd?(this.v=e,this):new Cd(e)}function l6(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),s,o=[];return s={},a("next"),a("throw"),a("return"),s[Symbol.asyncIterator]=function(){return this},s;function a(u){r[u]&&(s[u]=function(w){return new Promise(function(S,I){o.push([u,w,S,I])>1||i(u,w)})})}function i(u,w){try{l(r[u](w))}catch(S){m(o[0][3],S)}}function l(u){u.value instanceof Cd?Promise.resolve(u.value.v).then(d,c):m(o[0][2],u)}function d(u){i("next",u)}function c(u){i("throw",u)}function m(u,w){u(w),o.shift(),o.length&&i(o[0][0],o[0][1])}}function u6(e){var t,n;return t={},r("next"),r("throw",function(s){throw s}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(s,o){t[s]=e[s]?function(a){return(n=!n)?{value:Cd(e[s](a)),done:s==="return"}:o?o(a):a}:o}}function m6(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof np=="function"?np(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(a){return new Promise(function(i,l){a=e[o](a),s(i,l,a.done,a.value)})}}function s(o,a,i,l){Promise.resolve(l).then(function(d){o({value:d,done:i})},a)}}function f6(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function h6(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function p6(e){return e&&e.__esModule?e:{default:e}}function y6(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function g6(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}var ep,tp,sp=it(()=>{ep=function(e,t){return ep=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},ep(e,t)};tp=function(){return tp=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},tp.apply(this,arguments)}});var Ak=k(tu=>{"use strict";Object.defineProperty(tu,"__esModule",{value:!0});tu.AwsCrc32c=void 0;var Pk=(sp(),Fo(rp)),op=xd(),_k=ip(),E6=function(){function e(){this.crc32c=new _k.Crc32c}return e.prototype.update=function(t){(0,op.isEmptyData)(t)||this.crc32c.update((0,op.convertToBuffer)(t))},e.prototype.digest=function(){return Pk.__awaiter(this,void 0,void 0,function(){return Pk.__generator(this,function(t){return[2,(0,op.numToUint8)(this.crc32c.digest())]})})},e.prototype.reset=function(){this.crc32c=new _k.Crc32c},e}();tu.AwsCrc32c=E6});var ip=k(ts=>{"use strict";Object.defineProperty(ts,"__esModule",{value:!0});ts.AwsCrc32c=ts.Crc32c=ts.crc32c=void 0;var S6=(sp(),Fo(rp)),x6=xd();function w6(e){return new kk().update(e).digest()}ts.crc32c=w6;var kk=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(t){var n,r;try{for(var s=S6.__values(t),o=s.next();!o.done;o=s.next()){var a=o.value;this.checksum=this.checksum>>>8^b6[(this.checksum^a)&255]}}catch(i){n={error:i}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return this},e.prototype.digest=function(){return(this.checksum^4294967295)>>>0},e}();ts.Crc32c=kk;var C6=[0,4067132163,3778769143,324072436,3348797215,904991772,648144872,3570033899,2329499855,2024987596,1809983544,2575936315,1296289744,3207089363,2893594407,1578318884,274646895,3795141740,4049975192,51262619,3619967088,632279923,922689671,3298075524,2592579488,1760304291,2075979607,2312596564,1562183871,2943781820,3156637768,1313733451,549293790,3537243613,3246849577,871202090,3878099393,357341890,102525238,4101499445,2858735121,1477399826,1264559846,3107202533,1845379342,2677391885,2361733625,2125378298,820201905,3263744690,3520608582,598981189,4151959214,85089709,373468761,3827903834,3124367742,1213305469,1526817161,2842354314,2107672161,2412447074,2627466902,1861252501,1098587580,3004210879,2688576843,1378610760,2262928035,1955203488,1742404180,2511436119,3416409459,969524848,714683780,3639785095,205050476,4266873199,3976438427,526918040,1361435347,2739821008,2954799652,1114974503,2529119692,1691668175,2005155131,2247081528,3690758684,697762079,986182379,3366744552,476452099,3993867776,4250756596,255256311,1640403810,2477592673,2164122517,1922457750,2791048317,1412925310,1197962378,3037525897,3944729517,427051182,170179418,4165941337,746937522,3740196785,3451792453,1070968646,1905808397,2213795598,2426610938,1657317369,3053634322,1147748369,1463399397,2773627110,4215344322,153784257,444234805,3893493558,1021025245,3467647198,3722505002,797665321,2197175160,1889384571,1674398607,2443626636,1164749927,3070701412,2757221520,1446797203,137323447,4198817972,3910406976,461344835,3484808360,1037989803,781091935,3705997148,2460548119,1623424788,1939049696,2180517859,1429367560,2807687179,3020495871,1180866812,410100952,3927582683,4182430767,186734380,3756733383,763408580,1053836080,3434856499,2722870694,1344288421,1131464017,2971354706,1708204729,2545590714,2229949006,1988219213,680717673,3673779818,3383336350,1002577565,4010310262,493091189,238226049,4233660802,2987750089,1082061258,1395524158,2705686845,1972364758,2279892693,2494862625,1725896226,952904198,3399985413,3656866545,731699698,4283874585,222117402,510512622,3959836397,3280807620,837199303,582374963,3504198960,68661723,4135334616,3844915500,390545967,1230274059,3141532936,2825850620,1510247935,2395924756,2091215383,1878366691,2644384480,3553878443,565732008,854102364,3229815391,340358836,3861050807,4117890627,119113024,1493875044,2875275879,3090270611,1247431312,2660249211,1828433272,2141937292,2378227087,3811616794,291187481,34330861,4032846830,615137029,3603020806,3314634738,939183345,1776939221,2609017814,2295496738,2058945313,2926798794,1545135305,1330124605,3173225534,4084100981,17165430,307568514,3762199681,888469610,3332340585,3587147933,665062302,2042050490,2346497209,2559330125,1793573966,3190661285,1279665062,1595330642,2910671697],b6=(0,x6.uint32ArrayFrom)(C6),P6=Ak();Object.defineProperty(ts,"AwsCrc32c",{enumerable:!0,get:function(){return P6.AwsCrc32c}})});var Rc=k((dNe,ET)=>{"use strict";var gT=new Map([["C","cwd"],["f","file"],["z","gzip"],["P","preservePaths"],["U","unlink"],["strip-components","strip"],["stripComponents","strip"],["keep-newer","newer"],["keepNewer","newer"],["keep-newer-files","newer"],["keepNewerFiles","newer"],["k","keep"],["keep-existing","keep"],["keepExisting","keep"],["m","noMtime"],["no-mtime","noMtime"],["p","preserveOwner"],["L","follow"],["h","follow"]]);ET.exports=e=>e?Object.keys(e).map(t=>[gT.has(t)?gT.get(t):t,e[t]]).reduce((t,n)=>(t[n[0]]=n[1],t),Object.create(null)):{}});var Sm=k((lNe,RT)=>{"use strict";var ST=typeof process=="object"&&process?process:{stdout:null,stderr:null},W5=require("events"),xT=require("stream"),Y5=require("string_decoder"),wT=Y5.StringDecoder,Cr=Symbol("EOF"),br=Symbol("maybeEmitEnd"),vs=Symbol("emittedEnd"),fm=Symbol("emittingEnd"),Xd=Symbol("emittedError"),hm=Symbol("closed"),CT=Symbol("read"),pm=Symbol("flush"),bT=Symbol("flushChunk"),Wt=Symbol("encoding"),Pr=Symbol("decoder"),ym=Symbol("flowing"),Qd=Symbol("paused"),Ic=Symbol("resume"),nt=Symbol("buffer"),Zn=Symbol("pipes"),yt=Symbol("bufferLength"),ky=Symbol("bufferPush"),Ry=Symbol("bufferShift"),Pt=Symbol("objectMode"),rt=Symbol("destroyed"),Iy=Symbol("error"),Ny=Symbol("emitData"),PT=Symbol("emitEnd"),vy=Symbol("emitEnd2"),_r=Symbol("async"),Ty=Symbol("abort"),gm=Symbol("aborted"),ho=Symbol("signal"),Zd=e=>Promise.resolve().then(e),kT=global._MP_NO_ITERATOR_SYMBOLS_!=="1",_T=kT&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),AT=kT&&Symbol.iterator||Symbol("iterator not implemented"),X5=e=>e==="end"||e==="finish"||e==="prefinish",Q5=e=>e instanceof ArrayBuffer||typeof e=="object"&&e.constructor&&e.constructor.name==="ArrayBuffer"&&e.byteLength>=0,Z5=e=>!Buffer.isBuffer(e)&&ArrayBuffer.isView(e),Em=class{constructor(t,n,r){this.src=t,this.dest=n,this.opts=r,this.ondrain=()=>t[Ic](),n.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},Dy=class extends Em{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(t,n,r){super(t,n,r),this.proxyErrors=s=>n.emit("error",s),t.on("error",this.proxyErrors)}},Jd=class extends xT{constructor(t){super(),this[ym]=!1,this[Qd]=!1,this[Zn]=[],this[nt]=[],this[Pt]=t&&t.objectMode||!1,this[Pt]?this[Wt]=null:this[Wt]=t&&t.encoding||null,this[Wt]==="buffer"&&(this[Wt]=null),this[_r]=t&&!!t.async||!1,this[Pr]=this[Wt]?new wT(this[Wt]):null,this[Cr]=!1,this[vs]=!1,this[fm]=!1,this[hm]=!1,this[Xd]=null,this.writable=!0,this.readable=!0,this[yt]=0,this[rt]=!1,t&&t.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[nt]}),t&&t.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[Zn]}),this[ho]=t&&t.signal,this[gm]=!1,this[ho]&&(this[ho].addEventListener("abort",()=>this[Ty]()),this[ho].aborted&&this[Ty]())}get bufferLength(){return this[yt]}get encoding(){return this[Wt]}set encoding(t){if(this[Pt])throw new Error("cannot set encoding in objectMode");if(this[Wt]&&t!==this[Wt]&&(this[Pr]&&this[Pr].lastNeed||this[yt]))throw new Error("cannot change encoding");this[Wt]!==t&&(this[Pr]=t?new wT(t):null,this[nt].length&&(this[nt]=this[nt].map(n=>this[Pr].write(n)))),this[Wt]=t}setEncoding(t){this.encoding=t}get objectMode(){return this[Pt]}set objectMode(t){this[Pt]=this[Pt]||!!t}get async(){return this[_r]}set async(t){this[_r]=this[_r]||!!t}[Ty](){this[gm]=!0,this.emit("abort",this[ho].reason),this.destroy(this[ho].reason)}get aborted(){return this[gm]}set aborted(t){}write(t,n,r){if(this[gm])return!1;if(this[Cr])throw new Error("write after end");if(this[rt])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof n=="function"&&(r=n,n="utf8"),n||(n="utf8");let s=this[_r]?Zd:o=>o();return!this[Pt]&&!Buffer.isBuffer(t)&&(Z5(t)?t=Buffer.from(t.buffer,t.byteOffset,t.byteLength):Q5(t)?t=Buffer.from(t):typeof t!="string"&&(this.objectMode=!0)),this[Pt]?(this.flowing&&this[yt]!==0&&this[pm](!0),this.flowing?this.emit("data",t):this[ky](t),this[yt]!==0&&this.emit("readable"),r&&s(r),this.flowing):t.length?(typeof t=="string"&&!(n===this[Wt]&&!this[Pr].lastNeed)&&(t=Buffer.from(t,n)),Buffer.isBuffer(t)&&this[Wt]&&(t=this[Pr].write(t)),this.flowing&&this[yt]!==0&&this[pm](!0),this.flowing?this.emit("data",t):this[ky](t),this[yt]!==0&&this.emit("readable"),r&&s(r),this.flowing):(this[yt]!==0&&this.emit("readable"),r&&s(r),this.flowing)}read(t){if(this[rt])return null;if(this[yt]===0||t===0||t>this[yt])return this[br](),null;this[Pt]&&(t=null),this[nt].length>1&&!this[Pt]&&(this.encoding?this[nt]=[this[nt].join("")]:this[nt]=[Buffer.concat(this[nt],this[yt])]);let n=this[CT](t||null,this[nt][0]);return this[br](),n}[CT](t,n){return t===n.length||t===null?this[Ry]():(this[nt][0]=n.slice(t),n=n.slice(0,t),this[yt]-=t),this.emit("data",n),!this[nt].length&&!this[Cr]&&this.emit("drain"),n}end(t,n,r){return typeof t=="function"&&(r=t,t=null),typeof n=="function"&&(r=n,n="utf8"),t&&this.write(t,n),r&&this.once("end",r),this[Cr]=!0,this.writable=!1,(this.flowing||!this[Qd])&&this[br](),this}[Ic](){this[rt]||(this[Qd]=!1,this[ym]=!0,this.emit("resume"),this[nt].length?this[pm]():this[Cr]?this[br]():this.emit("drain"))}resume(){return this[Ic]()}pause(){this[ym]=!1,this[Qd]=!0}get destroyed(){return this[rt]}get flowing(){return this[ym]}get paused(){return this[Qd]}[ky](t){this[Pt]?this[yt]+=1:this[yt]+=t.length,this[nt].push(t)}[Ry](){return this[Pt]?this[yt]-=1:this[yt]-=this[nt][0].length,this[nt].shift()}[pm](t){do;while(this[bT](this[Ry]())&&this[nt].length);!t&&!this[nt].length&&!this[Cr]&&this.emit("drain")}[bT](t){return this.emit("data",t),this.flowing}pipe(t,n){if(this[rt])return;let r=this[vs];return n=n||{},t===ST.stdout||t===ST.stderr?n.end=!1:n.end=n.end!==!1,n.proxyErrors=!!n.proxyErrors,r?n.end&&t.end():(this[Zn].push(n.proxyErrors?new Dy(this,t,n):new Em(this,t,n)),this[_r]?Zd(()=>this[Ic]()):this[Ic]()),t}unpipe(t){let n=this[Zn].find(r=>r.dest===t);n&&(this[Zn].splice(this[Zn].indexOf(n),1),n.unpipe())}addListener(t,n){return this.on(t,n)}on(t,n){let r=super.on(t,n);return t==="data"&&!this[Zn].length&&!this.flowing?this[Ic]():t==="readable"&&this[yt]!==0?super.emit("readable"):X5(t)&&this[vs]?(super.emit(t),this.removeAllListeners(t)):t==="error"&&this[Xd]&&(this[_r]?Zd(()=>n.call(this,this[Xd])):n.call(this,this[Xd])),r}get emittedEnd(){return this[vs]}[br](){!this[fm]&&!this[vs]&&!this[rt]&&this[nt].length===0&&this[Cr]&&(this[fm]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[hm]&&this.emit("close"),this[fm]=!1)}emit(t,n,...r){if(t!=="error"&&t!=="close"&&t!==rt&&this[rt])return;if(t==="data")return!this[Pt]&&!n?!1:this[_r]?Zd(()=>this[Ny](n)):this[Ny](n);if(t==="end")return this[PT]();if(t==="close"){if(this[hm]=!0,!this[vs]&&!this[rt])return;let o=super.emit("close");return this.removeAllListeners("close"),o}else if(t==="error"){this[Xd]=n,super.emit(Iy,n);let o=!this[ho]||this.listeners("error").length?super.emit("error",n):!1;return this[br](),o}else if(t==="resume"){let o=super.emit("resume");return this[br](),o}else if(t==="finish"||t==="prefinish"){let o=super.emit(t);return this.removeAllListeners(t),o}let s=super.emit(t,n,...r);return this[br](),s}[Ny](t){for(let r of this[Zn])r.dest.write(t)===!1&&this.pause();let n=super.emit("data",t);return this[br](),n}[PT](){this[vs]||(this[vs]=!0,this.readable=!1,this[_r]?Zd(()=>this[vy]()):this[vy]())}[vy](){if(this[Pr]){let n=this[Pr].end();if(n){for(let r of this[Zn])r.dest.write(n);super.emit("data",n)}}for(let n of this[Zn])n.end();let t=super.emit("end");return this.removeAllListeners("end"),t}collect(){let t=[];this[Pt]||(t.dataLength=0);let n=this.promise();return this.on("data",r=>{t.push(r),this[Pt]||(t.dataLength+=r.length)}),n.then(()=>t)}concat(){return this[Pt]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(t=>this[Pt]?Promise.reject(new Error("cannot concat in objectMode")):this[Wt]?t.join(""):Buffer.concat(t,t.dataLength))}promise(){return new Promise((t,n)=>{this.on(rt,()=>n(new Error("stream destroyed"))),this.on("error",r=>n(r)),this.on("end",()=>t())})}[_T](){let t=!1,n=()=>(this.pause(),t=!0,Promise.resolve({done:!0}));return{next:()=>{if(t)return n();let s=this.read();if(s!==null)return Promise.resolve({done:!1,value:s});if(this[Cr])return n();let o=null,a=null,i=m=>{this.removeListener("data",l),this.removeListener("end",d),this.removeListener(rt,c),n(),a(m)},l=m=>{this.removeListener("error",i),this.removeListener("end",d),this.removeListener(rt,c),this.pause(),o({value:m,done:!!this[Cr]})},d=()=>{this.removeListener("error",i),this.removeListener("data",l),this.removeListener(rt,c),n(),o({done:!0})},c=()=>i(new Error("stream destroyed"));return new Promise((m,u)=>{a=u,o=m,this.once(rt,c),this.once("error",i),this.once("end",d),this.once("data",l)})},throw:n,return:n,[_T](){return this}}}[AT](){let t=!1,n=()=>(this.pause(),this.removeListener(Iy,n),this.removeListener(rt,n),this.removeListener("end",n),t=!0,{done:!0}),r=()=>{if(t)return n();let s=this.read();return s===null?n():{value:s}};return this.once("end",n),this.once(Iy,n),this.once(rt,n),{next:r,throw:n,return:n,[AT](){return this}}}destroy(t){return this[rt]?(t?this.emit("error",t):this.emit(rt),this):(this[rt]=!0,this[nt].length=0,this[yt]=0,typeof this.close=="function"&&!this[hm]&&this.close(),t?this.emit("error",t):this.emit(rt),this)}static isStream(t){return!!t&&(t instanceof Jd||t instanceof xT||t instanceof W5&&(typeof t.pipe=="function"||typeof t.write=="function"&&typeof t.end=="function"))}};RT.exports=Jd});var NT=k((uNe,IT)=>{var J5=require("zlib").constants||{ZLIB_VERNUM:4736};IT.exports=Object.freeze(Object.assign(Object.create(null),{Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_VERSION_ERROR:-6,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,DEFLATE:1,INFLATE:2,GZIP:3,GUNZIP:4,DEFLATERAW:5,INFLATERAW:6,UNZIP:7,BROTLI_DECODE:8,BROTLI_ENCODE:9,Z_MIN_WINDOWBITS:8,Z_MAX_WINDOWBITS:15,Z_DEFAULT_WINDOWBITS:15,Z_MIN_CHUNK:64,Z_MAX_CHUNK:1/0,Z_DEFAULT_CHUNK:16384,Z_MIN_MEMLEVEL:1,Z_MAX_MEMLEVEL:9,Z_DEFAULT_MEMLEVEL:8,Z_MIN_LEVEL:-1,Z_MAX_LEVEL:9,Z_DEFAULT_LEVEL:-1,BROTLI_OPERATION_PROCESS:0,BROTLI_OPERATION_FLUSH:1,BROTLI_OPERATION_FINISH:2,BROTLI_OPERATION_EMIT_METADATA:3,BROTLI_MODE_GENERIC:0,BROTLI_MODE_TEXT:1,BROTLI_MODE_FONT:2,BROTLI_DEFAULT_MODE:0,BROTLI_MIN_QUALITY:0,BROTLI_MAX_QUALITY:11,BROTLI_DEFAULT_QUALITY:11,BROTLI_MIN_WINDOW_BITS:10,BROTLI_MAX_WINDOW_BITS:24,BROTLI_LARGE_MAX_WINDOW_BITS:30,BROTLI_DEFAULT_WINDOW:22,BROTLI_MIN_INPUT_BLOCK_BITS:16,BROTLI_MAX_INPUT_BLOCK_BITS:24,BROTLI_PARAM_MODE:0,BROTLI_PARAM_QUALITY:1,BROTLI_PARAM_LGWIN:2,BROTLI_PARAM_LGBLOCK:3,BROTLI_PARAM_DISABLE_LITERAL_CONTEXT_MODELING:4,BROTLI_PARAM_SIZE_HINT:5,BROTLI_PARAM_LARGE_WINDOW:6,BROTLI_PARAM_NPOSTFIX:7,BROTLI_PARAM_NDIRECT:8,BROTLI_DECODER_RESULT_ERROR:0,BROTLI_DECODER_RESULT_SUCCESS:1,BROTLI_DECODER_RESULT_NEEDS_MORE_INPUT:2,BROTLI_DECODER_RESULT_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_PARAM_DISABLE_RING_BUFFER_REALLOCATION:0,BROTLI_DECODER_PARAM_LARGE_WINDOW:1,BROTLI_DECODER_NO_ERROR:0,BROTLI_DECODER_SUCCESS:1,BROTLI_DECODER_NEEDS_MORE_INPUT:2,BROTLI_DECODER_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_NIBBLE:-1,BROTLI_DECODER_ERROR_FORMAT_RESERVED:-2,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_META_NIBBLE:-3,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_ALPHABET:-4,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_SAME:-5,BROTLI_DECODER_ERROR_FORMAT_CL_SPACE:-6,BROTLI_DECODER_ERROR_FORMAT_HUFFMAN_SPACE:-7,BROTLI_DECODER_ERROR_FORMAT_CONTEXT_MAP_REPEAT:-8,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_1:-9,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_2:-10,BROTLI_DECODER_ERROR_FORMAT_TRANSFORM:-11,BROTLI_DECODER_ERROR_FORMAT_DICTIONARY:-12,BROTLI_DECODER_ERROR_FORMAT_WINDOW_BITS:-13,BROTLI_DECODER_ERROR_FORMAT_PADDING_1:-14,BROTLI_DECODER_ERROR_FORMAT_PADDING_2:-15,BROTLI_DECODER_ERROR_FORMAT_DISTANCE:-16,BROTLI_DECODER_ERROR_DICTIONARY_NOT_SET:-19,BROTLI_DECODER_ERROR_INVALID_ARGUMENTS:-20,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MODES:-21,BROTLI_DECODER_ERROR_ALLOC_TREE_GROUPS:-22,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MAP:-25,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_1:-26,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_2:-27,BROTLI_DECODER_ERROR_ALLOC_BLOCK_TYPE_TREES:-30,BROTLI_DECODER_ERROR_UNREACHABLE:-31},J5))});var Uy=k((mNe,UT)=>{"use strict";var vT=typeof process=="object"&&process?process:{stdout:null,stderr:null},e8=require("events"),TT=require("stream"),DT=require("string_decoder").StringDecoder,Ar=Symbol("EOF"),kr=Symbol("maybeEmitEnd"),Ts=Symbol("emittedEnd"),xm=Symbol("emittingEnd"),el=Symbol("emittedError"),wm=Symbol("closed"),BT=Symbol("read"),Cm=Symbol("flush"),OT=Symbol("flushChunk"),Yt=Symbol("encoding"),Rr=Symbol("decoder"),bm=Symbol("flowing"),tl=Symbol("paused"),Nc=Symbol("resume"),gt=Symbol("bufferLength"),By=Symbol("bufferPush"),Oy=Symbol("bufferShift"),Nt=Symbol("objectMode"),vt=Symbol("destroyed"),Fy=Symbol("emitData"),FT=Symbol("emitEnd"),My=Symbol("emitEnd2"),Ir=Symbol("async"),nl=e=>Promise.resolve().then(e),MT=global._MP_NO_ITERATOR_SYMBOLS_!=="1",t8=MT&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),n8=MT&&Symbol.iterator||Symbol("iterator not implemented"),r8=e=>e==="end"||e==="finish"||e==="prefinish",s8=e=>e instanceof ArrayBuffer||typeof e=="object"&&e.constructor&&e.constructor.name==="ArrayBuffer"&&e.byteLength>=0,o8=e=>!Buffer.isBuffer(e)&&ArrayBuffer.isView(e),Pm=class{constructor(t,n,r){this.src=t,this.dest=n,this.opts=r,this.ondrain=()=>t[Nc](),n.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},Ly=class extends Pm{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(t,n,r){super(t,n,r),this.proxyErrors=s=>n.emit("error",s),t.on("error",this.proxyErrors)}};UT.exports=class LT extends TT{constructor(t){super(),this[bm]=!1,this[tl]=!1,this.pipes=[],this.buffer=[],this[Nt]=t&&t.objectMode||!1,this[Nt]?this[Yt]=null:this[Yt]=t&&t.encoding||null,this[Yt]==="buffer"&&(this[Yt]=null),this[Ir]=t&&!!t.async||!1,this[Rr]=this[Yt]?new DT(this[Yt]):null,this[Ar]=!1,this[Ts]=!1,this[xm]=!1,this[wm]=!1,this[el]=null,this.writable=!0,this.readable=!0,this[gt]=0,this[vt]=!1}get bufferLength(){return this[gt]}get encoding(){return this[Yt]}set encoding(t){if(this[Nt])throw new Error("cannot set encoding in objectMode");if(this[Yt]&&t!==this[Yt]&&(this[Rr]&&this[Rr].lastNeed||this[gt]))throw new Error("cannot change encoding");this[Yt]!==t&&(this[Rr]=t?new DT(t):null,this.buffer.length&&(this.buffer=this.buffer.map(n=>this[Rr].write(n)))),this[Yt]=t}setEncoding(t){this.encoding=t}get objectMode(){return this[Nt]}set objectMode(t){this[Nt]=this[Nt]||!!t}get async(){return this[Ir]}set async(t){this[Ir]=this[Ir]||!!t}write(t,n,r){if(this[Ar])throw new Error("write after end");if(this[vt])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof n=="function"&&(r=n,n="utf8"),n||(n="utf8");let s=this[Ir]?nl:o=>o();return!this[Nt]&&!Buffer.isBuffer(t)&&(o8(t)?t=Buffer.from(t.buffer,t.byteOffset,t.byteLength):s8(t)?t=Buffer.from(t):typeof t!="string"&&(this.objectMode=!0)),this[Nt]?(this.flowing&&this[gt]!==0&&this[Cm](!0),this.flowing?this.emit("data",t):this[By](t),this[gt]!==0&&this.emit("readable"),r&&s(r),this.flowing):t.length?(typeof t=="string"&&!(n===this[Yt]&&!this[Rr].lastNeed)&&(t=Buffer.from(t,n)),Buffer.isBuffer(t)&&this[Yt]&&(t=this[Rr].write(t)),this.flowing&&this[gt]!==0&&this[Cm](!0),this.flowing?this.emit("data",t):this[By](t),this[gt]!==0&&this.emit("readable"),r&&s(r),this.flowing):(this[gt]!==0&&this.emit("readable"),r&&s(r),this.flowing)}read(t){if(this[vt])return null;if(this[gt]===0||t===0||t>this[gt])return this[kr](),null;this[Nt]&&(t=null),this.buffer.length>1&&!this[Nt]&&(this.encoding?this.buffer=[this.buffer.join("")]:this.buffer=[Buffer.concat(this.buffer,this[gt])]);let n=this[BT](t||null,this.buffer[0]);return this[kr](),n}[BT](t,n){return t===n.length||t===null?this[Oy]():(this.buffer[0]=n.slice(t),n=n.slice(0,t),this[gt]-=t),this.emit("data",n),!this.buffer.length&&!this[Ar]&&this.emit("drain"),n}end(t,n,r){return typeof t=="function"&&(r=t,t=null),typeof n=="function"&&(r=n,n="utf8"),t&&this.write(t,n),r&&this.once("end",r),this[Ar]=!0,this.writable=!1,(this.flowing||!this[tl])&&this[kr](),this}[Nc](){this[vt]||(this[tl]=!1,this[bm]=!0,this.emit("resume"),this.buffer.length?this[Cm]():this[Ar]?this[kr]():this.emit("drain"))}resume(){return this[Nc]()}pause(){this[bm]=!1,this[tl]=!0}get destroyed(){return this[vt]}get flowing(){return this[bm]}get paused(){return this[tl]}[By](t){this[Nt]?this[gt]+=1:this[gt]+=t.length,this.buffer.push(t)}[Oy](){return this.buffer.length&&(this[Nt]?this[gt]-=1:this[gt]-=this.buffer[0].length),this.buffer.shift()}[Cm](t){do;while(this[OT](this[Oy]()));!t&&!this.buffer.length&&!this[Ar]&&this.emit("drain")}[OT](t){return t?(this.emit("data",t),this.flowing):!1}pipe(t,n){if(this[vt])return;let r=this[Ts];return n=n||{},t===vT.stdout||t===vT.stderr?n.end=!1:n.end=n.end!==!1,n.proxyErrors=!!n.proxyErrors,r?n.end&&t.end():(this.pipes.push(n.proxyErrors?new Ly(this,t,n):new Pm(this,t,n)),this[Ir]?nl(()=>this[Nc]()):this[Nc]()),t}unpipe(t){let n=this.pipes.find(r=>r.dest===t);n&&(this.pipes.splice(this.pipes.indexOf(n),1),n.unpipe())}addListener(t,n){return this.on(t,n)}on(t,n){let r=super.on(t,n);return t==="data"&&!this.pipes.length&&!this.flowing?this[Nc]():t==="readable"&&this[gt]!==0?super.emit("readable"):r8(t)&&this[Ts]?(super.emit(t),this.removeAllListeners(t)):t==="error"&&this[el]&&(this[Ir]?nl(()=>n.call(this,this[el])):n.call(this,this[el])),r}get emittedEnd(){return this[Ts]}[kr](){!this[xm]&&!this[Ts]&&!this[vt]&&this.buffer.length===0&&this[Ar]&&(this[xm]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[wm]&&this.emit("close"),this[xm]=!1)}emit(t,n,...r){if(t!=="error"&&t!=="close"&&t!==vt&&this[vt])return;if(t==="data")return n?this[Ir]?nl(()=>this[Fy](n)):this[Fy](n):!1;if(t==="end")return this[FT]();if(t==="close"){if(this[wm]=!0,!this[Ts]&&!this[vt])return;let o=super.emit("close");return this.removeAllListeners("close"),o}else if(t==="error"){this[el]=n;let o=super.emit("error",n);return this[kr](),o}else if(t==="resume"){let o=super.emit("resume");return this[kr](),o}else if(t==="finish"||t==="prefinish"){let o=super.emit(t);return this.removeAllListeners(t),o}let s=super.emit(t,n,...r);return this[kr](),s}[Fy](t){for(let r of this.pipes)r.dest.write(t)===!1&&this.pause();let n=super.emit("data",t);return this[kr](),n}[FT](){this[Ts]||(this[Ts]=!0,this.readable=!1,this[Ir]?nl(()=>this[My]()):this[My]())}[My](){if(this[Rr]){let n=this[Rr].end();if(n){for(let r of this.pipes)r.dest.write(n);super.emit("data",n)}}for(let n of this.pipes)n.end();let t=super.emit("end");return this.removeAllListeners("end"),t}collect(){let t=[];this[Nt]||(t.dataLength=0);let n=this.promise();return this.on("data",r=>{t.push(r),this[Nt]||(t.dataLength+=r.length)}),n.then(()=>t)}concat(){return this[Nt]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(t=>this[Nt]?Promise.reject(new Error("cannot concat in objectMode")):this[Yt]?t.join(""):Buffer.concat(t,t.dataLength))}promise(){return new Promise((t,n)=>{this.on(vt,()=>n(new Error("stream destroyed"))),this.on("error",r=>n(r)),this.on("end",()=>t())})}[t8](){return{next:()=>{let n=this.read();if(n!==null)return Promise.resolve({done:!1,value:n});if(this[Ar])return Promise.resolve({done:!0});let r=null,s=null,o=d=>{this.removeListener("data",a),this.removeListener("end",i),s(d)},a=d=>{this.removeListener("error",o),this.removeListener("end",i),this.pause(),r({value:d,done:!!this[Ar]})},i=()=>{this.removeListener("error",o),this.removeListener("data",a),r({done:!0})},l=()=>o(new Error("stream destroyed"));return new Promise((d,c)=>{s=c,r=d,this.once(vt,l),this.once("error",o),this.once("end",i),this.once("data",a)})}}}[n8](){return{next:()=>{let n=this.read();return{value:n,done:n===null}}}}destroy(t){return this[vt]?(t?this.emit("error",t):this.emit(vt),this):(this[vt]=!0,this.buffer.length=0,this[gt]=0,typeof this.close=="function"&&!this[wm]&&this.close(),t?this.emit("error",t):this.emit(vt),this)}static isStream(t){return!!t&&(t instanceof LT||t instanceof TT||t instanceof e8&&(typeof t.pipe=="function"||typeof t.write=="function"&&typeof t.end=="function"))}}});var tg=k(tn=>{"use strict";var jy=require("assert"),Ds=require("buffer").Buffer,$T=require("zlib"),po=tn.constants=NT(),i8=Uy(),zT=Ds.concat,yo=Symbol("_superWrite"),Tc=class extends Error{constructor(t){super("zlib: "+t.message),this.code=t.code,this.errno=t.errno,this.code||(this.code="ZLIB_ERROR"),this.message="zlib: "+t.message,Error.captureStackTrace(this,this.constructor)}get name(){return"ZlibError"}},a8=Symbol("opts"),rl=Symbol("flushFlag"),qT=Symbol("finishFlushFlag"),eg=Symbol("fullFlushFlag"),$e=Symbol("handle"),_m=Symbol("onError"),vc=Symbol("sawError"),zy=Symbol("level"),qy=Symbol("strategy"),$y=Symbol("ended"),fNe=Symbol("_defaultFullFlush"),Am=class extends i8{constructor(t,n){if(!t||typeof t!="object")throw new TypeError("invalid options for ZlibBase constructor");super(t),this[vc]=!1,this[$y]=!1,this[a8]=t,this[rl]=t.flush,this[qT]=t.finishFlush;try{this[$e]=new $T[n](t)}catch(r){throw new Tc(r)}this[_m]=r=>{this[vc]||(this[vc]=!0,this.close(),this.emit("error",r))},this[$e].on("error",r=>this[_m](new Tc(r))),this.once("end",()=>this.close)}close(){this[$e]&&(this[$e].close(),this[$e]=null,this.emit("close"))}reset(){if(!this[vc])return jy(this[$e],"zlib binding closed"),this[$e].reset()}flush(t){this.ended||(typeof t!="number"&&(t=this[eg]),this.write(Object.assign(Ds.alloc(0),{[rl]:t})))}end(t,n,r){return t&&this.write(t,n),this.flush(this[qT]),this[$y]=!0,super.end(null,null,r)}get ended(){return this[$y]}write(t,n,r){if(typeof n=="function"&&(r=n,n="utf8"),typeof t=="string"&&(t=Ds.from(t,n)),this[vc])return;jy(this[$e],"zlib binding closed");let s=this[$e]._handle,o=s.close;s.close=()=>{};let a=this[$e].close;this[$e].close=()=>{},Ds.concat=d=>d;let i;try{let d=typeof t[rl]=="number"?t[rl]:this[rl];i=this[$e]._processChunk(t,d),Ds.concat=zT}catch(d){Ds.concat=zT,this[_m](new Tc(d))}finally{this[$e]&&(this[$e]._handle=s,s.close=o,this[$e].close=a,this[$e].removeAllListeners("error"))}this[$e]&&this[$e].on("error",d=>this[_m](new Tc(d)));let l;if(i)if(Array.isArray(i)&&i.length>0){l=this[yo](Ds.from(i[0]));for(let d=1;d<i.length;d++)l=this[yo](i[d])}else l=this[yo](Ds.from(i));return r&&r(),l}[yo](t){return super.write(t)}},Nr=class extends Am{constructor(t,n){t=t||{},t.flush=t.flush||po.Z_NO_FLUSH,t.finishFlush=t.finishFlush||po.Z_FINISH,super(t,n),this[eg]=po.Z_FULL_FLUSH,this[zy]=t.level,this[qy]=t.strategy}params(t,n){if(!this[vc]){if(!this[$e])throw new Error("cannot switch params when binding is closed");if(!this[$e].params)throw new Error("not supported in this implementation");if(this[zy]!==t||this[qy]!==n){this.flush(po.Z_SYNC_FLUSH),jy(this[$e],"zlib binding closed");let r=this[$e].flush;this[$e].flush=(s,o)=>{this.flush(s),o()};try{this[$e].params(t,n)}finally{this[$e].flush=r}this[$e]&&(this[zy]=t,this[qy]=n)}}}},Hy=class extends Nr{constructor(t){super(t,"Deflate")}},Ky=class extends Nr{constructor(t){super(t,"Inflate")}},Gy=Symbol("_portable"),Vy=class extends Nr{constructor(t){super(t,"Gzip"),this[Gy]=t&&!!t.portable}[yo](t){return this[Gy]?(this[Gy]=!1,t[9]=255,super[yo](t)):super[yo](t)}},Wy=class extends Nr{constructor(t){super(t,"Gunzip")}},Yy=class extends Nr{constructor(t){super(t,"DeflateRaw")}},Xy=class extends Nr{constructor(t){super(t,"InflateRaw")}},Qy=class extends Nr{constructor(t){super(t,"Unzip")}},km=class extends Am{constructor(t,n){t=t||{},t.flush=t.flush||po.BROTLI_OPERATION_PROCESS,t.finishFlush=t.finishFlush||po.BROTLI_OPERATION_FINISH,super(t,n),this[eg]=po.BROTLI_OPERATION_FLUSH}},Zy=class extends km{constructor(t){super(t,"BrotliCompress")}},Jy=class extends km{constructor(t){super(t,"BrotliDecompress")}};tn.Deflate=Hy;tn.Inflate=Ky;tn.Gzip=Vy;tn.Gunzip=Wy;tn.DeflateRaw=Yy;tn.InflateRaw=Xy;tn.Unzip=Qy;typeof $T.BrotliCompress=="function"?(tn.BrotliCompress=Zy,tn.BrotliDecompress=Jy):tn.BrotliCompress=tn.BrotliDecompress=class{constructor(){throw new Error("Brotli is not supported in this version of Node.js")}}});var Dc=k((yNe,GT)=>{var c8=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform;GT.exports=c8!=="win32"?e=>e:e=>e&&e.replace(/\\/g,"/")});var Rm=k((ENe,jT)=>{"use strict";var d8=Sm(),ng=Dc(),rg=Symbol("slurp");jT.exports=class extends d8{constructor(t,n,r){switch(super(),this.pause(),this.extended=n,this.globalExtended=r,this.header=t,this.startBlockSize=512*Math.ceil(t.size/512),this.blockRemain=this.startBlockSize,this.remain=t.size,this.type=t.type,this.meta=!1,this.ignore=!1,this.type){case"File":case"OldFile":case"Link":case"SymbolicLink":case"CharacterDevice":case"BlockDevice":case"Directory":case"FIFO":case"ContiguousFile":case"GNUDumpDir":break;case"NextFileHasLongLinkpath":case"NextFileHasLongPath":case"OldGnuLongPath":case"GlobalExtendedHeader":case"ExtendedHeader":case"OldExtendedHeader":this.meta=!0;break;default:this.ignore=!0}this.path=ng(t.path),this.mode=t.mode,this.mode&&(this.mode=this.mode&4095),this.uid=t.uid,this.gid=t.gid,this.uname=t.uname,this.gname=t.gname,this.size=t.size,this.mtime=t.mtime,this.atime=t.atime,this.ctime=t.ctime,this.linkpath=ng(t.linkpath),this.uname=t.uname,this.gname=t.gname,n&&this[rg](n),r&&this[rg](r,!0)}write(t){let n=t.length;if(n>this.blockRemain)throw new Error("writing more to entry than is appropriate");let r=this.remain,s=this.blockRemain;return this.remain=Math.max(0,r-n),this.blockRemain=Math.max(0,s-n),this.ignore?!0:r>=n?super.write(t):super.write(t.slice(0,r))}[rg](t,n){for(let r in t)t[r]!==null&&t[r]!==void 0&&!(n&&r==="path")&&(this[r]=r==="path"||r==="linkpath"?ng(t[r]):t[r])}}});var sg=k(Im=>{"use strict";Im.name=new Map([["0","File"],["","OldFile"],["1","Link"],["2","SymbolicLink"],["3","CharacterDevice"],["4","BlockDevice"],["5","Directory"],["6","FIFO"],["7","ContiguousFile"],["g","GlobalExtendedHeader"],["x","ExtendedHeader"],["A","SolarisACL"],["D","GNUDumpDir"],["I","Inode"],["K","NextFileHasLongLinkpath"],["L","NextFileHasLongPath"],["M","ContinuationFile"],["N","OldGnuLongPath"],["S","SparseFile"],["V","TapeVolumeHeader"],["X","OldExtendedHeader"]]);Im.code=new Map(Array.from(Im.name).map(e=>[e[1],e[0]]))});var WT=k((xNe,VT)=>{"use strict";var l8=(e,t)=>{if(Number.isSafeInteger(e))e<0?m8(e,t):u8(e,t);else throw Error("cannot encode number outside of javascript safe integer range");return t},u8=(e,t)=>{t[0]=128;for(var n=t.length;n>1;n--)t[n-1]=e&255,e=Math.floor(e/256)},m8=(e,t)=>{t[0]=255;var n=!1;e=e*-1;for(var r=t.length;r>1;r--){var s=e&255;e=Math.floor(e/256),n?t[r-1]=HT(s):s===0?t[r-1]=0:(n=!0,t[r-1]=KT(s))}},f8=e=>{let t=e[0],n=t===128?p8(e.slice(1,e.length)):t===255?h8(e):null;if(n===null)throw Error("invalid base256 encoding");if(!Number.isSafeInteger(n))throw Error("parsed number outside of javascript safe integer range");return n},h8=e=>{for(var t=e.length,n=0,r=!1,s=t-1;s>-1;s--){var o=e[s],a;r?a=HT(o):o===0?a=o:(r=!0,a=KT(o)),a!==0&&(n-=a*Math.pow(256,t-s-1))}return n},p8=e=>{for(var t=e.length,n=0,r=t-1;r>-1;r--){var s=e[r];s!==0&&(n+=s*Math.pow(256,t-r-1))}return n},HT=e=>(255^e)&255,KT=e=>(255^e)+1&255;VT.exports={encode:l8,parse:f8}});var Oc=k((wNe,XT)=>{"use strict";var og=sg(),Bc=require("path").posix,YT=WT(),ig=Symbol("slurp"),nn=Symbol("type"),dg=class{constructor(t,n,r,s){this.cksumValid=!1,this.needPax=!1,this.nullBlock=!1,this.block=null,this.path=null,this.mode=null,this.uid=null,this.gid=null,this.size=null,this.mtime=null,this.cksum=null,this[nn]="0",this.linkpath=null,this.uname=null,this.gname=null,this.devmaj=0,this.devmin=0,this.atime=null,this.ctime=null,Buffer.isBuffer(t)?this.decode(t,n||0,r,s):t&&this.set(t)}decode(t,n,r,s){if(n||(n=0),!t||!(t.length>=n+512))throw new Error("need 512 bytes for header");if(this.path=go(t,n,100),this.mode=Bs(t,n+100,8),this.uid=Bs(t,n+108,8),this.gid=Bs(t,n+116,8),this.size=Bs(t,n+124,12),this.mtime=ag(t,n+136,12),this.cksum=Bs(t,n+148,12),this[ig](r),this[ig](s,!0),this[nn]=go(t,n+156,1),this[nn]===""&&(this[nn]="0"),this[nn]==="0"&&this.path.slice(-1)==="/"&&(this[nn]="5"),this[nn]==="5"&&(this.size=0),this.linkpath=go(t,n+157,100),t.slice(n+257,n+265).toString()==="ustar\x0000")if(this.uname=go(t,n+265,32),this.gname=go(t,n+297,32),this.devmaj=Bs(t,n+329,8),this.devmin=Bs(t,n+337,8),t[n+475]!==0){let a=go(t,n+345,155);this.path=a+"/"+this.path}else{let a=go(t,n+345,130);a&&(this.path=a+"/"+this.path),this.atime=ag(t,n+476,12),this.ctime=ag(t,n+488,12)}let o=8*32;for(let a=n;a<n+148;a++)o+=t[a];for(let a=n+156;a<n+512;a++)o+=t[a];this.cksumValid=o===this.cksum,this.cksum===null&&o===8*32&&(this.nullBlock=!0)}[ig](t,n){for(let r in t)t[r]!==null&&t[r]!==void 0&&!(n&&r==="path")&&(this[r]=t[r])}encode(t,n){if(t||(t=this.block=Buffer.alloc(512),n=0),n||(n=0),!(t.length>=n+512))throw new Error("need 512 bytes for header");let r=this.ctime||this.atime?130:155,s=y8(this.path||"",r),o=s[0],a=s[1];this.needPax=s[2],this.needPax=Eo(t,n,100,o)||this.needPax,this.needPax=Os(t,n+100,8,this.mode)||this.needPax,this.needPax=Os(t,n+108,8,this.uid)||this.needPax,this.needPax=Os(t,n+116,8,this.gid)||this.needPax,this.needPax=Os(t,n+124,12,this.size)||this.needPax,this.needPax=cg(t,n+136,12,this.mtime)||this.needPax,t[n+156]=this[nn].charCodeAt(0),this.needPax=Eo(t,n+157,100,this.linkpath)||this.needPax,t.write("ustar\x0000",n+257,8),this.needPax=Eo(t,n+265,32,this.uname)||this.needPax,this.needPax=Eo(t,n+297,32,this.gname)||this.needPax,this.needPax=Os(t,n+329,8,this.devmaj)||this.needPax,this.needPax=Os(t,n+337,8,this.devmin)||this.needPax,this.needPax=Eo(t,n+345,r,a)||this.needPax,t[n+475]!==0?this.needPax=Eo(t,n+345,155,a)||this.needPax:(this.needPax=Eo(t,n+345,130,a)||this.needPax,this.needPax=cg(t,n+476,12,this.atime)||this.needPax,this.needPax=cg(t,n+488,12,this.ctime)||this.needPax);let i=8*32;for(let l=n;l<n+148;l++)i+=t[l];for(let l=n+156;l<n+512;l++)i+=t[l];return this.cksum=i,Os(t,n+148,8,this.cksum),this.cksumValid=!0,this.needPax}set(t){for(let n in t)t[n]!==null&&t[n]!==void 0&&(this[n]=t[n])}get type(){return og.name.get(this[nn])||this[nn]}get typeKey(){return this[nn]}set type(t){og.code.has(t)?this[nn]=og.code.get(t):this[nn]=t}},y8=(e,t)=>{let r=e,s="",o,a=Bc.parse(e).root||".";if(Buffer.byteLength(r)<100)o=[r,s,!1];else{s=Bc.dirname(r),r=Bc.basename(r);do Buffer.byteLength(r)<=100&&Buffer.byteLength(s)<=t?o=[r,s,!1]:Buffer.byteLength(r)>100&&Buffer.byteLength(s)<=t?o=[r.slice(0,100-1),s,!0]:(r=Bc.join(Bc.basename(s),r),s=Bc.dirname(s));while(s!==a&&!o);o||(o=[e.slice(0,100-1),"",!0])}return o},go=(e,t,n)=>e.slice(t,t+n).toString("utf8").replace(/\0.*/,""),ag=(e,t,n)=>g8(Bs(e,t,n)),g8=e=>e===null?null:new Date(e*1e3),Bs=(e,t,n)=>e[t]&128?YT.parse(e.slice(t,t+n)):S8(e,t,n),E8=e=>isNaN(e)?null:e,S8=(e,t,n)=>E8(parseInt(e.slice(t,t+n).toString("utf8").replace(/\0.*$/,"").trim(),8)),x8={12:8589934591,8:2097151},Os=(e,t,n,r)=>r===null?!1:r>x8[n]||r<0?(YT.encode(r,e.slice(t,t+n)),!0):(w8(e,t,n,r),!1),w8=(e,t,n,r)=>e.write(C8(r,n),t,n,"ascii"),C8=(e,t)=>b8(Math.floor(e).toString(8),t),b8=(e,t)=>(e.length===t-1?e:new Array(t-e.length-1).join("0")+e+" ")+"\0",cg=(e,t,n,r)=>r===null?!1:Os(e,t,n,r.getTime()/1e3),P8=new Array(156).join("\0"),Eo=(e,t,n,r)=>r===null?!1:(e.write(r+P8,t,n,"utf8"),r.length!==Buffer.byteLength(r)||r.length>n);XT.exports=dg});var Nm=k((CNe,QT)=>{"use strict";var _8=Oc(),A8=require("path"),sl=class{constructor(t,n){this.atime=t.atime||null,this.charset=t.charset||null,this.comment=t.comment||null,this.ctime=t.ctime||null,this.gid=t.gid||null,this.gname=t.gname||null,this.linkpath=t.linkpath||null,this.mtime=t.mtime||null,this.path=t.path||null,this.size=t.size||null,this.uid=t.uid||null,this.uname=t.uname||null,this.dev=t.dev||null,this.ino=t.ino||null,this.nlink=t.nlink||null,this.global=n||!1}encode(){let t=this.encodeBody();if(t==="")return null;let n=Buffer.byteLength(t),r=512*Math.ceil(1+n/512),s=Buffer.allocUnsafe(r);for(let o=0;o<512;o++)s[o]=0;new _8({path:("PaxHeader/"+A8.basename(this.path)).slice(0,99),mode:this.mode||420,uid:this.uid||null,gid:this.gid||null,size:n,mtime:this.mtime||null,type:this.global?"GlobalExtendedHeader":"ExtendedHeader",linkpath:"",uname:this.uname||"",gname:this.gname||"",devmaj:0,devmin:0,atime:this.atime||null,ctime:this.ctime||null}).encode(s),s.write(t,512,n,"utf8");for(let o=n+512;o<s.length;o++)s[o]=0;return s}encodeBody(){return this.encodeField("path")+this.encodeField("ctime")+this.encodeField("atime")+this.encodeField("dev")+this.encodeField("ino")+this.encodeField("nlink")+this.encodeField("charset")+this.encodeField("comment")+this.encodeField("gid")+this.encodeField("gname")+this.encodeField("linkpath")+this.encodeField("mtime")+this.encodeField("size")+this.encodeField("uid")+this.encodeField("uname")}encodeField(t){if(this[t]===null||this[t]===void 0)return"";let n=this[t]instanceof Date?this[t].getTime()/1e3:this[t],r=" "+(t==="dev"||t==="ino"||t==="nlink"?"SCHILY.":"")+t+"="+n+`
`,s=Buffer.byteLength(r),o=Math.floor(Math.log(s)/Math.log(10))+1;return s+o>=Math.pow(10,o)&&(o+=1),o+s+r}};sl.parse=(e,t,n)=>new sl(k8(R8(e),t),n);var k8=(e,t)=>t?Object.keys(e).reduce((n,r)=>(n[r]=e[r],n),t):e,R8=e=>e.replace(/\n$/,"").split(`
`).reduce(I8,Object.create(null)),I8=(e,t)=>{let n=parseInt(t,10);if(n!==Buffer.byteLength(t)+1)return e;t=t.slice((n+" ").length);let r=t.split("="),s=r.shift().replace(/^SCHILY\.(dev|ino|nlink)/,"$1");if(!s)return e;let o=r.join("=");return e[s]=/^([A-Z]+\.)?([mac]|birth|creation)time$/.test(s)?new Date(o*1e3):/^[0-9]+$/.test(o)?+o:o,e};QT.exports=sl});var Fc=k((bNe,ZT)=>{ZT.exports=e=>{let t=e.length-1,n=-1;for(;t>-1&&e.charAt(t)==="/";)n=t,t--;return n===-1?e:e.slice(0,n)}});var vm=k((PNe,JT)=>{"use strict";JT.exports=e=>class extends e{warn(t,n,r={}){this.file&&(r.file=this.file),this.cwd&&(r.cwd=this.cwd),r.code=n instanceof Error&&n.code||t,r.tarCode=t,!this.strict&&r.recoverable!==!1?(n instanceof Error&&(r=Object.assign(n,r),n=n.message),this.emit("warn",r.tarCode,n,r)):n instanceof Error?this.emit("error",Object.assign(n,r)):this.emit("error",Object.assign(new Error(`${t}: ${n}`),r))}}});var ug=k((ANe,eD)=>{"use strict";var Tm=["|","<",">","?",":"],lg=Tm.map(e=>String.fromCharCode(61440+e.charCodeAt(0))),N8=new Map(Tm.map((e,t)=>[e,lg[t]])),v8=new Map(lg.map((e,t)=>[e,Tm[t]]));eD.exports={encode:e=>Tm.reduce((t,n)=>t.split(n).join(N8.get(n)),e),decode:e=>lg.reduce((t,n)=>t.split(n).join(v8.get(n)),e)}});var mg=k((kNe,nD)=>{var{isAbsolute:T8,parse:tD}=require("path").win32;nD.exports=e=>{let t="",n=tD(e);for(;T8(e)||n.root;){let r=e.charAt(0)==="/"&&e.slice(0,4)!=="//?/"?"/":n.root;e=e.slice(r.length),t+=r,n=tD(e)}return[t,e]}});var sD=k((RNe,rD)=>{"use strict";rD.exports=(e,t,n)=>(e&=4095,n&&(e=(e|384)&-19),t&&(e&256&&(e|=64),e&32&&(e|=8),e&4&&(e|=1)),e)});var Cg=k((vNe,ED)=>{"use strict";var uD=Sm(),mD=Nm(),fD=Oc(),er=require("fs"),oD=require("path"),Jn=Dc(),D8=Fc(),hD=(e,t)=>t?(e=Jn(e).replace(/^\.(\/|$)/,""),D8(t)+"/"+e):Jn(e),B8=16*1024*1024,iD=Symbol("process"),aD=Symbol("file"),cD=Symbol("directory"),hg=Symbol("symlink"),dD=Symbol("hardlink"),ol=Symbol("header"),Dm=Symbol("read"),pg=Symbol("lstat"),Bm=Symbol("onlstat"),yg=Symbol("onread"),gg=Symbol("onreadlink"),Eg=Symbol("openfile"),Sg=Symbol("onopenfile"),Fs=Symbol("close"),Om=Symbol("mode"),xg=Symbol("awaitDrain"),fg=Symbol("ondrain"),tr=Symbol("prefix"),lD=Symbol("hadError"),pD=vm(),O8=ug(),yD=mg(),gD=sD(),Fm=pD(class extends uD{constructor(t,n){if(n=n||{},super(n),typeof t!="string")throw new TypeError("path is required");this.path=Jn(t),this.portable=!!n.portable,this.myuid=process.getuid&&process.getuid()||0,this.myuser=process.env.USER||"",this.maxReadSize=n.maxReadSize||B8,this.linkCache=n.linkCache||new Map,this.statCache=n.statCache||new Map,this.preservePaths=!!n.preservePaths,this.cwd=Jn(n.cwd||process.cwd()),this.strict=!!n.strict,this.noPax=!!n.noPax,this.noMtime=!!n.noMtime,this.mtime=n.mtime||null,this.prefix=n.prefix?Jn(n.prefix):null,this.fd=null,this.blockLen=null,this.blockRemain=null,this.buf=null,this.offset=null,this.length=null,this.pos=null,this.remain=null,typeof n.onwarn=="function"&&this.on("warn",n.onwarn);let r=!1;if(!this.preservePaths){let[s,o]=yD(this.path);s&&(this.path=o,r=s)}this.win32=!!n.win32||process.platform==="win32",this.win32&&(this.path=O8.decode(this.path.replace(/\\/g,"/")),t=t.replace(/\\/g,"/")),this.absolute=Jn(n.absolute||oD.resolve(this.cwd,t)),this.path===""&&(this.path="./"),r&&this.warn("TAR_ENTRY_INFO",`stripping ${r} from absolute path`,{entry:this,path:r+this.path}),this.statCache.has(this.absolute)?this[Bm](this.statCache.get(this.absolute)):this[pg]()}emit(t,...n){return t==="error"&&(this[lD]=!0),super.emit(t,...n)}[pg](){er.lstat(this.absolute,(t,n)=>{if(t)return this.emit("error",t);this[Bm](n)})}[Bm](t){this.statCache.set(this.absolute,t),this.stat=t,t.isFile()||(t.size=0),this.type=M8(t),this.emit("stat",t),this[iD]()}[iD](){switch(this.type){case"File":return this[aD]();case"Directory":return this[cD]();case"SymbolicLink":return this[hg]();default:return this.end()}}[Om](t){return gD(t,this.type==="Directory",this.portable)}[tr](t){return hD(t,this.prefix)}[ol](){this.type==="Directory"&&this.portable&&(this.noMtime=!0),this.header=new fD({path:this[tr](this.path),linkpath:this.type==="Link"?this[tr](this.linkpath):this.linkpath,mode:this[Om](this.stat.mode),uid:this.portable?null:this.stat.uid,gid:this.portable?null:this.stat.gid,size:this.stat.size,mtime:this.noMtime?null:this.mtime||this.stat.mtime,type:this.type,uname:this.portable?null:this.stat.uid===this.myuid?this.myuser:"",atime:this.portable?null:this.stat.atime,ctime:this.portable?null:this.stat.ctime}),this.header.encode()&&!this.noPax&&super.write(new mD({atime:this.portable?null:this.header.atime,ctime:this.portable?null:this.header.ctime,gid:this.portable?null:this.header.gid,mtime:this.noMtime?null:this.mtime||this.header.mtime,path:this[tr](this.path),linkpath:this.type==="Link"?this[tr](this.linkpath):this.linkpath,size:this.header.size,uid:this.portable?null:this.header.uid,uname:this.portable?null:this.header.uname,dev:this.portable?null:this.stat.dev,ino:this.portable?null:this.stat.ino,nlink:this.portable?null:this.stat.nlink}).encode()),super.write(this.header.block)}[cD](){this.path.slice(-1)!=="/"&&(this.path+="/"),this.stat.size=0,this[ol](),this.end()}[hg](){er.readlink(this.absolute,(t,n)=>{if(t)return this.emit("error",t);this[gg](n)})}[gg](t){this.linkpath=Jn(t),this[ol](),this.end()}[dD](t){this.type="Link",this.linkpath=Jn(oD.relative(this.cwd,t)),this.stat.size=0,this[ol](),this.end()}[aD](){if(this.stat.nlink>1){let t=this.stat.dev+":"+this.stat.ino;if(this.linkCache.has(t)){let n=this.linkCache.get(t);if(n.indexOf(this.cwd)===0)return this[dD](n)}this.linkCache.set(t,this.absolute)}if(this[ol](),this.stat.size===0)return this.end();this[Eg]()}[Eg](){er.open(this.absolute,"r",(t,n)=>{if(t)return this.emit("error",t);this[Sg](n)})}[Sg](t){if(this.fd=t,this[lD])return this[Fs]();this.blockLen=512*Math.ceil(this.stat.size/512),this.blockRemain=this.blockLen;let n=Math.min(this.blockLen,this.maxReadSize);this.buf=Buffer.allocUnsafe(n),this.offset=0,this.pos=0,this.remain=this.stat.size,this.length=this.buf.length,this[Dm]()}[Dm](){let{fd:t,buf:n,offset:r,length:s,pos:o}=this;er.read(t,n,r,s,o,(a,i)=>{if(a)return this[Fs](()=>this.emit("error",a));this[yg](i)})}[Fs](t){er.close(this.fd,t)}[yg](t){if(t<=0&&this.remain>0){let s=new Error("encountered unexpected EOF");return s.path=this.absolute,s.syscall="read",s.code="EOF",this[Fs](()=>this.emit("error",s))}if(t>this.remain){let s=new Error("did not encounter expected EOF");return s.path=this.absolute,s.syscall="read",s.code="EOF",this[Fs](()=>this.emit("error",s))}if(t===this.remain)for(let s=t;s<this.length&&t<this.blockRemain;s++)this.buf[s+this.offset]=0,t++,this.remain++;let n=this.offset===0&&t===this.buf.length?this.buf:this.buf.slice(this.offset,this.offset+t);this.write(n)?this[fg]():this[xg](()=>this[fg]())}[xg](t){this.once("drain",t)}write(t){if(this.blockRemain<t.length){let n=new Error("writing more data than expected");return n.path=this.absolute,this.emit("error",n)}return this.remain-=t.length,this.blockRemain-=t.length,this.pos+=t.length,this.offset+=t.length,super.write(t)}[fg](){if(!this.remain)return this.blockRemain&&super.write(Buffer.alloc(this.blockRemain)),this[Fs](t=>t?this.emit("error",t):this.end());this.offset>=this.length&&(this.buf=Buffer.allocUnsafe(Math.min(this.blockRemain,this.buf.length)),this.offset=0),this.length=this.buf.length-this.offset,this[Dm]()}}),wg=class extends Fm{[pg](){this[Bm](er.lstatSync(this.absolute))}[hg](){this[gg](er.readlinkSync(this.absolute))}[Eg](){this[Sg](er.openSync(this.absolute,"r"))}[Dm](){let t=!0;try{let{fd:n,buf:r,offset:s,length:o,pos:a}=this,i=er.readSync(n,r,s,o,a);this[yg](i),t=!1}finally{if(t)try{this[Fs](()=>{})}catch{}}}[xg](t){t()}[Fs](t){er.closeSync(this.fd),t()}},F8=pD(class extends uD{constructor(t,n){n=n||{},super(n),this.preservePaths=!!n.preservePaths,this.portable=!!n.portable,this.strict=!!n.strict,this.noPax=!!n.noPax,this.noMtime=!!n.noMtime,this.readEntry=t,this.type=t.type,this.type==="Directory"&&this.portable&&(this.noMtime=!0),this.prefix=n.prefix||null,this.path=Jn(t.path),this.mode=this[Om](t.mode),this.uid=this.portable?null:t.uid,this.gid=this.portable?null:t.gid,this.uname=this.portable?null:t.uname,this.gname=this.portable?null:t.gname,this.size=t.size,this.mtime=this.noMtime?null:n.mtime||t.mtime,this.atime=this.portable?null:t.atime,this.ctime=this.portable?null:t.ctime,this.linkpath=Jn(t.linkpath),typeof n.onwarn=="function"&&this.on("warn",n.onwarn);let r=!1;if(!this.preservePaths){let[s,o]=yD(this.path);s&&(this.path=o,r=s)}this.remain=t.size,this.blockRemain=t.startBlockSize,this.header=new fD({path:this[tr](this.path),linkpath:this.type==="Link"?this[tr](this.linkpath):this.linkpath,mode:this.mode,uid:this.portable?null:this.uid,gid:this.portable?null:this.gid,size:this.size,mtime:this.noMtime?null:this.mtime,type:this.type,uname:this.portable?null:this.uname,atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime}),r&&this.warn("TAR_ENTRY_INFO",`stripping ${r} from absolute path`,{entry:this,path:r+this.path}),this.header.encode()&&!this.noPax&&super.write(new mD({atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime,gid:this.portable?null:this.gid,mtime:this.noMtime?null:this.mtime,path:this[tr](this.path),linkpath:this.type==="Link"?this[tr](this.linkpath):this.linkpath,size:this.size,uid:this.portable?null:this.uid,uname:this.portable?null:this.uname,dev:this.portable?null:this.readEntry.dev,ino:this.portable?null:this.readEntry.ino,nlink:this.portable?null:this.readEntry.nlink}).encode()),super.write(this.header.block),t.pipe(this)}[tr](t){return hD(t,this.prefix)}[Om](t){return gD(t,this.type==="Directory",this.portable)}write(t){let n=t.length;if(n>this.blockRemain)throw new Error("writing more to entry than is appropriate");return this.blockRemain-=n,super.write(t)}end(){return this.blockRemain&&super.write(Buffer.alloc(this.blockRemain)),super.end()}});Fm.Sync=wg;Fm.Tar=F8;var M8=e=>e.isFile()?"File":e.isDirectory()?"Directory":e.isSymbolicLink()?"SymbolicLink":"Unsupported";ED.exports=Fm});var xD=k((TNe,SD)=>{"use strict";SD.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}});var bg=k((DNe,wD)=>{"use strict";wD.exports=ve;ve.Node=So;ve.create=ve;function ve(e){var t=this;if(t instanceof ve||(t=new ve),t.tail=null,t.head=null,t.length=0,e&&typeof e.forEach=="function")e.forEach(function(s){t.push(s)});else if(arguments.length>0)for(var n=0,r=arguments.length;n<r;n++)t.push(arguments[n]);return t}ve.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t};ve.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}};ve.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}};ve.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)U8(this,arguments[e]);return this.length};ve.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)z8(this,arguments[e]);return this.length};ve.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}};ve.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}};ve.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,r=0;n!==null;r++)e.call(t,n.value,r,this),n=n.next};ve.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,r=this.length-1;n!==null;r--)e.call(t,n.value,r,this),n=n.prev};ve.prototype.get=function(e){for(var t=0,n=this.head;n!==null&&t<e;t++)n=n.next;if(t===e&&n!==null)return n.value};ve.prototype.getReverse=function(e){for(var t=0,n=this.tail;n!==null&&t<e;t++)n=n.prev;if(t===e&&n!==null)return n.value};ve.prototype.map=function(e,t){t=t||this;for(var n=new ve,r=this.head;r!==null;)n.push(e.call(t,r.value,this)),r=r.next;return n};ve.prototype.mapReverse=function(e,t){t=t||this;for(var n=new ve,r=this.tail;r!==null;)n.push(e.call(t,r.value,this)),r=r.prev;return n};ve.prototype.reduce=function(e,t){var n,r=this.head;if(arguments.length>1)n=t;else if(this.head)r=this.head.next,n=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=0;r!==null;s++)n=e(n,r.value,s),r=r.next;return n};ve.prototype.reduceReverse=function(e,t){var n,r=this.tail;if(arguments.length>1)n=t;else if(this.tail)r=this.tail.prev,n=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=this.length-1;r!==null;s--)n=e(n,r.value,s),r=r.prev;return n};ve.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;n!==null;t++)e[t]=n.value,n=n.next;return e};ve.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;n!==null;t++)e[t]=n.value,n=n.prev;return e};ve.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var n=new ve;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=0,s=this.head;s!==null&&r<e;r++)s=s.next;for(;s!==null&&r<t;r++,s=s.next)n.push(s.value);return n};ve.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var n=new ve;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=this.length,s=this.tail;s!==null&&r>t;r--)s=s.prev;for(;s!==null&&r>e;r--,s=s.prev)n.push(s.value);return n};ve.prototype.splice=function(e,t,...n){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var r=0,s=this.head;s!==null&&r<e;r++)s=s.next;for(var o=[],r=0;s&&r<t;r++)o.push(s.value),s=this.removeNode(s);s===null&&(s=this.tail),s!==this.head&&s!==this.tail&&(s=s.prev);for(var r=0;r<n.length;r++)s=L8(this,s,n[r]);return o};ve.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;n!==null;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=t,this.tail=e,this};function L8(e,t,n){var r=t===e.head?new So(n,null,t,e):new So(n,t,t.next,e);return r.next===null&&(e.tail=r),r.prev===null&&(e.head=r),e.length++,r}function U8(e,t){e.tail=new So(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function z8(e,t){e.head=new So(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function So(e,t,n,r){if(!(this instanceof So))return new So(e,t,n,r);this.list=r,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}try{xD()(ve)}catch{}});var Hm=k((ONe,RD)=>{"use strict";var Gm=class{constructor(t,n){this.path=t||"./",this.absolute=n,this.entry=null,this.stat=null,this.readdir=null,this.pending=!1,this.ignore=!1,this.piped=!1}},q8=Sm(),$8=tg(),G8=Rm(),Tg=Cg(),j8=Tg.Sync,H8=Tg.Tar,K8=bg(),CD=Buffer.alloc(1024),Um=Symbol("onStat"),Mm=Symbol("ended"),nr=Symbol("queue"),Mc=Symbol("current"),xo=Symbol("process"),Lm=Symbol("processing"),bD=Symbol("processJob"),rr=Symbol("jobs"),Pg=Symbol("jobDone"),zm=Symbol("addFSEntry"),PD=Symbol("addTarEntry"),Rg=Symbol("stat"),Ig=Symbol("readdir"),qm=Symbol("onreaddir"),$m=Symbol("pipe"),_D=Symbol("entry"),_g=Symbol("entryOpt"),Ng=Symbol("writeEntryClass"),kD=Symbol("write"),Ag=Symbol("ondrain"),jm=require("fs"),AD=require("path"),V8=vm(),kg=Dc(),Dg=V8(class extends q8{constructor(t){super(t),t=t||Object.create(null),this.opt=t,this.file=t.file||"",this.cwd=t.cwd||process.cwd(),this.maxReadSize=t.maxReadSize,this.preservePaths=!!t.preservePaths,this.strict=!!t.strict,this.noPax=!!t.noPax,this.prefix=kg(t.prefix||""),this.linkCache=t.linkCache||new Map,this.statCache=t.statCache||new Map,this.readdirCache=t.readdirCache||new Map,this[Ng]=Tg,typeof t.onwarn=="function"&&this.on("warn",t.onwarn),this.portable=!!t.portable,this.zip=null,t.gzip?(typeof t.gzip!="object"&&(t.gzip={}),this.portable&&(t.gzip.portable=!0),this.zip=new $8.Gzip(t.gzip),this.zip.on("data",n=>super.write(n)),this.zip.on("end",n=>super.end()),this.zip.on("drain",n=>this[Ag]()),this.on("resume",n=>this.zip.resume())):this.on("drain",this[Ag]),this.noDirRecurse=!!t.noDirRecurse,this.follow=!!t.follow,this.noMtime=!!t.noMtime,this.mtime=t.mtime||null,this.filter=typeof t.filter=="function"?t.filter:n=>!0,this[nr]=new K8,this[rr]=0,this.jobs=+t.jobs||4,this[Lm]=!1,this[Mm]=!1}[kD](t){return super.write(t)}add(t){return this.write(t),this}end(t){return t&&this.write(t),this[Mm]=!0,this[xo](),this}write(t){if(this[Mm])throw new Error("write after end");return t instanceof G8?this[PD](t):this[zm](t),this.flowing}[PD](t){let n=kg(AD.resolve(this.cwd,t.path));if(!this.filter(t.path,t))t.resume();else{let r=new Gm(t.path,n,!1);r.entry=new H8(t,this[_g](r)),r.entry.on("end",s=>this[Pg](r)),this[rr]+=1,this[nr].push(r)}this[xo]()}[zm](t){let n=kg(AD.resolve(this.cwd,t));this[nr].push(new Gm(t,n)),this[xo]()}[Rg](t){t.pending=!0,this[rr]+=1;let n=this.follow?"stat":"lstat";jm[n](t.absolute,(r,s)=>{t.pending=!1,this[rr]-=1,r?this.emit("error",r):this[Um](t,s)})}[Um](t,n){this.statCache.set(t.absolute,n),t.stat=n,this.filter(t.path,n)||(t.ignore=!0),this[xo]()}[Ig](t){t.pending=!0,this[rr]+=1,jm.readdir(t.absolute,(n,r)=>{if(t.pending=!1,this[rr]-=1,n)return this.emit("error",n);this[qm](t,r)})}[qm](t,n){this.readdirCache.set(t.absolute,n),t.readdir=n,this[xo]()}[xo](){if(!this[Lm]){this[Lm]=!0;for(let t=this[nr].head;t!==null&&this[rr]<this.jobs;t=t.next)if(this[bD](t.value),t.value.ignore){let n=t.next;this[nr].removeNode(t),t.next=n}this[Lm]=!1,this[Mm]&&!this[nr].length&&this[rr]===0&&(this.zip?this.zip.end(CD):(super.write(CD),super.end()))}}get[Mc](){return this[nr]&&this[nr].head&&this[nr].head.value}[Pg](t){this[nr].shift(),this[rr]-=1,this[xo]()}[bD](t){if(!t.pending){if(t.entry){t===this[Mc]&&!t.piped&&this[$m](t);return}if(t.stat||(this.statCache.has(t.absolute)?this[Um](t,this.statCache.get(t.absolute)):this[Rg](t)),!!t.stat&&!t.ignore&&!(!this.noDirRecurse&&t.stat.isDirectory()&&!t.readdir&&(this.readdirCache.has(t.absolute)?this[qm](t,this.readdirCache.get(t.absolute)):this[Ig](t),!t.readdir))){if(t.entry=this[_D](t),!t.entry){t.ignore=!0;return}t===this[Mc]&&!t.piped&&this[$m](t)}}}[_g](t){return{onwarn:(n,r,s)=>this.warn(n,r,s),noPax:this.noPax,cwd:this.cwd,absolute:t.absolute,preservePaths:this.preservePaths,maxReadSize:this.maxReadSize,strict:this.strict,portable:this.portable,linkCache:this.linkCache,statCache:this.statCache,noMtime:this.noMtime,mtime:this.mtime,prefix:this.prefix}}[_D](t){this[rr]+=1;try{return new this[Ng](t.path,this[_g](t)).on("end",()=>this[Pg](t)).on("error",n=>this.emit("error",n))}catch(n){this.emit("error",n)}}[Ag](){this[Mc]&&this[Mc].entry&&this[Mc].entry.resume()}[$m](t){t.piped=!0,t.readdir&&t.readdir.forEach(s=>{let o=t.path,a=o==="./"?"":o.replace(/\/*$/,"/");this[zm](a+s)});let n=t.entry,r=this.zip;r?n.on("data",s=>{r.write(s)||n.pause()}):n.on("data",s=>{super.write(s)||n.pause()})}pause(){return this.zip&&this.zip.pause(),super.pause()}}),vg=class extends Dg{constructor(t){super(t),this[Ng]=j8}pause(){}resume(){}[Rg](t){let n=this.follow?"statSync":"lstatSync";this[Um](t,jm[n](t.absolute))}[Ig](t,n){this[qm](t,jm.readdirSync(t.absolute))}[$m](t){let n=t.entry,r=this.zip;t.readdir&&t.readdir.forEach(s=>{let o=t.path,a=o==="./"?"":o.replace(/\/*$/,"/");this[zm](a+s)}),r?n.on("data",s=>{r.write(s)}):n.on("data",s=>{super[kD](s)})}};Dg.Sync=vg;RD.exports=Dg});var Hc=k(al=>{"use strict";var W8=Uy(),Y8=require("events").EventEmitter,Xt=require("fs"),Fg=Xt.writev;if(!Fg){let e=process.binding("fs"),t=e.FSReqWrap||e.FSReqCallback;Fg=(n,r,s,o)=>{let a=(l,d)=>o(l,d,r),i=new t;i.oncomplete=a,e.writeBuffers(n,r,s,i)}}var Gc=Symbol("_autoClose"),vn=Symbol("_close"),il=Symbol("_ended"),Ue=Symbol("_fd"),ID=Symbol("_finished"),Ls=Symbol("_flags"),Bg=Symbol("_flush"),Mg=Symbol("_handleChunk"),Lg=Symbol("_makeBuf"),Xm=Symbol("_mode"),Km=Symbol("_needDrain"),qc=Symbol("_onerror"),jc=Symbol("_onopen"),Og=Symbol("_onread"),Uc=Symbol("_onwrite"),Us=Symbol("_open"),vr=Symbol("_path"),wo=Symbol("_pos"),sr=Symbol("_queue"),zc=Symbol("_read"),ND=Symbol("_readSize"),Ms=Symbol("_reading"),Vm=Symbol("_remain"),vD=Symbol("_size"),Wm=Symbol("_write"),Lc=Symbol("_writing"),Ym=Symbol("_defaultFlag"),$c=Symbol("_errored"),Qm=class extends W8{constructor(t,n){if(n=n||{},super(n),this.readable=!0,this.writable=!1,typeof t!="string")throw new TypeError("path must be a string");this[$c]=!1,this[Ue]=typeof n.fd=="number"?n.fd:null,this[vr]=t,this[ND]=n.readSize||16*1024*1024,this[Ms]=!1,this[vD]=typeof n.size=="number"?n.size:1/0,this[Vm]=this[vD],this[Gc]=typeof n.autoClose=="boolean"?n.autoClose:!0,typeof this[Ue]=="number"?this[zc]():this[Us]()}get fd(){return this[Ue]}get path(){return this[vr]}write(){throw new TypeError("this is a readable stream")}end(){throw new TypeError("this is a readable stream")}[Us](){Xt.open(this[vr],"r",(t,n)=>this[jc](t,n))}[jc](t,n){t?this[qc](t):(this[Ue]=n,this.emit("open",n),this[zc]())}[Lg](){return Buffer.allocUnsafe(Math.min(this[ND],this[Vm]))}[zc](){if(!this[Ms]){this[Ms]=!0;let t=this[Lg]();if(t.length===0)return process.nextTick(()=>this[Og](null,0,t));Xt.read(this[Ue],t,0,t.length,null,(n,r,s)=>this[Og](n,r,s))}}[Og](t,n,r){this[Ms]=!1,t?this[qc](t):this[Mg](n,r)&&this[zc]()}[vn](){if(this[Gc]&&typeof this[Ue]=="number"){let t=this[Ue];this[Ue]=null,Xt.close(t,n=>n?this.emit("error",n):this.emit("close"))}}[qc](t){this[Ms]=!0,this[vn](),this.emit("error",t)}[Mg](t,n){let r=!1;return this[Vm]-=t,t>0&&(r=super.write(t<n.length?n.slice(0,t):n)),(t===0||this[Vm]<=0)&&(r=!1,this[vn](),super.end()),r}emit(t,n){switch(t){case"prefinish":case"finish":break;case"drain":typeof this[Ue]=="number"&&this[zc]();break;case"error":return this[$c]?void 0:(this[$c]=!0,super.emit(t,n));default:return super.emit(t,n)}}},Ug=class extends Qm{[Us](){let t=!0;try{this[jc](null,Xt.openSync(this[vr],"r")),t=!1}finally{t&&this[vn]()}}[zc](){let t=!0;try{if(!this[Ms]){this[Ms]=!0;do{let n=this[Lg](),r=n.length===0?0:Xt.readSync(this[Ue],n,0,n.length,null);if(!this[Mg](r,n))break}while(!0);this[Ms]=!1}t=!1}finally{t&&this[vn]()}}[vn](){if(this[Gc]&&typeof this[Ue]=="number"){let t=this[Ue];this[Ue]=null,Xt.closeSync(t),this.emit("close")}}},Zm=class extends Y8{constructor(t,n){n=n||{},super(n),this.readable=!1,this.writable=!0,this[$c]=!1,this[Lc]=!1,this[il]=!1,this[Km]=!1,this[sr]=[],this[vr]=t,this[Ue]=typeof n.fd=="number"?n.fd:null,this[Xm]=n.mode===void 0?438:n.mode,this[wo]=typeof n.start=="number"?n.start:null,this[Gc]=typeof n.autoClose=="boolean"?n.autoClose:!0;let r=this[wo]!==null?"r+":"w";this[Ym]=n.flags===void 0,this[Ls]=this[Ym]?r:n.flags,this[Ue]===null&&this[Us]()}emit(t,n){if(t==="error"){if(this[$c])return;this[$c]=!0}return super.emit(t,n)}get fd(){return this[Ue]}get path(){return this[vr]}[qc](t){this[vn](),this[Lc]=!0,this.emit("error",t)}[Us](){Xt.open(this[vr],this[Ls],this[Xm],(t,n)=>this[jc](t,n))}[jc](t,n){this[Ym]&&this[Ls]==="r+"&&t&&t.code==="ENOENT"?(this[Ls]="w",this[Us]()):t?this[qc](t):(this[Ue]=n,this.emit("open",n),this[Bg]())}end(t,n){return t&&this.write(t,n),this[il]=!0,!this[Lc]&&!this[sr].length&&typeof this[Ue]=="number"&&this[Uc](null,0),this}write(t,n){return typeof t=="string"&&(t=Buffer.from(t,n)),this[il]?(this.emit("error",new Error("write() after end()")),!1):this[Ue]===null||this[Lc]||this[sr].length?(this[sr].push(t),this[Km]=!0,!1):(this[Lc]=!0,this[Wm](t),!0)}[Wm](t){Xt.write(this[Ue],t,0,t.length,this[wo],(n,r)=>this[Uc](n,r))}[Uc](t,n){t?this[qc](t):(this[wo]!==null&&(this[wo]+=n),this[sr].length?this[Bg]():(this[Lc]=!1,this[il]&&!this[ID]?(this[ID]=!0,this[vn](),this.emit("finish")):this[Km]&&(this[Km]=!1,this.emit("drain"))))}[Bg](){if(this[sr].length===0)this[il]&&this[Uc](null,0);else if(this[sr].length===1)this[Wm](this[sr].pop());else{let t=this[sr];this[sr]=[],Fg(this[Ue],t,this[wo],(n,r)=>this[Uc](n,r))}}[vn](){if(this[Gc]&&typeof this[Ue]=="number"){let t=this[Ue];this[Ue]=null,Xt.close(t,n=>n?this.emit("error",n):this.emit("close"))}}},zg=class extends Zm{[Us](){let t;if(this[Ym]&&this[Ls]==="r+")try{t=Xt.openSync(this[vr],this[Ls],this[Xm])}catch(n){if(n.code==="ENOENT")return this[Ls]="w",this[Us]();throw n}else t=Xt.openSync(this[vr],this[Ls],this[Xm]);this[jc](null,t)}[vn](){if(this[Gc]&&typeof this[Ue]=="number"){let t=this[Ue];this[Ue]=null,Xt.closeSync(t),this.emit("close")}}[Wm](t){let n=!0;try{this[Uc](null,Xt.writeSync(this[Ue],t,0,t.length,this[wo])),n=!1}finally{if(n)try{this[vn]()}catch{}}}};al.ReadStream=Qm;al.ReadStreamSync=Ug;al.WriteStream=Zm;al.WriteStreamSync=zg});var of=k((LNe,UD)=>{"use strict";var X8=vm(),Q8=Oc(),Z8=require("events"),J8=bg(),eV=1024*1024,tV=Rm(),TD=Nm(),nV=tg(),{nextTick:rV}=require("process"),qg=Buffer.from([31,139]),wn=Symbol("state"),Co=Symbol("writeEntry"),Tr=Symbol("readEntry"),$g=Symbol("nextEntry"),DD=Symbol("processEntry"),Cn=Symbol("extendedHeader"),cl=Symbol("globalExtendedHeader"),zs=Symbol("meta"),BD=Symbol("emitMeta"),Ve=Symbol("buffer"),Dr=Symbol("queue"),bo=Symbol("ended"),OD=Symbol("emittedEnd"),Po=Symbol("emit"),Qt=Symbol("unzip"),Jm=Symbol("consumeChunk"),ef=Symbol("consumeChunkSub"),Gg=Symbol("consumeBody"),FD=Symbol("consumeMeta"),MD=Symbol("consumeHeader"),tf=Symbol("consuming"),jg=Symbol("bufferConcat"),Hg=Symbol("maybeEnd"),dl=Symbol("writing"),qs=Symbol("aborted"),nf=Symbol("onDone"),_o=Symbol("sawValidEntry"),rf=Symbol("sawNullBlock"),sf=Symbol("sawEOF"),LD=Symbol("closeStream"),sV=e=>!0;UD.exports=X8(class extends Z8{constructor(t){t=t||{},super(t),this.file=t.file||"",this[_o]=null,this.on(nf,n=>{(this[wn]==="begin"||this[_o]===!1)&&this.warn("TAR_BAD_ARCHIVE","Unrecognized archive format")}),t.ondone?this.on(nf,t.ondone):this.on(nf,n=>{this.emit("prefinish"),this.emit("finish"),this.emit("end")}),this.strict=!!t.strict,this.maxMetaEntrySize=t.maxMetaEntrySize||eV,this.filter=typeof t.filter=="function"?t.filter:sV,this.writable=!0,this.readable=!1,this[Dr]=new J8,this[Ve]=null,this[Tr]=null,this[Co]=null,this[wn]="begin",this[zs]="",this[Cn]=null,this[cl]=null,this[bo]=!1,this[Qt]=null,this[qs]=!1,this[rf]=!1,this[sf]=!1,this.on("end",()=>this[LD]()),typeof t.onwarn=="function"&&this.on("warn",t.onwarn),typeof t.onentry=="function"&&this.on("entry",t.onentry)}[MD](t,n){this[_o]===null&&(this[_o]=!1);let r;try{r=new Q8(t,n,this[Cn],this[cl])}catch(s){return this.warn("TAR_ENTRY_INVALID",s)}if(r.nullBlock)this[rf]?(this[sf]=!0,this[wn]==="begin"&&(this[wn]="header"),this[Po]("eof")):(this[rf]=!0,this[Po]("nullBlock"));else if(this[rf]=!1,!r.cksumValid)this.warn("TAR_ENTRY_INVALID","checksum failure",{header:r});else if(!r.path)this.warn("TAR_ENTRY_INVALID","path is required",{header:r});else{let s=r.type;if(/^(Symbolic)?Link$/.test(s)&&!r.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath required",{header:r});else if(!/^(Symbolic)?Link$/.test(s)&&r.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath forbidden",{header:r});else{let o=this[Co]=new tV(r,this[Cn],this[cl]);if(!this[_o])if(o.remain){let a=()=>{o.invalid||(this[_o]=!0)};o.on("end",a)}else this[_o]=!0;o.meta?o.size>this.maxMetaEntrySize?(o.ignore=!0,this[Po]("ignoredEntry",o),this[wn]="ignore",o.resume()):o.size>0&&(this[zs]="",o.on("data",a=>this[zs]+=a),this[wn]="meta"):(this[Cn]=null,o.ignore=o.ignore||!this.filter(o.path,o),o.ignore?(this[Po]("ignoredEntry",o),this[wn]=o.remain?"ignore":"header",o.resume()):(o.remain?this[wn]="body":(this[wn]="header",o.end()),this[Tr]?this[Dr].push(o):(this[Dr].push(o),this[$g]())))}}}[LD](){rV(()=>this.emit("close"))}[DD](t){let n=!0;return t?Array.isArray(t)?this.emit.apply(this,t):(this[Tr]=t,this.emit("entry",t),t.emittedEnd||(t.on("end",r=>this[$g]()),n=!1)):(this[Tr]=null,n=!1),n}[$g](){do;while(this[DD](this[Dr].shift()));if(!this[Dr].length){let t=this[Tr];!t||t.flowing||t.size===t.remain?this[dl]||this.emit("drain"):t.once("drain",r=>this.emit("drain"))}}[Gg](t,n){let r=this[Co],s=r.blockRemain,o=s>=t.length&&n===0?t:t.slice(n,n+s);return r.write(o),r.blockRemain||(this[wn]="header",this[Co]=null,r.end()),o.length}[FD](t,n){let r=this[Co],s=this[Gg](t,n);return this[Co]||this[BD](r),s}[Po](t,n,r){!this[Dr].length&&!this[Tr]?this.emit(t,n,r):this[Dr].push([t,n,r])}[BD](t){switch(this[Po]("meta",this[zs]),t.type){case"ExtendedHeader":case"OldExtendedHeader":this[Cn]=TD.parse(this[zs],this[Cn],!1);break;case"GlobalExtendedHeader":this[cl]=TD.parse(this[zs],this[cl],!0);break;case"NextFileHasLongPath":case"OldGnuLongPath":this[Cn]=this[Cn]||Object.create(null),this[Cn].path=this[zs].replace(/\0.*/,"");break;case"NextFileHasLongLinkpath":this[Cn]=this[Cn]||Object.create(null),this[Cn].linkpath=this[zs].replace(/\0.*/,"");break;default:throw new Error("unknown meta: "+t.type)}}abort(t){this[qs]=!0,this.emit("abort",t),this.warn("TAR_ABORT",t,{recoverable:!1})}write(t){if(this[qs])return;if(this[Qt]===null&&t){if(this[Ve]&&(t=Buffer.concat([this[Ve],t]),this[Ve]=null),t.length<qg.length)return this[Ve]=t,!0;for(let r=0;this[Qt]===null&&r<qg.length;r++)t[r]!==qg[r]&&(this[Qt]=!1);if(this[Qt]===null){let r=this[bo];this[bo]=!1,this[Qt]=new nV.Unzip,this[Qt].on("data",o=>this[Jm](o)),this[Qt].on("error",o=>this.abort(o)),this[Qt].on("end",o=>{this[bo]=!0,this[Jm]()}),this[dl]=!0;let s=this[Qt][r?"end":"write"](t);return this[dl]=!1,s}}this[dl]=!0,this[Qt]?this[Qt].write(t):this[Jm](t),this[dl]=!1;let n=this[Dr].length?!1:this[Tr]?this[Tr].flowing:!0;return!n&&!this[Dr].length&&this[Tr].once("drain",r=>this.emit("drain")),n}[jg](t){t&&!this[qs]&&(this[Ve]=this[Ve]?Buffer.concat([this[Ve],t]):t)}[Hg](){if(this[bo]&&!this[OD]&&!this[qs]&&!this[tf]){this[OD]=!0;let t=this[Co];if(t&&t.blockRemain){let n=this[Ve]?this[Ve].length:0;this.warn("TAR_BAD_ARCHIVE",`Truncated input (needed ${t.blockRemain} more bytes, only ${n} available)`,{entry:t}),this[Ve]&&t.write(this[Ve]),t.end()}this[Po](nf)}}[Jm](t){if(this[tf])this[jg](t);else if(!t&&!this[Ve])this[Hg]();else{if(this[tf]=!0,this[Ve]){this[jg](t);let n=this[Ve];this[Ve]=null,this[ef](n)}else this[ef](t);for(;this[Ve]&&this[Ve].length>=512&&!this[qs]&&!this[sf];){let n=this[Ve];this[Ve]=null,this[ef](n)}this[tf]=!1}(!this[Ve]||this[bo])&&this[Hg]()}[ef](t){let n=0,r=t.length;for(;n+512<=r&&!this[qs]&&!this[sf];)switch(this[wn]){case"begin":case"header":this[MD](t,n),n+=512;break;case"ignore":case"body":n+=this[Gg](t,n);break;case"meta":n+=this[FD](t,n);break;default:throw new Error("invalid state: "+this[wn])}n<r&&(this[Ve]?this[Ve]=Buffer.concat([t.slice(n),this[Ve]]):this[Ve]=t.slice(n))}end(t){this[qs]||(this[Qt]?this[Qt].end(t):(this[bo]=!0,this.write(t)))}})});var af=k((UNe,GD)=>{"use strict";var oV=Rc(),qD=of(),Kc=require("fs"),iV=Hc(),zD=require("path"),Kg=Fc();GD.exports=(e,t,n)=>{typeof e=="function"?(n=e,t=null,e={}):Array.isArray(e)&&(t=e,e={}),typeof t=="function"&&(n=t,t=null),t?t=Array.from(t):t=[];let r=oV(e);if(r.sync&&typeof n=="function")throw new TypeError("callback not supported for sync tar functions");if(!r.file&&typeof n=="function")throw new TypeError("callback only supported with file option");return t.length&&cV(r,t),r.noResume||aV(r),r.file&&r.sync?dV(r):r.file?lV(r,n):$D(r)};var aV=e=>{let t=e.onentry;e.onentry=t?n=>{t(n),n.resume()}:n=>n.resume()},cV=(e,t)=>{let n=new Map(t.map(o=>[Kg(o),!0])),r=e.filter,s=(o,a)=>{let i=a||zD.parse(o).root||".",l=o===i?!1:n.has(o)?n.get(o):s(zD.dirname(o),i);return n.set(o,l),l};e.filter=r?(o,a)=>r(o,a)&&s(Kg(o)):o=>s(Kg(o))},dV=e=>{let t=$D(e),n=e.file,r=!0,s;try{let o=Kc.statSync(n),a=e.maxReadSize||16*1024*1024;if(o.size<a)t.end(Kc.readFileSync(n));else{let i=0,l=Buffer.allocUnsafe(a);for(s=Kc.openSync(n,"r");i<o.size;){let d=Kc.readSync(s,l,0,a,i);i+=d,t.write(l.slice(0,d))}t.end()}r=!1}finally{if(r&&s)try{Kc.closeSync(s)}catch{}}},lV=(e,t)=>{let n=new qD(e),r=e.maxReadSize||16*1024*1024,s=e.file,o=new Promise((a,i)=>{n.on("error",i),n.on("end",a),Kc.stat(s,(l,d)=>{if(l)i(l);else{let c=new iV.ReadStream(s,{readSize:r,size:d.size});c.on("error",i),c.pipe(n)}})});return t?o.then(t,t):o},$D=e=>new qD(e)});var YD=k((zNe,WD)=>{"use strict";var uV=Rc(),cf=Hm(),jD=Hc(),HD=af(),KD=require("path");WD.exports=(e,t,n)=>{if(typeof t=="function"&&(n=t),Array.isArray(e)&&(t=e,e={}),!t||!Array.isArray(t)||!t.length)throw new TypeError("no files or directories specified");t=Array.from(t);let r=uV(e);if(r.sync&&typeof n=="function")throw new TypeError("callback not supported for sync tar functions");if(!r.file&&typeof n=="function")throw new TypeError("callback only supported with file option");return r.file&&r.sync?mV(r,t):r.file?fV(r,t,n):r.sync?hV(r,t):pV(r,t)};var mV=(e,t)=>{let n=new cf.Sync(e),r=new jD.WriteStreamSync(e.file,{mode:e.mode||438});n.pipe(r),VD(n,t)},fV=(e,t,n)=>{let r=new cf(e),s=new jD.WriteStream(e.file,{mode:e.mode||438});r.pipe(s);let o=new Promise((a,i)=>{s.on("error",i),s.on("close",a),r.on("error",i)});return Vg(r,t),n?o.then(n,n):o},VD=(e,t)=>{t.forEach(n=>{n.charAt(0)==="@"?HD({file:KD.resolve(e.cwd,n.slice(1)),sync:!0,noResume:!0,onentry:r=>e.add(r)}):e.add(n)}),e.end()},Vg=(e,t)=>{for(;t.length;){let n=t.shift();if(n.charAt(0)==="@")return HD({file:KD.resolve(e.cwd,n.slice(1)),noResume:!0,onentry:r=>e.add(r)}).then(r=>Vg(e,t));e.add(n)}e.end()},hV=(e,t)=>{let n=new cf.Sync(e);return VD(n,t),n},pV=(e,t)=>{let n=new cf(e);return Vg(n,t),n}});var Wg=k((qNe,nB)=>{"use strict";var yV=Rc(),XD=Hm(),rn=require("fs"),QD=Hc(),ZD=af(),JD=require("path"),eB=Oc();nB.exports=(e,t,n)=>{let r=yV(e);if(!r.file)throw new TypeError("file is required");if(r.gzip)throw new TypeError("cannot append to compressed archives");if(!t||!Array.isArray(t)||!t.length)throw new TypeError("no files or directories specified");return t=Array.from(t),r.sync?gV(r,t):SV(r,t,n)};var gV=(e,t)=>{let n=new XD.Sync(e),r=!0,s,o;try{try{s=rn.openSync(e.file,"r+")}catch(l){if(l.code==="ENOENT")s=rn.openSync(e.file,"w+");else throw l}let a=rn.fstatSync(s),i=Buffer.alloc(512);e:for(o=0;o<a.size;o+=512){for(let c=0,m=0;c<512;c+=m){if(m=rn.readSync(s,i,c,i.length-c,o+c),o===0&&i[0]===31&&i[1]===139)throw new Error("cannot append to compressed archives");if(!m)break e}let l=new eB(i);if(!l.cksumValid)break;let d=512*Math.ceil(l.size/512);if(o+d+512>a.size)break;o+=d,e.mtimeCache&&e.mtimeCache.set(l.path,l.mtime)}r=!1,EV(e,n,o,s,t)}finally{if(r)try{rn.closeSync(s)}catch{}}},EV=(e,t,n,r,s)=>{let o=new QD.WriteStreamSync(e.file,{fd:r,start:n});t.pipe(o),xV(t,s)},SV=(e,t,n)=>{t=Array.from(t);let r=new XD(e),s=(a,i,l)=>{let d=(S,I)=>{S?rn.close(a,D=>l(S)):l(null,I)},c=0;if(i===0)return d(null,0);let m=0,u=Buffer.alloc(512),w=(S,I)=>{if(S)return d(S);if(m+=I,m<512&&I)return rn.read(a,u,m,u.length-m,c+m,w);if(c===0&&u[0]===31&&u[1]===139)return d(new Error("cannot append to compressed archives"));if(m<512)return d(null,c);let D=new eB(u);if(!D.cksumValid)return d(null,c);let X=512*Math.ceil(D.size/512);if(c+X+512>i||(c+=X+512,c>=i))return d(null,c);e.mtimeCache&&e.mtimeCache.set(D.path,D.mtime),m=0,rn.read(a,u,0,512,c,w)};rn.read(a,u,0,512,c,w)},o=new Promise((a,i)=>{r.on("error",i);let l="r+",d=(c,m)=>{if(c&&c.code==="ENOENT"&&l==="r+")return l="w+",rn.open(e.file,l,d);if(c)return i(c);rn.fstat(m,(u,w)=>{if(u)return rn.close(m,()=>i(u));s(m,w.size,(S,I)=>{if(S)return i(S);let D=new QD.WriteStream(e.file,{fd:m,start:I});r.pipe(D),D.on("error",i),D.on("close",a),tB(r,t)})})};rn.open(e.file,l,d)});return n?o.then(n,n):o},xV=(e,t)=>{t.forEach(n=>{n.charAt(0)==="@"?ZD({file:JD.resolve(e.cwd,n.slice(1)),sync:!0,noResume:!0,onentry:r=>e.add(r)}):e.add(n)}),e.end()},tB=(e,t)=>{for(;t.length;){let n=t.shift();if(n.charAt(0)==="@")return ZD({file:JD.resolve(e.cwd,n.slice(1)),noResume:!0,onentry:r=>e.add(r)}).then(r=>tB(e,t));e.add(n)}e.end()}});var sB=k(($Ne,rB)=>{"use strict";var wV=Rc(),CV=Wg();rB.exports=(e,t,n)=>{let r=wV(e);if(!r.file)throw new TypeError("file is required");if(r.gzip)throw new TypeError("cannot append to compressed archives");if(!t||!Array.isArray(t)||!t.length)throw new TypeError("no files or directories specified");return t=Array.from(t),bV(r),CV(r,t,n)};var bV=e=>{let t=e.filter;e.mtimeCache||(e.mtimeCache=new Map),e.filter=t?(n,r)=>t(n,r)&&!(e.mtimeCache.get(n)>r.mtime):(n,r)=>!(e.mtimeCache.get(n)>r.mtime)}});var aB=k((GNe,iB)=>{var{promisify:oB}=require("util"),$s=require("fs"),PV=e=>{if(!e)e={mode:511,fs:$s};else if(typeof e=="object")e={mode:511,fs:$s,...e};else if(typeof e=="number")e={mode:e,fs:$s};else if(typeof e=="string")e={mode:parseInt(e,8),fs:$s};else throw new TypeError("invalid options argument");return e.mkdir=e.mkdir||e.fs.mkdir||$s.mkdir,e.mkdirAsync=oB(e.mkdir),e.stat=e.stat||e.fs.stat||$s.stat,e.statAsync=oB(e.stat),e.statSync=e.statSync||e.fs.statSync||$s.statSync,e.mkdirSync=e.mkdirSync||e.fs.mkdirSync||$s.mkdirSync,e};iB.exports=PV});var dB=k((jNe,cB)=>{var _V=process.env.__TESTING_MKDIRP_PLATFORM__||process.platform,{resolve:AV,parse:kV}=require("path"),RV=e=>{if(/\0/.test(e))throw Object.assign(new TypeError("path must be a string without null bytes"),{path:e,code:"ERR_INVALID_ARG_VALUE"});if(e=AV(e),_V==="win32"){let t=/[*|"<>?:]/,{root:n}=kV(e);if(t.test(e.substr(n.length)))throw Object.assign(new Error("Illegal characters in path."),{path:e,code:"EINVAL"})}return e};cB.exports=RV});var hB=k((HNe,fB)=>{var{dirname:lB}=require("path"),uB=(e,t,n=void 0)=>n===t?Promise.resolve():e.statAsync(t).then(r=>r.isDirectory()?n:void 0,r=>r.code==="ENOENT"?uB(e,lB(t),t):void 0),mB=(e,t,n=void 0)=>{if(n!==t)try{return e.statSync(t).isDirectory()?n:void 0}catch(r){return r.code==="ENOENT"?mB(e,lB(t),t):void 0}};fB.exports={findMade:uB,findMadeSync:mB}});var Qg=k((KNe,yB)=>{var{dirname:pB}=require("path"),Yg=(e,t,n)=>{t.recursive=!1;let r=pB(e);return r===e?t.mkdirAsync(e,t).catch(s=>{if(s.code!=="EISDIR")throw s}):t.mkdirAsync(e,t).then(()=>n||e,s=>{if(s.code==="ENOENT")return Yg(r,t).then(o=>Yg(e,t,o));if(s.code!=="EEXIST"&&s.code!=="EROFS")throw s;return t.statAsync(e).then(o=>{if(o.isDirectory())return n;throw s},()=>{throw s})})},Xg=(e,t,n)=>{let r=pB(e);if(t.recursive=!1,r===e)try{return t.mkdirSync(e,t)}catch(s){if(s.code!=="EISDIR")throw s;return}try{return t.mkdirSync(e,t),n||e}catch(s){if(s.code==="ENOENT")return Xg(e,t,Xg(r,t,n));if(s.code!=="EEXIST"&&s.code!=="EROFS")throw s;try{if(!t.statSync(e).isDirectory())throw s}catch{throw s}}};yB.exports={mkdirpManual:Yg,mkdirpManualSync:Xg}});var SB=k((VNe,EB)=>{var{dirname:gB}=require("path"),{findMade:IV,findMadeSync:NV}=hB(),{mkdirpManual:vV,mkdirpManualSync:TV}=Qg(),DV=(e,t)=>(t.recursive=!0,gB(e)===e?t.mkdirAsync(e,t):IV(t,e).then(r=>t.mkdirAsync(e,t).then(()=>r).catch(s=>{if(s.code==="ENOENT")return vV(e,t);throw s}))),BV=(e,t)=>{if(t.recursive=!0,gB(e)===e)return t.mkdirSync(e,t);let r=NV(t,e);try{return t.mkdirSync(e,t),r}catch(s){if(s.code==="ENOENT")return TV(e,t);throw s}};EB.exports={mkdirpNative:DV,mkdirpNativeSync:BV}});var bB=k((WNe,CB)=>{var xB=require("fs"),OV=process.env.__TESTING_MKDIRP_NODE_VERSION__||process.version,Zg=OV.replace(/^v/,"").split("."),wB=+Zg[0]>10||+Zg[0]==10&&+Zg[1]>=12,FV=wB?e=>e.mkdir===xB.mkdir:()=>!1,MV=wB?e=>e.mkdirSync===xB.mkdirSync:()=>!1;CB.exports={useNative:FV,useNativeSync:MV}});var IB=k((YNe,RB)=>{var Vc=aB(),Wc=dB(),{mkdirpNative:PB,mkdirpNativeSync:_B}=SB(),{mkdirpManual:AB,mkdirpManualSync:kB}=Qg(),{useNative:LV,useNativeSync:UV}=bB(),Yc=(e,t)=>(e=Wc(e),t=Vc(t),LV(t)?PB(e,t):AB(e,t)),zV=(e,t)=>(e=Wc(e),t=Vc(t),UV(t)?_B(e,t):kB(e,t));Yc.sync=zV;Yc.native=(e,t)=>PB(Wc(e),Vc(t));Yc.manual=(e,t)=>AB(Wc(e),Vc(t));Yc.nativeSync=(e,t)=>_B(Wc(e),Vc(t));Yc.manualSync=(e,t)=>kB(Wc(e),Vc(t));RB.exports=Yc});var FB=k((XNe,OB)=>{"use strict";var bn=require("fs"),Ao=require("path"),qV=bn.lchown?"lchown":"chown",$V=bn.lchownSync?"lchownSync":"chownSync",vB=bn.lchown&&!process.version.match(/v1[1-9]+\./)&&!process.version.match(/v10\.[6-9]/),NB=(e,t,n)=>{try{return bn[$V](e,t,n)}catch(r){if(r.code!=="ENOENT")throw r}},GV=(e,t,n)=>{try{return bn.chownSync(e,t,n)}catch(r){if(r.code!=="ENOENT")throw r}},jV=vB?(e,t,n,r)=>s=>{!s||s.code!=="EISDIR"?r(s):bn.chown(e,t,n,r)}:(e,t,n,r)=>r,Jg=vB?(e,t,n)=>{try{return NB(e,t,n)}catch(r){if(r.code!=="EISDIR")throw r;GV(e,t,n)}}:(e,t,n)=>NB(e,t,n),HV=process.version,TB=(e,t,n)=>bn.readdir(e,t,n),KV=(e,t)=>bn.readdirSync(e,t);/^v4\./.test(HV)&&(TB=(e,t,n)=>bn.readdir(e,n));var df=(e,t,n,r)=>{bn[qV](e,t,n,jV(e,t,n,s=>{r(s&&s.code!=="ENOENT"?s:null)}))},DB=(e,t,n,r,s)=>{if(typeof t=="string")return bn.lstat(Ao.resolve(e,t),(o,a)=>{if(o)return s(o.code!=="ENOENT"?o:null);a.name=t,DB(e,a,n,r,s)});if(t.isDirectory())eE(Ao.resolve(e,t.name),n,r,o=>{if(o)return s(o);let a=Ao.resolve(e,t.name);df(a,n,r,s)});else{let o=Ao.resolve(e,t.name);df(o,n,r,s)}},eE=(e,t,n,r)=>{TB(e,{withFileTypes:!0},(s,o)=>{if(s){if(s.code==="ENOENT")return r();if(s.code!=="ENOTDIR"&&s.code!=="ENOTSUP")return r(s)}if(s||!o.length)return df(e,t,n,r);let a=o.length,i=null,l=d=>{if(!i){if(d)return r(i=d);if(--a===0)return df(e,t,n,r)}};o.forEach(d=>DB(e,d,t,n,l))})},VV=(e,t,n,r)=>{if(typeof t=="string")try{let s=bn.lstatSync(Ao.resolve(e,t));s.name=t,t=s}catch(s){if(s.code==="ENOENT")return;throw s}t.isDirectory()&&BB(Ao.resolve(e,t.name),n,r),Jg(Ao.resolve(e,t.name),n,r)},BB=(e,t,n)=>{let r;try{r=KV(e,{withFileTypes:!0})}catch(s){if(s.code==="ENOENT")return;if(s.code==="ENOTDIR"||s.code==="ENOTSUP")return Jg(e,t,n);throw s}return r&&r.length&&r.forEach(s=>VV(e,s,t,n)),Jg(e,t,n)};OB.exports=eE;eE.sync=BB});var zB=k((QNe,tE)=>{"use strict";var MB=IB(),Pn=require("fs"),lf=require("path"),LB=FB(),Tn=Dc(),uf=class extends Error{constructor(t,n){super("Cannot extract through symbolic link"),this.path=n,this.symlink=t}get name(){return"SylinkError"}},mf=class extends Error{constructor(t,n){super(n+": Cannot cd into '"+t+"'"),this.path=t,this.code=n}get name(){return"CwdError"}},ff=(e,t)=>e.get(Tn(t)),ll=(e,t,n)=>e.set(Tn(t),n),WV=(e,t)=>{Pn.stat(e,(n,r)=>{(n||!r.isDirectory())&&(n=new mf(e,n&&n.code||"ENOTDIR")),t(n)})};tE.exports=(e,t,n)=>{e=Tn(e);let r=t.umask,s=t.mode|448,o=(s&r)!==0,a=t.uid,i=t.gid,l=typeof a=="number"&&typeof i=="number"&&(a!==t.processUid||i!==t.processGid),d=t.preserve,c=t.unlink,m=t.cache,u=Tn(t.cwd),w=(D,X)=>{D?n(D):(ll(m,e,!0),X&&l?LB(X,a,i,Ce=>w(Ce)):o?Pn.chmod(e,s,n):n())};if(m&&ff(m,e)===!0)return w();if(e===u)return WV(e,w);if(d)return MB(e,{mode:s}).then(D=>w(null,D),w);let I=Tn(lf.relative(u,e)).split("/");hf(u,I,s,m,c,u,null,w)};var hf=(e,t,n,r,s,o,a,i)=>{if(!t.length)return i(null,a);let l=t.shift(),d=Tn(lf.resolve(e+"/"+l));if(ff(r,d))return hf(d,t,n,r,s,o,a,i);Pn.mkdir(d,n,UB(d,t,n,r,s,o,a,i))},UB=(e,t,n,r,s,o,a,i)=>l=>{l?Pn.lstat(e,(d,c)=>{if(d)d.path=d.path&&Tn(d.path),i(d);else if(c.isDirectory())hf(e,t,n,r,s,o,a,i);else if(s)Pn.unlink(e,m=>{if(m)return i(m);Pn.mkdir(e,n,UB(e,t,n,r,s,o,a,i))});else{if(c.isSymbolicLink())return i(new uf(e,e+"/"+t.join("/")));i(l)}}):(a=a||e,hf(e,t,n,r,s,o,a,i))},YV=e=>{let t=!1,n="ENOTDIR";try{t=Pn.statSync(e).isDirectory()}catch(r){n=r.code}finally{if(!t)throw new mf(e,n)}};tE.exports.sync=(e,t)=>{e=Tn(e);let n=t.umask,r=t.mode|448,s=(r&n)!==0,o=t.uid,a=t.gid,i=typeof o=="number"&&typeof a=="number"&&(o!==t.processUid||a!==t.processGid),l=t.preserve,d=t.unlink,c=t.cache,m=Tn(t.cwd),u=D=>{ll(c,e,!0),D&&i&&LB.sync(D,o,a),s&&Pn.chmodSync(e,r)};if(c&&ff(c,e)===!0)return u();if(e===m)return YV(m),u();if(l)return u(MB.sync(e,r));let S=Tn(lf.relative(m,e)).split("/"),I=null;for(let D=S.shift(),X=m;D&&(X+="/"+D);D=S.shift())if(X=Tn(lf.resolve(X)),!ff(c,X))try{Pn.mkdirSync(X,r),I=I||X,ll(c,X,!0)}catch{let ye=Pn.lstatSync(X);if(ye.isDirectory()){ll(c,X,!0);continue}else if(d){Pn.unlinkSync(X),Pn.mkdirSync(X,r),I=I||X,ll(c,X,!0);continue}else if(ye.isSymbolicLink())return new uf(X,X+"/"+S.join("/"))}return u(I)}});var rE=k((ZNe,qB)=>{var nE=Object.create(null),{hasOwnProperty:XV}=Object.prototype;qB.exports=e=>(XV.call(nE,e)||(nE[e]=e.normalize("NFKD")),nE[e])});var HB=k((JNe,jB)=>{var $B=require("assert"),QV=rE(),ZV=Fc(),{join:GB}=require("path"),JV=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform,eW=JV==="win32";jB.exports=()=>{let e=new Map,t=new Map,n=d=>d.split("/").slice(0,-1).reduce((m,u)=>(m.length&&(u=GB(m[m.length-1],u)),m.push(u||"/"),m),[]),r=new Set,s=d=>{let c=t.get(d);if(!c)throw new Error("function does not have any path reservations");return{paths:c.paths.map(m=>e.get(m)),dirs:[...c.dirs].map(m=>e.get(m))}},o=d=>{let{paths:c,dirs:m}=s(d);return c.every(u=>u[0]===d)&&m.every(u=>u[0]instanceof Set&&u[0].has(d))},a=d=>r.has(d)||!o(d)?!1:(r.add(d),d(()=>i(d)),!0),i=d=>{if(!r.has(d))return!1;let{paths:c,dirs:m}=t.get(d),u=new Set;return c.forEach(w=>{let S=e.get(w);$B.equal(S[0],d),S.length===1?e.delete(w):(S.shift(),typeof S[0]=="function"?u.add(S[0]):S[0].forEach(I=>u.add(I)))}),m.forEach(w=>{let S=e.get(w);$B(S[0]instanceof Set),S[0].size===1&&S.length===1?e.delete(w):S[0].size===1?(S.shift(),u.add(S[0])):S[0].delete(d)}),r.delete(d),u.forEach(w=>a(w)),!0};return{check:o,reserve:(d,c)=>{d=eW?["win32 parallelization disabled"]:d.map(u=>QV(ZV(GB(u))).toLowerCase());let m=new Set(d.map(u=>n(u)).reduce((u,w)=>u.concat(w)));return t.set(c,{dirs:m,paths:d}),d.forEach(u=>{let w=e.get(u);w?w.push(c):e.set(u,[c])}),m.forEach(u=>{let w=e.get(u);w?w[w.length-1]instanceof Set?w[w.length-1].add(c):w.push(new Set([c])):e.set(u,[new Set([c])])}),a(c)}}}});var WB=k((eve,VB)=>{var tW=process.env.__FAKE_PLATFORM__||process.platform,nW=tW==="win32",rW=global.__FAKE_TESTING_FS__||require("fs"),{O_CREAT:sW,O_TRUNC:oW,O_WRONLY:iW,UV_FS_O_FILEMAP:KB=0}=rW.constants,aW=nW&&!!KB,cW=512*1024,dW=KB|oW|sW|iW;VB.exports=aW?e=>e<cW?dW:"w":()=>"w"});var mE=k((tve,cO)=>{"use strict";var lW=require("assert"),uW=of(),Te=require("fs"),mW=Hc(),Br=require("path"),oO=zB(),YB=ug(),fW=HB(),hW=mg(),sn=Dc(),pW=Fc(),yW=rE(),XB=Symbol("onEntry"),iE=Symbol("checkFs"),QB=Symbol("checkFs2"),gf=Symbol("pruneCache"),aE=Symbol("isReusable"),_n=Symbol("makeFs"),cE=Symbol("file"),dE=Symbol("directory"),Ef=Symbol("link"),ZB=Symbol("symlink"),JB=Symbol("hardlink"),eO=Symbol("unsupported"),tO=Symbol("checkPath"),Gs=Symbol("mkdir"),Tt=Symbol("onError"),pf=Symbol("pending"),nO=Symbol("pend"),Xc=Symbol("unpend"),sE=Symbol("ended"),oE=Symbol("maybeClose"),lE=Symbol("skip"),ul=Symbol("doChown"),ml=Symbol("uid"),fl=Symbol("gid"),hl=Symbol("checkedCwd"),iO=require("crypto"),aO=WB(),gW=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform,pl=gW==="win32",EW=(e,t)=>{if(!pl)return Te.unlink(e,t);let n=e+".DELETE."+iO.randomBytes(16).toString("hex");Te.rename(e,n,r=>{if(r)return t(r);Te.unlink(n,t)})},SW=e=>{if(!pl)return Te.unlinkSync(e);let t=e+".DELETE."+iO.randomBytes(16).toString("hex");Te.renameSync(e,t),Te.unlinkSync(t)},rO=(e,t,n)=>e===e>>>0?e:t===t>>>0?t:n,sO=e=>yW(pW(sn(e))).toLowerCase(),xW=(e,t)=>{t=sO(t);for(let n of e.keys()){let r=sO(n);(r===t||r.indexOf(t+"/")===0)&&e.delete(n)}},wW=e=>{for(let t of e.keys())e.delete(t)},yl=class extends uW{constructor(t){if(t||(t={}),t.ondone=n=>{this[sE]=!0,this[oE]()},super(t),this[hl]=!1,this.reservations=fW(),this.transform=typeof t.transform=="function"?t.transform:null,this.writable=!0,this.readable=!1,this[pf]=0,this[sE]=!1,this.dirCache=t.dirCache||new Map,typeof t.uid=="number"||typeof t.gid=="number"){if(typeof t.uid!="number"||typeof t.gid!="number")throw new TypeError("cannot set owner without number uid and gid");if(t.preserveOwner)throw new TypeError("cannot preserve owner in archive and also set owner explicitly");this.uid=t.uid,this.gid=t.gid,this.setOwner=!0}else this.uid=null,this.gid=null,this.setOwner=!1;t.preserveOwner===void 0&&typeof t.uid!="number"?this.preserveOwner=process.getuid&&process.getuid()===0:this.preserveOwner=!!t.preserveOwner,this.processUid=(this.preserveOwner||this.setOwner)&&process.getuid?process.getuid():null,this.processGid=(this.preserveOwner||this.setOwner)&&process.getgid?process.getgid():null,this.forceChown=t.forceChown===!0,this.win32=!!t.win32||pl,this.newer=!!t.newer,this.keep=!!t.keep,this.noMtime=!!t.noMtime,this.preservePaths=!!t.preservePaths,this.unlink=!!t.unlink,this.cwd=sn(Br.resolve(t.cwd||process.cwd())),this.strip=+t.strip||0,this.processUmask=t.noChmod?0:process.umask(),this.umask=typeof t.umask=="number"?t.umask:this.processUmask,this.dmode=t.dmode||511&~this.umask,this.fmode=t.fmode||438&~this.umask,this.on("entry",n=>this[XB](n))}warn(t,n,r={}){return(t==="TAR_BAD_ARCHIVE"||t==="TAR_ABORT")&&(r.recoverable=!1),super.warn(t,n,r)}[oE](){this[sE]&&this[pf]===0&&(this.emit("prefinish"),this.emit("finish"),this.emit("end"))}[tO](t){if(this.strip){let n=sn(t.path).split("/");if(n.length<this.strip)return!1;if(t.path=n.slice(this.strip).join("/"),t.type==="Link"){let r=sn(t.linkpath).split("/");if(r.length>=this.strip)t.linkpath=r.slice(this.strip).join("/");else return!1}}if(!this.preservePaths){let n=sn(t.path),r=n.split("/");if(r.includes("..")||pl&&/^[a-z]:\.\.$/i.test(r[0]))return this.warn("TAR_ENTRY_ERROR","path contains '..'",{entry:t,path:n}),!1;let[s,o]=hW(n);s&&(t.path=o,this.warn("TAR_ENTRY_INFO",`stripping ${s} from absolute path`,{entry:t,path:n}))}if(Br.isAbsolute(t.path)?t.absolute=sn(Br.resolve(t.path)):t.absolute=sn(Br.resolve(this.cwd,t.path)),!this.preservePaths&&t.absolute.indexOf(this.cwd+"/")!==0&&t.absolute!==this.cwd)return this.warn("TAR_ENTRY_ERROR","path escaped extraction target",{entry:t,path:sn(t.path),resolvedPath:t.absolute,cwd:this.cwd}),!1;if(t.absolute===this.cwd&&t.type!=="Directory"&&t.type!=="GNUDumpDir")return!1;if(this.win32){let{root:n}=Br.win32.parse(t.absolute);t.absolute=n+YB.encode(t.absolute.slice(n.length));let{root:r}=Br.win32.parse(t.path);t.path=r+YB.encode(t.path.slice(r.length))}return!0}[XB](t){if(!this[tO](t))return t.resume();switch(lW.equal(typeof t.absolute,"string"),t.type){case"Directory":case"GNUDumpDir":t.mode&&(t.mode=t.mode|448);case"File":case"OldFile":case"ContiguousFile":case"Link":case"SymbolicLink":return this[iE](t);case"CharacterDevice":case"BlockDevice":case"FIFO":default:return this[eO](t)}}[Tt](t,n){t.name==="CwdError"?this.emit("error",t):(this.warn("TAR_ENTRY_ERROR",t,{entry:n}),this[Xc](),n.resume())}[Gs](t,n,r){oO(sn(t),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:n,noChmod:this.noChmod},r)}[ul](t){return this.forceChown||this.preserveOwner&&(typeof t.uid=="number"&&t.uid!==this.processUid||typeof t.gid=="number"&&t.gid!==this.processGid)||typeof this.uid=="number"&&this.uid!==this.processUid||typeof this.gid=="number"&&this.gid!==this.processGid}[ml](t){return rO(this.uid,t.uid,this.processUid)}[fl](t){return rO(this.gid,t.gid,this.processGid)}[cE](t,n){let r=t.mode&4095||this.fmode,s=new mW.WriteStream(t.absolute,{flags:aO(t.size),mode:r,autoClose:!1});s.on("error",l=>{s.fd&&Te.close(s.fd,()=>{}),s.write=()=>!0,this[Tt](l,t),n()});let o=1,a=l=>{if(l){s.fd&&Te.close(s.fd,()=>{}),this[Tt](l,t),n();return}--o===0&&Te.close(s.fd,d=>{d?this[Tt](d,t):this[Xc](),n()})};s.on("finish",l=>{let d=t.absolute,c=s.fd;if(t.mtime&&!this.noMtime){o++;let m=t.atime||new Date,u=t.mtime;Te.futimes(c,m,u,w=>w?Te.utimes(d,m,u,S=>a(S&&w)):a())}if(this[ul](t)){o++;let m=this[ml](t),u=this[fl](t);Te.fchown(c,m,u,w=>w?Te.chown(d,m,u,S=>a(S&&w)):a())}a()});let i=this.transform&&this.transform(t)||t;i!==t&&(i.on("error",l=>{this[Tt](l,t),n()}),t.pipe(i)),i.pipe(s)}[dE](t,n){let r=t.mode&4095||this.dmode;this[Gs](t.absolute,r,s=>{if(s){this[Tt](s,t),n();return}let o=1,a=i=>{--o===0&&(n(),this[Xc](),t.resume())};t.mtime&&!this.noMtime&&(o++,Te.utimes(t.absolute,t.atime||new Date,t.mtime,a)),this[ul](t)&&(o++,Te.chown(t.absolute,this[ml](t),this[fl](t),a)),a()})}[eO](t){t.unsupported=!0,this.warn("TAR_ENTRY_UNSUPPORTED",`unsupported entry type: ${t.type}`,{entry:t}),t.resume()}[ZB](t,n){this[Ef](t,t.linkpath,"symlink",n)}[JB](t,n){let r=sn(Br.resolve(this.cwd,t.linkpath));this[Ef](t,r,"link",n)}[nO](){this[pf]++}[Xc](){this[pf]--,this[oE]()}[lE](t){this[Xc](),t.resume()}[aE](t,n){return t.type==="File"&&!this.unlink&&n.isFile()&&n.nlink<=1&&!pl}[iE](t){this[nO]();let n=[t.path];t.linkpath&&n.push(t.linkpath),this.reservations.reserve(n,r=>this[QB](t,r))}[gf](t){t.type==="SymbolicLink"?wW(this.dirCache):t.type!=="Directory"&&xW(this.dirCache,t.absolute)}[QB](t,n){this[gf](t);let r=i=>{this[gf](t),n(i)},s=()=>{this[Gs](this.cwd,this.dmode,i=>{if(i){this[Tt](i,t),r();return}this[hl]=!0,o()})},o=()=>{if(t.absolute!==this.cwd){let i=sn(Br.dirname(t.absolute));if(i!==this.cwd)return this[Gs](i,this.dmode,l=>{if(l){this[Tt](l,t),r();return}a()})}a()},a=()=>{Te.lstat(t.absolute,(i,l)=>{if(l&&(this.keep||this.newer&&l.mtime>t.mtime)){this[lE](t),r();return}if(i||this[aE](t,l))return this[_n](null,t,r);if(l.isDirectory()){if(t.type==="Directory"){let d=!this.noChmod&&t.mode&&(l.mode&4095)!==t.mode,c=m=>this[_n](m,t,r);return d?Te.chmod(t.absolute,t.mode,c):c()}if(t.absolute!==this.cwd)return Te.rmdir(t.absolute,d=>this[_n](d,t,r))}if(t.absolute===this.cwd)return this[_n](null,t,r);EW(t.absolute,d=>this[_n](d,t,r))})};this[hl]?o():s()}[_n](t,n,r){if(t){this[Tt](t,n),r();return}switch(n.type){case"File":case"OldFile":case"ContiguousFile":return this[cE](n,r);case"Link":return this[JB](n,r);case"SymbolicLink":return this[ZB](n,r);case"Directory":case"GNUDumpDir":return this[dE](n,r)}}[Ef](t,n,r,s){Te[r](n,t.absolute,o=>{o?this[Tt](o,t):(this[Xc](),t.resume()),s()})}},yf=e=>{try{return[null,e()]}catch(t){return[t,null]}},uE=class extends yl{[_n](t,n){return super[_n](t,n,()=>{})}[iE](t){if(this[gf](t),!this[hl]){let o=this[Gs](this.cwd,this.dmode);if(o)return this[Tt](o,t);this[hl]=!0}if(t.absolute!==this.cwd){let o=sn(Br.dirname(t.absolute));if(o!==this.cwd){let a=this[Gs](o,this.dmode);if(a)return this[Tt](a,t)}}let[n,r]=yf(()=>Te.lstatSync(t.absolute));if(r&&(this.keep||this.newer&&r.mtime>t.mtime))return this[lE](t);if(n||this[aE](t,r))return this[_n](null,t);if(r.isDirectory()){if(t.type==="Directory"){let a=!this.noChmod&&t.mode&&(r.mode&4095)!==t.mode,[i]=a?yf(()=>{Te.chmodSync(t.absolute,t.mode)}):[];return this[_n](i,t)}let[o]=yf(()=>Te.rmdirSync(t.absolute));this[_n](o,t)}let[s]=t.absolute===this.cwd?[]:yf(()=>SW(t.absolute));this[_n](s,t)}[cE](t,n){let r=t.mode&4095||this.fmode,s=i=>{let l;try{Te.closeSync(o)}catch(d){l=d}(i||l)&&this[Tt](i||l,t),n()},o;try{o=Te.openSync(t.absolute,aO(t.size),r)}catch(i){return s(i)}let a=this.transform&&this.transform(t)||t;a!==t&&(a.on("error",i=>this[Tt](i,t)),t.pipe(a)),a.on("data",i=>{try{Te.writeSync(o,i,0,i.length)}catch(l){s(l)}}),a.on("end",i=>{let l=null;if(t.mtime&&!this.noMtime){let d=t.atime||new Date,c=t.mtime;try{Te.futimesSync(o,d,c)}catch(m){try{Te.utimesSync(t.absolute,d,c)}catch{l=m}}}if(this[ul](t)){let d=this[ml](t),c=this[fl](t);try{Te.fchownSync(o,d,c)}catch(m){try{Te.chownSync(t.absolute,d,c)}catch{l=l||m}}}s(l)})}[dE](t,n){let r=t.mode&4095||this.dmode,s=this[Gs](t.absolute,r);if(s){this[Tt](s,t),n();return}if(t.mtime&&!this.noMtime)try{Te.utimesSync(t.absolute,t.atime||new Date,t.mtime)}catch{}if(this[ul](t))try{Te.chownSync(t.absolute,this[ml](t),this[fl](t))}catch{}n(),t.resume()}[Gs](t,n){try{return oO.sync(sn(t),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:n})}catch(r){return r}}[Ef](t,n,r,s){try{Te[r+"Sync"](n,t.absolute),s(),t.resume()}catch(o){return this[Tt](o,t)}}};yl.Sync=uE;cO.exports=yl});var fO=k((nve,mO)=>{"use strict";var CW=Rc(),Sf=mE(),lO=require("fs"),uO=Hc(),dO=require("path"),fE=Fc();mO.exports=(e,t,n)=>{typeof e=="function"?(n=e,t=null,e={}):Array.isArray(e)&&(t=e,e={}),typeof t=="function"&&(n=t,t=null),t?t=Array.from(t):t=[];let r=CW(e);if(r.sync&&typeof n=="function")throw new TypeError("callback not supported for sync tar functions");if(!r.file&&typeof n=="function")throw new TypeError("callback only supported with file option");return t.length&&bW(r,t),r.file&&r.sync?PW(r):r.file?_W(r,n):r.sync?AW(r):kW(r)};var bW=(e,t)=>{let n=new Map(t.map(o=>[fE(o),!0])),r=e.filter,s=(o,a)=>{let i=a||dO.parse(o).root||".",l=o===i?!1:n.has(o)?n.get(o):s(dO.dirname(o),i);return n.set(o,l),l};e.filter=r?(o,a)=>r(o,a)&&s(fE(o)):o=>s(fE(o))},PW=e=>{let t=new Sf.Sync(e),n=e.file,r=lO.statSync(n),s=e.maxReadSize||16*1024*1024;new uO.ReadStreamSync(n,{readSize:s,size:r.size}).pipe(t)},_W=(e,t)=>{let n=new Sf(e),r=e.maxReadSize||16*1024*1024,s=e.file,o=new Promise((a,i)=>{n.on("error",i),n.on("close",a),lO.stat(s,(l,d)=>{if(l)i(l);else{let c=new uO.ReadStream(s,{readSize:r,size:d.size});c.on("error",i),c.pipe(n)}})});return t?o.then(t,t):o},AW=e=>new Sf.Sync(e),kW=e=>new Sf(e)});var hO=k(mt=>{"use strict";mt.c=mt.create=YD();mt.r=mt.replace=Wg();mt.t=mt.list=af();mt.u=mt.update=sB();mt.x=mt.extract=fO();mt.Pack=Hm();mt.Unpack=mE();mt.Parse=of();mt.ReadEntry=Rm();mt.WriteEntry=Cg();mt.Header=Oc();mt.Pax=Nm();mt.types=sg()});var yO=k((sve,pO)=>{"use strict";pO.exports=(...e)=>[...new Set([].concat(...e))]});var hE=k((ove,SO)=>{"use strict";var RW=require("stream"),gO=RW.PassThrough,IW=Array.prototype.slice;SO.exports=NW;function NW(){let e=[],t=IW.call(arguments),n=!1,r=t[t.length-1];r&&!Array.isArray(r)&&r.pipe==null?t.pop():r={};let s=r.end!==!1,o=r.pipeError===!0;r.objectMode==null&&(r.objectMode=!0),r.highWaterMark==null&&(r.highWaterMark=64*1024);let a=gO(r);function i(){for(let c=0,m=arguments.length;c<m;c++)e.push(EO(arguments[c],r));return l(),this}function l(){if(n)return;n=!0;let c=e.shift();if(!c){process.nextTick(d);return}Array.isArray(c)||(c=[c]);let m=c.length+1;function u(){--m>0||(n=!1,l())}function w(S){function I(){S.removeListener("merge2UnpipeEnd",I),S.removeListener("end",I),o&&S.removeListener("error",D),u()}function D(X){a.emit("error",X)}if(S._readableState.endEmitted)return u();S.on("merge2UnpipeEnd",I),S.on("end",I),o&&S.on("error",D),S.pipe(a,{end:!1}),S.resume()}for(let S=0;S<c.length;S++)w(c[S]);u()}function d(){n=!1,a.emit("queueDrain"),s&&a.end()}return a.setMaxListeners(0),a.add=i,a.on("unpipe",function(c){c.emit("merge2UnpipeEnd")}),t.length&&i.apply(null,t),a}function EO(e,t){if(Array.isArray(e))for(let n=0,r=e.length;n<r;n++)e[n]=EO(e[n],t);else{if(!e._readableState&&e.pipe&&(e=e.pipe(gO(t))),!e._readableState||!e.pause||!e.pipe)throw new Error("Only readable stream can be merged.");e.pause()}return e}});var xO=k(Qc=>{"use strict";Object.defineProperty(Qc,"__esModule",{value:!0});Qc.splitWhen=Qc.flatten=void 0;function vW(e){return e.reduce((t,n)=>[].concat(t,n),[])}Qc.flatten=vW;function TW(e,t){let n=[[]],r=0;for(let s of e)t(s)?(r++,n[r]=[]):n[r].push(s);return n}Qc.splitWhen=TW});var wO=k(xf=>{"use strict";Object.defineProperty(xf,"__esModule",{value:!0});xf.isEnoentCodeError=void 0;function DW(e){return e.code==="ENOENT"}xf.isEnoentCodeError=DW});var CO=k(wf=>{"use strict";Object.defineProperty(wf,"__esModule",{value:!0});wf.createDirentFromStats=void 0;var pE=class{constructor(t,n){this.name=t,this.isBlockDevice=n.isBlockDevice.bind(n),this.isCharacterDevice=n.isCharacterDevice.bind(n),this.isDirectory=n.isDirectory.bind(n),this.isFIFO=n.isFIFO.bind(n),this.isFile=n.isFile.bind(n),this.isSocket=n.isSocket.bind(n),this.isSymbolicLink=n.isSymbolicLink.bind(n)}};function BW(e,t){return new pE(e,t)}wf.createDirentFromStats=BW});var bO=k(or=>{"use strict";Object.defineProperty(or,"__esModule",{value:!0});or.removeLeadingDotSegment=or.escape=or.makeAbsolute=or.unixify=void 0;var OW=require("path"),FW=2,MW=/(\\?)([()*?[\]{|}]|^!|[!+@](?=\())/g;function LW(e){return e.replace(/\\/g,"/")}or.unixify=LW;function UW(e,t){return OW.resolve(e,t)}or.makeAbsolute=UW;function zW(e){return e.replace(MW,"\\$2")}or.escape=zW;function qW(e){if(e.charAt(0)==="."){let t=e.charAt(1);if(t==="/"||t==="\\")return e.slice(FW)}return e}or.removeLeadingDotSegment=qW});var _O=k((lve,PO)=>{PO.exports=function(t){if(typeof t!="string"||t==="")return!1;for(var n;n=/(\\).|([@?!+*]\(.*\))/g.exec(t);){if(n[2])return!0;t=t.slice(n.index+n[0].length)}return!1}});var RO=k((uve,kO)=>{var $W=_O(),AO={"{":"}","(":")","[":"]"},GW=function(e){if(e[0]==="!")return!0;for(var t=0,n=-2,r=-2,s=-2,o=-2,a=-2;t<e.length;){if(e[t]==="*"||e[t+1]==="?"&&/[\].+)]/.test(e[t])||r!==-1&&e[t]==="["&&e[t+1]!=="]"&&(r<t&&(r=e.indexOf("]",t)),r>t&&(a===-1||a>r||(a=e.indexOf("\\",t),a===-1||a>r)))||s!==-1&&e[t]==="{"&&e[t+1]!=="}"&&(s=e.indexOf("}",t),s>t&&(a=e.indexOf("\\",t),a===-1||a>s))||o!==-1&&e[t]==="("&&e[t+1]==="?"&&/[:!=]/.test(e[t+2])&&e[t+3]!==")"&&(o=e.indexOf(")",t),o>t&&(a=e.indexOf("\\",t),a===-1||a>o))||n!==-1&&e[t]==="("&&e[t+1]!=="|"&&(n<t&&(n=e.indexOf("|",t)),n!==-1&&e[n+1]!==")"&&(o=e.indexOf(")",n),o>n&&(a=e.indexOf("\\",n),a===-1||a>o))))return!0;if(e[t]==="\\"){var i=e[t+1];t+=2;var l=AO[i];if(l){var d=e.indexOf(l,t);d!==-1&&(t=d+1)}if(e[t]==="!")return!0}else t++}return!1},jW=function(e){if(e[0]==="!")return!0;for(var t=0;t<e.length;){if(/[*?{}()[\]]/.test(e[t]))return!0;if(e[t]==="\\"){var n=e[t+1];t+=2;var r=AO[n];if(r){var s=e.indexOf(r,t);s!==-1&&(t=s+1)}if(e[t]==="!")return!0}else t++}return!1};kO.exports=function(t,n){if(typeof t!="string"||t==="")return!1;if($W(t))return!0;var r=GW;return n&&n.strict===!1&&(r=jW),r(t)}});var NO=k((mve,IO)=>{"use strict";var HW=RO(),KW=require("path").posix.dirname,VW=require("os").platform()==="win32",yE="/",WW=/\\/g,YW=/[\{\[].*[\}\]]$/,XW=/(^|[^\\])([\{\[]|\([^\)]+$)/,QW=/\\([\!\*\?\|\[\]\(\)\{\}])/g;IO.exports=function(t,n){var r=Object.assign({flipBackslashes:!0},n);r.flipBackslashes&&VW&&t.indexOf(yE)<0&&(t=t.replace(WW,yE)),YW.test(t)&&(t+=yE),t+="a";do t=KW(t);while(HW(t)||XW.test(t));return t.replace(QW,"$1")}});var Cf=k(An=>{"use strict";An.isInteger=e=>typeof e=="number"?Number.isInteger(e):typeof e=="string"&&e.trim()!==""?Number.isInteger(Number(e)):!1;An.find=(e,t)=>e.nodes.find(n=>n.type===t);An.exceedsLimit=(e,t,n=1,r)=>r===!1||!An.isInteger(e)||!An.isInteger(t)?!1:(Number(t)-Number(e))/Number(n)>=r;An.escapeNode=(e,t=0,n)=>{let r=e.nodes[t];r&&(n&&r.type===n||r.type==="open"||r.type==="close")&&r.escaped!==!0&&(r.value="\\"+r.value,r.escaped=!0)};An.encloseBrace=e=>e.type!=="brace"||e.commas>>0+e.ranges>>0?!1:(e.invalid=!0,!0);An.isInvalidBrace=e=>e.type!=="brace"?!1:e.invalid===!0||e.dollar?!0:!(e.commas>>0+e.ranges>>0)||e.open!==!0||e.close!==!0?(e.invalid=!0,!0):!1;An.isOpenOrClose=e=>e.type==="open"||e.type==="close"?!0:e.open===!0||e.close===!0;An.reduce=e=>e.reduce((t,n)=>(n.type==="text"&&t.push(n.value),n.type==="range"&&(n.type="text"),t),[]);An.flatten=(...e)=>{let t=[],n=r=>{for(let s=0;s<r.length;s++){let o=r[s];Array.isArray(o)?n(o,t):o!==void 0&&t.push(o)}return t};return n(e),t}});var bf=k((hve,TO)=>{"use strict";var vO=Cf();TO.exports=(e,t={})=>{let n=(r,s={})=>{let o=t.escapeInvalid&&vO.isInvalidBrace(s),a=r.invalid===!0&&t.escapeInvalid===!0,i="";if(r.value)return(o||a)&&vO.isOpenOrClose(r)?"\\"+r.value:r.value;if(r.value)return r.value;if(r.nodes)for(let l of r.nodes)i+=n(l);return i};return n(e)}});var BO=k((pve,DO)=>{"use strict";DO.exports=function(e){return typeof e=="number"?e-e===0:typeof e=="string"&&e.trim()!==""?Number.isFinite?Number.isFinite(+e):isFinite(+e):!1}});var GO=k((yve,$O)=>{"use strict";var OO=BO(),ko=(e,t,n)=>{if(OO(e)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(t===void 0||e===t)return String(e);if(OO(t)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let r={relaxZeros:!0,...n};typeof r.strictZeros=="boolean"&&(r.relaxZeros=r.strictZeros===!1);let s=String(r.relaxZeros),o=String(r.shorthand),a=String(r.capture),i=String(r.wrap),l=e+":"+t+"="+s+o+a+i;if(ko.cache.hasOwnProperty(l))return ko.cache[l].result;let d=Math.min(e,t),c=Math.max(e,t);if(Math.abs(d-c)===1){let I=e+"|"+t;return r.capture?`(${I})`:r.wrap===!1?I:`(?:${I})`}let m=qO(e)||qO(t),u={min:e,max:t,a:d,b:c},w=[],S=[];if(m&&(u.isPadded=m,u.maxLen=String(u.max).length),d<0){let I=c<0?Math.abs(c):1;S=FO(I,Math.abs(d),u,r),d=u.a=0}return c>=0&&(w=FO(d,c,u,r)),u.negatives=S,u.positives=w,u.result=ZW(S,w,r),r.capture===!0?u.result=`(${u.result})`:r.wrap!==!1&&w.length+S.length>1&&(u.result=`(?:${u.result})`),ko.cache[l]=u,u.result};function ZW(e,t,n){let r=gE(e,t,"-",!1,n)||[],s=gE(t,e,"",!1,n)||[],o=gE(e,t,"-?",!0,n)||[];return r.concat(o).concat(s).join("|")}function JW(e,t){let n=1,r=1,s=LO(e,n),o=new Set([t]);for(;e<=s&&s<=t;)o.add(s),n+=1,s=LO(e,n);for(s=UO(t+1,r)-1;e<s&&s<=t;)o.add(s),r+=1,s=UO(t+1,r)-1;return o=[...o],o.sort(n9),o}function e9(e,t,n){if(e===t)return{pattern:e,count:[],digits:0};let r=t9(e,t),s=r.length,o="",a=0;for(let i=0;i<s;i++){let[l,d]=r[i];l===d?o+=l:l!=="0"||d!=="9"?o+=r9(l,d,n):a++}return a&&(o+=n.shorthand===!0?"\\d":"[0-9]"),{pattern:o,count:[a],digits:s}}function FO(e,t,n,r){let s=JW(e,t),o=[],a=e,i;for(let l=0;l<s.length;l++){let d=s[l],c=e9(String(a),String(d),r),m="";if(!n.isPadded&&i&&i.pattern===c.pattern){i.count.length>1&&i.count.pop(),i.count.push(c.count[0]),i.string=i.pattern+zO(i.count),a=d+1;continue}n.isPadded&&(m=s9(d,n,r)),c.string=m+c.pattern+zO(c.count),o.push(c),a=d+1,i=c}return o}function gE(e,t,n,r,s){let o=[];for(let a of e){let{string:i}=a;!r&&!MO(t,"string",i)&&o.push(n+i),r&&MO(t,"string",i)&&o.push(n+i)}return o}function t9(e,t){let n=[];for(let r=0;r<e.length;r++)n.push([e[r],t[r]]);return n}function n9(e,t){return e>t?1:t>e?-1:0}function MO(e,t,n){return e.some(r=>r[t]===n)}function LO(e,t){return Number(String(e).slice(0,-t)+"9".repeat(t))}function UO(e,t){return e-e%Math.pow(10,t)}function zO(e){let[t=0,n=""]=e;return n||t>1?`{${t+(n?","+n:"")}}`:""}function r9(e,t,n){return`[${e}${t-e===1?"":"-"}${t}]`}function qO(e){return/^-?(0+)\d/.test(e)}function s9(e,t,n){if(!t.isPadded)return e;let r=Math.abs(t.maxLen-String(e).length),s=n.relaxZeros!==!1;switch(r){case 0:return"";case 1:return s?"0?":"0";case 2:return s?"0{0,2}":"00";default:return s?`0{0,${r}}`:`0{${r}}`}}ko.cache={};ko.clearCache=()=>ko.cache={};$O.exports=ko});var xE=k((gve,QO)=>{"use strict";var o9=require("util"),KO=GO(),jO=e=>e!==null&&typeof e=="object"&&!Array.isArray(e),i9=e=>t=>e===!0?Number(t):String(t),EE=e=>typeof e=="number"||typeof e=="string"&&e!=="",gl=e=>Number.isInteger(+e),SE=e=>{let t=`${e}`,n=-1;if(t[0]==="-"&&(t=t.slice(1)),t==="0")return!1;for(;t[++n]==="0";);return n>0},a9=(e,t,n)=>typeof e=="string"||typeof t=="string"?!0:n.stringify===!0,c9=(e,t,n)=>{if(t>0){let r=e[0]==="-"?"-":"";r&&(e=e.slice(1)),e=r+e.padStart(r?t-1:t,"0")}return n===!1?String(e):e},HO=(e,t)=>{let n=e[0]==="-"?"-":"";for(n&&(e=e.slice(1),t--);e.length<t;)e="0"+e;return n?"-"+e:e},d9=(e,t)=>{e.negatives.sort((a,i)=>a<i?-1:a>i?1:0),e.positives.sort((a,i)=>a<i?-1:a>i?1:0);let n=t.capture?"":"?:",r="",s="",o;return e.positives.length&&(r=e.positives.join("|")),e.negatives.length&&(s=`-(${n}${e.negatives.join("|")})`),r&&s?o=`${r}|${s}`:o=r||s,t.wrap?`(${n}${o})`:o},VO=(e,t,n,r)=>{if(n)return KO(e,t,{wrap:!1,...r});let s=String.fromCharCode(e);if(e===t)return s;let o=String.fromCharCode(t);return`[${s}-${o}]`},WO=(e,t,n)=>{if(Array.isArray(e)){let r=n.wrap===!0,s=n.capture?"":"?:";return r?`(${s}${e.join("|")})`:e.join("|")}return KO(e,t,n)},YO=(...e)=>new RangeError("Invalid range arguments: "+o9.inspect(...e)),XO=(e,t,n)=>{if(n.strictRanges===!0)throw YO([e,t]);return[]},l9=(e,t)=>{if(t.strictRanges===!0)throw new TypeError(`Expected step "${e}" to be a number`);return[]},u9=(e,t,n=1,r={})=>{let s=Number(e),o=Number(t);if(!Number.isInteger(s)||!Number.isInteger(o)){if(r.strictRanges===!0)throw YO([e,t]);return[]}s===0&&(s=0),o===0&&(o=0);let a=s>o,i=String(e),l=String(t),d=String(n);n=Math.max(Math.abs(n),1);let c=SE(i)||SE(l)||SE(d),m=c?Math.max(i.length,l.length,d.length):0,u=c===!1&&a9(e,t,r)===!1,w=r.transform||i9(u);if(r.toRegex&&n===1)return VO(HO(e,m),HO(t,m),!0,r);let S={negatives:[],positives:[]},I=Ce=>S[Ce<0?"negatives":"positives"].push(Math.abs(Ce)),D=[],X=0;for(;a?s>=o:s<=o;)r.toRegex===!0&&n>1?I(s):D.push(c9(w(s,X),m,u)),s=a?s-n:s+n,X++;return r.toRegex===!0?n>1?d9(S,r):WO(D,null,{wrap:!1,...r}):D},m9=(e,t,n=1,r={})=>{if(!gl(e)&&e.length>1||!gl(t)&&t.length>1)return XO(e,t,r);let s=r.transform||(u=>String.fromCharCode(u)),o=`${e}`.charCodeAt(0),a=`${t}`.charCodeAt(0),i=o>a,l=Math.min(o,a),d=Math.max(o,a);if(r.toRegex&&n===1)return VO(l,d,!1,r);let c=[],m=0;for(;i?o>=a:o<=a;)c.push(s(o,m)),o=i?o-n:o+n,m++;return r.toRegex===!0?WO(c,null,{wrap:!1,options:r}):c},Pf=(e,t,n,r={})=>{if(t==null&&EE(e))return[e];if(!EE(e)||!EE(t))return XO(e,t,r);if(typeof n=="function")return Pf(e,t,1,{transform:n});if(jO(n))return Pf(e,t,0,n);let s={...r};return s.capture===!0&&(s.wrap=!0),n=n||s.step||1,gl(n)?gl(e)&&gl(t)?u9(e,t,n,s):m9(e,t,Math.max(Math.abs(n),1),s):n!=null&&!jO(n)?l9(n,s):Pf(e,t,1,n)};QO.exports=Pf});var eF=k((Eve,JO)=>{"use strict";var f9=xE(),ZO=Cf(),h9=(e,t={})=>{let n=(r,s={})=>{let o=ZO.isInvalidBrace(s),a=r.invalid===!0&&t.escapeInvalid===!0,i=o===!0||a===!0,l=t.escapeInvalid===!0?"\\":"",d="";if(r.isOpen===!0||r.isClose===!0)return l+r.value;if(r.type==="open")return i?l+r.value:"(";if(r.type==="close")return i?l+r.value:")";if(r.type==="comma")return r.prev.type==="comma"?"":i?r.value:"|";if(r.value)return r.value;if(r.nodes&&r.ranges>0){let c=ZO.reduce(r.nodes),m=f9(...c,{...t,wrap:!1,toRegex:!0});if(m.length!==0)return c.length>1&&m.length>1?`(${m})`:m}if(r.nodes)for(let c of r.nodes)d+=n(c,r);return d};return n(e)};JO.exports=h9});var rF=k((Sve,nF)=>{"use strict";var p9=xE(),tF=bf(),Zc=Cf(),Ro=(e="",t="",n=!1)=>{let r=[];if(e=[].concat(e),t=[].concat(t),!t.length)return e;if(!e.length)return n?Zc.flatten(t).map(s=>`{${s}}`):t;for(let s of e)if(Array.isArray(s))for(let o of s)r.push(Ro(o,t,n));else for(let o of t)n===!0&&typeof o=="string"&&(o=`{${o}}`),r.push(Array.isArray(o)?Ro(s,o,n):s+o);return Zc.flatten(r)},y9=(e,t={})=>{let n=t.rangeLimit===void 0?1e3:t.rangeLimit,r=(s,o={})=>{s.queue=[];let a=o,i=o.queue;for(;a.type!=="brace"&&a.type!=="root"&&a.parent;)a=a.parent,i=a.queue;if(s.invalid||s.dollar){i.push(Ro(i.pop(),tF(s,t)));return}if(s.type==="brace"&&s.invalid!==!0&&s.nodes.length===2){i.push(Ro(i.pop(),["{}"]));return}if(s.nodes&&s.ranges>0){let m=Zc.reduce(s.nodes);if(Zc.exceedsLimit(...m,t.step,n))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let u=p9(...m,t);u.length===0&&(u=tF(s,t)),i.push(Ro(i.pop(),u)),s.nodes=[];return}let l=Zc.encloseBrace(s),d=s.queue,c=s;for(;c.type!=="brace"&&c.type!=="root"&&c.parent;)c=c.parent,d=c.queue;for(let m=0;m<s.nodes.length;m++){let u=s.nodes[m];if(u.type==="comma"&&s.type==="brace"){m===1&&d.push(""),d.push("");continue}if(u.type==="close"){i.push(Ro(i.pop(),d,l));continue}if(u.value&&u.type!=="open"){d.push(Ro(d.pop(),u.value));continue}u.nodes&&r(u,s)}return d};return Zc.flatten(r(e))};nF.exports=y9});var oF=k((xve,sF)=>{"use strict";sF.exports={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:" ",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}});var lF=k((wve,dF)=>{"use strict";var g9=bf(),{MAX_LENGTH:iF,CHAR_BACKSLASH:wE,CHAR_BACKTICK:E9,CHAR_COMMA:S9,CHAR_DOT:x9,CHAR_LEFT_PARENTHESES:w9,CHAR_RIGHT_PARENTHESES:C9,CHAR_LEFT_CURLY_BRACE:b9,CHAR_RIGHT_CURLY_BRACE:P9,CHAR_LEFT_SQUARE_BRACKET:aF,CHAR_RIGHT_SQUARE_BRACKET:cF,CHAR_DOUBLE_QUOTE:_9,CHAR_SINGLE_QUOTE:A9,CHAR_NO_BREAK_SPACE:k9,CHAR_ZERO_WIDTH_NOBREAK_SPACE:R9}=oF(),I9=(e,t={})=>{if(typeof e!="string")throw new TypeError("Expected a string");let n=t||{},r=typeof n.maxLength=="number"?Math.min(iF,n.maxLength):iF;if(e.length>r)throw new SyntaxError(`Input length (${e.length}), exceeds max characters (${r})`);let s={type:"root",input:e,nodes:[]},o=[s],a=s,i=s,l=0,d=e.length,c=0,m=0,u,w={},S=()=>e[c++],I=D=>{if(D.type==="text"&&i.type==="dot"&&(i.type="text"),i&&i.type==="text"&&D.type==="text"){i.value+=D.value;return}return a.nodes.push(D),D.parent=a,D.prev=i,i=D,D};for(I({type:"bos"});c<d;)if(a=o[o.length-1],u=S(),!(u===R9||u===k9)){if(u===wE){I({type:"text",value:(t.keepEscaping?u:"")+S()});continue}if(u===cF){I({type:"text",value:"\\"+u});continue}if(u===aF){l++;let D=!0,X;for(;c<d&&(X=S());){if(u+=X,X===aF){l++;continue}if(X===wE){u+=S();continue}if(X===cF&&(l--,l===0))break}I({type:"text",value:u});continue}if(u===w9){a=I({type:"paren",nodes:[]}),o.push(a),I({type:"text",value:u});continue}if(u===C9){if(a.type!=="paren"){I({type:"text",value:u});continue}a=o.pop(),I({type:"text",value:u}),a=o[o.length-1];continue}if(u===_9||u===A9||u===E9){let D=u,X;for(t.keepQuotes!==!0&&(u="");c<d&&(X=S());){if(X===wE){u+=X+S();continue}if(X===D){t.keepQuotes===!0&&(u+=X);break}u+=X}I({type:"text",value:u});continue}if(u===b9){m++;let X={type:"brace",open:!0,close:!1,dollar:i.value&&i.value.slice(-1)==="$"||a.dollar===!0,depth:m,commas:0,ranges:0,nodes:[]};a=I(X),o.push(a),I({type:"open",value:u});continue}if(u===P9){if(a.type!=="brace"){I({type:"text",value:u});continue}let D="close";a=o.pop(),a.close=!0,I({type:D,value:u}),m--,a=o[o.length-1];continue}if(u===S9&&m>0){if(a.ranges>0){a.ranges=0;let D=a.nodes.shift();a.nodes=[D,{type:"text",value:g9(a)}]}I({type:"comma",value:u}),a.commas++;continue}if(u===x9&&m>0&&a.commas===0){let D=a.nodes;if(m===0||D.length===0){I({type:"text",value:u});continue}if(i.type==="dot"){if(a.range=[],i.value+=u,i.type="range",a.nodes.length!==3&&a.nodes.length!==5){a.invalid=!0,a.ranges=0,i.type="text";continue}a.ranges++,a.args=[];continue}if(i.type==="range"){D.pop();let X=D[D.length-1];X.value+=i.value+u,i=X,a.ranges--;continue}I({type:"dot",value:u});continue}I({type:"text",value:u})}do if(a=o.pop(),a.type!=="root"){a.nodes.forEach(Ce=>{Ce.nodes||(Ce.type==="open"&&(Ce.isOpen=!0),Ce.type==="close"&&(Ce.isClose=!0),Ce.nodes||(Ce.type="text"),Ce.invalid=!0)});let D=o[o.length-1],X=D.nodes.indexOf(a);D.nodes.splice(X,1,...a.nodes)}while(o.length>0);return I({type:"eos"}),s};dF.exports=I9});var fF=k((Cve,mF)=>{"use strict";var uF=bf(),N9=eF(),v9=rF(),T9=lF(),on=(e,t={})=>{let n=[];if(Array.isArray(e))for(let r of e){let s=on.create(r,t);Array.isArray(s)?n.push(...s):n.push(s)}else n=[].concat(on.create(e,t));return t&&t.expand===!0&&t.nodupes===!0&&(n=[...new Set(n)]),n};on.parse=(e,t={})=>T9(e,t);on.stringify=(e,t={})=>uF(typeof e=="string"?on.parse(e,t):e,t);on.compile=(e,t={})=>(typeof e=="string"&&(e=on.parse(e,t)),N9(e,t));on.expand=(e,t={})=>{typeof e=="string"&&(e=on.parse(e,t));let n=v9(e,t);return t.noempty===!0&&(n=n.filter(Boolean)),t.nodupes===!0&&(n=[...new Set(n)]),n};on.create=(e,t={})=>e===""||e.length<3?[e]:t.expand!==!0?on.compile(e,t):on.expand(e,t);mF.exports=on});var El=k((bve,EF)=>{"use strict";var D9=require("path"),ir="\\\\/",hF=`[^${ir}]`,Or="\\.",B9="\\+",O9="\\?",_f="\\/",F9="(?=.)",pF="[^/]",CE=`(?:${_f}|$)`,yF=`(?:^|${_f})`,bE=`${Or}{1,2}${CE}`,M9=`(?!${Or})`,L9=`(?!${yF}${bE})`,U9=`(?!${Or}{0,1}${CE})`,z9=`(?!${bE})`,q9=`[^.${_f}]`,$9=`${pF}*?`,gF={DOT_LITERAL:Or,PLUS_LITERAL:B9,QMARK_LITERAL:O9,SLASH_LITERAL:_f,ONE_CHAR:F9,QMARK:pF,END_ANCHOR:CE,DOTS_SLASH:bE,NO_DOT:M9,NO_DOTS:L9,NO_DOT_SLASH:U9,NO_DOTS_SLASH:z9,QMARK_NO_DOT:q9,STAR:$9,START_ANCHOR:yF},G9={...gF,SLASH_LITERAL:`[${ir}]`,QMARK:hF,STAR:`${hF}*?`,DOTS_SLASH:`${Or}{1,2}(?:[${ir}]|$)`,NO_DOT:`(?!${Or})`,NO_DOTS:`(?!(?:^|[${ir}])${Or}{1,2}(?:[${ir}]|$))`,NO_DOT_SLASH:`(?!${Or}{0,1}(?:[${ir}]|$))`,NO_DOTS_SLASH:`(?!${Or}{1,2}(?:[${ir}]|$))`,QMARK_NO_DOT:`[^.${ir}]`,START_ANCHOR:`(?:^|[${ir}])`,END_ANCHOR:`(?:[${ir}]|$)`},j9={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};EF.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:j9,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:D9.sep,extglobChars(e){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(e){return e===!0?G9:gF}}});var Sl=k(Zt=>{"use strict";var H9=require("path"),K9=process.platform==="win32",{REGEX_BACKSLASH:V9,REGEX_REMOVE_BACKSLASH:W9,REGEX_SPECIAL_CHARS:Y9,REGEX_SPECIAL_CHARS_GLOBAL:X9}=El();Zt.isObject=e=>e!==null&&typeof e=="object"&&!Array.isArray(e);Zt.hasRegexChars=e=>Y9.test(e);Zt.isRegexChar=e=>e.length===1&&Zt.hasRegexChars(e);Zt.escapeRegex=e=>e.replace(X9,"\\$1");Zt.toPosixSlashes=e=>e.replace(V9,"/");Zt.removeBackslashes=e=>e.replace(W9,t=>t==="\\"?"":t);Zt.supportsLookbehinds=()=>{let e=process.version.slice(1).split(".").map(Number);return e.length===3&&e[0]>=9||e[0]===8&&e[1]>=10};Zt.isWindows=e=>e&&typeof e.windows=="boolean"?e.windows:K9===!0||H9.sep==="\\";Zt.escapeLast=(e,t,n)=>{let r=e.lastIndexOf(t,n);return r===-1?e:e[r-1]==="\\"?Zt.escapeLast(e,t,r-1):`${e.slice(0,r)}\\${e.slice(r)}`};Zt.removePrefix=(e,t={})=>{let n=e;return n.startsWith("./")&&(n=n.slice(2),t.prefix="./"),n};Zt.wrapOutput=(e,t={},n={})=>{let r=n.contains?"":"^",s=n.contains?"":"$",o=`${r}(?:${e})${s}`;return t.negated===!0&&(o=`(?:^(?!${o}).*$)`),o}});var AF=k((_ve,_F)=>{"use strict";var SF=Sl(),{CHAR_ASTERISK:PE,CHAR_AT:Q9,CHAR_BACKWARD_SLASH:xl,CHAR_COMMA:Z9,CHAR_DOT:_E,CHAR_EXCLAMATION_MARK:AE,CHAR_FORWARD_SLASH:PF,CHAR_LEFT_CURLY_BRACE:kE,CHAR_LEFT_PARENTHESES:RE,CHAR_LEFT_SQUARE_BRACKET:J9,CHAR_PLUS:e7,CHAR_QUESTION_MARK:xF,CHAR_RIGHT_CURLY_BRACE:t7,CHAR_RIGHT_PARENTHESES:wF,CHAR_RIGHT_SQUARE_BRACKET:n7}=El(),CF=e=>e===PF||e===xl,bF=e=>{e.isPrefix!==!0&&(e.depth=e.isGlobstar?1/0:1)},r7=(e,t)=>{let n=t||{},r=e.length-1,s=n.parts===!0||n.scanToEnd===!0,o=[],a=[],i=[],l=e,d=-1,c=0,m=0,u=!1,w=!1,S=!1,I=!1,D=!1,X=!1,Ce=!1,ye=!1,ot=!1,pe=!1,qe=0,Ee,le,Fe={value:"",depth:0,isGlob:!1},Et=()=>d>=r,L=()=>l.charCodeAt(d+1),We=()=>(Ee=le,l.charCodeAt(++d));for(;d<r;){le=We();let Ot;if(le===xl){Ce=Fe.backslashes=!0,le=We(),le===kE&&(X=!0);continue}if(X===!0||le===kE){for(qe++;Et()!==!0&&(le=We());){if(le===xl){Ce=Fe.backslashes=!0,We();continue}if(le===kE){qe++;continue}if(X!==!0&&le===_E&&(le=We())===_E){if(u=Fe.isBrace=!0,S=Fe.isGlob=!0,pe=!0,s===!0)continue;break}if(X!==!0&&le===Z9){if(u=Fe.isBrace=!0,S=Fe.isGlob=!0,pe=!0,s===!0)continue;break}if(le===t7&&(qe--,qe===0)){X=!1,u=Fe.isBrace=!0,pe=!0;break}}if(s===!0)continue;break}if(le===PF){if(o.push(d),a.push(Fe),Fe={value:"",depth:0,isGlob:!1},pe===!0)continue;if(Ee===_E&&d===c+1){c+=2;continue}m=d+1;continue}if(n.noext!==!0&&(le===e7||le===Q9||le===PE||le===xF||le===AE)===!0&&L()===RE){if(S=Fe.isGlob=!0,I=Fe.isExtglob=!0,pe=!0,le===AE&&d===c&&(ot=!0),s===!0){for(;Et()!==!0&&(le=We());){if(le===xl){Ce=Fe.backslashes=!0,le=We();continue}if(le===wF){S=Fe.isGlob=!0,pe=!0;break}}continue}break}if(le===PE){if(Ee===PE&&(D=Fe.isGlobstar=!0),S=Fe.isGlob=!0,pe=!0,s===!0)continue;break}if(le===xF){if(S=Fe.isGlob=!0,pe=!0,s===!0)continue;break}if(le===J9){for(;Et()!==!0&&(Ot=We());){if(Ot===xl){Ce=Fe.backslashes=!0,We();continue}if(Ot===n7){w=Fe.isBracket=!0,S=Fe.isGlob=!0,pe=!0;break}}if(s===!0)continue;break}if(n.nonegate!==!0&&le===AE&&d===c){ye=Fe.negated=!0,c++;continue}if(n.noparen!==!0&&le===RE){if(S=Fe.isGlob=!0,s===!0){for(;Et()!==!0&&(le=We());){if(le===RE){Ce=Fe.backslashes=!0,le=We();continue}if(le===wF){pe=!0;break}}continue}break}if(S===!0){if(pe=!0,s===!0)continue;break}}n.noext===!0&&(I=!1,S=!1);let Ge=l,qr="",B="";c>0&&(qr=l.slice(0,c),l=l.slice(c),m-=c),Ge&&S===!0&&m>0?(Ge=l.slice(0,m),B=l.slice(m)):S===!0?(Ge="",B=l):Ge=l,Ge&&Ge!==""&&Ge!=="/"&&Ge!==l&&CF(Ge.charCodeAt(Ge.length-1))&&(Ge=Ge.slice(0,-1)),n.unescape===!0&&(B&&(B=SF.removeBackslashes(B)),Ge&&Ce===!0&&(Ge=SF.removeBackslashes(Ge)));let F={prefix:qr,input:e,start:c,base:Ge,glob:B,isBrace:u,isBracket:w,isGlob:S,isExtglob:I,isGlobstar:D,negated:ye,negatedExtglob:ot};if(n.tokens===!0&&(F.maxDepth=0,CF(le)||a.push(Fe),F.tokens=a),n.parts===!0||n.tokens===!0){let Ot;for(let Re=0;Re<o.length;Re++){let Dn=Ot?Ot+1:c,Bn=o[Re],Jt=e.slice(Dn,Bn);n.tokens&&(Re===0&&c!==0?(a[Re].isPrefix=!0,a[Re].value=qr):a[Re].value=Jt,bF(a[Re]),F.maxDepth+=a[Re].depth),(Re!==0||Jt!=="")&&i.push(Jt),Ot=Bn}if(Ot&&Ot+1<e.length){let Re=e.slice(Ot+1);i.push(Re),n.tokens&&(a[a.length-1].value=Re,bF(a[a.length-1]),F.maxDepth+=a[a.length-1].depth)}F.slashes=o,F.parts=i}return F};_F.exports=r7});var IF=k((Ave,RF)=>{"use strict";var Af=El(),an=Sl(),{MAX_LENGTH:kf,POSIX_REGEX_SOURCE:s7,REGEX_NON_SPECIAL_CHARS:o7,REGEX_SPECIAL_CHARS_BACKREF:i7,REPLACEMENTS:kF}=Af,a7=(e,t)=>{if(typeof t.expandRange=="function")return t.expandRange(...e,t);e.sort();let n=`[${e.join("-")}]`;try{new RegExp(n)}catch{return e.map(s=>an.escapeRegex(s)).join("..")}return n},Jc=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,IE=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");e=kF[e]||e;let n={...t},r=typeof n.maxLength=="number"?Math.min(kf,n.maxLength):kf,s=e.length;if(s>r)throw new SyntaxError(`Input length: ${s}, exceeds maximum allowed length: ${r}`);let o={type:"bos",value:"",output:n.prepend||""},a=[o],i=n.capture?"":"?:",l=an.isWindows(t),d=Af.globChars(l),c=Af.extglobChars(d),{DOT_LITERAL:m,PLUS_LITERAL:u,SLASH_LITERAL:w,ONE_CHAR:S,DOTS_SLASH:I,NO_DOT:D,NO_DOT_SLASH:X,NO_DOTS_SLASH:Ce,QMARK:ye,QMARK_NO_DOT:ot,STAR:pe,START_ANCHOR:qe}=d,Ee=Q=>`(${i}(?:(?!${qe}${Q.dot?I:m}).)*?)`,le=n.dot?"":D,Fe=n.dot?ye:ot,Et=n.bash===!0?Ee(n):pe;n.capture&&(Et=`(${Et})`),typeof n.noext=="boolean"&&(n.noextglob=n.noext);let L={input:e,index:-1,start:0,dot:n.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:a};e=an.removePrefix(e,L),s=e.length;let We=[],Ge=[],qr=[],B=o,F,Ot=()=>L.index===s-1,Re=L.peek=(Q=1)=>e[L.index+Q],Dn=L.advance=()=>e[++L.index]||"",Bn=()=>e.slice(L.index+1),Jt=(Q="",je=0)=>{L.consumed+=Q,L.index+=je},bl=Q=>{L.output+=Q.output!=null?Q.output:Q.value,Jt(Q.value)},UL=()=>{let Q=1;for(;Re()==="!"&&(Re(2)!=="("||Re(3)==="?");)Dn(),L.start++,Q++;return Q%2===0?!1:(L.negated=!0,L.start++,!0)},Pl=Q=>{L[Q]++,qr.push(Q)},Xs=Q=>{L[Q]--,qr.pop()},be=Q=>{if(B.type==="globstar"){let je=L.braces>0&&(Q.type==="comma"||Q.type==="brace"),j=Q.extglob===!0||We.length&&(Q.type==="pipe"||Q.type==="paren");Q.type!=="slash"&&Q.type!=="paren"&&!je&&!j&&(L.output=L.output.slice(0,-B.output.length),B.type="star",B.value="*",B.output=Et,L.output+=B.output)}if(We.length&&Q.type!=="paren"&&(We[We.length-1].inner+=Q.value),(Q.value||Q.output)&&bl(Q),B&&B.type==="text"&&Q.type==="text"){B.value+=Q.value,B.output=(B.output||"")+Q.value;return}Q.prev=B,a.push(Q),B=Q},_l=(Q,je)=>{let j={...c[je],conditions:1,inner:""};j.prev=B,j.parens=L.parens,j.output=L.output;let xe=(n.capture?"(":"")+j.open;Pl("parens"),be({type:Q,value:je,output:L.output?"":S}),be({type:"paren",extglob:!0,value:Dn(),output:xe}),We.push(j)},zL=Q=>{let je=Q.close+(n.capture?")":""),j;if(Q.type==="negate"){let xe=Et;if(Q.inner&&Q.inner.length>1&&Q.inner.includes("/")&&(xe=Ee(n)),(xe!==Et||Ot()||/^\)+$/.test(Bn()))&&(je=Q.close=`)$))${xe}`),Q.inner.includes("*")&&(j=Bn())&&/^\.[^\\/.]+$/.test(j)){let Ze=IE(j,{...t,fastpaths:!1}).output;je=Q.close=`)${Ze})${xe})`}Q.prev.type==="bos"&&(L.negatedExtglob=!0)}be({type:"paren",extglob:!0,value:F,output:je}),Xs("parens")};if(n.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(e)){let Q=!1,je=e.replace(i7,(j,xe,Ze,Ft,dt,eh)=>Ft==="\\"?(Q=!0,j):Ft==="?"?xe?xe+Ft+(dt?ye.repeat(dt.length):""):eh===0?Fe+(dt?ye.repeat(dt.length):""):ye.repeat(Ze.length):Ft==="."?m.repeat(Ze.length):Ft==="*"?xe?xe+Ft+(dt?Et:""):Et:xe?j:`\\${j}`);return Q===!0&&(n.unescape===!0?je=je.replace(/\\/g,""):je=je.replace(/\\+/g,j=>j.length%2===0?"\\\\":j?"\\":"")),je===e&&n.contains===!0?(L.output=e,L):(L.output=an.wrapOutput(je,L,t),L)}for(;!Ot();){if(F=Dn(),F==="\0")continue;if(F==="\\"){let j=Re();if(j==="/"&&n.bash!==!0||j==="."||j===";")continue;if(!j){F+="\\",be({type:"text",value:F});continue}let xe=/^\\+/.exec(Bn()),Ze=0;if(xe&&xe[0].length>2&&(Ze=xe[0].length,L.index+=Ze,Ze%2!==0&&(F+="\\")),n.unescape===!0?F=Dn():F+=Dn(),L.brackets===0){be({type:"text",value:F});continue}}if(L.brackets>0&&(F!=="]"||B.value==="["||B.value==="[^")){if(n.posix!==!1&&F===":"){let j=B.value.slice(1);if(j.includes("[")&&(B.posix=!0,j.includes(":"))){let xe=B.value.lastIndexOf("["),Ze=B.value.slice(0,xe),Ft=B.value.slice(xe+2),dt=s7[Ft];if(dt){B.value=Ze+dt,L.backtrack=!0,Dn(),!o.output&&a.indexOf(B)===1&&(o.output=S);continue}}}(F==="["&&Re()!==":"||F==="-"&&Re()==="]")&&(F=`\\${F}`),F==="]"&&(B.value==="["||B.value==="[^")&&(F=`\\${F}`),n.posix===!0&&F==="!"&&B.value==="["&&(F="^"),B.value+=F,bl({value:F});continue}if(L.quotes===1&&F!=='"'){F=an.escapeRegex(F),B.value+=F,bl({value:F});continue}if(F==='"'){L.quotes=L.quotes===1?0:1,n.keepQuotes===!0&&be({type:"text",value:F});continue}if(F==="("){Pl("parens"),be({type:"paren",value:F});continue}if(F===")"){if(L.parens===0&&n.strictBrackets===!0)throw new SyntaxError(Jc("opening","("));let j=We[We.length-1];if(j&&L.parens===j.parens+1){zL(We.pop());continue}be({type:"paren",value:F,output:L.parens?")":"\\)"}),Xs("parens");continue}if(F==="["){if(n.nobracket===!0||!Bn().includes("]")){if(n.nobracket!==!0&&n.strictBrackets===!0)throw new SyntaxError(Jc("closing","]"));F=`\\${F}`}else Pl("brackets");be({type:"bracket",value:F});continue}if(F==="]"){if(n.nobracket===!0||B&&B.type==="bracket"&&B.value.length===1){be({type:"text",value:F,output:`\\${F}`});continue}if(L.brackets===0){if(n.strictBrackets===!0)throw new SyntaxError(Jc("opening","["));be({type:"text",value:F,output:`\\${F}`});continue}Xs("brackets");let j=B.value.slice(1);if(B.posix!==!0&&j[0]==="^"&&!j.includes("/")&&(F=`/${F}`),B.value+=F,bl({value:F}),n.literalBrackets===!1||an.hasRegexChars(j))continue;let xe=an.escapeRegex(B.value);if(L.output=L.output.slice(0,-B.value.length),n.literalBrackets===!0){L.output+=xe,B.value=xe;continue}B.value=`(${i}${xe}|${B.value})`,L.output+=B.value;continue}if(F==="{"&&n.nobrace!==!0){Pl("braces");let j={type:"brace",value:F,output:"(",outputIndex:L.output.length,tokensIndex:L.tokens.length};Ge.push(j),be(j);continue}if(F==="}"){let j=Ge[Ge.length-1];if(n.nobrace===!0||!j){be({type:"text",value:F,output:F});continue}let xe=")";if(j.dots===!0){let Ze=a.slice(),Ft=[];for(let dt=Ze.length-1;dt>=0&&(a.pop(),Ze[dt].type!=="brace");dt--)Ze[dt].type!=="dots"&&Ft.unshift(Ze[dt].value);xe=a7(Ft,n),L.backtrack=!0}if(j.comma!==!0&&j.dots!==!0){let Ze=L.output.slice(0,j.outputIndex),Ft=L.tokens.slice(j.tokensIndex);j.value=j.output="\\{",F=xe="\\}",L.output=Ze;for(let dt of Ft)L.output+=dt.output||dt.value}be({type:"brace",value:F,output:xe}),Xs("braces"),Ge.pop();continue}if(F==="|"){We.length>0&&We[We.length-1].conditions++,be({type:"text",value:F});continue}if(F===","){let j=F,xe=Ge[Ge.length-1];xe&&qr[qr.length-1]==="braces"&&(xe.comma=!0,j="|"),be({type:"comma",value:F,output:j});continue}if(F==="/"){if(B.type==="dot"&&L.index===L.start+1){L.start=L.index+1,L.consumed="",L.output="",a.pop(),B=o;continue}be({type:"slash",value:F,output:w});continue}if(F==="."){if(L.braces>0&&B.type==="dot"){B.value==="."&&(B.output=m);let j=Ge[Ge.length-1];B.type="dots",B.output+=F,B.value+=F,j.dots=!0;continue}if(L.braces+L.parens===0&&B.type!=="bos"&&B.type!=="slash"){be({type:"text",value:F,output:m});continue}be({type:"dot",value:F,output:m});continue}if(F==="?"){if(!(B&&B.value==="(")&&n.noextglob!==!0&&Re()==="("&&Re(2)!=="?"){_l("qmark",F);continue}if(B&&B.type==="paren"){let xe=Re(),Ze=F;if(xe==="<"&&!an.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(B.value==="("&&!/[!=<:]/.test(xe)||xe==="<"&&!/<([!=]|\w+>)/.test(Bn()))&&(Ze=`\\${F}`),be({type:"text",value:F,output:Ze});continue}if(n.dot!==!0&&(B.type==="slash"||B.type==="bos")){be({type:"qmark",value:F,output:ot});continue}be({type:"qmark",value:F,output:ye});continue}if(F==="!"){if(n.noextglob!==!0&&Re()==="("&&(Re(2)!=="?"||!/[!=<:]/.test(Re(3)))){_l("negate",F);continue}if(n.nonegate!==!0&&L.index===0){UL();continue}}if(F==="+"){if(n.noextglob!==!0&&Re()==="("&&Re(2)!=="?"){_l("plus",F);continue}if(B&&B.value==="("||n.regex===!1){be({type:"plus",value:F,output:u});continue}if(B&&(B.type==="bracket"||B.type==="paren"||B.type==="brace")||L.parens>0){be({type:"plus",value:F});continue}be({type:"plus",value:u});continue}if(F==="@"){if(n.noextglob!==!0&&Re()==="("&&Re(2)!=="?"){be({type:"at",extglob:!0,value:F,output:""});continue}be({type:"text",value:F});continue}if(F!=="*"){(F==="$"||F==="^")&&(F=`\\${F}`);let j=o7.exec(Bn());j&&(F+=j[0],L.index+=j[0].length),be({type:"text",value:F});continue}if(B&&(B.type==="globstar"||B.star===!0)){B.type="star",B.star=!0,B.value+=F,B.output=Et,L.backtrack=!0,L.globstar=!0,Jt(F);continue}let Q=Bn();if(n.noextglob!==!0&&/^\([^?]/.test(Q)){_l("star",F);continue}if(B.type==="star"){if(n.noglobstar===!0){Jt(F);continue}let j=B.prev,xe=j.prev,Ze=j.type==="slash"||j.type==="bos",Ft=xe&&(xe.type==="star"||xe.type==="globstar");if(n.bash===!0&&(!Ze||Q[0]&&Q[0]!=="/")){be({type:"star",value:F,output:""});continue}let dt=L.braces>0&&(j.type==="comma"||j.type==="brace"),eh=We.length&&(j.type==="pipe"||j.type==="paren");if(!Ze&&j.type!=="paren"&&!dt&&!eh){be({type:"star",value:F,output:""});continue}for(;Q.slice(0,3)==="/**";){let Al=e[L.index+4];if(Al&&Al!=="/")break;Q=Q.slice(3),Jt("/**",3)}if(j.type==="bos"&&Ot()){B.type="globstar",B.value+=F,B.output=Ee(n),L.output=B.output,L.globstar=!0,Jt(F);continue}if(j.type==="slash"&&j.prev.type!=="bos"&&!Ft&&Ot()){L.output=L.output.slice(0,-(j.output+B.output).length),j.output=`(?:${j.output}`,B.type="globstar",B.output=Ee(n)+(n.strictSlashes?")":"|$)"),B.value+=F,L.globstar=!0,L.output+=j.output+B.output,Jt(F);continue}if(j.type==="slash"&&j.prev.type!=="bos"&&Q[0]==="/"){let Al=Q[1]!==void 0?"|$":"";L.output=L.output.slice(0,-(j.output+B.output).length),j.output=`(?:${j.output}`,B.type="globstar",B.output=`${Ee(n)}${w}|${w}${Al})`,B.value+=F,L.output+=j.output+B.output,L.globstar=!0,Jt(F+Dn()),be({type:"slash",value:"/",output:""});continue}if(j.type==="bos"&&Q[0]==="/"){B.type="globstar",B.value+=F,B.output=`(?:^|${w}|${Ee(n)}${w})`,L.output=B.output,L.globstar=!0,Jt(F+Dn()),be({type:"slash",value:"/",output:""});continue}L.output=L.output.slice(0,-B.output.length),B.type="globstar",B.output=Ee(n),B.value+=F,L.output+=B.output,L.globstar=!0,Jt(F);continue}let je={type:"star",value:F,output:Et};if(n.bash===!0){je.output=".*?",(B.type==="bos"||B.type==="slash")&&(je.output=le+je.output),be(je);continue}if(B&&(B.type==="bracket"||B.type==="paren")&&n.regex===!0){je.output=F,be(je);continue}(L.index===L.start||B.type==="slash"||B.type==="dot")&&(B.type==="dot"?(L.output+=X,B.output+=X):n.dot===!0?(L.output+=Ce,B.output+=Ce):(L.output+=le,B.output+=le),Re()!=="*"&&(L.output+=S,B.output+=S)),be(je)}for(;L.brackets>0;){if(n.strictBrackets===!0)throw new SyntaxError(Jc("closing","]"));L.output=an.escapeLast(L.output,"["),Xs("brackets")}for(;L.parens>0;){if(n.strictBrackets===!0)throw new SyntaxError(Jc("closing",")"));L.output=an.escapeLast(L.output,"("),Xs("parens")}for(;L.braces>0;){if(n.strictBrackets===!0)throw new SyntaxError(Jc("closing","}"));L.output=an.escapeLast(L.output,"{"),Xs("braces")}if(n.strictSlashes!==!0&&(B.type==="star"||B.type==="bracket")&&be({type:"maybe_slash",value:"",output:`${w}?`}),L.backtrack===!0){L.output="";for(let Q of L.tokens)L.output+=Q.output!=null?Q.output:Q.value,Q.suffix&&(L.output+=Q.suffix)}return L};IE.fastpaths=(e,t)=>{let n={...t},r=typeof n.maxLength=="number"?Math.min(kf,n.maxLength):kf,s=e.length;if(s>r)throw new SyntaxError(`Input length: ${s}, exceeds maximum allowed length: ${r}`);e=kF[e]||e;let o=an.isWindows(t),{DOT_LITERAL:a,SLASH_LITERAL:i,ONE_CHAR:l,DOTS_SLASH:d,NO_DOT:c,NO_DOTS:m,NO_DOTS_SLASH:u,STAR:w,START_ANCHOR:S}=Af.globChars(o),I=n.dot?m:c,D=n.dot?u:c,X=n.capture?"":"?:",Ce={negated:!1,prefix:""},ye=n.bash===!0?".*?":w;n.capture&&(ye=`(${ye})`);let ot=le=>le.noglobstar===!0?ye:`(${X}(?:(?!${S}${le.dot?d:a}).)*?)`,pe=le=>{switch(le){case"*":return`${I}${l}${ye}`;case".*":return`${a}${l}${ye}`;case"*.*":return`${I}${ye}${a}${l}${ye}`;case"*/*":return`${I}${ye}${i}${l}${D}${ye}`;case"**":return I+ot(n);case"**/*":return`(?:${I}${ot(n)}${i})?${D}${l}${ye}`;case"**/*.*":return`(?:${I}${ot(n)}${i})?${D}${ye}${a}${l}${ye}`;case"**/.*":return`(?:${I}${ot(n)}${i})?${a}${l}${ye}`;default:{let Fe=/^(.*?)\.(\w+)$/.exec(le);if(!Fe)return;let Et=pe(Fe[1]);return Et?Et+a+Fe[2]:void 0}}},qe=an.removePrefix(e,Ce),Ee=pe(qe);return Ee&&n.strictSlashes!==!0&&(Ee+=`${i}?`),Ee};RF.exports=IE});var vF=k((kve,NF)=>{"use strict";var c7=require("path"),d7=AF(),NE=IF(),vE=Sl(),l7=El(),u7=e=>e&&typeof e=="object"&&!Array.isArray(e),st=(e,t,n=!1)=>{if(Array.isArray(e)){let c=e.map(u=>st(u,t,n));return u=>{for(let w of c){let S=w(u);if(S)return S}return!1}}let r=u7(e)&&e.tokens&&e.input;if(e===""||typeof e!="string"&&!r)throw new TypeError("Expected pattern to be a non-empty string");let s=t||{},o=vE.isWindows(t),a=r?st.compileRe(e,t):st.makeRe(e,t,!1,!0),i=a.state;delete a.state;let l=()=>!1;if(s.ignore){let c={...t,ignore:null,onMatch:null,onResult:null};l=st(s.ignore,c,n)}let d=(c,m=!1)=>{let{isMatch:u,match:w,output:S}=st.test(c,a,t,{glob:e,posix:o}),I={glob:e,state:i,regex:a,posix:o,input:c,output:S,match:w,isMatch:u};return typeof s.onResult=="function"&&s.onResult(I),u===!1?(I.isMatch=!1,m?I:!1):l(c)?(typeof s.onIgnore=="function"&&s.onIgnore(I),I.isMatch=!1,m?I:!1):(typeof s.onMatch=="function"&&s.onMatch(I),m?I:!0)};return n&&(d.state=i),d};st.test=(e,t,n,{glob:r,posix:s}={})=>{if(typeof e!="string")throw new TypeError("Expected input to be a string");if(e==="")return{isMatch:!1,output:""};let o=n||{},a=o.format||(s?vE.toPosixSlashes:null),i=e===r,l=i&&a?a(e):e;return i===!1&&(l=a?a(e):e,i=l===r),(i===!1||o.capture===!0)&&(o.matchBase===!0||o.basename===!0?i=st.matchBase(e,t,n,s):i=t.exec(l)),{isMatch:!!i,match:i,output:l}};st.matchBase=(e,t,n,r=vE.isWindows(n))=>(t instanceof RegExp?t:st.makeRe(t,n)).test(c7.basename(e));st.isMatch=(e,t,n)=>st(t,n)(e);st.parse=(e,t)=>Array.isArray(e)?e.map(n=>st.parse(n,t)):NE(e,{...t,fastpaths:!1});st.scan=(e,t)=>d7(e,t);st.compileRe=(e,t,n=!1,r=!1)=>{if(n===!0)return e.output;let s=t||{},o=s.contains?"":"^",a=s.contains?"":"$",i=`${o}(?:${e.output})${a}`;e&&e.negated===!0&&(i=`^(?!${i}).*$`);let l=st.toRegex(i,t);return r===!0&&(l.state=e),l};st.makeRe=(e,t={},n=!1,r=!1)=>{if(!e||typeof e!="string")throw new TypeError("Expected a non-empty string");let s={negated:!1,fastpaths:!0};return t.fastpaths!==!1&&(e[0]==="."||e[0]==="*")&&(s.output=NE.fastpaths(e,t)),s.output||(s=NE(e,t)),st.compileRe(s,t,n,r)};st.toRegex=(e,t)=>{try{let n=t||{};return new RegExp(e,n.flags||(n.nocase?"i":""))}catch(n){if(t&&t.debug===!0)throw n;return/$^/}};st.constants=l7;NF.exports=st});var DF=k((Rve,TF)=>{"use strict";TF.exports=vF()});var LF=k((Ive,MF)=>{"use strict";var OF=require("util"),FF=fF(),ar=DF(),TE=Sl(),BF=e=>e===""||e==="./",Qe=(e,t,n)=>{t=[].concat(t),e=[].concat(e);let r=new Set,s=new Set,o=new Set,a=0,i=c=>{o.add(c.output),n&&n.onResult&&n.onResult(c)};for(let c=0;c<t.length;c++){let m=ar(String(t[c]),{...n,onResult:i},!0),u=m.state.negated||m.state.negatedExtglob;u&&a++;for(let w of e){let S=m(w,!0);(u?!S.isMatch:S.isMatch)&&(u?r.add(S.output):(r.delete(S.output),s.add(S.output)))}}let d=(a===t.length?[...o]:[...s]).filter(c=>!r.has(c));if(n&&d.length===0){if(n.failglob===!0)throw new Error(`No matches found for "${t.join(", ")}"`);if(n.nonull===!0||n.nullglob===!0)return n.unescape?t.map(c=>c.replace(/\\/g,"")):t}return d};Qe.match=Qe;Qe.matcher=(e,t)=>ar(e,t);Qe.isMatch=(e,t,n)=>ar(t,n)(e);Qe.any=Qe.isMatch;Qe.not=(e,t,n={})=>{t=[].concat(t).map(String);let r=new Set,s=[],o=i=>{n.onResult&&n.onResult(i),s.push(i.output)},a=new Set(Qe(e,t,{...n,onResult:o}));for(let i of s)a.has(i)||r.add(i);return[...r]};Qe.contains=(e,t,n)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${OF.inspect(e)}"`);if(Array.isArray(t))return t.some(r=>Qe.contains(e,r,n));if(typeof t=="string"){if(BF(e)||BF(t))return!1;if(e.includes(t)||e.startsWith("./")&&e.slice(2).includes(t))return!0}return Qe.isMatch(e,t,{...n,contains:!0})};Qe.matchKeys=(e,t,n)=>{if(!TE.isObject(e))throw new TypeError("Expected the first argument to be an object");let r=Qe(Object.keys(e),t,n),s={};for(let o of r)s[o]=e[o];return s};Qe.some=(e,t,n)=>{let r=[].concat(e);for(let s of[].concat(t)){let o=ar(String(s),n);if(r.some(a=>o(a)))return!0}return!1};Qe.every=(e,t,n)=>{let r=[].concat(e);for(let s of[].concat(t)){let o=ar(String(s),n);if(!r.every(a=>o(a)))return!1}return!0};Qe.all=(e,t,n)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${OF.inspect(e)}"`);return[].concat(t).every(r=>ar(r,n)(e))};Qe.capture=(e,t,n)=>{let r=TE.isWindows(n),o=ar.makeRe(String(e),{...n,capture:!0}).exec(r?TE.toPosixSlashes(t):t);if(o)return o.slice(1).map(a=>a===void 0?"":a)};Qe.makeRe=(...e)=>ar.makeRe(...e);Qe.scan=(...e)=>ar.scan(...e);Qe.parse=(e,t)=>{let n=[];for(let r of[].concat(e||[]))for(let s of FF(String(r),t))n.push(ar.parse(s,t));return n};Qe.braces=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return t&&t.nobrace===!0||!/\{.*\}/.test(e)?[e]:FF(e,t)};Qe.braceExpand=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return Qe.braces(e,{...t,expand:!0})};MF.exports=Qe});var KF=k(he=>{"use strict";Object.defineProperty(he,"__esModule",{value:!0});he.matchAny=he.convertPatternsToRe=he.makeRe=he.getPatternParts=he.expandBraceExpansion=he.expandPatternsWithBraceExpansion=he.isAffectDepthOfReadingPattern=he.endsWithSlashGlobStar=he.hasGlobStar=he.getBaseDirectory=he.isPatternRelatedToParentDirectory=he.getPatternsOutsideCurrentDirectory=he.getPatternsInsideCurrentDirectory=he.getPositivePatterns=he.getNegativePatterns=he.isPositivePattern=he.isNegativePattern=he.convertToNegativePattern=he.convertToPositivePattern=he.isDynamicPattern=he.isStaticPattern=void 0;var m7=require("path"),f7=NO(),DE=LF(),UF="**",h7="\\",p7=/[*?]|^!/,y7=/\[[^[]*]/,g7=/(?:^|[^!*+?@])\([^(]*\|[^|]*\)/,E7=/[!*+?@]\([^(]*\)/,S7=/,|\.\./;function zF(e,t={}){return!qF(e,t)}he.isStaticPattern=zF;function qF(e,t={}){return e===""?!1:!!(t.caseSensitiveMatch===!1||e.includes(h7)||p7.test(e)||y7.test(e)||g7.test(e)||t.extglob!==!1&&E7.test(e)||t.braceExpansion!==!1&&x7(e))}he.isDynamicPattern=qF;function x7(e){let t=e.indexOf("{");if(t===-1)return!1;let n=e.indexOf("}",t+1);if(n===-1)return!1;let r=e.slice(t,n);return S7.test(r)}function w7(e){return Rf(e)?e.slice(1):e}he.convertToPositivePattern=w7;function C7(e){return"!"+e}he.convertToNegativePattern=C7;function Rf(e){return e.startsWith("!")&&e[1]!=="("}he.isNegativePattern=Rf;function $F(e){return!Rf(e)}he.isPositivePattern=$F;function b7(e){return e.filter(Rf)}he.getNegativePatterns=b7;function P7(e){return e.filter($F)}he.getPositivePatterns=P7;function _7(e){return e.filter(t=>!BE(t))}he.getPatternsInsideCurrentDirectory=_7;function A7(e){return e.filter(BE)}he.getPatternsOutsideCurrentDirectory=A7;function BE(e){return e.startsWith("..")||e.startsWith("./..")}he.isPatternRelatedToParentDirectory=BE;function k7(e){return f7(e,{flipBackslashes:!1})}he.getBaseDirectory=k7;function R7(e){return e.includes(UF)}he.hasGlobStar=R7;function GF(e){return e.endsWith("/"+UF)}he.endsWithSlashGlobStar=GF;function I7(e){let t=m7.basename(e);return GF(e)||zF(t)}he.isAffectDepthOfReadingPattern=I7;function N7(e){return e.reduce((t,n)=>t.concat(jF(n)),[])}he.expandPatternsWithBraceExpansion=N7;function jF(e){return DE.braces(e,{expand:!0,nodupes:!0})}he.expandBraceExpansion=jF;function v7(e,t){let{parts:n}=DE.scan(e,Object.assign(Object.assign({},t),{parts:!0}));return n.length===0&&(n=[e]),n[0].startsWith("/")&&(n[0]=n[0].slice(1),n.unshift("")),n}he.getPatternParts=v7;function HF(e,t){return DE.makeRe(e,t)}he.makeRe=HF;function T7(e,t){return e.map(n=>HF(n,t))}he.convertPatternsToRe=T7;function D7(e,t){return t.some(n=>n.test(e))}he.matchAny=D7});var WF=k(If=>{"use strict";Object.defineProperty(If,"__esModule",{value:!0});If.merge=void 0;var B7=hE();function O7(e){let t=B7(e);return e.forEach(n=>{n.once("error",r=>t.emit("error",r))}),t.once("close",()=>VF(e)),t.once("end",()=>VF(e)),t}If.merge=O7;function VF(e){e.forEach(t=>t.emit("close"))}});var YF=k(ed=>{"use strict";Object.defineProperty(ed,"__esModule",{value:!0});ed.isEmpty=ed.isString=void 0;function F7(e){return typeof e=="string"}ed.isString=F7;function M7(e){return e===""}ed.isEmpty=M7});var Fr=k(Dt=>{"use strict";Object.defineProperty(Dt,"__esModule",{value:!0});Dt.string=Dt.stream=Dt.pattern=Dt.path=Dt.fs=Dt.errno=Dt.array=void 0;var L7=xO();Dt.array=L7;var U7=wO();Dt.errno=U7;var z7=CO();Dt.fs=z7;var q7=bO();Dt.path=q7;var $7=KF();Dt.pattern=$7;var G7=WF();Dt.stream=G7;var j7=YF();Dt.string=j7});var ZF=k(Bt=>{"use strict";Object.defineProperty(Bt,"__esModule",{value:!0});Bt.convertPatternGroupToTask=Bt.convertPatternGroupsToTasks=Bt.groupPatternsByBaseDirectory=Bt.getNegativePatternsAsPositive=Bt.getPositivePatterns=Bt.convertPatternsToTasks=Bt.generate=void 0;var Mr=Fr();function H7(e,t){let n=XF(e),r=QF(e,t.ignore),s=n.filter(l=>Mr.pattern.isStaticPattern(l,t)),o=n.filter(l=>Mr.pattern.isDynamicPattern(l,t)),a=OE(s,r,!1),i=OE(o,r,!0);return a.concat(i)}Bt.generate=H7;function OE(e,t,n){let r=[],s=Mr.pattern.getPatternsOutsideCurrentDirectory(e),o=Mr.pattern.getPatternsInsideCurrentDirectory(e),a=FE(s),i=FE(o);return r.push(...ME(a,t,n)),"."in i?r.push(LE(".",o,t,n)):r.push(...ME(i,t,n)),r}Bt.convertPatternsToTasks=OE;function XF(e){return Mr.pattern.getPositivePatterns(e)}Bt.getPositivePatterns=XF;function QF(e,t){return Mr.pattern.getNegativePatterns(e).concat(t).map(Mr.pattern.convertToPositivePattern)}Bt.getNegativePatternsAsPositive=QF;function FE(e){let t={};return e.reduce((n,r)=>{let s=Mr.pattern.getBaseDirectory(r);return s in n?n[s].push(r):n[s]=[r],n},t)}Bt.groupPatternsByBaseDirectory=FE;function ME(e,t,n){return Object.keys(e).map(r=>LE(r,e[r],t,n))}Bt.convertPatternGroupsToTasks=ME;function LE(e,t,n,r){return{dynamic:r,positive:t,negative:n,base:e,patterns:[].concat(t,n.map(Mr.pattern.convertToNegativePattern))}}Bt.convertPatternGroupToTask=LE});var eM=k(td=>{"use strict";Object.defineProperty(td,"__esModule",{value:!0});td.removeDuplicateSlashes=td.transform=void 0;var K7=/(?!^)\/{2,}/g;function V7(e){return e.map(t=>JF(t))}td.transform=V7;function JF(e){return e.replace(K7,"/")}td.removeDuplicateSlashes=JF});var nM=k(Nf=>{"use strict";Object.defineProperty(Nf,"__esModule",{value:!0});Nf.read=void 0;function W7(e,t,n){t.fs.lstat(e,(r,s)=>{if(r!==null){tM(n,r);return}if(!s.isSymbolicLink()||!t.followSymbolicLink){UE(n,s);return}t.fs.stat(e,(o,a)=>{if(o!==null){if(t.throwErrorOnBrokenSymbolicLink){tM(n,o);return}UE(n,s);return}t.markSymbolicLink&&(a.isSymbolicLink=()=>!0),UE(n,a)})})}Nf.read=W7;function tM(e,t){e(t)}function UE(e,t){e(null,t)}});var rM=k(vf=>{"use strict";Object.defineProperty(vf,"__esModule",{value:!0});vf.read=void 0;function Y7(e,t){let n=t.fs.lstatSync(e);if(!n.isSymbolicLink()||!t.followSymbolicLink)return n;try{let r=t.fs.statSync(e);return t.markSymbolicLink&&(r.isSymbolicLink=()=>!0),r}catch(r){if(!t.throwErrorOnBrokenSymbolicLink)return n;throw r}}vf.read=Y7});var sM=k(js=>{"use strict";Object.defineProperty(js,"__esModule",{value:!0});js.createFileSystemAdapter=js.FILE_SYSTEM_ADAPTER=void 0;var Tf=require("fs");js.FILE_SYSTEM_ADAPTER={lstat:Tf.lstat,stat:Tf.stat,lstatSync:Tf.lstatSync,statSync:Tf.statSync};function X7(e){return e===void 0?js.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},js.FILE_SYSTEM_ADAPTER),e)}js.createFileSystemAdapter=X7});var oM=k(qE=>{"use strict";Object.defineProperty(qE,"__esModule",{value:!0});var Q7=sM(),zE=class{constructor(t={}){this._options=t,this.followSymbolicLink=this._getValue(this._options.followSymbolicLink,!0),this.fs=Q7.createFileSystemAdapter(this._options.fs),this.markSymbolicLink=this._getValue(this._options.markSymbolicLink,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0)}_getValue(t,n){return t??n}};qE.default=zE});var Io=k(Hs=>{"use strict";Object.defineProperty(Hs,"__esModule",{value:!0});Hs.statSync=Hs.stat=Hs.Settings=void 0;var iM=nM(),Z7=rM(),$E=oM();Hs.Settings=$E.default;function J7(e,t,n){if(typeof t=="function"){iM.read(e,GE(),t);return}iM.read(e,GE(t),n)}Hs.stat=J7;function eY(e,t){let n=GE(t);return Z7.read(e,n)}Hs.statSync=eY;function GE(e={}){return e instanceof $E.default?e:new $E.default(e)}});var dM=k((qve,cM)=>{var aM;cM.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:global):e=>(aM||(aM=Promise.resolve())).then(e).catch(t=>setTimeout(()=>{throw t},0))});var uM=k(($ve,lM)=>{lM.exports=nY;var tY=dM();function nY(e,t){let n,r,s,o=!0;Array.isArray(e)?(n=[],r=e.length):(s=Object.keys(e),n={},r=s.length);function a(l){function d(){t&&t(l,n),t=null}o?tY(d):d()}function i(l,d,c){n[l]=c,(--r===0||d)&&a(d)}r?s?s.forEach(function(l){e[l](function(d,c){i(l,d,c)})}):e.forEach(function(l,d){l(function(c,m){i(d,c,m)})}):a(null),o=!1}});var jE=k(Bf=>{"use strict";Object.defineProperty(Bf,"__esModule",{value:!0});Bf.IS_SUPPORT_READDIR_WITH_FILE_TYPES=void 0;var Df=process.versions.node.split(".");if(Df[0]===void 0||Df[1]===void 0)throw new Error(`Unexpected behavior. The 'process.versions.node' variable has invalid value: ${process.versions.node}`);var mM=Number.parseInt(Df[0],10),rY=Number.parseInt(Df[1],10),fM=10,sY=10,oY=mM>fM,iY=mM===fM&&rY>=sY;Bf.IS_SUPPORT_READDIR_WITH_FILE_TYPES=oY||iY});var hM=k(Of=>{"use strict";Object.defineProperty(Of,"__esModule",{value:!0});Of.createDirentFromStats=void 0;var HE=class{constructor(t,n){this.name=t,this.isBlockDevice=n.isBlockDevice.bind(n),this.isCharacterDevice=n.isCharacterDevice.bind(n),this.isDirectory=n.isDirectory.bind(n),this.isFIFO=n.isFIFO.bind(n),this.isFile=n.isFile.bind(n),this.isSocket=n.isSocket.bind(n),this.isSymbolicLink=n.isSymbolicLink.bind(n)}};function aY(e,t){return new HE(e,t)}Of.createDirentFromStats=aY});var KE=k(Ff=>{"use strict";Object.defineProperty(Ff,"__esModule",{value:!0});Ff.fs=void 0;var cY=hM();Ff.fs=cY});var VE=k(Mf=>{"use strict";Object.defineProperty(Mf,"__esModule",{value:!0});Mf.joinPathSegments=void 0;function dY(e,t,n){return e.endsWith(n)?e+t:e+n+t}Mf.joinPathSegments=dY});var xM=k(Ks=>{"use strict";Object.defineProperty(Ks,"__esModule",{value:!0});Ks.readdir=Ks.readdirWithFileTypes=Ks.read=void 0;var lY=Io(),pM=uM(),uY=jE(),yM=KE(),gM=VE();function mY(e,t,n){if(!t.stats&&uY.IS_SUPPORT_READDIR_WITH_FILE_TYPES){EM(e,t,n);return}SM(e,t,n)}Ks.read=mY;function EM(e,t,n){t.fs.readdir(e,{withFileTypes:!0},(r,s)=>{if(r!==null){Lf(n,r);return}let o=s.map(i=>({dirent:i,name:i.name,path:gM.joinPathSegments(e,i.name,t.pathSegmentSeparator)}));if(!t.followSymbolicLinks){WE(n,o);return}let a=o.map(i=>fY(i,t));pM(a,(i,l)=>{if(i!==null){Lf(n,i);return}WE(n,l)})})}Ks.readdirWithFileTypes=EM;function fY(e,t){return n=>{if(!e.dirent.isSymbolicLink()){n(null,e);return}t.fs.stat(e.path,(r,s)=>{if(r!==null){if(t.throwErrorOnBrokenSymbolicLink){n(r);return}n(null,e);return}e.dirent=yM.fs.createDirentFromStats(e.name,s),n(null,e)})}}function SM(e,t,n){t.fs.readdir(e,(r,s)=>{if(r!==null){Lf(n,r);return}let o=s.map(a=>{let i=gM.joinPathSegments(e,a,t.pathSegmentSeparator);return l=>{lY.stat(i,t.fsStatSettings,(d,c)=>{if(d!==null){l(d);return}let m={name:a,path:i,dirent:yM.fs.createDirentFromStats(a,c)};t.stats&&(m.stats=c),l(null,m)})}});pM(o,(a,i)=>{if(a!==null){Lf(n,a);return}WE(n,i)})})}Ks.readdir=SM;function Lf(e,t){e(t)}function WE(e,t){e(null,t)}});var _M=k(Vs=>{"use strict";Object.defineProperty(Vs,"__esModule",{value:!0});Vs.readdir=Vs.readdirWithFileTypes=Vs.read=void 0;var hY=Io(),pY=jE(),wM=KE(),CM=VE();function yY(e,t){return!t.stats&&pY.IS_SUPPORT_READDIR_WITH_FILE_TYPES?bM(e,t):PM(e,t)}Vs.read=yY;function bM(e,t){return t.fs.readdirSync(e,{withFileTypes:!0}).map(r=>{let s={dirent:r,name:r.name,path:CM.joinPathSegments(e,r.name,t.pathSegmentSeparator)};if(s.dirent.isSymbolicLink()&&t.followSymbolicLinks)try{let o=t.fs.statSync(s.path);s.dirent=wM.fs.createDirentFromStats(s.name,o)}catch(o){if(t.throwErrorOnBrokenSymbolicLink)throw o}return s})}Vs.readdirWithFileTypes=bM;function PM(e,t){return t.fs.readdirSync(e).map(r=>{let s=CM.joinPathSegments(e,r,t.pathSegmentSeparator),o=hY.statSync(s,t.fsStatSettings),a={name:r,path:s,dirent:wM.fs.createDirentFromStats(r,o)};return t.stats&&(a.stats=o),a})}Vs.readdir=PM});var AM=k(Ws=>{"use strict";Object.defineProperty(Ws,"__esModule",{value:!0});Ws.createFileSystemAdapter=Ws.FILE_SYSTEM_ADAPTER=void 0;var nd=require("fs");Ws.FILE_SYSTEM_ADAPTER={lstat:nd.lstat,stat:nd.stat,lstatSync:nd.lstatSync,statSync:nd.statSync,readdir:nd.readdir,readdirSync:nd.readdirSync};function gY(e){return e===void 0?Ws.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},Ws.FILE_SYSTEM_ADAPTER),e)}Ws.createFileSystemAdapter=gY});var kM=k(XE=>{"use strict";Object.defineProperty(XE,"__esModule",{value:!0});var EY=require("path"),SY=Io(),xY=AM(),YE=class{constructor(t={}){this._options=t,this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!1),this.fs=xY.createFileSystemAdapter(this._options.fs),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,EY.sep),this.stats=this._getValue(this._options.stats,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0),this.fsStatSettings=new SY.Settings({followSymbolicLink:this.followSymbolicLinks,fs:this.fs,throwErrorOnBrokenSymbolicLink:this.throwErrorOnBrokenSymbolicLink})}_getValue(t,n){return t??n}};XE.default=YE});var Uf=k(Ys=>{"use strict";Object.defineProperty(Ys,"__esModule",{value:!0});Ys.Settings=Ys.scandirSync=Ys.scandir=void 0;var RM=xM(),wY=_M(),QE=kM();Ys.Settings=QE.default;function CY(e,t,n){if(typeof t=="function"){RM.read(e,ZE(),t);return}RM.read(e,ZE(t),n)}Ys.scandir=CY;function bY(e,t){let n=ZE(t);return wY.read(e,n)}Ys.scandirSync=bY;function ZE(e={}){return e instanceof QE.default?e:new QE.default(e)}});var NM=k((Zve,IM)=>{"use strict";function PY(e){var t=new e,n=t;function r(){var o=t;return o.next?t=o.next:(t=new e,n=t),o.next=null,o}function s(o){n.next=o,n=o}return{get:r,release:s}}IM.exports=PY});var TM=k((Jve,JE)=>{"use strict";var _Y=NM();function vM(e,t,n){if(typeof e=="function"&&(n=t,t=e,e=null),n<1)throw new Error("fastqueue concurrency must be greater than 1");var r=_Y(AY),s=null,o=null,a=0,i=null,l={push:I,drain:kn,saturated:kn,pause:c,paused:!1,concurrency:n,running:d,resume:w,idle:S,length:m,getQueue:u,unshift:D,empty:kn,kill:Ce,killAndDrain:ye,error:ot};return l;function d(){return a}function c(){l.paused=!0}function m(){for(var pe=s,qe=0;pe;)pe=pe.next,qe++;return qe}function u(){for(var pe=s,qe=[];pe;)qe.push(pe.value),pe=pe.next;return qe}function w(){if(l.paused){l.paused=!1;for(var pe=0;pe<l.concurrency;pe++)a++,X()}}function S(){return a===0&&l.length()===0}function I(pe,qe){var Ee=r.get();Ee.context=e,Ee.release=X,Ee.value=pe,Ee.callback=qe||kn,Ee.errorHandler=i,a===l.concurrency||l.paused?o?(o.next=Ee,o=Ee):(s=Ee,o=Ee,l.saturated()):(a++,t.call(e,Ee.value,Ee.worked))}function D(pe,qe){var Ee=r.get();Ee.context=e,Ee.release=X,Ee.value=pe,Ee.callback=qe||kn,a===l.concurrency||l.paused?s?(Ee.next=s,s=Ee):(s=Ee,o=Ee,l.saturated()):(a++,t.call(e,Ee.value,Ee.worked))}function X(pe){pe&&r.release(pe);var qe=s;qe?l.paused?a--:(o===s&&(o=null),s=qe.next,qe.next=null,t.call(e,qe.value,qe.worked),o===null&&l.empty()):--a===0&&l.drain()}function Ce(){s=null,o=null,l.drain=kn}function ye(){s=null,o=null,l.drain(),l.drain=kn}function ot(pe){i=pe}}function kn(){}function AY(){this.value=null,this.callback=kn,this.next=null,this.release=kn,this.context=null,this.errorHandler=null;var e=this;this.worked=function(n,r){var s=e.callback,o=e.errorHandler,a=e.value;e.value=null,e.callback=kn,e.errorHandler&&o(n,a),s.call(e.context,n,r),e.release(e)}}function kY(e,t,n){typeof e=="function"&&(n=t,t=e,e=null);function r(c,m){t.call(this,c).then(function(u){m(null,u)},m)}var s=vM(e,r,n),o=s.push,a=s.unshift;return s.push=i,s.unshift=l,s.drained=d,s;function i(c){var m=new Promise(function(u,w){o(c,function(S,I){if(S){w(S);return}u(I)})});return m.catch(kn),m}function l(c){var m=new Promise(function(u,w){a(c,function(S,I){if(S){w(S);return}u(I)})});return m.catch(kn),m}function d(){if(s.idle())return new Promise(function(u){u()});var c=s.drain,m=new Promise(function(u){s.drain=function(){c(),u()}});return m}}JE.exports=vM;JE.exports.promise=kY});var zf=k(cr=>{"use strict";Object.defineProperty(cr,"__esModule",{value:!0});cr.joinPathSegments=cr.replacePathSegmentSeparator=cr.isAppliedFilter=cr.isFatalError=void 0;function RY(e,t){return e.errorFilter===null?!0:!e.errorFilter(t)}cr.isFatalError=RY;function IY(e,t){return e===null||e(t)}cr.isAppliedFilter=IY;function NY(e,t){return e.split(/[/\\]/).join(t)}cr.replacePathSegmentSeparator=NY;function vY(e,t,n){return e===""?t:e.endsWith(n)?e+t:e+n+t}cr.joinPathSegments=vY});var nS=k(tS=>{"use strict";Object.defineProperty(tS,"__esModule",{value:!0});var TY=zf(),eS=class{constructor(t,n){this._root=t,this._settings=n,this._root=TY.replacePathSegmentSeparator(t,n.pathSegmentSeparator)}};tS.default=eS});var oS=k(sS=>{"use strict";Object.defineProperty(sS,"__esModule",{value:!0});var DY=require("events"),BY=Uf(),OY=TM(),qf=zf(),FY=nS(),rS=class extends FY.default{constructor(t,n){super(t,n),this._settings=n,this._scandir=BY.scandir,this._emitter=new DY.EventEmitter,this._queue=OY(this._worker.bind(this),this._settings.concurrency),this._isFatalError=!1,this._isDestroyed=!1,this._queue.drain=()=>{this._isFatalError||this._emitter.emit("end")}}read(){return this._isFatalError=!1,this._isDestroyed=!1,setImmediate(()=>{this._pushToQueue(this._root,this._settings.basePath)}),this._emitter}get isDestroyed(){return this._isDestroyed}destroy(){if(this._isDestroyed)throw new Error("The reader is already destroyed");this._isDestroyed=!0,this._queue.killAndDrain()}onEntry(t){this._emitter.on("entry",t)}onError(t){this._emitter.once("error",t)}onEnd(t){this._emitter.once("end",t)}_pushToQueue(t,n){let r={directory:t,base:n};this._queue.push(r,s=>{s!==null&&this._handleError(s)})}_worker(t,n){this._scandir(t.directory,this._settings.fsScandirSettings,(r,s)=>{if(r!==null){n(r,void 0);return}for(let o of s)this._handleEntry(o,t.base);n(null,void 0)})}_handleError(t){this._isDestroyed||!qf.isFatalError(this._settings,t)||(this._isFatalError=!0,this._isDestroyed=!0,this._emitter.emit("error",t))}_handleEntry(t,n){if(this._isDestroyed||this._isFatalError)return;let r=t.path;n!==void 0&&(t.path=qf.joinPathSegments(n,t.name,this._settings.pathSegmentSeparator)),qf.isAppliedFilter(this._settings.entryFilter,t)&&this._emitEntry(t),t.dirent.isDirectory()&&qf.isAppliedFilter(this._settings.deepFilter,t)&&this._pushToQueue(r,n===void 0?void 0:t.path)}_emitEntry(t){this._emitter.emit("entry",t)}};sS.default=rS});var DM=k(aS=>{"use strict";Object.defineProperty(aS,"__esModule",{value:!0});var MY=oS(),iS=class{constructor(t,n){this._root=t,this._settings=n,this._reader=new MY.default(this._root,this._settings),this._storage=[]}read(t){this._reader.onError(n=>{LY(t,n)}),this._reader.onEntry(n=>{this._storage.push(n)}),this._reader.onEnd(()=>{UY(t,this._storage)}),this._reader.read()}};aS.default=iS;function LY(e,t){e(t)}function UY(e,t){e(null,t)}});var BM=k(dS=>{"use strict";Object.defineProperty(dS,"__esModule",{value:!0});var zY=require("stream"),qY=oS(),cS=class{constructor(t,n){this._root=t,this._settings=n,this._reader=new qY.default(this._root,this._settings),this._stream=new zY.Readable({objectMode:!0,read:()=>{},destroy:()=>{this._reader.isDestroyed||this._reader.destroy()}})}read(){return this._reader.onError(t=>{this._stream.emit("error",t)}),this._reader.onEntry(t=>{this._stream.push(t)}),this._reader.onEnd(()=>{this._stream.push(null)}),this._reader.read(),this._stream}};dS.default=cS});var OM=k(uS=>{"use strict";Object.defineProperty(uS,"__esModule",{value:!0});var $Y=Uf(),$f=zf(),GY=nS(),lS=class extends GY.default{constructor(){super(...arguments),this._scandir=$Y.scandirSync,this._storage=[],this._queue=new Set}read(){return this._pushToQueue(this._root,this._settings.basePath),this._handleQueue(),this._storage}_pushToQueue(t,n){this._queue.add({directory:t,base:n})}_handleQueue(){for(let t of this._queue.values())this._handleDirectory(t.directory,t.base)}_handleDirectory(t,n){try{let r=this._scandir(t,this._settings.fsScandirSettings);for(let s of r)this._handleEntry(s,n)}catch(r){this._handleError(r)}}_handleError(t){if($f.isFatalError(this._settings,t))throw t}_handleEntry(t,n){let r=t.path;n!==void 0&&(t.path=$f.joinPathSegments(n,t.name,this._settings.pathSegmentSeparator)),$f.isAppliedFilter(this._settings.entryFilter,t)&&this._pushToStorage(t),t.dirent.isDirectory()&&$f.isAppliedFilter(this._settings.deepFilter,t)&&this._pushToQueue(r,n===void 0?void 0:t.path)}_pushToStorage(t){this._storage.push(t)}};uS.default=lS});var FM=k(fS=>{"use strict";Object.defineProperty(fS,"__esModule",{value:!0});var jY=OM(),mS=class{constructor(t,n){this._root=t,this._settings=n,this._reader=new jY.default(this._root,this._settings)}read(){return this._reader.read()}};fS.default=mS});var MM=k(pS=>{"use strict";Object.defineProperty(pS,"__esModule",{value:!0});var HY=require("path"),KY=Uf(),hS=class{constructor(t={}){this._options=t,this.basePath=this._getValue(this._options.basePath,void 0),this.concurrency=this._getValue(this._options.concurrency,Number.POSITIVE_INFINITY),this.deepFilter=this._getValue(this._options.deepFilter,null),this.entryFilter=this._getValue(this._options.entryFilter,null),this.errorFilter=this._getValue(this._options.errorFilter,null),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,HY.sep),this.fsScandirSettings=new KY.Settings({followSymbolicLinks:this._options.followSymbolicLinks,fs:this._options.fs,pathSegmentSeparator:this._options.pathSegmentSeparator,stats:this._options.stats,throwErrorOnBrokenSymbolicLink:this._options.throwErrorOnBrokenSymbolicLink})}_getValue(t,n){return t??n}};pS.default=hS});var jf=k(dr=>{"use strict";Object.defineProperty(dr,"__esModule",{value:!0});dr.Settings=dr.walkStream=dr.walkSync=dr.walk=void 0;var LM=DM(),VY=BM(),WY=FM(),yS=MM();dr.Settings=yS.default;function YY(e,t,n){if(typeof t=="function"){new LM.default(e,Gf()).read(t);return}new LM.default(e,Gf(t)).read(n)}dr.walk=YY;function XY(e,t){let n=Gf(t);return new WY.default(e,n).read()}dr.walkSync=XY;function QY(e,t){let n=Gf(t);return new VY.default(e,n).read()}dr.walkStream=QY;function Gf(e={}){return e instanceof yS.default?e:new yS.default(e)}});var Hf=k(ES=>{"use strict";Object.defineProperty(ES,"__esModule",{value:!0});var ZY=require("path"),JY=Io(),UM=Fr(),gS=class{constructor(t){this._settings=t,this._fsStatSettings=new JY.Settings({followSymbolicLink:this._settings.followSymbolicLinks,fs:this._settings.fs,throwErrorOnBrokenSymbolicLink:this._settings.followSymbolicLinks})}_getFullEntryPath(t){return ZY.resolve(this._settings.cwd,t)}_makeEntry(t,n){let r={name:n,path:n,dirent:UM.fs.createDirentFromStats(n,t)};return this._settings.stats&&(r.stats=t),r}_isFatalError(t){return!UM.errno.isEnoentCodeError(t)&&!this._settings.suppressErrors}};ES.default=gS});var wS=k(xS=>{"use strict";Object.defineProperty(xS,"__esModule",{value:!0});var eX=require("stream"),tX=Io(),nX=jf(),rX=Hf(),SS=class extends rX.default{constructor(){super(...arguments),this._walkStream=nX.walkStream,this._stat=tX.stat}dynamic(t,n){return this._walkStream(t,n)}static(t,n){let r=t.map(this._getFullEntryPath,this),s=new eX.PassThrough({objectMode:!0});s._write=(o,a,i)=>this._getEntry(r[o],t[o],n).then(l=>{l!==null&&n.entryFilter(l)&&s.push(l),o===r.length-1&&s.end(),i()}).catch(i);for(let o=0;o<r.length;o++)s.write(o);return s}_getEntry(t,n,r){return this._getStat(t).then(s=>this._makeEntry(s,n)).catch(s=>{if(r.errorFilter(s))return null;throw s})}_getStat(t){return new Promise((n,r)=>{this._stat(t,this._fsStatSettings,(s,o)=>s===null?n(o):r(s))})}};xS.default=SS});var zM=k(bS=>{"use strict";Object.defineProperty(bS,"__esModule",{value:!0});var sX=jf(),oX=Hf(),iX=wS(),CS=class extends oX.default{constructor(){super(...arguments),this._walkAsync=sX.walk,this._readerStream=new iX.default(this._settings)}dynamic(t,n){return new Promise((r,s)=>{this._walkAsync(t,n,(o,a)=>{o===null?r(a):s(o)})})}async static(t,n){let r=[],s=this._readerStream.static(t,n);return new Promise((o,a)=>{s.once("error",a),s.on("data",i=>r.push(i)),s.once("end",()=>o(r))})}};bS.default=CS});var qM=k(_S=>{"use strict";Object.defineProperty(_S,"__esModule",{value:!0});var rd=Fr(),PS=class{constructor(t,n,r){this._patterns=t,this._settings=n,this._micromatchOptions=r,this._storage=[],this._fillStorage()}_fillStorage(){let t=rd.pattern.expandPatternsWithBraceExpansion(this._patterns);for(let n of t){let r=this._getPatternSegments(n),s=this._splitSegmentsIntoSections(r);this._storage.push({complete:s.length<=1,pattern:n,segments:r,sections:s})}}_getPatternSegments(t){return rd.pattern.getPatternParts(t,this._micromatchOptions).map(r=>rd.pattern.isDynamicPattern(r,this._settings)?{dynamic:!0,pattern:r,patternRe:rd.pattern.makeRe(r,this._micromatchOptions)}:{dynamic:!1,pattern:r})}_splitSegmentsIntoSections(t){return rd.array.splitWhen(t,n=>n.dynamic&&rd.pattern.hasGlobStar(n.pattern))}};_S.default=PS});var $M=k(kS=>{"use strict";Object.defineProperty(kS,"__esModule",{value:!0});var aX=qM(),AS=class extends aX.default{match(t){let n=t.split("/"),r=n.length,s=this._storage.filter(o=>!o.complete||o.segments.length>r);for(let o of s){let a=o.sections[0];if(!o.complete&&r>a.length||n.every((l,d)=>{let c=o.segments[d];return!!(c.dynamic&&c.patternRe.test(l)||!c.dynamic&&c.pattern===l)}))return!0}return!1}};kS.default=AS});var GM=k(IS=>{"use strict";Object.defineProperty(IS,"__esModule",{value:!0});var Kf=Fr(),cX=$M(),RS=class{constructor(t,n){this._settings=t,this._micromatchOptions=n}getFilter(t,n,r){let s=this._getMatcher(n),o=this._getNegativePatternsRe(r);return a=>this._filter(t,a,s,o)}_getMatcher(t){return new cX.default(t,this._settings,this._micromatchOptions)}_getNegativePatternsRe(t){let n=t.filter(Kf.pattern.isAffectDepthOfReadingPattern);return Kf.pattern.convertPatternsToRe(n,this._micromatchOptions)}_filter(t,n,r,s){if(this._isSkippedByDeep(t,n.path)||this._isSkippedSymbolicLink(n))return!1;let o=Kf.path.removeLeadingDotSegment(n.path);return this._isSkippedByPositivePatterns(o,r)?!1:this._isSkippedByNegativePatterns(o,s)}_isSkippedByDeep(t,n){return this._settings.deep===1/0?!1:this._getEntryLevel(t,n)>=this._settings.deep}_getEntryLevel(t,n){let r=n.split("/").length;if(t==="")return r;let s=t.split("/").length;return r-s}_isSkippedSymbolicLink(t){return!this._settings.followSymbolicLinks&&t.dirent.isSymbolicLink()}_isSkippedByPositivePatterns(t,n){return!this._settings.baseNameMatch&&!n.match(t)}_isSkippedByNegativePatterns(t,n){return!Kf.pattern.matchAny(t,n)}};IS.default=RS});var jM=k(vS=>{"use strict";Object.defineProperty(vS,"__esModule",{value:!0});var No=Fr(),NS=class{constructor(t,n){this._settings=t,this._micromatchOptions=n,this.index=new Map}getFilter(t,n){let r=No.pattern.convertPatternsToRe(t,this._micromatchOptions),s=No.pattern.convertPatternsToRe(n,this._micromatchOptions);return o=>this._filter(o,r,s)}_filter(t,n,r){if(this._settings.unique&&this._isDuplicateEntry(t)||this._onlyFileFilter(t)||this._onlyDirectoryFilter(t)||this._isSkippedByAbsoluteNegativePatterns(t.path,r))return!1;let s=this._settings.baseNameMatch?t.name:t.path,o=t.dirent.isDirectory(),a=this._isMatchToPatterns(s,n,o)&&!this._isMatchToPatterns(t.path,r,o);return this._settings.unique&&a&&this._createIndexRecord(t),a}_isDuplicateEntry(t){return this.index.has(t.path)}_createIndexRecord(t){this.index.set(t.path,void 0)}_onlyFileFilter(t){return this._settings.onlyFiles&&!t.dirent.isFile()}_onlyDirectoryFilter(t){return this._settings.onlyDirectories&&!t.dirent.isDirectory()}_isSkippedByAbsoluteNegativePatterns(t,n){if(!this._settings.absolute)return!1;let r=No.path.makeAbsolute(this._settings.cwd,t);return No.pattern.matchAny(r,n)}_isMatchToPatterns(t,n,r){let s=No.path.removeLeadingDotSegment(t),o=No.pattern.matchAny(s,n);return!o&&r?No.pattern.matchAny(s+"/",n):o}};vS.default=NS});var HM=k(DS=>{"use strict";Object.defineProperty(DS,"__esModule",{value:!0});var dX=Fr(),TS=class{constructor(t){this._settings=t}getFilter(){return t=>this._isNonFatalError(t)}_isNonFatalError(t){return dX.errno.isEnoentCodeError(t)||this._settings.suppressErrors}};DS.default=TS});var VM=k(OS=>{"use strict";Object.defineProperty(OS,"__esModule",{value:!0});var KM=Fr(),BS=class{constructor(t){this._settings=t}getTransformer(){return t=>this._transform(t)}_transform(t){let n=t.path;return this._settings.absolute&&(n=KM.path.makeAbsolute(this._settings.cwd,n),n=KM.path.unixify(n)),this._settings.markDirectories&&t.dirent.isDirectory()&&(n+="/"),this._settings.objectMode?Object.assign(Object.assign({},t),{path:n}):n}};OS.default=BS});var Vf=k(MS=>{"use strict";Object.defineProperty(MS,"__esModule",{value:!0});var lX=require("path"),uX=GM(),mX=jM(),fX=HM(),hX=VM(),FS=class{constructor(t){this._settings=t,this.errorFilter=new fX.default(this._settings),this.entryFilter=new mX.default(this._settings,this._getMicromatchOptions()),this.deepFilter=new uX.default(this._settings,this._getMicromatchOptions()),this.entryTransformer=new hX.default(this._settings)}_getRootDirectory(t){return lX.resolve(this._settings.cwd,t.base)}_getReaderOptions(t){let n=t.base==="."?"":t.base;return{basePath:n,pathSegmentSeparator:"/",concurrency:this._settings.concurrency,deepFilter:this.deepFilter.getFilter(n,t.positive,t.negative),entryFilter:this.entryFilter.getFilter(t.positive,t.negative),errorFilter:this.errorFilter.getFilter(),followSymbolicLinks:this._settings.followSymbolicLinks,fs:this._settings.fs,stats:this._settings.stats,throwErrorOnBrokenSymbolicLink:this._settings.throwErrorOnBrokenSymbolicLink,transform:this.entryTransformer.getTransformer()}}_getMicromatchOptions(){return{dot:this._settings.dot,matchBase:this._settings.baseNameMatch,nobrace:!this._settings.braceExpansion,nocase:!this._settings.caseSensitiveMatch,noext:!this._settings.extglob,noglobstar:!this._settings.globstar,posix:!0,strictSlashes:!1}}};MS.default=FS});var WM=k(US=>{"use strict";Object.defineProperty(US,"__esModule",{value:!0});var pX=zM(),yX=Vf(),LS=class extends yX.default{constructor(){super(...arguments),this._reader=new pX.default(this._settings)}async read(t){let n=this._getRootDirectory(t),r=this._getReaderOptions(t);return(await this.api(n,t,r)).map(o=>r.transform(o))}api(t,n,r){return n.dynamic?this._reader.dynamic(t,r):this._reader.static(n.patterns,r)}};US.default=LS});var YM=k(qS=>{"use strict";Object.defineProperty(qS,"__esModule",{value:!0});var gX=require("stream"),EX=wS(),SX=Vf(),zS=class extends SX.default{constructor(){super(...arguments),this._reader=new EX.default(this._settings)}read(t){let n=this._getRootDirectory(t),r=this._getReaderOptions(t),s=this.api(n,t,r),o=new gX.Readable({objectMode:!0,read:()=>{}});return s.once("error",a=>o.emit("error",a)).on("data",a=>o.emit("data",r.transform(a))).once("end",()=>o.emit("end")),o.once("close",()=>s.destroy()),o}api(t,n,r){return n.dynamic?this._reader.dynamic(t,r):this._reader.static(n.patterns,r)}};qS.default=zS});var XM=k(GS=>{"use strict";Object.defineProperty(GS,"__esModule",{value:!0});var xX=Io(),wX=jf(),CX=Hf(),$S=class extends CX.default{constructor(){super(...arguments),this._walkSync=wX.walkSync,this._statSync=xX.statSync}dynamic(t,n){return this._walkSync(t,n)}static(t,n){let r=[];for(let s of t){let o=this._getFullEntryPath(s),a=this._getEntry(o,s,n);a===null||!n.entryFilter(a)||r.push(a)}return r}_getEntry(t,n,r){try{let s=this._getStat(t);return this._makeEntry(s,n)}catch(s){if(r.errorFilter(s))return null;throw s}}_getStat(t){return this._statSync(t,this._fsStatSettings)}};GS.default=$S});var QM=k(HS=>{"use strict";Object.defineProperty(HS,"__esModule",{value:!0});var bX=XM(),PX=Vf(),jS=class extends PX.default{constructor(){super(...arguments),this._reader=new bX.default(this._settings)}read(t){let n=this._getRootDirectory(t),r=this._getReaderOptions(t);return this.api(n,t,r).map(r.transform)}api(t,n,r){return n.dynamic?this._reader.dynamic(t,r):this._reader.static(n.patterns,r)}};HS.default=jS});var ZM=k(od=>{"use strict";Object.defineProperty(od,"__esModule",{value:!0});od.DEFAULT_FILE_SYSTEM_ADAPTER=void 0;var sd=require("fs"),_X=require("os"),AX=Math.max(_X.cpus().length,1);od.DEFAULT_FILE_SYSTEM_ADAPTER={lstat:sd.lstat,lstatSync:sd.lstatSync,stat:sd.stat,statSync:sd.statSync,readdir:sd.readdir,readdirSync:sd.readdirSync};var KS=class{constructor(t={}){this._options=t,this.absolute=this._getValue(this._options.absolute,!1),this.baseNameMatch=this._getValue(this._options.baseNameMatch,!1),this.braceExpansion=this._getValue(this._options.braceExpansion,!0),this.caseSensitiveMatch=this._getValue(this._options.caseSensitiveMatch,!0),this.concurrency=this._getValue(this._options.concurrency,AX),this.cwd=this._getValue(this._options.cwd,process.cwd()),this.deep=this._getValue(this._options.deep,1/0),this.dot=this._getValue(this._options.dot,!1),this.extglob=this._getValue(this._options.extglob,!0),this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!0),this.fs=this._getFileSystemMethods(this._options.fs),this.globstar=this._getValue(this._options.globstar,!0),this.ignore=this._getValue(this._options.ignore,[]),this.markDirectories=this._getValue(this._options.markDirectories,!1),this.objectMode=this._getValue(this._options.objectMode,!1),this.onlyDirectories=this._getValue(this._options.onlyDirectories,!1),this.onlyFiles=this._getValue(this._options.onlyFiles,!0),this.stats=this._getValue(this._options.stats,!1),this.suppressErrors=this._getValue(this._options.suppressErrors,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!1),this.unique=this._getValue(this._options.unique,!0),this.onlyDirectories&&(this.onlyFiles=!1),this.stats&&(this.objectMode=!0)}_getValue(t,n){return t===void 0?n:t}_getFileSystemMethods(t={}){return Object.assign(Object.assign({},od.DEFAULT_FILE_SYSTEM_ADAPTER),t)}};od.default=KS});var XS=k((PTe,tL)=>{"use strict";var JM=ZF(),eL=eM(),kX=WM(),RX=YM(),IX=QM(),VS=ZM(),vo=Fr();async function WS(e,t){id(e);let n=YS(e,kX.default,t),r=await Promise.all(n);return vo.array.flatten(r)}(function(e){function t(a,i){id(a);let l=YS(a,IX.default,i);return vo.array.flatten(l)}e.sync=t;function n(a,i){id(a);let l=YS(a,RX.default,i);return vo.stream.merge(l)}e.stream=n;function r(a,i){id(a);let l=eL.transform([].concat(a)),d=new VS.default(i);return JM.generate(l,d)}e.generateTasks=r;function s(a,i){id(a);let l=new VS.default(i);return vo.pattern.isDynamicPattern(a,l)}e.isDynamicPattern=s;function o(a){return id(a),vo.path.escape(a)}e.escapePath=o})(WS||(WS={}));function YS(e,t,n){let r=eL.transform([].concat(e)),s=new VS.default(n),o=JM.generate(r,s),a=new t(s);return o.map(a.read,a)}function id(e){if(![].concat(e).every(r=>vo.string.isString(r)&&!vo.string.isEmpty(r)))throw new TypeError("Patterns must be a string (non empty) or an array of strings")}tL.exports=WS});var rL=k(To=>{"use strict";var{promisify:NX}=require("util"),nL=require("fs");async function QS(e,t,n){if(typeof n!="string")throw new TypeError(`Expected a string, got ${typeof n}`);try{return(await NX(nL[e])(n))[t]()}catch(r){if(r.code==="ENOENT")return!1;throw r}}function ZS(e,t,n){if(typeof n!="string")throw new TypeError(`Expected a string, got ${typeof n}`);try{return nL[e](n)[t]()}catch(r){if(r.code==="ENOENT")return!1;throw r}}To.isFile=QS.bind(null,"stat","isFile");To.isDirectory=QS.bind(null,"stat","isDirectory");To.isSymlink=QS.bind(null,"lstat","isSymbolicLink");To.isFileSync=ZS.bind(null,"statSync","isFile");To.isDirectorySync=ZS.bind(null,"statSync","isDirectory");To.isSymlinkSync=ZS.bind(null,"lstatSync","isSymbolicLink")});var cL=k((ATe,JS)=>{"use strict";var Do=require("path"),sL=rL(),oL=e=>e.length>1?`{${e.join(",")}}`:e[0],iL=(e,t)=>{let n=e[0]==="!"?e.slice(1):e;return Do.isAbsolute(n)?n:Do.join(t,n)},vX=(e,t)=>Do.extname(e)?`**/${e}`:`**/${e}.${oL(t)}`,aL=(e,t)=>{if(t.files&&!Array.isArray(t.files))throw new TypeError(`Expected \`files\` to be of type \`Array\` but received type \`${typeof t.files}\``);if(t.extensions&&!Array.isArray(t.extensions))throw new TypeError(`Expected \`extensions\` to be of type \`Array\` but received type \`${typeof t.extensions}\``);return t.files&&t.extensions?t.files.map(n=>Do.posix.join(e,vX(n,t.extensions))):t.files?t.files.map(n=>Do.posix.join(e,`**/${n}`)):t.extensions?[Do.posix.join(e,`**/*.${oL(t.extensions)}`)]:[Do.posix.join(e,"**")]};JS.exports=async(e,t)=>{if(t={cwd:process.cwd(),...t},typeof t.cwd!="string")throw new TypeError(`Expected \`cwd\` to be of type \`string\` but received type \`${typeof t.cwd}\``);let n=await Promise.all([].concat(e).map(async r=>await sL.isDirectory(iL(r,t.cwd))?aL(r,t):r));return[].concat.apply([],n)};JS.exports.sync=(e,t)=>{if(t={cwd:process.cwd(),...t},typeof t.cwd!="string")throw new TypeError(`Expected \`cwd\` to be of type \`string\` but received type \`${typeof t.cwd}\``);let n=[].concat(e).map(r=>sL.isDirectorySync(iL(r,t.cwd))?aL(r,t):r);return[].concat.apply([],n)}});var EL=k((kTe,gL)=>{function dL(e){return Array.isArray(e)?e:[e]}var fL="",lL=" ",ex="\\",TX=/^\s+$/,DX=/(?:[^\\]|^)\\$/,BX=/^\\!/,OX=/^\\#/,FX=/\r?\n/g,MX=/^\.*\/|^\.+$/,tx="/",hL="node-ignore";typeof Symbol<"u"&&(hL=Symbol.for("node-ignore"));var uL=hL,LX=(e,t,n)=>Object.defineProperty(e,t,{value:n}),UX=/([0-z])-([0-z])/g,pL=()=>!1,zX=e=>e.replace(UX,(t,n,r)=>n.charCodeAt(0)<=r.charCodeAt(0)?t:fL),qX=e=>{let{length:t}=e;return e.slice(0,t-t%2)},$X=[[/\\?\s+$/,e=>e.indexOf("\\")===0?lL:fL],[/\\\s/g,()=>lL],[/[\\$.|*+(){^]/g,e=>`\\${e}`],[/(?!\\)\?/g,()=>"[^/]"],[/^\//,()=>"^"],[/\//g,()=>"\\/"],[/^\^*\\\*\\\*\\\//,()=>"^(?:.*\\/)?"],[/^(?=[^^])/,function(){return/\/(?!$)/.test(this)?"^":"(?:^|\\/)"}],[/\\\/\\\*\\\*(?=\\\/|$)/g,(e,t,n)=>t+6<n.length?"(?:\\/[^\\/]+)*":"\\/.+"],[/(^|[^\\]+)(\\\*)+(?=.+)/g,(e,t,n)=>{let r=n.replace(/\\\*/g,"[^\\/]*");return t+r}],[/\\\\\\(?=[$.|*+(){^])/g,()=>ex],[/\\\\/g,()=>ex],[/(\\)?\[([^\]/]*?)(\\*)($|\])/g,(e,t,n,r,s)=>t===ex?`\\[${n}${qX(r)}${s}`:s==="]"&&r.length%2===0?`[${zX(n)}${r}]`:"[]"],[/(?:[^*])$/,e=>/\/$/.test(e)?`${e}$`:`${e}(?=$|\\/$)`],[/(\^|\\\/)?\\\*$/,(e,t)=>`${t?`${t}[^/]+`:"[^/]*"}(?=$|\\/$)`]],mL=Object.create(null),GX=(e,t)=>{let n=mL[e];return n||(n=$X.reduce((r,s)=>r.replace(s[0],s[1].bind(e)),e),mL[e]=n),t?new RegExp(n,"i"):new RegExp(n)},sx=e=>typeof e=="string",jX=e=>e&&sx(e)&&!TX.test(e)&&!DX.test(e)&&e.indexOf("#")!==0,HX=e=>e.split(FX),nx=class{constructor(t,n,r,s){this.origin=t,this.pattern=n,this.negative=r,this.regex=s}},KX=(e,t)=>{let n=e,r=!1;e.indexOf("!")===0&&(r=!0,e=e.substr(1)),e=e.replace(BX,"!").replace(OX,"#");let s=GX(e,t);return new nx(n,e,r,s)},VX=(e,t)=>{throw new t(e)},Lr=(e,t,n)=>sx(e)?e?Lr.isNotRelative(e)?n(`path should be a \`path.relative()\`d string, but got "${t}"`,RangeError):!0:n("path must not be empty",TypeError):n(`path must be a string, but got \`${t}\``,TypeError),yL=e=>MX.test(e);Lr.isNotRelative=yL;Lr.convert=e=>e;var rx=class{constructor({ignorecase:t=!0,ignoreCase:n=t,allowRelativePaths:r=!1}={}){LX(this,uL,!0),this._rules=[],this._ignoreCase=n,this._allowRelativePaths=r,this._initCache()}_initCache(){this._ignoreCache=Object.create(null),this._testCache=Object.create(null)}_addPattern(t){if(t&&t[uL]){this._rules=this._rules.concat(t._rules),this._added=!0;return}if(jX(t)){let n=KX(t,this._ignoreCase);this._added=!0,this._rules.push(n)}}add(t){return this._added=!1,dL(sx(t)?HX(t):t).forEach(this._addPattern,this),this._added&&this._initCache(),this}addPattern(t){return this.add(t)}_testOne(t,n){let r=!1,s=!1;return this._rules.forEach(o=>{let{negative:a}=o;if(s===a&&r!==s||a&&!r&&!s&&!n)return;o.regex.test(t)&&(r=!a,s=a)}),{ignored:r,unignored:s}}_test(t,n,r,s){let o=t&&Lr.convert(t);return Lr(o,t,this._allowRelativePaths?pL:VX),this._t(o,n,r,s)}_t(t,n,r,s){if(t in n)return n[t];if(s||(s=t.split(tx)),s.pop(),!s.length)return n[t]=this._testOne(t,r);let o=this._t(s.join(tx)+tx,n,r,s);return n[t]=o.ignored?o:this._testOne(t,r)}ignores(t){return this._test(t,this._ignoreCache,!1).ignored}createFilter(){return t=>!this.ignores(t)}filter(t){return dL(t).filter(this.createFilter())}test(t){return this._test(t,this._testCache,!0)}},Wf=e=>new rx(e),WX=e=>Lr(e&&Lr.convert(e),e,pL);Wf.isPathValid=WX;Wf.default=Wf;gL.exports=Wf;if(typeof process<"u"&&(process.env&&process.env.IGNORE_TEST_WIN32||process.platform==="win32")){let e=n=>/^\\\\\?\\/.test(n)||/["<>|\u0000-\u001F]+/u.test(n)?n:n.replace(/\\/g,"/");Lr.convert=e;let t=/^[a-z]:\//i;Lr.isNotRelative=n=>t.test(n)||yL(n)}});var xL=k((RTe,SL)=>{"use strict";SL.exports=e=>{let t=/^\\\\\?\\/.test(e),n=/[^\u0000-\u0080]+/.test(e);return t||n?e:e.replace(/\\/g,"/")}});var kL=k((ITe,ox)=>{"use strict";var{promisify:YX}=require("util"),wL=require("fs"),Ur=require("path"),CL=XS(),XX=EL(),wl=xL(),bL=["**/node_modules/**","**/flow-typed/**","**/coverage/**","**/.git"],QX=YX(wL.readFile),ZX=e=>t=>t.startsWith("!")?"!"+Ur.posix.join(e,t.slice(1)):Ur.posix.join(e,t),JX=(e,t)=>{let n=wl(Ur.relative(t.cwd,Ur.dirname(t.fileName)));return e.split(/\r?\n/).filter(Boolean).filter(r=>!r.startsWith("#")).map(ZX(n))},PL=e=>{let t=XX();for(let n of e)t.add(JX(n.content,{cwd:n.cwd,fileName:n.filePath}));return t},eQ=(e,t)=>{if(e=wl(e),Ur.isAbsolute(t)){if(wl(t).startsWith(e))return t;throw new Error(`Path ${t} is not in cwd ${e}`)}return Ur.join(e,t)},_L=(e,t)=>n=>e.ignores(wl(Ur.relative(t,eQ(t,n.path||n)))),tQ=async(e,t)=>{let n=Ur.join(t,e),r=await QX(n,"utf8");return{cwd:t,filePath:n,content:r}},nQ=(e,t)=>{let n=Ur.join(t,e),r=wL.readFileSync(n,"utf8");return{cwd:t,filePath:n,content:r}},AL=({ignore:e=[],cwd:t=wl(process.cwd())}={})=>({ignore:e,cwd:t});ox.exports=async e=>{e=AL(e);let t=await CL("**/.gitignore",{ignore:bL.concat(e.ignore),cwd:e.cwd}),n=await Promise.all(t.map(s=>tQ(s,e.cwd))),r=PL(n);return _L(r,e.cwd)};ox.exports.sync=e=>{e=AL(e);let n=CL.sync("**/.gitignore",{ignore:bL.concat(e.ignore),cwd:e.cwd}).map(s=>nQ(s,e.cwd)),r=PL(n);return _L(r,e.cwd)}});var IL=k((NTe,RL)=>{"use strict";var{Transform:rQ}=require("stream"),Yf=class extends rQ{constructor(){super({objectMode:!0})}},ix=class extends Yf{constructor(t){super(),this._filter=t}_transform(t,n,r){this._filter(t)&&this.push(t),r()}},ax=class extends Yf{constructor(){super(),this._pushed=new Set}_transform(t,n,r){this._pushed.has(t)||(this.push(t),this._pushed.add(t)),r()}};RL.exports={FilterStream:ix,UniqueStream:ax}});var BL=k((vTe,Bo)=>{"use strict";var vL=require("fs"),Xf=yO(),sQ=hE(),Qf=XS(),Zf=cL(),cx=kL(),{FilterStream:oQ,UniqueStream:iQ}=IL(),TL=()=>!1,NL=e=>e[0]==="!",aQ=e=>{if(!e.every(t=>typeof t=="string"))throw new TypeError("Patterns must be a string or an array of strings")},cQ=(e={})=>{if(!e.cwd)return;let t;try{t=vL.statSync(e.cwd)}catch{return}if(!t.isDirectory())throw new Error("The `cwd` option must be a path to a directory")},dQ=e=>e.stats instanceof vL.Stats?e.path:e,Jf=(e,t)=>{e=Xf([].concat(e)),aQ(e),cQ(t);let n=[];t={ignore:[],expandDirectories:!0,...t};for(let[r,s]of e.entries()){if(NL(s))continue;let o=e.slice(r).filter(i=>NL(i)).map(i=>i.slice(1)),a={...t,ignore:t.ignore.concat(o)};n.push({pattern:s,options:a})}return n},lQ=(e,t)=>{let n={};return e.options.cwd&&(n.cwd=e.options.cwd),Array.isArray(e.options.expandDirectories)?n={...n,files:e.options.expandDirectories}:typeof e.options.expandDirectories=="object"&&(n={...n,...e.options.expandDirectories}),t(e.pattern,n)},dx=(e,t)=>e.options.expandDirectories?lQ(e,t):[e.pattern],DL=e=>e&&e.gitignore?cx.sync({cwd:e.cwd,ignore:e.ignore}):TL,lx=e=>t=>{let{options:n}=e;return n.ignore&&Array.isArray(n.ignore)&&n.expandDirectories&&(n.ignore=Zf.sync(n.ignore)),{pattern:t,options:n}};Bo.exports=async(e,t)=>{let n=Jf(e,t),r=async()=>t&&t.gitignore?cx({cwd:t.cwd,ignore:t.ignore}):TL,s=async()=>{let l=await Promise.all(n.map(async d=>{let c=await dx(d,Zf);return Promise.all(c.map(lx(d)))}));return Xf(...l)},[o,a]=await Promise.all([r(),s()]),i=await Promise.all(a.map(l=>Qf(l.pattern,l.options)));return Xf(...i).filter(l=>!o(dQ(l)))};Bo.exports.sync=(e,t)=>{let n=Jf(e,t),r=[];for(let a of n){let i=dx(a,Zf.sync).map(lx(a));r.push(...i)}let s=DL(t),o=[];for(let a of r)o=Xf(o,Qf.sync(a.pattern,a.options));return o.filter(a=>!s(a))};Bo.exports.stream=(e,t)=>{let n=Jf(e,t),r=[];for(let i of n){let l=dx(i,Zf.sync).map(lx(i));r.push(...l)}let s=DL(t),o=new oQ(i=>!s(i)),a=new iQ;return sQ(r.map(i=>Qf.stream(i.pattern,i.options))).pipe(o).pipe(a)};Bo.exports.generateGlobTasks=Jf;Bo.exports.hasMagic=(e,t)=>[].concat(e).some(n=>Qf.isDynamicPattern(n,t));Bo.exports.gitignore=cx});var Cl=require("path"),OL=require("fs"),FL=require("fs/promises"),zr=cn(Eh());var mw=async e=>{let t=(e==null?void 0:e.Bucket)||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),b3(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!C3(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},S3=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,x3=/(\d+\.){3}\d+/,w3=/\.\./;var C3=e=>S3.test(e)&&!x3.test(e)&&!w3.test(e),b3=e=>{let[t,n,r,s,o,a]=e.split(":"),i=t==="arn"&&e.split(":").length>=6,l=[t,n,r,o,a].filter(Boolean).length===5;if(i&&!l)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return t==="arn"&&!!n&&!!r&&!!o&&!!a};var fw=(e,t,n)=>{let r=async()=>{let s=n[e]??n[t];return typeof s=="function"?s():s};return e==="endpoint"||t==="endpoint"?async()=>{let s=await r();if(s&&typeof s=="object"){if("url"in s)return s.url.href;if("hostname"in s){let{protocol:o,hostname:a,port:i,path:l}=s;return`${o}//${a}${i?":"+i:""}${l}`}}return s}:r};var hw=async(e,t,n,r)=>{let s=await P3(e,t,n);if(typeof n.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return n.endpointProvider(s,r)},P3=async(e,t,n)=>{var o;let r={},s=((o=t==null?void 0:t.getEndpointParameterInstructions)==null?void 0:o.call(t))||{};for(let[a,i]of Object.entries(s))switch(i.type){case"staticContextParams":r[a]=i.value;break;case"contextParams":r[a]=e[i.name];break;case"clientContextParams":case"builtInParams":r[a]=await fw(i.name,a,n)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(i))}return Object.keys(s).length===0&&Object.assign(r,n),String(n.serviceId).toLowerCase()==="s3"&&await mw(r),r};function pw(e){let t={};if(e=e.replace(/^\?/,""),e)for(let n of e.split("&")){let[r,s=null]=n.split("=");r=decodeURIComponent(r),s&&(s=decodeURIComponent(s)),r in t?Array.isArray(t[r])?t[r].push(s):t[r]=[t[r],s]:t[r]=s}return t}var $t=e=>{if(typeof e=="string")return $t(new URL(e));let{hostname:t,pathname:n,port:r,protocol:s,search:o}=e,a;return o&&(a=pw(o)),{hostname:t,port:r?parseInt(r):void 0,protocol:s,path:n,query:a}};var yw=e=>typeof e=="object"?"url"in e?$t(e.url):e:$t(e);var gw=({config:e,instructions:t})=>(n,r)=>async s=>{var i,l;let o=await hw(s.input,{getEndpointParameterInstructions(){return t}},{...e},r);r.endpointV2=o,r.authSchemes=(i=o.properties)==null?void 0:i.authSchemes;let a=(l=r.authSchemes)==null?void 0:l[0];return a&&(r.signing_region=a.signingRegion,r.signing_service=a.signingName),n({...s})};var Ew=(e,t)=>(n,r)=>async s=>{let{response:o}=await n(s);try{let a=await t(o,e);return{response:o,output:a}}catch(a){if(Object.defineProperty(a,"$response",{value:o}),!("$metadata"in a)){let i="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";a.message+=`
  `+i}throw a}};var Sw=(e,t)=>(n,r)=>async s=>{var i;let o=(i=r.endpointV2)!=null&&i.url&&e.urlParser?async()=>e.urlParser(r.endpointV2.url):e.endpoint;if(!o)throw new Error("No valid endpoint provider available.");let a=await t(s.input,{...e,endpoint:o});return n({...s,request:a})};var _3={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},_h={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function C(e,t,n){return{applyToStack:r=>{r.add(Ew(e,n),_3),r.add(Sw(e,t),_h)}}}var A3={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:_h.name},b=(e,t)=>({applyToStack:n=>{n.addRelativeTo(gw({config:e,instructions:t}),A3)}});var xt=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t};var Vr=e=>{let t=e.tls??!0,{endpoint:n}=e,r=n!=null?async()=>yw(await xt(n)()):void 0;return{...e,endpoint:r,tls:t,isCustomEndpoint:!!n,useDualstackEndpoint:xt(e.useDualstackEndpoint??!1),useFipsEndpoint:xt(e.useFipsEndpoint??!1)}};var Fn=class{trace(){}debug(){}info(){}warn(){}error(){}};var Go=()=>{let e=[],t=[],n=new Set,r=c=>c.sort((m,u)=>xw[u.step]-xw[m.step]||ww[u.priority||"normal"]-ww[m.priority||"normal"]),s=c=>{let m=!1,u=w=>w.name&&w.name===c?(m=!0,n.delete(c),!1):!0;return e=e.filter(u),t=t.filter(u),m},o=c=>{let m=!1,u=w=>w.middleware===c?(m=!0,w.name&&n.delete(w.name),!1):!0;return e=e.filter(u),t=t.filter(u),m},a=c=>(e.forEach(m=>{c.add(m.middleware,{...m})}),t.forEach(m=>{c.addRelativeTo(m.middleware,{...m})}),c),i=c=>{let m=[];return c.before.forEach(u=>{u.before.length===0&&u.after.length===0?m.push(u):m.push(...i(u))}),m.push(c),c.after.reverse().forEach(u=>{u.before.length===0&&u.after.length===0?m.push(u):m.push(...i(u))}),m},l=(c=!1)=>{let m=[],u=[],w={};return e.forEach(I=>{let D={...I,before:[],after:[]};D.name&&(w[D.name]=D),m.push(D)}),t.forEach(I=>{let D={...I,before:[],after:[]};D.name&&(w[D.name]=D),u.push(D)}),u.forEach(I=>{if(I.toMiddleware){let D=w[I.toMiddleware];if(D===void 0){if(c)return;throw new Error(`${I.toMiddleware} is not found when adding ${I.name||"anonymous"} middleware ${I.relation} ${I.toMiddleware}`)}I.relation==="after"&&D.after.push(I),I.relation==="before"&&D.before.push(I)}}),r(m).map(i).reduce((I,D)=>(I.push(...D),I),[])},d={add:(c,m={})=>{let{name:u,override:w}=m,S={step:"initialize",priority:"normal",middleware:c,...m};if(u){if(n.has(u)){if(!w)throw new Error(`Duplicate middleware name '${u}'`);let I=e.findIndex(X=>X.name===u),D=e[I];if(D.step!==S.step||D.priority!==S.priority)throw new Error(`"${u}" middleware with ${D.priority} priority in ${D.step} step cannot be overridden by same-name middleware with ${S.priority} priority in ${S.step} step.`);e.splice(I,1)}n.add(u)}e.push(S)},addRelativeTo:(c,m)=>{let{name:u,override:w}=m,S={middleware:c,...m};if(u){if(n.has(u)){if(!w)throw new Error(`Duplicate middleware name '${u}'`);let I=t.findIndex(X=>X.name===u),D=t[I];if(D.toMiddleware!==S.toMiddleware||D.relation!==S.relation)throw new Error(`"${u}" middleware ${D.relation} "${D.toMiddleware}" middleware cannot be overridden by same-name middleware ${S.relation} "${S.toMiddleware}" middleware.`);t.splice(I,1)}n.add(u)}t.push(S)},clone:()=>a(Go()),use:c=>{c.applyToStack(d)},remove:c=>typeof c=="string"?s(c):o(c),removeByTag:c=>{let m=!1,u=w=>{let{tags:S,name:I}=w;return S&&S.includes(c)?(I&&n.delete(I),m=!0,!1):!0};return e=e.filter(u),t=t.filter(u),m},concat:c=>{let m=a(Go());return m.use(c),m},applyToStack:a,identify:()=>l(!0).map(c=>c.name+": "+(c.tags||[]).join(",")),resolve:(c,m)=>{for(let u of l().map(w=>w.middleware).reverse())c=u(c,m);return c}};return d},xw={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},ww={high:3,normal:2,low:1};var Mn=class{constructor(t){this.middlewareStack=Go(),this.config=t}send(t,n,r){let s=typeof n!="function"?n:void 0,o=typeof n=="function"?n:r,a=t.resolveMiddleware(this.middlewareStack,this.config,s);if(o)a(t).then(i=>o(null,i.output),i=>o(i)).catch(()=>{});else return a(t).then(i=>i.output)}destroy(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}};var x=class{constructor(){this.middlewareStack=Go()}};var Se="***SensitiveInformation***";var _e=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}};var k3=e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&Rw.warn(kw(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},R3=Math.ceil(34028234663852886e22),Cw=e=>{let t=k3(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>R3)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},jo=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}};var Ul=e=>Ah(e,32),bw=e=>Ah(e,16),Pw=e=>Ah(e,8),Ah=(e,t)=>{let n=jo(e);if(n!==void 0&&I3(n,t)!==n)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return n},I3=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},W=(e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},de=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},y=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return Rw.warn(kw(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},ld=e=>{if(e==null)return;let t=de(e),n=Object.entries(t).filter(([,r])=>r!=null).map(([r])=>r);if(n.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(n.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${n} were not null.`);return t};var _w=e=>Cw(typeof e=="string"?ud(e):e),N3=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,ud=e=>{let t=e.match(N3);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)};var ft=e=>jo(typeof e=="string"?ud(e):e);var Ie=e=>Ul(typeof e=="string"?ud(e):e),md=e=>bw(typeof e=="string"?ud(e):e),Aw=e=>Pw(typeof e=="string"?ud(e):e),kw=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),Rw={warn:console.warn};var v3=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Rh=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Lt(e){let t=e.getUTCFullYear(),n=e.getUTCMonth(),r=e.getUTCDay(),s=e.getUTCDate(),o=e.getUTCHours(),a=e.getUTCMinutes(),i=e.getUTCSeconds(),l=s<10?`0${s}`:`${s}`,d=o<10?`0${o}`:`${o}`,c=a<10?`0${a}`:`${a}`,m=i<10?`0${i}`:`${i}`;return`${v3[r]}, ${l} ${Rh[n]} ${t} ${d}:${c}:${m} GMT`}var lJ=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/);var T3=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),_t=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=T3.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[n,r,s,o,a,i,l,d,c]=t,m=md(fd(r)),u=Wr(s,"month",1,12),w=Wr(o,"day",1,31),S=zl(m,u,w,{hours:a,minutes:i,seconds:l,fractionalMilliseconds:d});return c.toUpperCase()!="Z"&&S.setTime(S.getTime()-G3(c)),S},D3=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),B3=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),O3=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),Yr=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=D3.exec(e);if(t){let[n,r,s,o,a,i,l,d]=t;return zl(md(fd(o)),kh(s),Wr(r,"day",1,31),{hours:a,minutes:i,seconds:l,fractionalMilliseconds:d})}if(t=B3.exec(e),t){let[n,r,s,o,a,i,l,d]=t;return L3(zl(F3(o),kh(s),Wr(r,"day",1,31),{hours:a,minutes:i,seconds:l,fractionalMilliseconds:d}))}if(t=O3.exec(e),t){let[n,r,s,o,a,i,l,d]=t;return zl(md(fd(d)),kh(r),Wr(s.trimLeft(),"day",1,31),{hours:o,minutes:a,seconds:i,fractionalMilliseconds:l})}throw new TypeError("Invalid RFC-7231 date-time value")};var zl=(e,t,n,r)=>{let s=t-1;return z3(e,s,n),new Date(Date.UTC(e,s,n,Wr(r.hours,"hour",0,23),Wr(r.minutes,"minute",0,59),Wr(r.seconds,"seconds",0,60),$3(r.fractionalMilliseconds)))},F3=e=>{let t=new Date().getUTCFullYear(),n=Math.floor(t/100)*100+md(fd(e));return n<t?n+100:n},M3=50*365*24*60*60*1e3,L3=e=>e.getTime()-new Date().getTime()>M3?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,kh=e=>{let t=Rh.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},U3=[31,28,31,30,31,30,31,31,30,31,30,31],z3=(e,t,n)=>{let r=U3[t];if(t===1&&q3(e)&&(r=29),n>r)throw new TypeError(`Invalid day for ${Rh[t]} in ${e}: ${n}`)},q3=e=>e%4===0&&(e%100!==0||e%400===0),Wr=(e,t,n,r)=>{let s=Aw(fd(e));if(s<n||s>r)throw new TypeError(`${t} must be between ${n} and ${r}, inclusive`);return s},$3=e=>e==null?0:_w("0."+e)*1e3,G3=e=>{let t=e[0],n=1;if(t=="+")n=1;else if(t=="-")n=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);let r=Number(e.substring(1,3)),s=Number(e.substring(4,6));return n*(r*60+s)*60*1e3},fd=e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)};var mn=class extends Error{constructor(t){super(t.message),Object.setPrototypeOf(this,mn.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}},we=(e,t={})=>{Object.entries(t).filter(([,r])=>r!==void 0).forEach(([r,s])=>{(e[r]==null||e[r]==="")&&(e[r]=s)});let n=e.message||e.Message||"UnknownError";return e.message=n,delete e.Message,e};var z=({output:e,parsedBody:t,exceptionCtor:n,errorCode:r})=>{let s=j3(e),o=s.httpStatusCode?s.httpStatusCode+"":void 0,a=new n({name:(t==null?void 0:t.code)||(t==null?void 0:t.Code)||r||o||"UnknownError",$fault:"client",$metadata:s});throw we(a,t)},j3=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]});var Xr=e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}};var Iw=!1,Qr=e=>{e&&!Iw&&parseInt(e.substring(1,e.indexOf(".")))<14&&(Iw=!0)};function Ho(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}var te=e=>Array.isArray(e)?e:[e];var hd=e=>{let t="#text";for(let n in e)e.hasOwnProperty(n)&&e[n][t]!==void 0?e[n]=e[n][t]:typeof e[n]=="object"&&e[n]!==null&&(e[n]=hd(e[n]));return e};var Ih=function(){let e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,[null,...arguments]),n=new t;return Object.setPrototypeOf(n,e.prototype),n};Ih.prototype=Object.create(String.prototype,{constructor:{value:Ih,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf(Ih,String);function Zs(e,t,n){let r,s,o;if(typeof t>"u"&&typeof n>"u")r={},o=e;else{if(r=e,typeof t=="function")return s=t,o=n,H3(r,s,o);o=t}for(let a of Object.keys(o)){if(!Array.isArray(o[a])){r[a]=o[a];continue}K3(r,null,o,a)}return r}var H3=(e,t,n)=>Zs(e,Object.entries(n).reduce((r,[s,o])=>(Array.isArray(o)?r[s]=o:typeof o=="function"?r[s]=[t,o()]:r[s]=[t,o],r),{})),K3=(e,t,n,r)=>{if(t!==null){let a=n[r];typeof a=="function"&&(a=[,a]);let[i=V3,l=W3,d=r]=a;(typeof i=="function"&&i(t[d])||typeof i!="function"&&i)&&(e[r]=l(t[d]));return}let[s,o]=n[r];if(typeof o=="function"){let a,i=s===void 0&&(a=o())!=null,l=typeof s=="function"&&!!s(void 0)||typeof s!="function"&&!!s;i?e[r]=a:l&&(e[r]=o())}else{let a=s===void 0&&o!=null,i=typeof s=="function"&&!!s(o)||typeof s!="function"&&!!s;(a||i)&&(e[r]=o)}},V3=e=>e!=null,W3=e=>e;var O=(e,t,n,r,s,o)=>{if(t!=null&&t[n]!==void 0){let a=r();if(a.length<=0)throw new Error("Empty value provided for input HTTP label: "+n+".");e=e.replace(s,o?a.split("/").map(i=>Ho(i)).join("/"):Ho(a))}else throw new Error("No value provided for input HTTP label: "+n+".");return e};var Nh;(function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"})(Nh||(Nh={}));var v=class{constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/"}static isInstance(t){if(!t)return!1;let n=t;return"method"in n&&"protocol"in n&&"hostname"in n&&"path"in n&&typeof n.query=="object"&&typeof n.headers=="object"}clone(){let t=new v({...this,headers:{...this.headers}});return t.query&&(t.query=Y3(t.query)),t}};function Y3(e){return Object.keys(e).reduce((t,n)=>{let r=e[n];return{...t,[n]:Array.isArray(r)?[...r]:r}},{})}var fn=class{constructor(t){this.statusCode=t.statusCode,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;let n=t;return typeof n.statusCode=="number"&&typeof n.headers=="object"}};function Nw(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}function vw(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function Tw(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}var ur=class{constructor(t){this.value=t}toString(){return Tw(""+this.value)}};var h=class{static of(t,n,r){let s=new h(t);return n!==void 0&&s.addChildNode(new ur(n)),r!==void 0&&s.withName(r),s}constructor(t,n=[]){this.name=t,this.children=n,this.attributes={}}withName(t){return this.name=t,this}addAttribute(t,n){return this.attributes[t]=n,this}addChildNode(t){return this.children.push(t),this}removeAttribute(t){return delete this.attributes[t],this}toString(){let t=!!this.children.length,n=`<${this.name}`,r=this.attributes;for(let s of Object.keys(r)){let o=r[s];typeof o<"u"&&o!==null&&(n+=` ${s}="${vw(""+o)}"`)}return n+=t?`>${this.children.map(s=>s.toString()).join("")}</${this.name}>`:"/>"}};var cb=cn(qh());var M=class extends mn{constructor(t){super(t),Object.setPrototypeOf(this,M.prototype)}};var Ko=class extends M{constructor(t){super({name:"NoSuchUpload",$fault:"client",...t}),this.name="NoSuchUpload",this.$fault="client",Object.setPrototypeOf(this,Ko.prototype)}};var Vo=class extends M{constructor(t){super({name:"ObjectNotInActiveTierError",$fault:"client",...t}),this.name="ObjectNotInActiveTierError",this.$fault="client",Object.setPrototypeOf(this,Vo.prototype)}},Wo=class extends M{constructor(t){super({name:"BucketAlreadyExists",$fault:"client",...t}),this.name="BucketAlreadyExists",this.$fault="client",Object.setPrototypeOf(this,Wo.prototype)}},Yo=class extends M{constructor(t){super({name:"BucketAlreadyOwnedByYou",$fault:"client",...t}),this.name="BucketAlreadyOwnedByYou",this.$fault="client",Object.setPrototypeOf(this,Yo.prototype)}};var ql;(function(e){e.visit=(t,n)=>t.Prefix!==void 0?n.Prefix(t.Prefix):t.Tag!==void 0?n.Tag(t.Tag):t.And!==void 0?n.And(t.And):n._(t.$unknown[0],t.$unknown[1])})(ql||(ql={}));var $l;(function(e){e.visit=(t,n)=>t.Prefix!==void 0?n.Prefix(t.Prefix):t.Tag!==void 0?n.Tag(t.Tag):t.ObjectSizeGreaterThan!==void 0?n.ObjectSizeGreaterThan(t.ObjectSizeGreaterThan):t.ObjectSizeLessThan!==void 0?n.ObjectSizeLessThan(t.ObjectSizeLessThan):t.And!==void 0?n.And(t.And):n._(t.$unknown[0],t.$unknown[1])})($l||($l={}));var Gl;(function(e){e.visit=(t,n)=>t.Prefix!==void 0?n.Prefix(t.Prefix):t.Tag!==void 0?n.Tag(t.Tag):t.AccessPointArn!==void 0?n.AccessPointArn(t.AccessPointArn):t.And!==void 0?n.And(t.And):n._(t.$unknown[0],t.$unknown[1])})(Gl||(Gl={}));var jl;(function(e){e.visit=(t,n)=>t.Prefix!==void 0?n.Prefix(t.Prefix):t.Tag!==void 0?n.Tag(t.Tag):t.And!==void 0?n.And(t.And):n._(t.$unknown[0],t.$unknown[1])})(jl||(jl={}));var Xo=class extends M{constructor(t){super({name:"InvalidObjectState",$fault:"client",...t}),this.name="InvalidObjectState",this.$fault="client",Object.setPrototypeOf(this,Xo.prototype),this.StorageClass=t.StorageClass,this.AccessTier=t.AccessTier}},Qo=class extends M{constructor(t){super({name:"NoSuchKey",$fault:"client",...t}),this.name="NoSuchKey",this.$fault="client",Object.setPrototypeOf(this,Qo.prototype)}};var Zo=class extends M{constructor(t){super({name:"NotFound",$fault:"client",...t}),this.name="NotFound",this.$fault="client",Object.setPrototypeOf(this,Zo.prototype)}};var Jo=class extends M{constructor(t){super({name:"NoSuchBucket",$fault:"client",...t}),this.name="NoSuchBucket",this.$fault="client",Object.setPrototypeOf(this,Jo.prototype)}};var dC=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:Se}}),lC=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:Se}}),uC=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:Se},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Se}}),mC=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:Se},...e.SSEKMSKeyId&&{SSEKMSKeyId:Se},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Se},...e.CopySourceSSECustomerKey&&{CopySourceSSECustomerKey:Se}}),fC=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:Se},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Se}}),hC=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:Se},...e.SSEKMSKeyId&&{SSEKMSKeyId:Se},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Se}}),QU=e=>({...e,...e.KMSMasterKeyID&&{KMSMasterKeyID:Se}}),ZU=e=>({...e,...e.ApplyServerSideEncryptionByDefault&&{ApplyServerSideEncryptionByDefault:QU(e.ApplyServerSideEncryptionByDefault)}}),pC=e=>({...e,...e.Rules&&{Rules:e.Rules.map(t=>ZU(t))}}),yC=e=>({...e,...e.ServerSideEncryptionConfiguration&&{ServerSideEncryptionConfiguration:pC(e.ServerSideEncryptionConfiguration)}}),JU=e=>({...e,...e.KeyId&&{KeyId:Se}}),ez=e=>({...e,...e.SSEKMS&&{SSEKMS:JU(e.SSEKMS)}}),tz=e=>({...e,...e.Encryption&&{Encryption:ez(e.Encryption)}}),nz=e=>({...e,...e.S3BucketDestination&&{S3BucketDestination:tz(e.S3BucketDestination)}}),$h=e=>({...e,...e.Destination&&{Destination:nz(e.Destination)}}),gC=e=>({...e,...e.InventoryConfiguration&&{InventoryConfiguration:$h(e.InventoryConfiguration)}}),EC=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:Se}}),SC=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:Se}}),xC=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:Se}}),wC=e=>({...e}),CC=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:Se}}),bC=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:Se}}),PC=e=>({...e,...e.InventoryConfigurationList&&{InventoryConfigurationList:e.InventoryConfigurationList.map(t=>$h(t))}}),_C=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:Se}}),AC=e=>({...e,...e.ServerSideEncryptionConfiguration&&{ServerSideEncryptionConfiguration:pC(e.ServerSideEncryptionConfiguration)}}),kC=e=>({...e,...e.InventoryConfiguration&&{InventoryConfiguration:$h(e.InventoryConfiguration)}}),RC=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:Se},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Se}}),IC=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:Se},...e.SSEKMSKeyId&&{SSEKMSKeyId:Se},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Se}});var ei=class extends M{constructor(t){super({name:"ObjectAlreadyInActiveTierError",$fault:"client",...t}),this.name="ObjectAlreadyInActiveTierError",this.$fault="client",Object.setPrototypeOf(this,ei.prototype)}};var NC;(function(e){e.visit=(t,n)=>t.Records!==void 0?n.Records(t.Records):t.Stats!==void 0?n.Stats(t.Stats):t.Progress!==void 0?n.Progress(t.Progress):t.Cont!==void 0?n.Cont(t.Cont):t.End!==void 0?n.End(t.End):n._(t.$unknown[0],t.$unknown[1])})(NC||(NC={}));var rz=e=>({...e,...e.KMSKeyId&&{KMSKeyId:Se}}),sz=e=>({...e,...e.Encryption&&{Encryption:rz(e.Encryption)}}),oz=e=>({...e,...e.S3&&{S3:sz(e.S3)}}),iz=e=>({...e,...e.OutputLocation&&{OutputLocation:oz(e.OutputLocation)}}),vC=e=>({...e,...e.RestoreRequest&&{RestoreRequest:iz(e.RestoreRequest)}});var TC=e=>({...e,...e.Payload&&{Payload:"STREAMING_CONTENT"}}),DC=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:Se}}),BC=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:Se}}),OC=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:Se}}),FC=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:Se}}),MC=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:Se},...e.CopySourceSSECustomerKey&&{CopySourceSSECustomerKey:Se}}),LC=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:Se}});var db=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"x-amz-request-payer":e.RequestPayer,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/{Key+}`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1),i=O(i,e,"Key",()=>e.Key,"{Key+}",!0);let l=p({"x-id":[,"AbortMultipartUpload"],uploadId:[,W(e.UploadId,"UploadId")]}),d;return new v({protocol:r,hostname:n,port:s,method:"DELETE",headers:a,path:i,query:l,body:d})},lb=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"content-type":"application/xml","x-amz-checksum-crc32":e.ChecksumCRC32,"x-amz-checksum-crc32c":e.ChecksumCRC32C,"x-amz-checksum-sha1":e.ChecksumSHA1,"x-amz-checksum-sha256":e.ChecksumSHA256,"x-amz-request-payer":e.RequestPayer,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner,"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm,"x-amz-server-side-encryption-customer-key":e.SSECustomerKey,"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/{Key+}`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1),i=O(i,e,"Key",()=>e.Key,"{Key+}",!0);let l=p({"x-id":[,"CompleteMultipartUpload"],uploadId:[,W(e.UploadId,"UploadId")]}),d;e.MultipartUpload!==void 0&&(d=GC(e.MultipartUpload,t));let c;return e.MultipartUpload!==void 0&&(c=GC(e.MultipartUpload,t),c=c.withName("CompleteMultipartUpload"),d='<?xml version="1.0" encoding="UTF-8"?>',c.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),d+=c.toString()),new v({protocol:r,hostname:n,port:s,method:"POST",headers:a,path:i,query:l,body:d})},ub=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"x-amz-acl":e.ACL,"cache-control":e.CacheControl,"x-amz-checksum-algorithm":e.ChecksumAlgorithm,"content-disposition":e.ContentDisposition,"content-encoding":e.ContentEncoding,"content-language":e.ContentLanguage,"content-type":e.ContentType,"x-amz-copy-source":e.CopySource,"x-amz-copy-source-if-match":e.CopySourceIfMatch,"x-amz-copy-source-if-modified-since":[()=>T(e.CopySourceIfModifiedSince),()=>Lt(e.CopySourceIfModifiedSince).toString()],"x-amz-copy-source-if-none-match":e.CopySourceIfNoneMatch,"x-amz-copy-source-if-unmodified-since":[()=>T(e.CopySourceIfUnmodifiedSince),()=>Lt(e.CopySourceIfUnmodifiedSince).toString()],expires:[()=>T(e.Expires),()=>Lt(e.Expires).toString()],"x-amz-grant-full-control":e.GrantFullControl,"x-amz-grant-read":e.GrantRead,"x-amz-grant-read-acp":e.GrantReadACP,"x-amz-grant-write-acp":e.GrantWriteACP,"x-amz-metadata-directive":e.MetadataDirective,"x-amz-tagging-directive":e.TaggingDirective,"x-amz-server-side-encryption":e.ServerSideEncryption,"x-amz-storage-class":e.StorageClass,"x-amz-website-redirect-location":e.WebsiteRedirectLocation,"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm,"x-amz-server-side-encryption-customer-key":e.SSECustomerKey,"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5,"x-amz-server-side-encryption-aws-kms-key-id":e.SSEKMSKeyId,"x-amz-server-side-encryption-context":e.SSEKMSEncryptionContext,"x-amz-server-side-encryption-bucket-key-enabled":[()=>T(e.BucketKeyEnabled),()=>e.BucketKeyEnabled.toString()],"x-amz-copy-source-server-side-encryption-customer-algorithm":e.CopySourceSSECustomerAlgorithm,"x-amz-copy-source-server-side-encryption-customer-key":e.CopySourceSSECustomerKey,"x-amz-copy-source-server-side-encryption-customer-key-md5":e.CopySourceSSECustomerKeyMD5,"x-amz-request-payer":e.RequestPayer,"x-amz-tagging":e.Tagging,"x-amz-object-lock-mode":e.ObjectLockMode,"x-amz-object-lock-retain-until-date":[()=>T(e.ObjectLockRetainUntilDate),()=>(e.ObjectLockRetainUntilDate.toISOString().split(".")[0]+"Z").toString()],"x-amz-object-lock-legal-hold":e.ObjectLockLegalHoldStatus,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner,"x-amz-source-expected-bucket-owner":e.ExpectedSourceBucketOwner,...e.Metadata!==void 0&&Object.keys(e.Metadata).reduce((c,m)=>(c[`x-amz-meta-${m.toLowerCase()}`]=e.Metadata[m],c),{})}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/{Key+}`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1),i=O(i,e,"Key",()=>e.Key,"{Key+}",!0);let l=p({"x-id":[,"CopyObject"]}),d;return new v({protocol:r,hostname:n,port:s,method:"PUT",headers:a,path:i,query:l,body:d})},mb=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"content-type":"application/xml","x-amz-acl":e.ACL,"x-amz-grant-full-control":e.GrantFullControl,"x-amz-grant-read":e.GrantRead,"x-amz-grant-read-acp":e.GrantReadACP,"x-amz-grant-write":e.GrantWrite,"x-amz-grant-write-acp":e.GrantWriteACP,"x-amz-bucket-object-lock-enabled":[()=>T(e.ObjectLockEnabledForBucket),()=>e.ObjectLockEnabledForBucket.toString()],"x-amz-object-ownership":e.ObjectOwnership}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l;e.CreateBucketConfiguration!==void 0&&(l=HC(e.CreateBucketConfiguration,t));let d;return e.CreateBucketConfiguration!==void 0&&(d=HC(e.CreateBucketConfiguration,t),l='<?xml version="1.0" encoding="UTF-8"?>',d.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),l+=d.toString()),new v({protocol:r,hostname:n,port:s,method:"PUT",headers:a,path:i,body:l})},fb=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"x-amz-acl":e.ACL,"cache-control":e.CacheControl,"content-disposition":e.ContentDisposition,"content-encoding":e.ContentEncoding,"content-language":e.ContentLanguage,"content-type":e.ContentType,expires:[()=>T(e.Expires),()=>Lt(e.Expires).toString()],"x-amz-grant-full-control":e.GrantFullControl,"x-amz-grant-read":e.GrantRead,"x-amz-grant-read-acp":e.GrantReadACP,"x-amz-grant-write-acp":e.GrantWriteACP,"x-amz-server-side-encryption":e.ServerSideEncryption,"x-amz-storage-class":e.StorageClass,"x-amz-website-redirect-location":e.WebsiteRedirectLocation,"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm,"x-amz-server-side-encryption-customer-key":e.SSECustomerKey,"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5,"x-amz-server-side-encryption-aws-kms-key-id":e.SSEKMSKeyId,"x-amz-server-side-encryption-context":e.SSEKMSEncryptionContext,"x-amz-server-side-encryption-bucket-key-enabled":[()=>T(e.BucketKeyEnabled),()=>e.BucketKeyEnabled.toString()],"x-amz-request-payer":e.RequestPayer,"x-amz-tagging":e.Tagging,"x-amz-object-lock-mode":e.ObjectLockMode,"x-amz-object-lock-retain-until-date":[()=>T(e.ObjectLockRetainUntilDate),()=>(e.ObjectLockRetainUntilDate.toISOString().split(".")[0]+"Z").toString()],"x-amz-object-lock-legal-hold":e.ObjectLockLegalHoldStatus,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner,"x-amz-checksum-algorithm":e.ChecksumAlgorithm,...e.Metadata!==void 0&&Object.keys(e.Metadata).reduce((c,m)=>(c[`x-amz-meta-${m.toLowerCase()}`]=e.Metadata[m],c),{})}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/{Key+}`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1),i=O(i,e,"Key",()=>e.Key,"{Key+}",!0);let l=p({uploads:[,""],"x-id":[,"CreateMultipartUpload"]}),d;return new v({protocol:r,hostname:n,port:s,method:"POST",headers:a,path:i,query:l,body:d})},hb=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l;return new v({protocol:r,hostname:n,port:s,method:"DELETE",headers:a,path:i,body:l})},pb=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({analytics:[,""],id:[,W(e.Id,"Id")]}),d;return new v({protocol:r,hostname:n,port:s,method:"DELETE",headers:a,path:i,query:l,body:d})},yb=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({cors:[,""]}),d;return new v({protocol:r,hostname:n,port:s,method:"DELETE",headers:a,path:i,query:l,body:d})},gb=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({encryption:[,""]}),d;return new v({protocol:r,hostname:n,port:s,method:"DELETE",headers:a,path:i,query:l,body:d})},Eb=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a={},i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({"intelligent-tiering":[,""],id:[,W(e.Id,"Id")]}),d;return new v({protocol:r,hostname:n,port:s,method:"DELETE",headers:a,path:i,query:l,body:d})},Sb=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({inventory:[,""],id:[,W(e.Id,"Id")]}),d;return new v({protocol:r,hostname:n,port:s,method:"DELETE",headers:a,path:i,query:l,body:d})},xb=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({lifecycle:[,""]}),d;return new v({protocol:r,hostname:n,port:s,method:"DELETE",headers:a,path:i,query:l,body:d})},wb=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({metrics:[,""],id:[,W(e.Id,"Id")]}),d;return new v({protocol:r,hostname:n,port:s,method:"DELETE",headers:a,path:i,query:l,body:d})},Cb=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({ownershipControls:[,""]}),d;return new v({protocol:r,hostname:n,port:s,method:"DELETE",headers:a,path:i,query:l,body:d})},bb=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({policy:[,""]}),d;return new v({protocol:r,hostname:n,port:s,method:"DELETE",headers:a,path:i,query:l,body:d})},Pb=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({replication:[,""]}),d;return new v({protocol:r,hostname:n,port:s,method:"DELETE",headers:a,path:i,query:l,body:d})},_b=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({tagging:[,""]}),d;return new v({protocol:r,hostname:n,port:s,method:"DELETE",headers:a,path:i,query:l,body:d})},Ab=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({website:[,""]}),d;return new v({protocol:r,hostname:n,port:s,method:"DELETE",headers:a,path:i,query:l,body:d})},kb=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"x-amz-mfa":e.MFA,"x-amz-request-payer":e.RequestPayer,"x-amz-bypass-governance-retention":[()=>T(e.BypassGovernanceRetention),()=>e.BypassGovernanceRetention.toString()],"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/{Key+}`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1),i=O(i,e,"Key",()=>e.Key,"{Key+}",!0);let l=p({"x-id":[,"DeleteObject"],versionId:[,e.VersionId]}),d;return new v({protocol:r,hostname:n,port:s,method:"DELETE",headers:a,path:i,query:l,body:d})},Rb=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"content-type":"application/xml","x-amz-mfa":e.MFA,"x-amz-request-payer":e.RequestPayer,"x-amz-bypass-governance-retention":[()=>T(e.BypassGovernanceRetention),()=>e.BypassGovernanceRetention.toString()],"x-amz-expected-bucket-owner":e.ExpectedBucketOwner,"x-amz-sdk-checksum-algorithm":e.ChecksumAlgorithm}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({delete:[,""],"x-id":[,"DeleteObjects"]}),d;e.Delete!==void 0&&(d=KC(e.Delete,t));let c;return e.Delete!==void 0&&(c=KC(e.Delete,t),d='<?xml version="1.0" encoding="UTF-8"?>',c.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),d+=c.toString()),new v({protocol:r,hostname:n,port:s,method:"POST",headers:a,path:i,query:l,body:d})},Ib=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/{Key+}`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1),i=O(i,e,"Key",()=>e.Key,"{Key+}",!0);let l=p({tagging:[,""],versionId:[,e.VersionId]}),d;return new v({protocol:r,hostname:n,port:s,method:"DELETE",headers:a,path:i,query:l,body:d})},Nb=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({publicAccessBlock:[,""]}),d;return new v({protocol:r,hostname:n,port:s,method:"DELETE",headers:a,path:i,query:l,body:d})},vb=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({accelerate:[,""]}),d;return new v({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},Tb=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({acl:[,""]}),d;return new v({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},Db=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({analytics:[,""],"x-id":[,"GetBucketAnalyticsConfiguration"],id:[,W(e.Id,"Id")]}),d;return new v({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},Bb=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({cors:[,""]}),d;return new v({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},Ob=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({encryption:[,""]}),d;return new v({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},Fb=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a={},i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({"intelligent-tiering":[,""],"x-id":[,"GetBucketIntelligentTieringConfiguration"],id:[,W(e.Id,"Id")]}),d;return new v({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},Mb=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({inventory:[,""],"x-id":[,"GetBucketInventoryConfiguration"],id:[,W(e.Id,"Id")]}),d;return new v({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},Lb=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({lifecycle:[,""]}),d;return new v({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},Ub=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({location:[,""]}),d;return new v({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},zb=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({logging:[,""]}),d;return new v({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},qb=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({metrics:[,""],"x-id":[,"GetBucketMetricsConfiguration"],id:[,W(e.Id,"Id")]}),d;return new v({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},$b=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({notification:[,""]}),d;return new v({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},Gb=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({ownershipControls:[,""]}),d;return new v({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},jb=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({policy:[,""]}),d;return new v({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},Hb=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({policyStatus:[,""]}),d;return new v({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},Kb=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({replication:[,""]}),d;return new v({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},Vb=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({requestPayment:[,""]}),d;return new v({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},Wb=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({tagging:[,""]}),d;return new v({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},Yb=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({versioning:[,""]}),d;return new v({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},Xb=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({website:[,""]}),d;return new v({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},Qb=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"if-match":e.IfMatch,"if-modified-since":[()=>T(e.IfModifiedSince),()=>Lt(e.IfModifiedSince).toString()],"if-none-match":e.IfNoneMatch,"if-unmodified-since":[()=>T(e.IfUnmodifiedSince),()=>Lt(e.IfUnmodifiedSince).toString()],range:e.Range,"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm,"x-amz-server-side-encryption-customer-key":e.SSECustomerKey,"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5,"x-amz-request-payer":e.RequestPayer,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner,"x-amz-checksum-mode":e.ChecksumMode}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/{Key+}`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1),i=O(i,e,"Key",()=>e.Key,"{Key+}",!0);let l=p({"x-id":[,"GetObject"],"response-cache-control":[,e.ResponseCacheControl],"response-content-disposition":[,e.ResponseContentDisposition],"response-content-encoding":[,e.ResponseContentEncoding],"response-content-language":[,e.ResponseContentLanguage],"response-content-type":[,e.ResponseContentType],"response-expires":[()=>e.ResponseExpires!==void 0,()=>Lt(e.ResponseExpires).toString()],versionId:[,e.VersionId],partNumber:[()=>e.PartNumber!==void 0,()=>e.PartNumber.toString()]}),d;return new v({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},Zb=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"x-amz-request-payer":e.RequestPayer,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/{Key+}`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1),i=O(i,e,"Key",()=>e.Key,"{Key+}",!0);let l=p({acl:[,""],versionId:[,e.VersionId]}),d;return new v({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},Jb=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"x-amz-max-parts":[()=>T(e.MaxParts),()=>e.MaxParts.toString()],"x-amz-part-number-marker":e.PartNumberMarker,"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm,"x-amz-server-side-encryption-customer-key":e.SSECustomerKey,"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5,"x-amz-request-payer":e.RequestPayer,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner,"x-amz-object-attributes":[()=>T(e.ObjectAttributes),()=>(e.ObjectAttributes||[]).map(c=>c).join(", ")]}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/{Key+}`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1),i=O(i,e,"Key",()=>e.Key,"{Key+}",!0);let l=p({attributes:[,""],versionId:[,e.VersionId]}),d;return new v({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},eP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"x-amz-request-payer":e.RequestPayer,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/{Key+}`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1),i=O(i,e,"Key",()=>e.Key,"{Key+}",!0);let l=p({"legal-hold":[,""],versionId:[,e.VersionId]}),d;return new v({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},tP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({"object-lock":[,""]}),d;return new v({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},nP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"x-amz-request-payer":e.RequestPayer,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/{Key+}`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1),i=O(i,e,"Key",()=>e.Key,"{Key+}",!0);let l=p({retention:[,""],versionId:[,e.VersionId]}),d;return new v({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},rP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner,"x-amz-request-payer":e.RequestPayer}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/{Key+}`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1),i=O(i,e,"Key",()=>e.Key,"{Key+}",!0);let l=p({tagging:[,""],versionId:[,e.VersionId]}),d;return new v({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},sP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"x-amz-request-payer":e.RequestPayer,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/{Key+}`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1),i=O(i,e,"Key",()=>e.Key,"{Key+}",!0);let l=p({torrent:[,""]}),d;return new v({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},oP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({publicAccessBlock:[,""]}),d;return new v({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},iP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l;return new v({protocol:r,hostname:n,port:s,method:"HEAD",headers:a,path:i,body:l})},aP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"if-match":e.IfMatch,"if-modified-since":[()=>T(e.IfModifiedSince),()=>Lt(e.IfModifiedSince).toString()],"if-none-match":e.IfNoneMatch,"if-unmodified-since":[()=>T(e.IfUnmodifiedSince),()=>Lt(e.IfUnmodifiedSince).toString()],range:e.Range,"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm,"x-amz-server-side-encryption-customer-key":e.SSECustomerKey,"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5,"x-amz-request-payer":e.RequestPayer,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner,"x-amz-checksum-mode":e.ChecksumMode}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/{Key+}`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1),i=O(i,e,"Key",()=>e.Key,"{Key+}",!0);let l=p({versionId:[,e.VersionId],partNumber:[()=>e.PartNumber!==void 0,()=>e.PartNumber.toString()]}),d;return new v({protocol:r,hostname:n,port:s,method:"HEAD",headers:a,path:i,query:l,body:d})},cP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({analytics:[,""],"x-id":[,"ListBucketAnalyticsConfigurations"],"continuation-token":[,e.ContinuationToken]}),d;return new v({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},dP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a={},i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({"intelligent-tiering":[,""],"x-id":[,"ListBucketIntelligentTieringConfigurations"],"continuation-token":[,e.ContinuationToken]}),d;return new v({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},lP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({inventory:[,""],"x-id":[,"ListBucketInventoryConfigurations"],"continuation-token":[,e.ContinuationToken]}),d;return new v({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},uP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({metrics:[,""],"x-id":[,"ListBucketMetricsConfigurations"],"continuation-token":[,e.ContinuationToken]}),d;return new v({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},mP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a={"content-type":"application/xml"},i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`,l;return l="",new v({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,body:l})},fP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({uploads:[,""],delimiter:[,e.Delimiter],"encoding-type":[,e.EncodingType],"key-marker":[,e.KeyMarker],"max-uploads":[()=>e.MaxUploads!==void 0,()=>e.MaxUploads.toString()],prefix:[,e.Prefix],"upload-id-marker":[,e.UploadIdMarker]}),d;return new v({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},hP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"x-amz-request-payer":e.RequestPayer,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({delimiter:[,e.Delimiter],"encoding-type":[,e.EncodingType],marker:[,e.Marker],"max-keys":[()=>e.MaxKeys!==void 0,()=>e.MaxKeys.toString()],prefix:[,e.Prefix]}),d;return new v({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},pP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"x-amz-request-payer":e.RequestPayer,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({"list-type":[,"2"],delimiter:[,e.Delimiter],"encoding-type":[,e.EncodingType],"max-keys":[()=>e.MaxKeys!==void 0,()=>e.MaxKeys.toString()],prefix:[,e.Prefix],"continuation-token":[,e.ContinuationToken],"fetch-owner":[()=>e.FetchOwner!==void 0,()=>e.FetchOwner.toString()],"start-after":[,e.StartAfter]}),d;return new v({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},yP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({versions:[,""],delimiter:[,e.Delimiter],"encoding-type":[,e.EncodingType],"key-marker":[,e.KeyMarker],"max-keys":[()=>e.MaxKeys!==void 0,()=>e.MaxKeys.toString()],prefix:[,e.Prefix],"version-id-marker":[,e.VersionIdMarker]}),d;return new v({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},gP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"x-amz-request-payer":e.RequestPayer,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner,"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm,"x-amz-server-side-encryption-customer-key":e.SSECustomerKey,"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/{Key+}`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1),i=O(i,e,"Key",()=>e.Key,"{Key+}",!0);let l=p({"x-id":[,"ListParts"],"max-parts":[()=>e.MaxParts!==void 0,()=>e.MaxParts.toString()],"part-number-marker":[,e.PartNumberMarker],uploadId:[,W(e.UploadId,"UploadId")]}),d;return new v({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})},EP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"content-type":"application/xml","x-amz-expected-bucket-owner":e.ExpectedBucketOwner,"x-amz-sdk-checksum-algorithm":e.ChecksumAlgorithm}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({accelerate:[,""]}),d;e.AccelerateConfiguration!==void 0&&(d=UC(e.AccelerateConfiguration,t));let c;return e.AccelerateConfiguration!==void 0&&(c=UC(e.AccelerateConfiguration,t),d='<?xml version="1.0" encoding="UTF-8"?>',c.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),d+=c.toString()),new v({protocol:r,hostname:n,port:s,method:"PUT",headers:a,path:i,query:l,body:d})},SP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"content-type":"application/xml","x-amz-acl":e.ACL,"content-md5":e.ContentMD5,"x-amz-sdk-checksum-algorithm":e.ChecksumAlgorithm,"x-amz-grant-full-control":e.GrantFullControl,"x-amz-grant-read":e.GrantRead,"x-amz-grant-read-acp":e.GrantReadACP,"x-amz-grant-write":e.GrantWrite,"x-amz-grant-write-acp":e.GrantWriteACP,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({acl:[,""]}),d;e.AccessControlPolicy!==void 0&&(d=Hl(e.AccessControlPolicy,t));let c;return e.AccessControlPolicy!==void 0&&(c=Hl(e.AccessControlPolicy,t),d='<?xml version="1.0" encoding="UTF-8"?>',c.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),d+=c.toString()),new v({protocol:r,hostname:n,port:s,method:"PUT",headers:a,path:i,query:l,body:d})},xP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"content-type":"application/xml","x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({analytics:[,""],id:[,W(e.Id,"Id")]}),d;e.AnalyticsConfiguration!==void 0&&(d=zC(e.AnalyticsConfiguration,t));let c;return e.AnalyticsConfiguration!==void 0&&(c=zC(e.AnalyticsConfiguration,t),d='<?xml version="1.0" encoding="UTF-8"?>',c.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),d+=c.toString()),new v({protocol:r,hostname:n,port:s,method:"PUT",headers:a,path:i,query:l,body:d})},wP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"content-type":"application/xml","content-md5":e.ContentMD5,"x-amz-sdk-checksum-algorithm":e.ChecksumAlgorithm,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({cors:[,""]}),d;e.CORSConfiguration!==void 0&&(d=jC(e.CORSConfiguration,t));let c;return e.CORSConfiguration!==void 0&&(c=jC(e.CORSConfiguration,t),d='<?xml version="1.0" encoding="UTF-8"?>',c.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),d+=c.toString()),new v({protocol:r,hostname:n,port:s,method:"PUT",headers:a,path:i,query:l,body:d})},CP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"content-type":"application/xml","content-md5":e.ContentMD5,"x-amz-sdk-checksum-algorithm":e.ChecksumAlgorithm,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({encryption:[,""]}),d;e.ServerSideEncryptionConfiguration!==void 0&&(d=ob(e.ServerSideEncryptionConfiguration,t));let c;return e.ServerSideEncryptionConfiguration!==void 0&&(c=ob(e.ServerSideEncryptionConfiguration,t),d='<?xml version="1.0" encoding="UTF-8"?>',c.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),d+=c.toString()),new v({protocol:r,hostname:n,port:s,method:"PUT",headers:a,path:i,query:l,body:d})},bP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a={"content-type":"application/xml"},i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({"intelligent-tiering":[,""],id:[,W(e.Id,"Id")]}),d;e.IntelligentTieringConfiguration!==void 0&&(d=VC(e.IntelligentTieringConfiguration,t));let c;return e.IntelligentTieringConfiguration!==void 0&&(c=VC(e.IntelligentTieringConfiguration,t),d='<?xml version="1.0" encoding="UTF-8"?>',c.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),d+=c.toString()),new v({protocol:r,hostname:n,port:s,method:"PUT",headers:a,path:i,query:l,body:d})},PP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"content-type":"application/xml","x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({inventory:[,""],id:[,W(e.Id,"Id")]}),d;e.InventoryConfiguration!==void 0&&(d=WC(e.InventoryConfiguration,t));let c;return e.InventoryConfiguration!==void 0&&(c=WC(e.InventoryConfiguration,t),d='<?xml version="1.0" encoding="UTF-8"?>',c.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),d+=c.toString()),new v({protocol:r,hostname:n,port:s,method:"PUT",headers:a,path:i,query:l,body:d})},_P=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"content-type":"application/xml","x-amz-sdk-checksum-algorithm":e.ChecksumAlgorithm,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({lifecycle:[,""]}),d;e.LifecycleConfiguration!==void 0&&(d=qC(e.LifecycleConfiguration,t));let c;return e.LifecycleConfiguration!==void 0&&(c=qC(e.LifecycleConfiguration,t),c=c.withName("LifecycleConfiguration"),d='<?xml version="1.0" encoding="UTF-8"?>',c.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),d+=c.toString()),new v({protocol:r,hostname:n,port:s,method:"PUT",headers:a,path:i,query:l,body:d})},AP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"content-type":"application/xml","content-md5":e.ContentMD5,"x-amz-sdk-checksum-algorithm":e.ChecksumAlgorithm,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({logging:[,""]}),d;e.BucketLoggingStatus!==void 0&&(d=$C(e.BucketLoggingStatus,t));let c;return e.BucketLoggingStatus!==void 0&&(c=$C(e.BucketLoggingStatus,t),d='<?xml version="1.0" encoding="UTF-8"?>',c.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),d+=c.toString()),new v({protocol:r,hostname:n,port:s,method:"PUT",headers:a,path:i,query:l,body:d})},kP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"content-type":"application/xml","x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({metrics:[,""],id:[,W(e.Id,"Id")]}),d;e.MetricsConfiguration!==void 0&&(d=YC(e.MetricsConfiguration,t));let c;return e.MetricsConfiguration!==void 0&&(c=YC(e.MetricsConfiguration,t),d='<?xml version="1.0" encoding="UTF-8"?>',c.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),d+=c.toString()),new v({protocol:r,hostname:n,port:s,method:"PUT",headers:a,path:i,query:l,body:d})},RP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"content-type":"application/xml","x-amz-expected-bucket-owner":e.ExpectedBucketOwner,"x-amz-skip-destination-validation":[()=>T(e.SkipDestinationValidation),()=>e.SkipDestinationValidation.toString()]}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({notification:[,""]}),d;e.NotificationConfiguration!==void 0&&(d=XC(e.NotificationConfiguration,t));let c;return e.NotificationConfiguration!==void 0&&(c=XC(e.NotificationConfiguration,t),d='<?xml version="1.0" encoding="UTF-8"?>',c.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),d+=c.toString()),new v({protocol:r,hostname:n,port:s,method:"PUT",headers:a,path:i,query:l,body:d})},IP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"content-type":"application/xml","content-md5":e.ContentMD5,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({ownershipControls:[,""]}),d;e.OwnershipControls!==void 0&&(d=eb(e.OwnershipControls,t));let c;return e.OwnershipControls!==void 0&&(c=eb(e.OwnershipControls,t),d='<?xml version="1.0" encoding="UTF-8"?>',c.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),d+=c.toString()),new v({protocol:r,hostname:n,port:s,method:"PUT",headers:a,path:i,query:l,body:d})},NP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"content-type":"text/plain","content-md5":e.ContentMD5,"x-amz-sdk-checksum-algorithm":e.ChecksumAlgorithm,"x-amz-confirm-remove-self-bucket-access":[()=>T(e.ConfirmRemoveSelfBucketAccess),()=>e.ConfirmRemoveSelfBucketAccess.toString()],"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({policy:[,""]}),d;e.Policy!==void 0&&(d=e.Policy);let c;return e.Policy!==void 0&&(c=e.Policy,d=c),new v({protocol:r,hostname:n,port:s,method:"PUT",headers:a,path:i,query:l,body:d})},vP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"content-type":"application/xml","content-md5":e.ContentMD5,"x-amz-sdk-checksum-algorithm":e.ChecksumAlgorithm,"x-amz-bucket-object-lock-token":e.Token,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({replication:[,""]}),d;e.ReplicationConfiguration!==void 0&&(d=nb(e.ReplicationConfiguration,t));let c;return e.ReplicationConfiguration!==void 0&&(c=nb(e.ReplicationConfiguration,t),d='<?xml version="1.0" encoding="UTF-8"?>',c.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),d+=c.toString()),new v({protocol:r,hostname:n,port:s,method:"PUT",headers:a,path:i,query:l,body:d})},TP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"content-type":"application/xml","content-md5":e.ContentMD5,"x-amz-sdk-checksum-algorithm":e.ChecksumAlgorithm,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({requestPayment:[,""]}),d;e.RequestPaymentConfiguration!==void 0&&(d=rb(e.RequestPaymentConfiguration,t));let c;return e.RequestPaymentConfiguration!==void 0&&(c=rb(e.RequestPaymentConfiguration,t),d='<?xml version="1.0" encoding="UTF-8"?>',c.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),d+=c.toString()),new v({protocol:r,hostname:n,port:s,method:"PUT",headers:a,path:i,query:l,body:d})},DP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"content-type":"application/xml","content-md5":e.ContentMD5,"x-amz-sdk-checksum-algorithm":e.ChecksumAlgorithm,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({tagging:[,""]}),d;e.Tagging!==void 0&&(d=gd(e.Tagging,t));let c;return e.Tagging!==void 0&&(c=gd(e.Tagging,t),d='<?xml version="1.0" encoding="UTF-8"?>',c.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),d+=c.toString()),new v({protocol:r,hostname:n,port:s,method:"PUT",headers:a,path:i,query:l,body:d})},BP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"content-type":"application/xml","content-md5":e.ContentMD5,"x-amz-sdk-checksum-algorithm":e.ChecksumAlgorithm,"x-amz-mfa":e.MFA,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({versioning:[,""]}),d;e.VersioningConfiguration!==void 0&&(d=ib(e.VersioningConfiguration,t));let c;return e.VersioningConfiguration!==void 0&&(c=ib(e.VersioningConfiguration,t),d='<?xml version="1.0" encoding="UTF-8"?>',c.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),d+=c.toString()),new v({protocol:r,hostname:n,port:s,method:"PUT",headers:a,path:i,query:l,body:d})},OP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"content-type":"application/xml","content-md5":e.ContentMD5,"x-amz-sdk-checksum-algorithm":e.ChecksumAlgorithm,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({website:[,""]}),d;e.WebsiteConfiguration!==void 0&&(d=ab(e.WebsiteConfiguration,t));let c;return e.WebsiteConfiguration!==void 0&&(c=ab(e.WebsiteConfiguration,t),d='<?xml version="1.0" encoding="UTF-8"?>',c.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),d+=c.toString()),new v({protocol:r,hostname:n,port:s,method:"PUT",headers:a,path:i,query:l,body:d})},FP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"content-type":e.ContentType||"application/octet-stream","x-amz-acl":e.ACL,"cache-control":e.CacheControl,"content-disposition":e.ContentDisposition,"content-encoding":e.ContentEncoding,"content-language":e.ContentLanguage,"content-length":[()=>T(e.ContentLength),()=>e.ContentLength.toString()],"content-md5":e.ContentMD5,"x-amz-sdk-checksum-algorithm":e.ChecksumAlgorithm,"x-amz-checksum-crc32":e.ChecksumCRC32,"x-amz-checksum-crc32c":e.ChecksumCRC32C,"x-amz-checksum-sha1":e.ChecksumSHA1,"x-amz-checksum-sha256":e.ChecksumSHA256,expires:[()=>T(e.Expires),()=>Lt(e.Expires).toString()],"x-amz-grant-full-control":e.GrantFullControl,"x-amz-grant-read":e.GrantRead,"x-amz-grant-read-acp":e.GrantReadACP,"x-amz-grant-write-acp":e.GrantWriteACP,"x-amz-server-side-encryption":e.ServerSideEncryption,"x-amz-storage-class":e.StorageClass,"x-amz-website-redirect-location":e.WebsiteRedirectLocation,"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm,"x-amz-server-side-encryption-customer-key":e.SSECustomerKey,"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5,"x-amz-server-side-encryption-aws-kms-key-id":e.SSEKMSKeyId,"x-amz-server-side-encryption-context":e.SSEKMSEncryptionContext,"x-amz-server-side-encryption-bucket-key-enabled":[()=>T(e.BucketKeyEnabled),()=>e.BucketKeyEnabled.toString()],"x-amz-request-payer":e.RequestPayer,"x-amz-tagging":e.Tagging,"x-amz-object-lock-mode":e.ObjectLockMode,"x-amz-object-lock-retain-until-date":[()=>T(e.ObjectLockRetainUntilDate),()=>(e.ObjectLockRetainUntilDate.toISOString().split(".")[0]+"Z").toString()],"x-amz-object-lock-legal-hold":e.ObjectLockLegalHoldStatus,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner,...e.Metadata!==void 0&&Object.keys(e.Metadata).reduce((m,u)=>(m[`x-amz-meta-${u.toLowerCase()}`]=e.Metadata[u],m),{})}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/{Key+}`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1),i=O(i,e,"Key",()=>e.Key,"{Key+}",!0);let l=p({"x-id":[,"PutObject"]}),d;e.Body!==void 0&&(d=e.Body);let c;return e.Body!==void 0&&(c=e.Body,d=c),new v({protocol:r,hostname:n,port:s,method:"PUT",headers:a,path:i,query:l,body:d})},MP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"content-type":"application/xml","x-amz-acl":e.ACL,"content-md5":e.ContentMD5,"x-amz-sdk-checksum-algorithm":e.ChecksumAlgorithm,"x-amz-grant-full-control":e.GrantFullControl,"x-amz-grant-read":e.GrantRead,"x-amz-grant-read-acp":e.GrantReadACP,"x-amz-grant-write":e.GrantWrite,"x-amz-grant-write-acp":e.GrantWriteACP,"x-amz-request-payer":e.RequestPayer,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/{Key+}`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1),i=O(i,e,"Key",()=>e.Key,"{Key+}",!0);let l=p({acl:[,""],versionId:[,e.VersionId]}),d;e.AccessControlPolicy!==void 0&&(d=Hl(e.AccessControlPolicy,t));let c;return e.AccessControlPolicy!==void 0&&(c=Hl(e.AccessControlPolicy,t),d='<?xml version="1.0" encoding="UTF-8"?>',c.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),d+=c.toString()),new v({protocol:r,hostname:n,port:s,method:"PUT",headers:a,path:i,query:l,body:d})},LP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"content-type":"application/xml","x-amz-request-payer":e.RequestPayer,"content-md5":e.ContentMD5,"x-amz-sdk-checksum-algorithm":e.ChecksumAlgorithm,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/{Key+}`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1),i=O(i,e,"Key",()=>e.Key,"{Key+}",!0);let l=p({"legal-hold":[,""],versionId:[,e.VersionId]}),d;e.LegalHold!==void 0&&(d=ZC(e.LegalHold,t));let c;return e.LegalHold!==void 0&&(c=ZC(e.LegalHold,t),c=c.withName("LegalHold"),d='<?xml version="1.0" encoding="UTF-8"?>',c.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),d+=c.toString()),new v({protocol:r,hostname:n,port:s,method:"PUT",headers:a,path:i,query:l,body:d})},UP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"content-type":"application/xml","x-amz-request-payer":e.RequestPayer,"x-amz-bucket-object-lock-token":e.Token,"content-md5":e.ContentMD5,"x-amz-sdk-checksum-algorithm":e.ChecksumAlgorithm,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({"object-lock":[,""]}),d;e.ObjectLockConfiguration!==void 0&&(d=QC(e.ObjectLockConfiguration,t));let c;return e.ObjectLockConfiguration!==void 0&&(c=QC(e.ObjectLockConfiguration,t),d='<?xml version="1.0" encoding="UTF-8"?>',c.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),d+=c.toString()),new v({protocol:r,hostname:n,port:s,method:"PUT",headers:a,path:i,query:l,body:d})},zP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"content-type":"application/xml","x-amz-request-payer":e.RequestPayer,"x-amz-bypass-governance-retention":[()=>T(e.BypassGovernanceRetention),()=>e.BypassGovernanceRetention.toString()],"content-md5":e.ContentMD5,"x-amz-sdk-checksum-algorithm":e.ChecksumAlgorithm,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/{Key+}`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1),i=O(i,e,"Key",()=>e.Key,"{Key+}",!0);let l=p({retention:[,""],versionId:[,e.VersionId]}),d;e.Retention!==void 0&&(d=JC(e.Retention,t));let c;return e.Retention!==void 0&&(c=JC(e.Retention,t),c=c.withName("Retention"),d='<?xml version="1.0" encoding="UTF-8"?>',c.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),d+=c.toString()),new v({protocol:r,hostname:n,port:s,method:"PUT",headers:a,path:i,query:l,body:d})},qP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"content-type":"application/xml","content-md5":e.ContentMD5,"x-amz-sdk-checksum-algorithm":e.ChecksumAlgorithm,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner,"x-amz-request-payer":e.RequestPayer}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/{Key+}`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1),i=O(i,e,"Key",()=>e.Key,"{Key+}",!0);let l=p({tagging:[,""],versionId:[,e.VersionId]}),d;e.Tagging!==void 0&&(d=gd(e.Tagging,t));let c;return e.Tagging!==void 0&&(c=gd(e.Tagging,t),d='<?xml version="1.0" encoding="UTF-8"?>',c.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),d+=c.toString()),new v({protocol:r,hostname:n,port:s,method:"PUT",headers:a,path:i,query:l,body:d})},$P=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"content-type":"application/xml","content-md5":e.ContentMD5,"x-amz-sdk-checksum-algorithm":e.ChecksumAlgorithm,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let l=p({publicAccessBlock:[,""]}),d;e.PublicAccessBlockConfiguration!==void 0&&(d=tb(e.PublicAccessBlockConfiguration,t));let c;return e.PublicAccessBlockConfiguration!==void 0&&(c=tb(e.PublicAccessBlockConfiguration,t),d='<?xml version="1.0" encoding="UTF-8"?>',c.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),d+=c.toString()),new v({protocol:r,hostname:n,port:s,method:"PUT",headers:a,path:i,query:l,body:d})},GP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"content-type":"application/xml","x-amz-request-payer":e.RequestPayer,"x-amz-sdk-checksum-algorithm":e.ChecksumAlgorithm,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/{Key+}`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1),i=O(i,e,"Key",()=>e.Key,"{Key+}",!0);let l=p({restore:[,""],"x-id":[,"RestoreObject"],versionId:[,e.VersionId]}),d;e.RestoreRequest!==void 0&&(d=sb(e.RestoreRequest,t));let c;return e.RestoreRequest!==void 0&&(c=sb(e.RestoreRequest,t),d='<?xml version="1.0" encoding="UTF-8"?>',c.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),d+=c.toString()),new v({protocol:r,hostname:n,port:s,method:"POST",headers:a,path:i,query:l,body:d})},jP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"content-type":"application/xml","x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm,"x-amz-server-side-encryption-customer-key":e.SSECustomerKey,"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/{Key+}`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1),i=O(i,e,"Key",()=>e.Key,"{Key+}",!0);let l=p({select:[,""],"select-type":[,"2"],"x-id":[,"SelectObjectContent"]}),d;d='<?xml version="1.0" encoding="UTF-8"?>';let c=new h("SelectObjectContentRequest");if(c.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),e.Expression!==void 0){let m=h.of("Expression",e.Expression).withName("Expression");c.addChildNode(m)}if(e.ExpressionType!==void 0){let m=h.of("ExpressionType",e.ExpressionType).withName("ExpressionType");c.addChildNode(m)}if(e.InputSerialization!==void 0){let m=MA(e.InputSerialization,t).withName("InputSerialization");c.addChildNode(m)}if(e.OutputSerialization!==void 0){let m=LA(e.OutputSerialization,t).withName("OutputSerialization");c.addChildNode(m)}if(e.RequestProgress!==void 0){let m=b2(e.RequestProgress,t).withName("RequestProgress");c.addChildNode(m)}if(e.ScanRange!==void 0){let m=R2(e.ScanRange,t).withName("ScanRange");c.addChildNode(m)}return d+=c.toString(),new v({protocol:r,hostname:n,port:s,method:"POST",headers:a,path:i,query:l,body:d})},HP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"content-type":"application/octet-stream","content-length":[()=>T(e.ContentLength),()=>e.ContentLength.toString()],"content-md5":e.ContentMD5,"x-amz-sdk-checksum-algorithm":e.ChecksumAlgorithm,"x-amz-checksum-crc32":e.ChecksumCRC32,"x-amz-checksum-crc32c":e.ChecksumCRC32C,"x-amz-checksum-sha1":e.ChecksumSHA1,"x-amz-checksum-sha256":e.ChecksumSHA256,"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm,"x-amz-server-side-encryption-customer-key":e.SSECustomerKey,"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5,"x-amz-request-payer":e.RequestPayer,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/{Key+}`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1),i=O(i,e,"Key",()=>e.Key,"{Key+}",!0);let l=p({"x-id":[,"UploadPart"],partNumber:[W(e.PartNumber,"PartNumber")!=null,()=>e.PartNumber.toString()],uploadId:[,W(e.UploadId,"UploadId")]}),d;e.Body!==void 0&&(d=e.Body);let c;return e.Body!==void 0&&(c=e.Body,d=c),new v({protocol:r,hostname:n,port:s,method:"PUT",headers:a,path:i,query:l,body:d})},KP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"x-amz-copy-source":e.CopySource,"x-amz-copy-source-if-match":e.CopySourceIfMatch,"x-amz-copy-source-if-modified-since":[()=>T(e.CopySourceIfModifiedSince),()=>Lt(e.CopySourceIfModifiedSince).toString()],"x-amz-copy-source-if-none-match":e.CopySourceIfNoneMatch,"x-amz-copy-source-if-unmodified-since":[()=>T(e.CopySourceIfUnmodifiedSince),()=>Lt(e.CopySourceIfUnmodifiedSince).toString()],"x-amz-copy-source-range":e.CopySourceRange,"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm,"x-amz-server-side-encryption-customer-key":e.SSECustomerKey,"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5,"x-amz-copy-source-server-side-encryption-customer-algorithm":e.CopySourceSSECustomerAlgorithm,"x-amz-copy-source-server-side-encryption-customer-key":e.CopySourceSSECustomerKey,"x-amz-copy-source-server-side-encryption-customer-key-md5":e.CopySourceSSECustomerKeyMD5,"x-amz-request-payer":e.RequestPayer,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner,"x-amz-source-expected-bucket-owner":e.ExpectedSourceBucketOwner}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/{Key+}`;i=O(i,e,"Bucket",()=>e.Bucket,"{Bucket}",!1),i=O(i,e,"Key",()=>e.Key,"{Key+}",!0);let l=p({"x-id":[,"UploadPartCopy"],partNumber:[W(e.PartNumber,"PartNumber")!=null,()=>e.PartNumber.toString()],uploadId:[,W(e.UploadId,"UploadId")]}),d;return new v({protocol:r,hostname:n,port:s,method:"PUT",headers:a,path:i,query:l,body:d})},VP=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=p({},T,{"x-amz-content-sha256":"UNSIGNED-PAYLOAD","content-type":"application/octet-stream","x-amz-request-route":e.RequestRoute,"x-amz-request-token":e.RequestToken,"x-amz-fwd-status":[()=>T(e.StatusCode),()=>e.StatusCode.toString()],"x-amz-fwd-error-code":e.ErrorCode,"x-amz-fwd-error-message":e.ErrorMessage,"x-amz-fwd-header-accept-ranges":e.AcceptRanges,"x-amz-fwd-header-cache-control":e.CacheControl,"x-amz-fwd-header-content-disposition":e.ContentDisposition,"x-amz-fwd-header-content-encoding":e.ContentEncoding,"x-amz-fwd-header-content-language":e.ContentLanguage,"content-length":[()=>T(e.ContentLength),()=>e.ContentLength.toString()],"x-amz-fwd-header-content-range":e.ContentRange,"x-amz-fwd-header-content-type":e.ContentType,"x-amz-fwd-header-x-amz-checksum-crc32":e.ChecksumCRC32,"x-amz-fwd-header-x-amz-checksum-crc32c":e.ChecksumCRC32C,"x-amz-fwd-header-x-amz-checksum-sha1":e.ChecksumSHA1,"x-amz-fwd-header-x-amz-checksum-sha256":e.ChecksumSHA256,"x-amz-fwd-header-x-amz-delete-marker":[()=>T(e.DeleteMarker),()=>e.DeleteMarker.toString()],"x-amz-fwd-header-etag":e.ETag,"x-amz-fwd-header-expires":[()=>T(e.Expires),()=>Lt(e.Expires).toString()],"x-amz-fwd-header-x-amz-expiration":e.Expiration,"x-amz-fwd-header-last-modified":[()=>T(e.LastModified),()=>Lt(e.LastModified).toString()],"x-amz-fwd-header-x-amz-missing-meta":[()=>T(e.MissingMeta),()=>e.MissingMeta.toString()],"x-amz-fwd-header-x-amz-object-lock-mode":e.ObjectLockMode,"x-amz-fwd-header-x-amz-object-lock-legal-hold":e.ObjectLockLegalHoldStatus,"x-amz-fwd-header-x-amz-object-lock-retain-until-date":[()=>T(e.ObjectLockRetainUntilDate),()=>(e.ObjectLockRetainUntilDate.toISOString().split(".")[0]+"Z").toString()],"x-amz-fwd-header-x-amz-mp-parts-count":[()=>T(e.PartsCount),()=>e.PartsCount.toString()],"x-amz-fwd-header-x-amz-replication-status":e.ReplicationStatus,"x-amz-fwd-header-x-amz-request-charged":e.RequestCharged,"x-amz-fwd-header-x-amz-restore":e.Restore,"x-amz-fwd-header-x-amz-server-side-encryption":e.ServerSideEncryption,"x-amz-fwd-header-x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm,"x-amz-fwd-header-x-amz-server-side-encryption-aws-kms-key-id":e.SSEKMSKeyId,"x-amz-fwd-header-x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5,"x-amz-fwd-header-x-amz-storage-class":e.StorageClass,"x-amz-fwd-header-x-amz-tagging-count":[()=>T(e.TagCount),()=>e.TagCount.toString()],"x-amz-fwd-header-x-amz-version-id":e.VersionId,"x-amz-fwd-header-x-amz-server-side-encryption-bucket-key-enabled":[()=>T(e.BucketKeyEnabled),()=>e.BucketKeyEnabled.toString()],...e.Metadata!==void 0&&Object.keys(e.Metadata).reduce((u,w)=>(u[`x-amz-meta-${w.toLowerCase()}`]=e.Metadata[w],u),{})}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/WriteGetObjectResponse`,l=p({"x-id":[,"WriteGetObjectResponse"]}),d;e.Body!==void 0&&(d=e.Body);let c;e.Body!==void 0&&(c=e.Body,d=c);let{hostname:m}=await t.endpoint();if(t.disableHostPrefix!==!0){if(m="{RequestRoute}."+m,e.RequestRoute===void 0)throw new Error("Empty value provided for input host prefix: RequestRoute.");if(m=m.replace("{RequestRoute}",e.RequestRoute),!Nw(m))throw new Error("ValidationError: prefixed hostname must be hostname compatible.")}return new v({protocol:r,hostname:m,port:s,method:"POST",headers:a,path:i,query:l,body:d})},WP=async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return az(e,t);let n=p({$metadata:U(e),RequestCharged:[,e.headers["x-amz-request-charged"]]});return await re(e.body,t),n},az=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body);switch(r){case"NoSuchUpload":case"com.amazonaws.s3#NoSuchUpload":throw await Yq(n,t);default:let s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})}},YP=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return cz(e,t);let n=p({$metadata:U(e),Expiration:[,e.headers["x-amz-expiration"]],ServerSideEncryption:[,e.headers["x-amz-server-side-encryption"]],VersionId:[,e.headers["x-amz-version-id"]],SSEKMSKeyId:[,e.headers["x-amz-server-side-encryption-aws-kms-key-id"]],BucketKeyEnabled:[()=>e.headers["x-amz-server-side-encryption-bucket-key-enabled"]!==void 0,()=>_e(e.headers["x-amz-server-side-encryption-bucket-key-enabled"])],RequestCharged:[,e.headers["x-amz-request-charged"]]}),r=W(de(await ue(e.body,t)),"body");return r.Bucket!==void 0&&(n.Bucket=y(r.Bucket)),r.ChecksumCRC32!==void 0&&(n.ChecksumCRC32=y(r.ChecksumCRC32)),r.ChecksumCRC32C!==void 0&&(n.ChecksumCRC32C=y(r.ChecksumCRC32C)),r.ChecksumSHA1!==void 0&&(n.ChecksumSHA1=y(r.ChecksumSHA1)),r.ChecksumSHA256!==void 0&&(n.ChecksumSHA256=y(r.ChecksumSHA256)),r.ETag!==void 0&&(n.ETag=y(r.ETag)),r.Key!==void 0&&(n.Key=y(r.Key)),r.Location!==void 0&&(n.Location=y(r.Location)),n},cz=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},XP=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return dz(e,t);let n=p({$metadata:U(e),Expiration:[,e.headers["x-amz-expiration"]],CopySourceVersionId:[,e.headers["x-amz-copy-source-version-id"]],VersionId:[,e.headers["x-amz-version-id"]],ServerSideEncryption:[,e.headers["x-amz-server-side-encryption"]],SSECustomerAlgorithm:[,e.headers["x-amz-server-side-encryption-customer-algorithm"]],SSECustomerKeyMD5:[,e.headers["x-amz-server-side-encryption-customer-key-md5"]],SSEKMSKeyId:[,e.headers["x-amz-server-side-encryption-aws-kms-key-id"]],SSEKMSEncryptionContext:[,e.headers["x-amz-server-side-encryption-context"]],BucketKeyEnabled:[()=>e.headers["x-amz-server-side-encryption-bucket-key-enabled"]!==void 0,()=>_e(e.headers["x-amz-server-side-encryption-bucket-key-enabled"])],RequestCharged:[,e.headers["x-amz-request-charged"]]}),r=de(await ue(e.body,t));return n.CopyObjectResult=lG(r,t),n},dz=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body);switch(r){case"ObjectNotInActiveTierError":case"com.amazonaws.s3#ObjectNotInActiveTierError":throw await Qq(n,t);default:let s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})}},QP=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return lz(e,t);let n=p({$metadata:U(e),Location:[,e.headers.location]});return await re(e.body,t),n},lz=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body);switch(r){case"BucketAlreadyExists":case"com.amazonaws.s3#BucketAlreadyExists":throw await Kq(n,t);case"BucketAlreadyOwnedByYou":case"com.amazonaws.s3#BucketAlreadyOwnedByYou":throw await Vq(n,t);default:let s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})}},ZP=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return uz(e,t);let n=p({$metadata:U(e),AbortDate:[()=>e.headers["x-amz-abort-date"]!==void 0,()=>W(Yr(e.headers["x-amz-abort-date"]))],AbortRuleId:[,e.headers["x-amz-abort-rule-id"]],ServerSideEncryption:[,e.headers["x-amz-server-side-encryption"]],SSECustomerAlgorithm:[,e.headers["x-amz-server-side-encryption-customer-algorithm"]],SSECustomerKeyMD5:[,e.headers["x-amz-server-side-encryption-customer-key-md5"]],SSEKMSKeyId:[,e.headers["x-amz-server-side-encryption-aws-kms-key-id"]],SSEKMSEncryptionContext:[,e.headers["x-amz-server-side-encryption-context"]],BucketKeyEnabled:[()=>e.headers["x-amz-server-side-encryption-bucket-key-enabled"]!==void 0,()=>_e(e.headers["x-amz-server-side-encryption-bucket-key-enabled"])],RequestCharged:[,e.headers["x-amz-request-charged"]],ChecksumAlgorithm:[,e.headers["x-amz-checksum-algorithm"]]}),r=W(de(await ue(e.body,t)),"body");return r.Bucket!==void 0&&(n.Bucket=y(r.Bucket)),r.Key!==void 0&&(n.Key=y(r.Key)),r.UploadId!==void 0&&(n.UploadId=y(r.UploadId)),n},uz=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},JP=async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return mz(e,t);let n=p({$metadata:U(e)});return await re(e.body,t),n},mz=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},e_=async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return fz(e,t);let n=p({$metadata:U(e)});return await re(e.body,t),n},fz=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},t_=async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return hz(e,t);let n=p({$metadata:U(e)});return await re(e.body,t),n},hz=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},n_=async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return pz(e,t);let n=p({$metadata:U(e)});return await re(e.body,t),n},pz=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},r_=async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return yz(e,t);let n=p({$metadata:U(e)});return await re(e.body,t),n},yz=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},s_=async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return gz(e,t);let n=p({$metadata:U(e)});return await re(e.body,t),n},gz=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},o_=async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return Ez(e,t);let n=p({$metadata:U(e)});return await re(e.body,t),n},Ez=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},i_=async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return Sz(e,t);let n=p({$metadata:U(e)});return await re(e.body,t),n},Sz=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},a_=async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return xz(e,t);let n=p({$metadata:U(e)});return await re(e.body,t),n},xz=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},c_=async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return wz(e,t);let n=p({$metadata:U(e)});return await re(e.body,t),n},wz=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},d_=async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return Cz(e,t);let n=p({$metadata:U(e)});return await re(e.body,t),n},Cz=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},l_=async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return bz(e,t);let n=p({$metadata:U(e)});return await re(e.body,t),n},bz=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},u_=async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return Pz(e,t);let n=p({$metadata:U(e)});return await re(e.body,t),n},Pz=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},m_=async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return _z(e,t);let n=p({$metadata:U(e),DeleteMarker:[()=>e.headers["x-amz-delete-marker"]!==void 0,()=>_e(e.headers["x-amz-delete-marker"])],VersionId:[,e.headers["x-amz-version-id"]],RequestCharged:[,e.headers["x-amz-request-charged"]]});return await re(e.body,t),n},_z=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},f_=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Az(e,t);let n=p({$metadata:U(e),RequestCharged:[,e.headers["x-amz-request-charged"]]}),r=W(de(await ue(e.body,t)),"body");return r.Deleted===""?n.Deleted=[]:r.Deleted!==void 0&&(n.Deleted=yG(te(r.Deleted),t)),r.Error===""?n.Errors=[]:r.Error!==void 0&&(n.Errors=_G(te(r.Error),t)),n},Az=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},h_=async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return kz(e,t);let n=p({$metadata:U(e),VersionId:[,e.headers["x-amz-version-id"]]});return await re(e.body,t),n},kz=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},p_=async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return Rz(e,t);let n=p({$metadata:U(e)});return await re(e.body,t),n},Rz=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},y_=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Iz(e,t);let n=p({$metadata:U(e)}),r=W(de(await ue(e.body,t)),"body");return r.Status!==void 0&&(n.Status=y(r.Status)),n},Iz=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},g_=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Nz(e,t);let n=p({$metadata:U(e)}),r=W(de(await ue(e.body,t)),"body");return r.AccessControlList===""?n.Grants=[]:r.AccessControlList!==void 0&&r.AccessControlList.Grant!==void 0&&(n.Grants=GA(te(r.AccessControlList.Grant),t)),r.Owner!==void 0&&(n.Owner=Jr(r.Owner,t)),n},Nz=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},E_=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return vz(e,t);let n=p({$metadata:U(e)}),r=de(await ue(e.body,t));return n.AnalyticsConfiguration=zA(r,t),n},vz=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},S_=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Tz(e,t);let n=p({$metadata:U(e)}),r=W(de(await ue(e.body,t)),"body");return r.CORSRule===""?n.CORSRules=[]:r.CORSRule!==void 0&&(n.CORSRules=fG(te(r.CORSRule),t)),n},Tz=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},x_=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Dz(e,t);let n=p({$metadata:U(e)}),r=de(await ue(e.body,t));return n.ServerSideEncryptionConfiguration=Uj(r,t),n},Dz=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},w_=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Bz(e,t);let n=p({$metadata:U(e)}),r=de(await ue(e.body,t));return n.IntelligentTieringConfiguration=HA(r,t),n},Bz=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},C_=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Oz(e,t);let n=p({$metadata:U(e)}),r=de(await ue(e.body,t));return n.InventoryConfiguration=KA(r,t),n},Oz=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},b_=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Fz(e,t);let n=p({$metadata:U(e)}),r=W(de(await ue(e.body,t)),"body");return r.Rule===""?n.Rules=[]:r.Rule!==void 0&&(n.Rules=XG(te(r.Rule),t)),n},Fz=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},P_=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Mz(e,t);let n=p({$metadata:U(e)}),r=W(de(await ue(e.body,t)),"body");return r.LocationConstraint!==void 0&&(n.LocationConstraint=y(r.LocationConstraint)),n},Mz=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},__=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Lz(e,t);let n=p({$metadata:U(e)}),r=W(de(await ue(e.body,t)),"body");return r.LoggingEnabled!==void 0&&(n.LoggingEnabled=QG(r.LoggingEnabled,t)),n},Lz=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},A_=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Uz(e,t);let n=p({$metadata:U(e)}),r=de(await ue(e.body,t));return n.MetricsConfiguration=VA(r,t),n},Uz=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},k_=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return zz(e,t);let n=p({$metadata:U(e)}),r=W(de(await ue(e.body,t)),"body");return r.EventBridgeConfiguration!==void 0&&(n.EventBridgeConfiguration=AG(r.EventBridgeConfiguration,t)),r.CloudFunctionConfiguration===""?n.LambdaFunctionConfigurations=[]:r.CloudFunctionConfiguration!==void 0&&(n.LambdaFunctionConfigurations=HG(te(r.CloudFunctionConfiguration),t)),r.QueueConfiguration===""?n.QueueConfigurations=[]:r.QueueConfiguration!==void 0&&(n.QueueConfigurations=_j(te(r.QueueConfiguration),t)),r.TopicConfiguration===""?n.TopicConfigurations=[]:r.TopicConfiguration!==void 0&&(n.TopicConfigurations=eH(te(r.TopicConfiguration),t)),n},zz=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},R_=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return qz(e,t);let n=p({$metadata:U(e)}),r=de(await ue(e.body,t));return n.OwnershipControls=pj(r,t),n},qz=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},I_=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return $z(e,t);let n=p({$metadata:U(e)}),r=await XA(e.body,t);return n.Policy=y(r),n},$z=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},N_=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Gz(e,t);let n=p({$metadata:U(e)}),r=de(await ue(e.body,t));return n.PolicyStatus=wj(r,t),n},Gz=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},v_=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return jz(e,t);let n=p({$metadata:U(e)}),r=de(await ue(e.body,t));return n.ReplicationConfiguration=Ij(r,t),n},jz=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},T_=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Hz(e,t);let n=p({$metadata:U(e)}),r=W(de(await ue(e.body,t)),"body");return r.Payer!==void 0&&(n.Payer=y(r.Payer)),n},Hz=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},D_=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Kz(e,t);let n=p({$metadata:U(e)}),r=W(de(await ue(e.body,t)),"body");return r.TagSet===""?n.TagSet=[]:r.TagSet!==void 0&&r.TagSet.Tag!==void 0&&(n.TagSet=eo(te(r.TagSet.Tag),t)),n},Kz=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},B_=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Vz(e,t);let n=p({$metadata:U(e)}),r=W(de(await ue(e.body,t)),"body");return r.MfaDelete!==void 0&&(n.MFADelete=y(r.MfaDelete)),r.Status!==void 0&&(n.Status=y(r.Status)),n},Vz=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},O_=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Wz(e,t);let n=p({$metadata:U(e)}),r=W(de(await ue(e.body,t)),"body");return r.ErrorDocument!==void 0&&(n.ErrorDocument=PG(r.ErrorDocument,t)),r.IndexDocument!==void 0&&(n.IndexDocument=DG(r.IndexDocument,t)),r.RedirectAllRequestsTo!==void 0&&(n.RedirectAllRequestsTo=kj(r.RedirectAllRequestsTo,t)),r.RoutingRules===""?n.RoutingRules=[]:r.RoutingRules!==void 0&&r.RoutingRules.RoutingRule!==void 0&&(n.RoutingRules=Fj(te(r.RoutingRules.RoutingRule),t)),n},Wz=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},F_=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Yz(e,t);let n=p({$metadata:U(e),DeleteMarker:[()=>e.headers["x-amz-delete-marker"]!==void 0,()=>_e(e.headers["x-amz-delete-marker"])],AcceptRanges:[,e.headers["accept-ranges"]],Expiration:[,e.headers["x-amz-expiration"]],Restore:[,e.headers["x-amz-restore"]],LastModified:[()=>e.headers["last-modified"]!==void 0,()=>W(Yr(e.headers["last-modified"]))],ContentLength:[()=>e.headers["content-length"]!==void 0,()=>ft(e.headers["content-length"])],ETag:[,e.headers.etag],ChecksumCRC32:[,e.headers["x-amz-checksum-crc32"]],ChecksumCRC32C:[,e.headers["x-amz-checksum-crc32c"]],ChecksumSHA1:[,e.headers["x-amz-checksum-sha1"]],ChecksumSHA256:[,e.headers["x-amz-checksum-sha256"]],MissingMeta:[()=>e.headers["x-amz-missing-meta"]!==void 0,()=>Ie(e.headers["x-amz-missing-meta"])],VersionId:[,e.headers["x-amz-version-id"]],CacheControl:[,e.headers["cache-control"]],ContentDisposition:[,e.headers["content-disposition"]],ContentEncoding:[,e.headers["content-encoding"]],ContentLanguage:[,e.headers["content-language"]],ContentRange:[,e.headers["content-range"]],ContentType:[,e.headers["content-type"]],Expires:[()=>e.headers.expires!==void 0,()=>W(Yr(e.headers.expires))],WebsiteRedirectLocation:[,e.headers["x-amz-website-redirect-location"]],ServerSideEncryption:[,e.headers["x-amz-server-side-encryption"]],SSECustomerAlgorithm:[,e.headers["x-amz-server-side-encryption-customer-algorithm"]],SSECustomerKeyMD5:[,e.headers["x-amz-server-side-encryption-customer-key-md5"]],SSEKMSKeyId:[,e.headers["x-amz-server-side-encryption-aws-kms-key-id"]],BucketKeyEnabled:[()=>e.headers["x-amz-server-side-encryption-bucket-key-enabled"]!==void 0,()=>_e(e.headers["x-amz-server-side-encryption-bucket-key-enabled"])],StorageClass:[,e.headers["x-amz-storage-class"]],RequestCharged:[,e.headers["x-amz-request-charged"]],ReplicationStatus:[,e.headers["x-amz-replication-status"]],PartsCount:[()=>e.headers["x-amz-mp-parts-count"]!==void 0,()=>Ie(e.headers["x-amz-mp-parts-count"])],TagCount:[()=>e.headers["x-amz-tagging-count"]!==void 0,()=>Ie(e.headers["x-amz-tagging-count"])],ObjectLockMode:[,e.headers["x-amz-object-lock-mode"]],ObjectLockRetainUntilDate:[()=>e.headers["x-amz-object-lock-retain-until-date"]!==void 0,()=>W(_t(e.headers["x-amz-object-lock-retain-until-date"]))],ObjectLockLegalHoldStatus:[,e.headers["x-amz-object-lock-legal-hold"]],Metadata:[,Object.keys(e.headers).filter(s=>s.startsWith("x-amz-meta-")).reduce((s,o)=>(s[o.substring(11)]=e.headers[o],s),{})]}),r=e.body;return t.sdkStreamMixin(r),n.Body=r,n},Yz=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body);switch(r){case"InvalidObjectState":case"com.amazonaws.s3#InvalidObjectState":throw await Wq(n,t);case"NoSuchKey":case"com.amazonaws.s3#NoSuchKey":throw await Kl(n,t);default:let s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})}},M_=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Xz(e,t);let n=p({$metadata:U(e),RequestCharged:[,e.headers["x-amz-request-charged"]]}),r=W(de(await ue(e.body,t)),"body");return r.AccessControlList===""?n.Grants=[]:r.AccessControlList!==void 0&&r.AccessControlList.Grant!==void 0&&(n.Grants=GA(te(r.AccessControlList.Grant),t)),r.Owner!==void 0&&(n.Owner=Jr(r.Owner,t)),n},Xz=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body);switch(r){case"NoSuchKey":case"com.amazonaws.s3#NoSuchKey":throw await Kl(n,t);default:let s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})}},L_=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Qz(e,t);let n=p({$metadata:U(e),DeleteMarker:[()=>e.headers["x-amz-delete-marker"]!==void 0,()=>_e(e.headers["x-amz-delete-marker"])],LastModified:[()=>e.headers["last-modified"]!==void 0,()=>W(Yr(e.headers["last-modified"]))],VersionId:[,e.headers["x-amz-version-id"]],RequestCharged:[,e.headers["x-amz-request-charged"]]}),r=W(de(await ue(e.body,t)),"body");return r.Checksum!==void 0&&(n.Checksum=iG(r.Checksum,t)),r.ETag!==void 0&&(n.ETag=y(r.ETag)),r.ObjectParts!==void 0&&(n.ObjectParts=vG(r.ObjectParts,t)),r.ObjectSize!==void 0&&(n.ObjectSize=ft(r.ObjectSize)),r.StorageClass!==void 0&&(n.StorageClass=y(r.StorageClass)),n},Qz=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body);switch(r){case"NoSuchKey":case"com.amazonaws.s3#NoSuchKey":throw await Kl(n,t);default:let s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})}},U_=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Zz(e,t);let n=p({$metadata:U(e)}),r=de(await ue(e.body,t));return n.LegalHold=dj(r,t),n},Zz=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},z_=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Jz(e,t);let n=p({$metadata:U(e)}),r=de(await ue(e.body,t));return n.ObjectLockConfiguration=cj(r,t),n},Jz=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},q_=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return eq(e,t);let n=p({$metadata:U(e)}),r=de(await ue(e.body,t));return n.Retention=lj(r,t),n},eq=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},$_=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return tq(e,t);let n=p({$metadata:U(e),VersionId:[,e.headers["x-amz-version-id"]]}),r=W(de(await ue(e.body,t)),"body");return r.TagSet===""?n.TagSet=[]:r.TagSet!==void 0&&r.TagSet.Tag!==void 0&&(n.TagSet=eo(te(r.TagSet.Tag),t)),n},tq=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},G_=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return nq(e,t);let n=p({$metadata:U(e),RequestCharged:[,e.headers["x-amz-request-charged"]]}),r=e.body;return t.sdkStreamMixin(r),n.Body=r,n},nq=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},j_=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return rq(e,t);let n=p({$metadata:U(e)}),r=de(await ue(e.body,t));return n.PublicAccessBlockConfiguration=bj(r,t),n},rq=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},H_=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return sq(e,t);let n=p({$metadata:U(e)});return await re(e.body,t),n},sq=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body);switch(r){case"NotFound":case"com.amazonaws.s3#NotFound":throw await BA(n,t);default:let s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})}},K_=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return oq(e,t);let n=p({$metadata:U(e),DeleteMarker:[()=>e.headers["x-amz-delete-marker"]!==void 0,()=>_e(e.headers["x-amz-delete-marker"])],AcceptRanges:[,e.headers["accept-ranges"]],Expiration:[,e.headers["x-amz-expiration"]],Restore:[,e.headers["x-amz-restore"]],ArchiveStatus:[,e.headers["x-amz-archive-status"]],LastModified:[()=>e.headers["last-modified"]!==void 0,()=>W(Yr(e.headers["last-modified"]))],ContentLength:[()=>e.headers["content-length"]!==void 0,()=>ft(e.headers["content-length"])],ChecksumCRC32:[,e.headers["x-amz-checksum-crc32"]],ChecksumCRC32C:[,e.headers["x-amz-checksum-crc32c"]],ChecksumSHA1:[,e.headers["x-amz-checksum-sha1"]],ChecksumSHA256:[,e.headers["x-amz-checksum-sha256"]],ETag:[,e.headers.etag],MissingMeta:[()=>e.headers["x-amz-missing-meta"]!==void 0,()=>Ie(e.headers["x-amz-missing-meta"])],VersionId:[,e.headers["x-amz-version-id"]],CacheControl:[,e.headers["cache-control"]],ContentDisposition:[,e.headers["content-disposition"]],ContentEncoding:[,e.headers["content-encoding"]],ContentLanguage:[,e.headers["content-language"]],ContentType:[,e.headers["content-type"]],Expires:[()=>e.headers.expires!==void 0,()=>W(Yr(e.headers.expires))],WebsiteRedirectLocation:[,e.headers["x-amz-website-redirect-location"]],ServerSideEncryption:[,e.headers["x-amz-server-side-encryption"]],SSECustomerAlgorithm:[,e.headers["x-amz-server-side-encryption-customer-algorithm"]],SSECustomerKeyMD5:[,e.headers["x-amz-server-side-encryption-customer-key-md5"]],SSEKMSKeyId:[,e.headers["x-amz-server-side-encryption-aws-kms-key-id"]],BucketKeyEnabled:[()=>e.headers["x-amz-server-side-encryption-bucket-key-enabled"]!==void 0,()=>_e(e.headers["x-amz-server-side-encryption-bucket-key-enabled"])],StorageClass:[,e.headers["x-amz-storage-class"]],RequestCharged:[,e.headers["x-amz-request-charged"]],ReplicationStatus:[,e.headers["x-amz-replication-status"]],PartsCount:[()=>e.headers["x-amz-mp-parts-count"]!==void 0,()=>Ie(e.headers["x-amz-mp-parts-count"])],ObjectLockMode:[,e.headers["x-amz-object-lock-mode"]],ObjectLockRetainUntilDate:[()=>e.headers["x-amz-object-lock-retain-until-date"]!==void 0,()=>W(_t(e.headers["x-amz-object-lock-retain-until-date"]))],ObjectLockLegalHoldStatus:[,e.headers["x-amz-object-lock-legal-hold"]],Metadata:[,Object.keys(e.headers).filter(r=>r.startsWith("x-amz-meta-")).reduce((r,s)=>(r[s.substring(11)]=e.headers[s],r),{})]});return await re(e.body,t),n},oq=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body);switch(r){case"NotFound":case"com.amazonaws.s3#NotFound":throw await BA(n,t);default:let s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})}},V_=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return iq(e,t);let n=p({$metadata:U(e)}),r=W(de(await ue(e.body,t)),"body");return r.AnalyticsConfiguration===""?n.AnalyticsConfigurationList=[]:r.AnalyticsConfiguration!==void 0&&(n.AnalyticsConfigurationList=eG(te(r.AnalyticsConfiguration),t)),r.ContinuationToken!==void 0&&(n.ContinuationToken=y(r.ContinuationToken)),r.IsTruncated!==void 0&&(n.IsTruncated=_e(r.IsTruncated)),r.NextContinuationToken!==void 0&&(n.NextContinuationToken=y(r.NextContinuationToken)),n},iq=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},W_=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return aq(e,t);let n=p({$metadata:U(e)}),r=W(de(await ue(e.body,t)),"body");return r.ContinuationToken!==void 0&&(n.ContinuationToken=y(r.ContinuationToken)),r.IntelligentTieringConfiguration===""?n.IntelligentTieringConfigurationList=[]:r.IntelligentTieringConfiguration!==void 0&&(n.IntelligentTieringConfigurationList=OG(te(r.IntelligentTieringConfiguration),t)),r.IsTruncated!==void 0&&(n.IsTruncated=_e(r.IsTruncated)),r.NextContinuationToken!==void 0&&(n.NextContinuationToken=y(r.NextContinuationToken)),n},aq=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},Y_=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return cq(e,t);let n=p({$metadata:U(e)}),r=W(de(await ue(e.body,t)),"body");return r.ContinuationToken!==void 0&&(n.ContinuationToken=y(r.ContinuationToken)),r.InventoryConfiguration===""?n.InventoryConfigurationList=[]:r.InventoryConfiguration!==void 0&&(n.InventoryConfigurationList=MG(te(r.InventoryConfiguration),t)),r.IsTruncated!==void 0&&(n.IsTruncated=_e(r.IsTruncated)),r.NextContinuationToken!==void 0&&(n.NextContinuationToken=y(r.NextContinuationToken)),n},cq=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},X_=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return dq(e,t);let n=p({$metadata:U(e)}),r=W(de(await ue(e.body,t)),"body");return r.ContinuationToken!==void 0&&(n.ContinuationToken=y(r.ContinuationToken)),r.IsTruncated!==void 0&&(n.IsTruncated=_e(r.IsTruncated)),r.MetricsConfiguration===""?n.MetricsConfigurationList=[]:r.MetricsConfiguration!==void 0&&(n.MetricsConfigurationList=ej(te(r.MetricsConfiguration),t)),r.NextContinuationToken!==void 0&&(n.NextContinuationToken=y(r.NextContinuationToken)),n},dq=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},Q_=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return lq(e,t);let n=p({$metadata:U(e)}),r=W(de(await ue(e.body,t)),"body");return r.Buckets===""?n.Buckets=[]:r.Buckets!==void 0&&r.Buckets.Bucket!==void 0&&(n.Buckets=oG(te(r.Buckets.Bucket),t)),r.Owner!==void 0&&(n.Owner=Jr(r.Owner,t)),n},lq=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},Z_=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return uq(e,t);let n=p({$metadata:U(e)}),r=W(de(await ue(e.body,t)),"body");return r.Bucket!==void 0&&(n.Bucket=y(r.Bucket)),r.CommonPrefixes===""?n.CommonPrefixes=[]:r.CommonPrefixes!==void 0&&(n.CommonPrefixes=Vl(te(r.CommonPrefixes),t)),r.Delimiter!==void 0&&(n.Delimiter=y(r.Delimiter)),r.EncodingType!==void 0&&(n.EncodingType=y(r.EncodingType)),r.IsTruncated!==void 0&&(n.IsTruncated=_e(r.IsTruncated)),r.KeyMarker!==void 0&&(n.KeyMarker=y(r.KeyMarker)),r.MaxUploads!==void 0&&(n.MaxUploads=Ie(r.MaxUploads)),r.NextKeyMarker!==void 0&&(n.NextKeyMarker=y(r.NextKeyMarker)),r.NextUploadIdMarker!==void 0&&(n.NextUploadIdMarker=y(r.NextUploadIdMarker)),r.Prefix!==void 0&&(n.Prefix=y(r.Prefix)),r.UploadIdMarker!==void 0&&(n.UploadIdMarker=y(r.UploadIdMarker)),r.Upload===""?n.Uploads=[]:r.Upload!==void 0&&(n.Uploads=rj(te(r.Upload),t)),n},uq=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},J_=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return mq(e,t);let n=p({$metadata:U(e)}),r=W(de(await ue(e.body,t)),"body");return r.CommonPrefixes===""?n.CommonPrefixes=[]:r.CommonPrefixes!==void 0&&(n.CommonPrefixes=Vl(te(r.CommonPrefixes),t)),r.Contents===""?n.Contents=[]:r.Contents!==void 0&&(n.Contents=WA(te(r.Contents),t)),r.Delimiter!==void 0&&(n.Delimiter=y(r.Delimiter)),r.EncodingType!==void 0&&(n.EncodingType=y(r.EncodingType)),r.IsTruncated!==void 0&&(n.IsTruncated=_e(r.IsTruncated)),r.Marker!==void 0&&(n.Marker=y(r.Marker)),r.MaxKeys!==void 0&&(n.MaxKeys=Ie(r.MaxKeys)),r.Name!==void 0&&(n.Name=y(r.Name)),r.NextMarker!==void 0&&(n.NextMarker=y(r.NextMarker)),r.Prefix!==void 0&&(n.Prefix=y(r.Prefix)),n},mq=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body);switch(r){case"NoSuchBucket":case"com.amazonaws.s3#NoSuchBucket":throw await DA(n,t);default:let s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})}},eA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return fq(e,t);let n=p({$metadata:U(e)}),r=W(de(await ue(e.body,t)),"body");return r.CommonPrefixes===""?n.CommonPrefixes=[]:r.CommonPrefixes!==void 0&&(n.CommonPrefixes=Vl(te(r.CommonPrefixes),t)),r.Contents===""?n.Contents=[]:r.Contents!==void 0&&(n.Contents=WA(te(r.Contents),t)),r.ContinuationToken!==void 0&&(n.ContinuationToken=y(r.ContinuationToken)),r.Delimiter!==void 0&&(n.Delimiter=y(r.Delimiter)),r.EncodingType!==void 0&&(n.EncodingType=y(r.EncodingType)),r.IsTruncated!==void 0&&(n.IsTruncated=_e(r.IsTruncated)),r.KeyCount!==void 0&&(n.KeyCount=Ie(r.KeyCount)),r.MaxKeys!==void 0&&(n.MaxKeys=Ie(r.MaxKeys)),r.Name!==void 0&&(n.Name=y(r.Name)),r.NextContinuationToken!==void 0&&(n.NextContinuationToken=y(r.NextContinuationToken)),r.Prefix!==void 0&&(n.Prefix=y(r.Prefix)),r.StartAfter!==void 0&&(n.StartAfter=y(r.StartAfter)),n},fq=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body);switch(r){case"NoSuchBucket":case"com.amazonaws.s3#NoSuchBucket":throw await DA(n,t);default:let s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})}},tA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return hq(e,t);let n=p({$metadata:U(e)}),r=W(de(await ue(e.body,t)),"body");return r.CommonPrefixes===""?n.CommonPrefixes=[]:r.CommonPrefixes!==void 0&&(n.CommonPrefixes=Vl(te(r.CommonPrefixes),t)),r.DeleteMarker===""?n.DeleteMarkers=[]:r.DeleteMarker!==void 0&&(n.DeleteMarkers=SG(te(r.DeleteMarker),t)),r.Delimiter!==void 0&&(n.Delimiter=y(r.Delimiter)),r.EncodingType!==void 0&&(n.EncodingType=y(r.EncodingType)),r.IsTruncated!==void 0&&(n.IsTruncated=_e(r.IsTruncated)),r.KeyMarker!==void 0&&(n.KeyMarker=y(r.KeyMarker)),r.MaxKeys!==void 0&&(n.MaxKeys=Ie(r.MaxKeys)),r.Name!==void 0&&(n.Name=y(r.Name)),r.NextKeyMarker!==void 0&&(n.NextKeyMarker=y(r.NextKeyMarker)),r.NextVersionIdMarker!==void 0&&(n.NextVersionIdMarker=y(r.NextVersionIdMarker)),r.Prefix!==void 0&&(n.Prefix=y(r.Prefix)),r.VersionIdMarker!==void 0&&(n.VersionIdMarker=y(r.VersionIdMarker)),r.Version===""?n.Versions=[]:r.Version!==void 0&&(n.Versions=hj(te(r.Version),t)),n},hq=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},nA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return pq(e,t);let n=p({$metadata:U(e),AbortDate:[()=>e.headers["x-amz-abort-date"]!==void 0,()=>W(Yr(e.headers["x-amz-abort-date"]))],AbortRuleId:[,e.headers["x-amz-abort-rule-id"]],RequestCharged:[,e.headers["x-amz-request-charged"]]}),r=W(de(await ue(e.body,t)),"body");return r.Bucket!==void 0&&(n.Bucket=y(r.Bucket)),r.ChecksumAlgorithm!==void 0&&(n.ChecksumAlgorithm=y(r.ChecksumAlgorithm)),r.Initiator!==void 0&&(n.Initiator=jA(r.Initiator,t)),r.IsTruncated!==void 0&&(n.IsTruncated=_e(r.IsTruncated)),r.Key!==void 0&&(n.Key=y(r.Key)),r.MaxParts!==void 0&&(n.MaxParts=Ie(r.MaxParts)),r.NextPartNumberMarker!==void 0&&(n.NextPartNumberMarker=y(r.NextPartNumberMarker)),r.Owner!==void 0&&(n.Owner=Jr(r.Owner,t)),r.PartNumberMarker!==void 0&&(n.PartNumberMarker=y(r.PartNumberMarker)),r.Part===""?n.Parts=[]:r.Part!==void 0&&(n.Parts=Sj(te(r.Part),t)),r.StorageClass!==void 0&&(n.StorageClass=y(r.StorageClass)),r.UploadId!==void 0&&(n.UploadId=y(r.UploadId)),n},pq=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},rA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return yq(e,t);let n=p({$metadata:U(e)});return await re(e.body,t),n},yq=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},sA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return gq(e,t);let n=p({$metadata:U(e)});return await re(e.body,t),n},gq=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},oA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Eq(e,t);let n=p({$metadata:U(e)});return await re(e.body,t),n},Eq=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},iA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Sq(e,t);let n=p({$metadata:U(e)});return await re(e.body,t),n},Sq=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},aA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return xq(e,t);let n=p({$metadata:U(e)});return await re(e.body,t),n},xq=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},cA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return wq(e,t);let n=p({$metadata:U(e)});return await re(e.body,t),n},wq=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},dA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Cq(e,t);let n=p({$metadata:U(e)});return await re(e.body,t),n},Cq=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},lA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return bq(e,t);let n=p({$metadata:U(e)});return await re(e.body,t),n},bq=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},uA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Pq(e,t);let n=p({$metadata:U(e)});return await re(e.body,t),n},Pq=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},mA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return _q(e,t);let n=p({$metadata:U(e)});return await re(e.body,t),n},_q=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},fA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Aq(e,t);let n=p({$metadata:U(e)});return await re(e.body,t),n},Aq=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},hA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return kq(e,t);let n=p({$metadata:U(e)});return await re(e.body,t),n},kq=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},pA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Rq(e,t);let n=p({$metadata:U(e)});return await re(e.body,t),n},Rq=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},yA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Iq(e,t);let n=p({$metadata:U(e)});return await re(e.body,t),n},Iq=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},gA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Nq(e,t);let n=p({$metadata:U(e)});return await re(e.body,t),n},Nq=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},EA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return vq(e,t);let n=p({$metadata:U(e)});return await re(e.body,t),n},vq=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},SA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Tq(e,t);let n=p({$metadata:U(e)});return await re(e.body,t),n},Tq=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},xA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Dq(e,t);let n=p({$metadata:U(e)});return await re(e.body,t),n},Dq=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},wA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Bq(e,t);let n=p({$metadata:U(e),Expiration:[,e.headers["x-amz-expiration"]],ETag:[,e.headers.etag],ChecksumCRC32:[,e.headers["x-amz-checksum-crc32"]],ChecksumCRC32C:[,e.headers["x-amz-checksum-crc32c"]],ChecksumSHA1:[,e.headers["x-amz-checksum-sha1"]],ChecksumSHA256:[,e.headers["x-amz-checksum-sha256"]],ServerSideEncryption:[,e.headers["x-amz-server-side-encryption"]],VersionId:[,e.headers["x-amz-version-id"]],SSECustomerAlgorithm:[,e.headers["x-amz-server-side-encryption-customer-algorithm"]],SSECustomerKeyMD5:[,e.headers["x-amz-server-side-encryption-customer-key-md5"]],SSEKMSKeyId:[,e.headers["x-amz-server-side-encryption-aws-kms-key-id"]],SSEKMSEncryptionContext:[,e.headers["x-amz-server-side-encryption-context"]],BucketKeyEnabled:[()=>e.headers["x-amz-server-side-encryption-bucket-key-enabled"]!==void 0,()=>_e(e.headers["x-amz-server-side-encryption-bucket-key-enabled"])],RequestCharged:[,e.headers["x-amz-request-charged"]]});return await re(e.body,t),n},Bq=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},CA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Oq(e,t);let n=p({$metadata:U(e),RequestCharged:[,e.headers["x-amz-request-charged"]]});return await re(e.body,t),n},Oq=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body);switch(r){case"NoSuchKey":case"com.amazonaws.s3#NoSuchKey":throw await Kl(n,t);default:let s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})}},bA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Fq(e,t);let n=p({$metadata:U(e),RequestCharged:[,e.headers["x-amz-request-charged"]]});return await re(e.body,t),n},Fq=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},PA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Mq(e,t);let n=p({$metadata:U(e),RequestCharged:[,e.headers["x-amz-request-charged"]]});return await re(e.body,t),n},Mq=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},_A=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Lq(e,t);let n=p({$metadata:U(e),RequestCharged:[,e.headers["x-amz-request-charged"]]});return await re(e.body,t),n},Lq=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},AA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Uq(e,t);let n=p({$metadata:U(e),VersionId:[,e.headers["x-amz-version-id"]]});return await re(e.body,t),n},Uq=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},kA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return zq(e,t);let n=p({$metadata:U(e)});return await re(e.body,t),n},zq=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},RA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return qq(e,t);let n=p({$metadata:U(e),RequestCharged:[,e.headers["x-amz-request-charged"]],RestoreOutputPath:[,e.headers["x-amz-restore-output-path"]]});return await re(e.body,t),n},qq=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body);switch(r){case"ObjectAlreadyInActiveTierError":case"com.amazonaws.s3#ObjectAlreadyInActiveTierError":throw await Xq(n,t);default:let s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})}},IA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return $q(e,t);let n=p({$metadata:U(e)}),r=e.body;return n.Payload=Zq(r,t),n},$q=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},NA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Gq(e,t);let n=p({$metadata:U(e),ServerSideEncryption:[,e.headers["x-amz-server-side-encryption"]],ETag:[,e.headers.etag],ChecksumCRC32:[,e.headers["x-amz-checksum-crc32"]],ChecksumCRC32C:[,e.headers["x-amz-checksum-crc32c"]],ChecksumSHA1:[,e.headers["x-amz-checksum-sha1"]],ChecksumSHA256:[,e.headers["x-amz-checksum-sha256"]],SSECustomerAlgorithm:[,e.headers["x-amz-server-side-encryption-customer-algorithm"]],SSECustomerKeyMD5:[,e.headers["x-amz-server-side-encryption-customer-key-md5"]],SSEKMSKeyId:[,e.headers["x-amz-server-side-encryption-aws-kms-key-id"]],BucketKeyEnabled:[()=>e.headers["x-amz-server-side-encryption-bucket-key-enabled"]!==void 0,()=>_e(e.headers["x-amz-server-side-encryption-bucket-key-enabled"])],RequestCharged:[,e.headers["x-amz-request-charged"]]});return await re(e.body,t),n},Gq=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},vA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return jq(e,t);let n=p({$metadata:U(e),CopySourceVersionId:[,e.headers["x-amz-copy-source-version-id"]],ServerSideEncryption:[,e.headers["x-amz-server-side-encryption"]],SSECustomerAlgorithm:[,e.headers["x-amz-server-side-encryption-customer-algorithm"]],SSECustomerKeyMD5:[,e.headers["x-amz-server-side-encryption-customer-key-md5"]],SSEKMSKeyId:[,e.headers["x-amz-server-side-encryption-aws-kms-key-id"]],BucketKeyEnabled:[()=>e.headers["x-amz-server-side-encryption-bucket-key-enabled"]!==void 0,()=>_e(e.headers["x-amz-server-side-encryption-bucket-key-enabled"])],RequestCharged:[,e.headers["x-amz-request-charged"]]}),r=de(await ue(e.body,t));return n.CopyPartResult=uG(r,t),n},jq=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},TA=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Hq(e,t);let n=p({$metadata:U(e)});return await re(e.body,t),n},Hq=async(e,t)=>{let n={...e,body:await q(e.body,t)},r=$(e,n.body),s=n.body;z({output:e,parsedBody:s,exceptionCtor:M,errorCode:r})},p=Zs,Kq=async(e,t)=>{let n=p({}),r=e.body,s=new Wo({$metadata:U(e),...n});return we(s,e.body)},Vq=async(e,t)=>{let n=p({}),r=e.body,s=new Yo({$metadata:U(e),...n});return we(s,e.body)},Wq=async(e,t)=>{let n=p({}),r=e.body;r.AccessTier!==void 0&&(n.AccessTier=y(r.AccessTier)),r.StorageClass!==void 0&&(n.StorageClass=y(r.StorageClass));let s=new Xo({$metadata:U(e),...n});return we(s,e.body)},DA=async(e,t)=>{let n=p({}),r=e.body,s=new Jo({$metadata:U(e),...n});return we(s,e.body)},Kl=async(e,t)=>{let n=p({}),r=e.body,s=new Qo({$metadata:U(e),...n});return we(s,e.body)},Yq=async(e,t)=>{let n=p({}),r=e.body,s=new Ko({$metadata:U(e),...n});return we(s,e.body)},BA=async(e,t)=>{let n=p({}),r=e.body,s=new Zo({$metadata:U(e),...n});return we(s,e.body)},Xq=async(e,t)=>{let n=p({}),r=e.body,s=new ei({$metadata:U(e),...n});return we(s,e.body)},Qq=async(e,t)=>{let n=p({}),r=e.body,s=new Vo({$metadata:U(e),...n});return we(s,e.body)},Zq=(e,t)=>t.eventStreamMarshaller.deserialize(e,async n=>n.Records!=null?{Records:await n$(n.Records,t)}:n.Stats!=null?{Stats:await r$(n.Stats,t)}:n.Progress!=null?{Progress:await t$(n.Progress,t)}:n.Cont!=null?{Cont:await Jq(n.Cont,t)}:n.End!=null?{End:await e$(n.End,t)}:{$unknown:e}),Jq=async(e,t)=>{let n={},r=await ue(e.body,t);return Object.assign(n,dG(r,t)),n},e$=async(e,t)=>{let n={},r=await ue(e.body,t);return Object.assign(n,CG(r,t)),n},t$=async(e,t)=>{let n={},r=await ue(e.body,t);return n.Details=Cj(r,t),n},n$=async(e,t)=>{let n={};return n.Payload=e.body,n},r$=async(e,t)=>{let n={},r=await ue(e.body,t);return n.Details=Kj(r,t),n},s$=(e,t)=>{let n=new h("AbortIncompleteMultipartUpload");if(e.DaysAfterInitiation!=null){let r=h.of("DaysAfterInitiation",String(e.DaysAfterInitiation)).withName("DaysAfterInitiation");n.addChildNode(r)}return n},UC=(e,t)=>{let n=new h("AccelerateConfiguration");if(e.Status!=null){let r=h.of("BucketAccelerateStatus",e.Status).withName("Status");n.addChildNode(r)}return n},Hl=(e,t)=>{let n=new h("AccessControlPolicy");if(e.Grants!=null){let r=FA(e.Grants,t),s=new h("AccessControlList");r.map(o=>{s.addChildNode(o)}),n.addChildNode(s)}if(e.Owner!=null){let r=d2(e.Owner,t).withName("Owner");n.addChildNode(r)}return n},o$=(e,t)=>{let n=new h("AccessControlTranslation");if(e.Owner!=null){let r=h.of("OwnerOverride",e.Owner).withName("Owner");n.addChildNode(r)}return n},i$=(e,t)=>e.filter(n=>n!=null).map(n=>h.of("AllowedHeader",n).withName("member")),a$=(e,t)=>e.filter(n=>n!=null).map(n=>h.of("AllowedMethod",n).withName("member")),c$=(e,t)=>e.filter(n=>n!=null).map(n=>h.of("AllowedOrigin",n).withName("member")),d$=(e,t)=>{let n=new h("AnalyticsAndOperator");if(e.Prefix!=null){let r=h.of("Prefix",e.Prefix).withName("Prefix");n.addChildNode(r)}return e.Tags!=null&&ni(e.Tags,t).map(s=>{s=s.withName("Tag"),n.addChildNode(s)}),n},zC=(e,t)=>{let n=new h("AnalyticsConfiguration");if(e.Id!=null){let r=h.of("AnalyticsId",e.Id).withName("Id");n.addChildNode(r)}if(e.Filter!=null){let r=u$(e.Filter,t).withName("Filter");n.addChildNode(r)}if(e.StorageClassAnalysis!=null){let r=M2(e.StorageClassAnalysis,t).withName("StorageClassAnalysis");n.addChildNode(r)}return n},l$=(e,t)=>{let n=new h("AnalyticsExportDestination");if(e.S3BucketDestination!=null){let r=m$(e.S3BucketDestination,t).withName("S3BucketDestination");n.addChildNode(r)}return n},u$=(e,t)=>{let n=new h("AnalyticsFilter");return ql.visit(e,{Prefix:r=>{let s=h.of("Prefix",r).withName("Prefix");n.addChildNode(s)},Tag:r=>{let s=ti(r,t).withName("Tag");n.addChildNode(s)},And:r=>{let s=d$(r,t).withName("And");n.addChildNode(s)},_:(r,s)=>{if(!(s instanceof h||s instanceof ur))throw new Error("Unable to serialize unknown union members in XML.");n.addChildNode(new h(r).addChildNode(s))}}),n},m$=(e,t)=>{let n=new h("AnalyticsS3BucketDestination");if(e.Format!=null){let r=h.of("AnalyticsS3ExportFileFormat",e.Format).withName("Format");n.addChildNode(r)}if(e.BucketAccountId!=null){let r=h.of("AccountId",e.BucketAccountId).withName("BucketAccountId");n.addChildNode(r)}if(e.Bucket!=null){let r=h.of("BucketName",e.Bucket).withName("Bucket");n.addChildNode(r)}if(e.Prefix!=null){let r=h.of("Prefix",e.Prefix).withName("Prefix");n.addChildNode(r)}return n},qC=(e,t)=>{let n=new h("BucketLifecycleConfiguration");return e.Rules!=null&&X$(e.Rules,t).map(s=>{s=s.withName("Rule"),n.addChildNode(s)}),n},$C=(e,t)=>{let n=new h("BucketLoggingStatus");if(e.LoggingEnabled!=null){let r=Q$(e.LoggingEnabled,t).withName("LoggingEnabled");n.addChildNode(r)}return n},GC=(e,t)=>{let n=new h("CompletedMultipartUpload");return e.Parts!=null&&h$(e.Parts,t).map(s=>{s=s.withName("Part"),n.addChildNode(s)}),n},f$=(e,t)=>{let n=new h("CompletedPart");if(e.ETag!=null){let r=h.of("ETag",e.ETag).withName("ETag");n.addChildNode(r)}if(e.ChecksumCRC32!=null){let r=h.of("ChecksumCRC32",e.ChecksumCRC32).withName("ChecksumCRC32");n.addChildNode(r)}if(e.ChecksumCRC32C!=null){let r=h.of("ChecksumCRC32C",e.ChecksumCRC32C).withName("ChecksumCRC32C");n.addChildNode(r)}if(e.ChecksumSHA1!=null){let r=h.of("ChecksumSHA1",e.ChecksumSHA1).withName("ChecksumSHA1");n.addChildNode(r)}if(e.ChecksumSHA256!=null){let r=h.of("ChecksumSHA256",e.ChecksumSHA256).withName("ChecksumSHA256");n.addChildNode(r)}if(e.PartNumber!=null){let r=h.of("PartNumber",String(e.PartNumber)).withName("PartNumber");n.addChildNode(r)}return n},h$=(e,t)=>e.filter(n=>n!=null).map(n=>f$(n,t).withName("member")),p$=(e,t)=>{let n=new h("Condition");if(e.HttpErrorCodeReturnedEquals!=null){let r=h.of("HttpErrorCodeReturnedEquals",e.HttpErrorCodeReturnedEquals).withName("HttpErrorCodeReturnedEquals");n.addChildNode(r)}if(e.KeyPrefixEquals!=null){let r=h.of("KeyPrefixEquals",e.KeyPrefixEquals).withName("KeyPrefixEquals");n.addChildNode(r)}return n},jC=(e,t)=>{let n=new h("CORSConfiguration");return e.CORSRules!=null&&g$(e.CORSRules,t).map(s=>{s=s.withName("CORSRule"),n.addChildNode(s)}),n},y$=(e,t)=>{let n=new h("CORSRule");if(e.ID!=null){let r=h.of("ID",e.ID).withName("ID");n.addChildNode(r)}if(e.AllowedHeaders!=null&&i$(e.AllowedHeaders,t).map(s=>{s=s.withName("AllowedHeader"),n.addChildNode(s)}),e.AllowedMethods!=null&&a$(e.AllowedMethods,t).map(s=>{s=s.withName("AllowedMethod"),n.addChildNode(s)}),e.AllowedOrigins!=null&&c$(e.AllowedOrigins,t).map(s=>{s=s.withName("AllowedOrigin"),n.addChildNode(s)}),e.ExposeHeaders!=null&&R$(e.ExposeHeaders,t).map(s=>{s=s.withName("ExposeHeader"),n.addChildNode(s)}),e.MaxAgeSeconds!=null){let r=h.of("MaxAgeSeconds",String(e.MaxAgeSeconds)).withName("MaxAgeSeconds");n.addChildNode(r)}return n},g$=(e,t)=>e.filter(n=>n!=null).map(n=>y$(n,t).withName("member")),HC=(e,t)=>{let n=new h("CreateBucketConfiguration");if(e.LocationConstraint!=null){let r=h.of("BucketLocationConstraint",e.LocationConstraint).withName("LocationConstraint");n.addChildNode(r)}return n},E$=(e,t)=>{let n=new h("CSVInput");if(e.FileHeaderInfo!=null){let r=h.of("FileHeaderInfo",e.FileHeaderInfo).withName("FileHeaderInfo");n.addChildNode(r)}if(e.Comments!=null){let r=h.of("Comments",e.Comments).withName("Comments");n.addChildNode(r)}if(e.QuoteEscapeCharacter!=null){let r=h.of("QuoteEscapeCharacter",e.QuoteEscapeCharacter).withName("QuoteEscapeCharacter");n.addChildNode(r)}if(e.RecordDelimiter!=null){let r=h.of("RecordDelimiter",e.RecordDelimiter).withName("RecordDelimiter");n.addChildNode(r)}if(e.FieldDelimiter!=null){let r=h.of("FieldDelimiter",e.FieldDelimiter).withName("FieldDelimiter");n.addChildNode(r)}if(e.QuoteCharacter!=null){let r=h.of("QuoteCharacter",e.QuoteCharacter).withName("QuoteCharacter");n.addChildNode(r)}if(e.AllowQuotedRecordDelimiter!=null){let r=h.of("AllowQuotedRecordDelimiter",String(e.AllowQuotedRecordDelimiter)).withName("AllowQuotedRecordDelimiter");n.addChildNode(r)}return n},S$=(e,t)=>{let n=new h("CSVOutput");if(e.QuoteFields!=null){let r=h.of("QuoteFields",e.QuoteFields).withName("QuoteFields");n.addChildNode(r)}if(e.QuoteEscapeCharacter!=null){let r=h.of("QuoteEscapeCharacter",e.QuoteEscapeCharacter).withName("QuoteEscapeCharacter");n.addChildNode(r)}if(e.RecordDelimiter!=null){let r=h.of("RecordDelimiter",e.RecordDelimiter).withName("RecordDelimiter");n.addChildNode(r)}if(e.FieldDelimiter!=null){let r=h.of("FieldDelimiter",e.FieldDelimiter).withName("FieldDelimiter");n.addChildNode(r)}if(e.QuoteCharacter!=null){let r=h.of("QuoteCharacter",e.QuoteCharacter).withName("QuoteCharacter");n.addChildNode(r)}return n},x$=(e,t)=>{let n=new h("DefaultRetention");if(e.Mode!=null){let r=h.of("ObjectLockRetentionMode",e.Mode).withName("Mode");n.addChildNode(r)}if(e.Days!=null){let r=h.of("Days",String(e.Days)).withName("Days");n.addChildNode(r)}if(e.Years!=null){let r=h.of("Years",String(e.Years)).withName("Years");n.addChildNode(r)}return n},KC=(e,t)=>{let n=new h("Delete");if(e.Objects!=null&&i2(e.Objects,t).map(s=>{s=s.withName("Object"),n.addChildNode(s)}),e.Quiet!=null){let r=h.of("Quiet",String(e.Quiet)).withName("Quiet");n.addChildNode(r)}return n},w$=(e,t)=>{let n=new h("DeleteMarkerReplication");if(e.Status!=null){let r=h.of("DeleteMarkerReplicationStatus",e.Status).withName("Status");n.addChildNode(r)}return n},C$=(e,t)=>{let n=new h("Destination");if(e.Bucket!=null){let r=h.of("BucketName",e.Bucket).withName("Bucket");n.addChildNode(r)}if(e.Account!=null){let r=h.of("AccountId",e.Account).withName("Account");n.addChildNode(r)}if(e.StorageClass!=null){let r=h.of("StorageClass",e.StorageClass).withName("StorageClass");n.addChildNode(r)}if(e.AccessControlTranslation!=null){let r=o$(e.AccessControlTranslation,t).withName("AccessControlTranslation");n.addChildNode(r)}if(e.EncryptionConfiguration!=null){let r=P$(e.EncryptionConfiguration,t).withName("EncryptionConfiguration");n.addChildNode(r)}if(e.ReplicationTime!=null){let r=C2(e.ReplicationTime,t).withName("ReplicationTime");n.addChildNode(r)}if(e.Metrics!=null){let r=J$(e.Metrics,t).withName("Metrics");n.addChildNode(r)}return n},b$=(e,t)=>{let n=new h("Encryption");if(e.EncryptionType!=null){let r=h.of("ServerSideEncryption",e.EncryptionType).withName("EncryptionType");n.addChildNode(r)}if(e.KMSKeyId!=null){let r=h.of("SSEKMSKeyId",e.KMSKeyId).withName("KMSKeyId");n.addChildNode(r)}if(e.KMSContext!=null){let r=h.of("KMSContext",e.KMSContext).withName("KMSContext");n.addChildNode(r)}return n},P$=(e,t)=>{let n=new h("EncryptionConfiguration");if(e.ReplicaKmsKeyID!=null){let r=h.of("ReplicaKmsKeyID",e.ReplicaKmsKeyID).withName("ReplicaKmsKeyID");n.addChildNode(r)}return n},_$=(e,t)=>{let n=new h("ErrorDocument");if(e.Key!=null){let r=h.of("ObjectKey",e.Key).withName("Key");n.addChildNode(r)}return n},A$=(e,t)=>new h("EventBridgeConfiguration"),Gh=(e,t)=>e.filter(n=>n!=null).map(n=>h.of("Event",n).withName("member")),k$=(e,t)=>{let n=new h("ExistingObjectReplication");if(e.Status!=null){let r=h.of("ExistingObjectReplicationStatus",e.Status).withName("Status");n.addChildNode(r)}return n},R$=(e,t)=>e.filter(n=>n!=null).map(n=>h.of("ExposeHeader",n).withName("member")),I$=(e,t)=>{let n=new h("FilterRule");if(e.Name!=null){let r=h.of("FilterRuleName",e.Name).withName("Name");n.addChildNode(r)}if(e.Value!=null){let r=h.of("FilterRuleValue",e.Value).withName("Value");n.addChildNode(r)}return n},N$=(e,t)=>e.filter(n=>n!=null).map(n=>I$(n,t).withName("member")),v$=(e,t)=>{let n=new h("GlacierJobParameters");if(e.Tier!=null){let r=h.of("Tier",e.Tier).withName("Tier");n.addChildNode(r)}return n},T$=(e,t)=>{let n=new h("Grant");if(e.Grantee!=null){let r=OA(e.Grantee,t).withName("Grantee");r.addAttribute("xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),n.addChildNode(r)}if(e.Permission!=null){let r=h.of("Permission",e.Permission).withName("Permission");n.addChildNode(r)}return n},OA=(e,t)=>{let n=new h("Grantee");if(e.DisplayName!=null){let r=h.of("DisplayName",e.DisplayName).withName("DisplayName");n.addChildNode(r)}if(e.EmailAddress!=null){let r=h.of("EmailAddress",e.EmailAddress).withName("EmailAddress");n.addChildNode(r)}if(e.ID!=null){let r=h.of("ID",e.ID).withName("ID");n.addChildNode(r)}if(e.URI!=null){let r=h.of("URI",e.URI).withName("URI");n.addChildNode(r)}return e.Type!=null&&n.addAttribute("xsi:type",e.Type),n},FA=(e,t)=>e.filter(n=>n!=null).map(n=>T$(n,t).withName("Grant")),D$=(e,t)=>{let n=new h("IndexDocument");if(e.Suffix!=null){let r=h.of("Suffix",e.Suffix).withName("Suffix");n.addChildNode(r)}return n},MA=(e,t)=>{let n=new h("InputSerialization");if(e.CSV!=null){let r=E$(e.CSV,t).withName("CSV");n.addChildNode(r)}if(e.CompressionType!=null){let r=h.of("CompressionType",e.CompressionType).withName("CompressionType");n.addChildNode(r)}if(e.JSON!=null){let r=$$(e.JSON,t).withName("JSON");n.addChildNode(r)}if(e.Parquet!=null){let r=m2(e.Parquet,t).withName("Parquet");n.addChildNode(r)}return n},B$=(e,t)=>{let n=new h("IntelligentTieringAndOperator");if(e.Prefix!=null){let r=h.of("Prefix",e.Prefix).withName("Prefix");n.addChildNode(r)}return e.Tags!=null&&ni(e.Tags,t).map(s=>{s=s.withName("Tag"),n.addChildNode(s)}),n},VC=(e,t)=>{let n=new h("IntelligentTieringConfiguration");if(e.Id!=null){let r=h.of("IntelligentTieringId",e.Id).withName("Id");n.addChildNode(r)}if(e.Filter!=null){let r=O$(e.Filter,t).withName("Filter");n.addChildNode(r)}if(e.Status!=null){let r=h.of("IntelligentTieringStatus",e.Status).withName("Status");n.addChildNode(r)}return e.Tierings!=null&&$2(e.Tierings,t).map(s=>{s=s.withName("Tiering"),n.addChildNode(s)}),n},O$=(e,t)=>{let n=new h("IntelligentTieringFilter");if(e.Prefix!=null){let r=h.of("Prefix",e.Prefix).withName("Prefix");n.addChildNode(r)}if(e.Tag!=null){let r=ti(e.Tag,t).withName("Tag");n.addChildNode(r)}if(e.And!=null){let r=B$(e.And,t).withName("And");n.addChildNode(r)}return n},WC=(e,t)=>{let n=new h("InventoryConfiguration");if(e.Destination!=null){let r=F$(e.Destination,t).withName("Destination");n.addChildNode(r)}if(e.IsEnabled!=null){let r=h.of("IsEnabled",String(e.IsEnabled)).withName("IsEnabled");n.addChildNode(r)}if(e.Filter!=null){let r=L$(e.Filter,t).withName("Filter");n.addChildNode(r)}if(e.Id!=null){let r=h.of("InventoryId",e.Id).withName("Id");n.addChildNode(r)}if(e.IncludedObjectVersions!=null){let r=h.of("InventoryIncludedObjectVersions",e.IncludedObjectVersions).withName("IncludedObjectVersions");n.addChildNode(r)}if(e.OptionalFields!=null){let r=U$(e.OptionalFields,t),s=new h("OptionalFields");r.map(o=>{s.addChildNode(o)}),n.addChildNode(s)}if(e.Schedule!=null){let r=q$(e.Schedule,t).withName("Schedule");n.addChildNode(r)}return n},F$=(e,t)=>{let n=new h("InventoryDestination");if(e.S3BucketDestination!=null){let r=z$(e.S3BucketDestination,t).withName("S3BucketDestination");n.addChildNode(r)}return n},M$=(e,t)=>{let n=new h("InventoryEncryption");if(e.SSES3!=null){let r=F2(e.SSES3,t).withName("SSE-S3");n.addChildNode(r)}if(e.SSEKMS!=null){let r=B2(e.SSEKMS,t).withName("SSE-KMS");n.addChildNode(r)}return n},L$=(e,t)=>{let n=new h("InventoryFilter");if(e.Prefix!=null){let r=h.of("Prefix",e.Prefix).withName("Prefix");n.addChildNode(r)}return n},U$=(e,t)=>e.filter(n=>n!=null).map(n=>h.of("InventoryOptionalField",n).withName("Field")),z$=(e,t)=>{let n=new h("InventoryS3BucketDestination");if(e.AccountId!=null){let r=h.of("AccountId",e.AccountId).withName("AccountId");n.addChildNode(r)}if(e.Bucket!=null){let r=h.of("BucketName",e.Bucket).withName("Bucket");n.addChildNode(r)}if(e.Format!=null){let r=h.of("InventoryFormat",e.Format).withName("Format");n.addChildNode(r)}if(e.Prefix!=null){let r=h.of("Prefix",e.Prefix).withName("Prefix");n.addChildNode(r)}if(e.Encryption!=null){let r=M$(e.Encryption,t).withName("Encryption");n.addChildNode(r)}return n},q$=(e,t)=>{let n=new h("InventorySchedule");if(e.Frequency!=null){let r=h.of("InventoryFrequency",e.Frequency).withName("Frequency");n.addChildNode(r)}return n},$$=(e,t)=>{let n=new h("JSONInput");if(e.Type!=null){let r=h.of("JSONType",e.Type).withName("Type");n.addChildNode(r)}return n},G$=(e,t)=>{let n=new h("JSONOutput");if(e.RecordDelimiter!=null){let r=h.of("RecordDelimiter",e.RecordDelimiter).withName("RecordDelimiter");n.addChildNode(r)}return n},j$=(e,t)=>{let n=new h("LambdaFunctionConfiguration");if(e.Id!=null){let r=h.of("NotificationId",e.Id).withName("Id");n.addChildNode(r)}if(e.LambdaFunctionArn!=null){let r=h.of("LambdaFunctionArn",e.LambdaFunctionArn).withName("CloudFunction");n.addChildNode(r)}if(e.Events!=null&&Gh(e.Events,t).map(s=>{s=s.withName("Event"),n.addChildNode(s)}),e.Filter!=null){let r=jh(e.Filter,t).withName("Filter");n.addChildNode(r)}return n},H$=(e,t)=>e.filter(n=>n!=null).map(n=>j$(n,t).withName("member")),K$=(e,t)=>{let n=new h("LifecycleExpiration");if(e.Date!=null){let r=h.of("Date",(e.Date.toISOString().split(".")[0]+"Z").toString()).withName("Date");n.addChildNode(r)}if(e.Days!=null){let r=h.of("Days",String(e.Days)).withName("Days");n.addChildNode(r)}if(e.ExpiredObjectDeleteMarker!=null){let r=h.of("ExpiredObjectDeleteMarker",String(e.ExpiredObjectDeleteMarker)).withName("ExpiredObjectDeleteMarker");n.addChildNode(r)}return n},V$=(e,t)=>{let n=new h("LifecycleRule");if(e.Expiration!=null){let r=K$(e.Expiration,t).withName("Expiration");n.addChildNode(r)}if(e.ID!=null){let r=h.of("ID",e.ID).withName("ID");n.addChildNode(r)}if(e.Prefix!=null){let r=h.of("Prefix",e.Prefix).withName("Prefix");n.addChildNode(r)}if(e.Filter!=null){let r=Y$(e.Filter,t).withName("Filter");n.addChildNode(r)}if(e.Status!=null){let r=h.of("ExpirationStatus",e.Status).withName("Status");n.addChildNode(r)}if(e.Transitions!=null&&K2(e.Transitions,t).map(s=>{s=s.withName("Transition"),n.addChildNode(s)}),e.NoncurrentVersionTransitions!=null&&s2(e.NoncurrentVersionTransitions,t).map(s=>{s=s.withName("NoncurrentVersionTransition"),n.addChildNode(s)}),e.NoncurrentVersionExpiration!=null){let r=n2(e.NoncurrentVersionExpiration,t).withName("NoncurrentVersionExpiration");n.addChildNode(r)}if(e.AbortIncompleteMultipartUpload!=null){let r=s$(e.AbortIncompleteMultipartUpload,t).withName("AbortIncompleteMultipartUpload");n.addChildNode(r)}return n},W$=(e,t)=>{let n=new h("LifecycleRuleAndOperator");if(e.Prefix!=null){let r=h.of("Prefix",e.Prefix).withName("Prefix");n.addChildNode(r)}if(e.Tags!=null&&ni(e.Tags,t).map(s=>{s=s.withName("Tag"),n.addChildNode(s)}),e.ObjectSizeGreaterThan!=null){let r=h.of("ObjectSizeGreaterThanBytes",String(e.ObjectSizeGreaterThan)).withName("ObjectSizeGreaterThan");n.addChildNode(r)}if(e.ObjectSizeLessThan!=null){let r=h.of("ObjectSizeLessThanBytes",String(e.ObjectSizeLessThan)).withName("ObjectSizeLessThan");n.addChildNode(r)}return n},Y$=(e,t)=>{let n=new h("LifecycleRuleFilter");return $l.visit(e,{Prefix:r=>{let s=h.of("Prefix",r).withName("Prefix");n.addChildNode(s)},Tag:r=>{let s=ti(r,t).withName("Tag");n.addChildNode(s)},ObjectSizeGreaterThan:r=>{let s=h.of("ObjectSizeGreaterThanBytes",String(r)).withName("ObjectSizeGreaterThan");n.addChildNode(s)},ObjectSizeLessThan:r=>{let s=h.of("ObjectSizeLessThanBytes",String(r)).withName("ObjectSizeLessThan");n.addChildNode(s)},And:r=>{let s=W$(r,t).withName("And");n.addChildNode(s)},_:(r,s)=>{if(!(s instanceof h||s instanceof ur))throw new Error("Unable to serialize unknown union members in XML.");n.addChildNode(new h(r).addChildNode(s))}}),n},X$=(e,t)=>e.filter(n=>n!=null).map(n=>V$(n,t).withName("member")),Q$=(e,t)=>{let n=new h("LoggingEnabled");if(e.TargetBucket!=null){let r=h.of("TargetBucket",e.TargetBucket).withName("TargetBucket");n.addChildNode(r)}if(e.TargetGrants!=null){let r=z2(e.TargetGrants,t),s=new h("TargetGrants");r.map(o=>{s.addChildNode(o)}),n.addChildNode(s)}if(e.TargetPrefix!=null){let r=h.of("TargetPrefix",e.TargetPrefix).withName("TargetPrefix");n.addChildNode(r)}return n},Z$=(e,t)=>{let n=new h("MetadataEntry");if(e.Name!=null){let r=h.of("MetadataKey",e.Name).withName("Name");n.addChildNode(r)}if(e.Value!=null){let r=h.of("MetadataValue",e.Value).withName("Value");n.addChildNode(r)}return n},J$=(e,t)=>{let n=new h("Metrics");if(e.Status!=null){let r=h.of("MetricsStatus",e.Status).withName("Status");n.addChildNode(r)}if(e.EventThreshold!=null){let r=UA(e.EventThreshold,t).withName("EventThreshold");n.addChildNode(r)}return n},e2=(e,t)=>{let n=new h("MetricsAndOperator");if(e.Prefix!=null){let r=h.of("Prefix",e.Prefix).withName("Prefix");n.addChildNode(r)}if(e.Tags!=null&&ni(e.Tags,t).map(s=>{s=s.withName("Tag"),n.addChildNode(s)}),e.AccessPointArn!=null){let r=h.of("AccessPointArn",e.AccessPointArn).withName("AccessPointArn");n.addChildNode(r)}return n},YC=(e,t)=>{let n=new h("MetricsConfiguration");if(e.Id!=null){let r=h.of("MetricsId",e.Id).withName("Id");n.addChildNode(r)}if(e.Filter!=null){let r=t2(e.Filter,t).withName("Filter");n.addChildNode(r)}return n},t2=(e,t)=>{let n=new h("MetricsFilter");return Gl.visit(e,{Prefix:r=>{let s=h.of("Prefix",r).withName("Prefix");n.addChildNode(s)},Tag:r=>{let s=ti(r,t).withName("Tag");n.addChildNode(s)},AccessPointArn:r=>{let s=h.of("AccessPointArn",r).withName("AccessPointArn");n.addChildNode(s)},And:r=>{let s=e2(r,t).withName("And");n.addChildNode(s)},_:(r,s)=>{if(!(s instanceof h||s instanceof ur))throw new Error("Unable to serialize unknown union members in XML.");n.addChildNode(new h(r).addChildNode(s))}}),n},n2=(e,t)=>{let n=new h("NoncurrentVersionExpiration");if(e.NoncurrentDays!=null){let r=h.of("Days",String(e.NoncurrentDays)).withName("NoncurrentDays");n.addChildNode(r)}if(e.NewerNoncurrentVersions!=null){let r=h.of("VersionCount",String(e.NewerNoncurrentVersions)).withName("NewerNoncurrentVersions");n.addChildNode(r)}return n},r2=(e,t)=>{let n=new h("NoncurrentVersionTransition");if(e.NoncurrentDays!=null){let r=h.of("Days",String(e.NoncurrentDays)).withName("NoncurrentDays");n.addChildNode(r)}if(e.StorageClass!=null){let r=h.of("TransitionStorageClass",e.StorageClass).withName("StorageClass");n.addChildNode(r)}if(e.NewerNoncurrentVersions!=null){let r=h.of("VersionCount",String(e.NewerNoncurrentVersions)).withName("NewerNoncurrentVersions");n.addChildNode(r)}return n},s2=(e,t)=>e.filter(n=>n!=null).map(n=>r2(n,t).withName("member")),XC=(e,t)=>{let n=new h("NotificationConfiguration");if(e.TopicConfigurations!=null&&j2(e.TopicConfigurations,t).map(s=>{s=s.withName("TopicConfiguration"),n.addChildNode(s)}),e.QueueConfigurations!=null&&h2(e.QueueConfigurations,t).map(s=>{s=s.withName("QueueConfiguration"),n.addChildNode(s)}),e.LambdaFunctionConfigurations!=null&&H$(e.LambdaFunctionConfigurations,t).map(s=>{s=s.withName("CloudFunctionConfiguration"),n.addChildNode(s)}),e.EventBridgeConfiguration!=null){let r=A$(e.EventBridgeConfiguration,t).withName("EventBridgeConfiguration");n.addChildNode(r)}return n},jh=(e,t)=>{let n=new h("NotificationConfigurationFilter");if(e.Key!=null){let r=A2(e.Key,t).withName("S3Key");n.addChildNode(r)}return n},o2=(e,t)=>{let n=new h("ObjectIdentifier");if(e.Key!=null){let r=h.of("ObjectKey",e.Key).withName("Key");n.addChildNode(r)}if(e.VersionId!=null){let r=h.of("ObjectVersionId",e.VersionId).withName("VersionId");n.addChildNode(r)}return n},i2=(e,t)=>e.filter(n=>n!=null).map(n=>o2(n,t).withName("member")),QC=(e,t)=>{let n=new h("ObjectLockConfiguration");if(e.ObjectLockEnabled!=null){let r=h.of("ObjectLockEnabled",e.ObjectLockEnabled).withName("ObjectLockEnabled");n.addChildNode(r)}if(e.Rule!=null){let r=a2(e.Rule,t).withName("Rule");n.addChildNode(r)}return n},ZC=(e,t)=>{let n=new h("ObjectLockLegalHold");if(e.Status!=null){let r=h.of("ObjectLockLegalHoldStatus",e.Status).withName("Status");n.addChildNode(r)}return n},JC=(e,t)=>{let n=new h("ObjectLockRetention");if(e.Mode!=null){let r=h.of("ObjectLockRetentionMode",e.Mode).withName("Mode");n.addChildNode(r)}if(e.RetainUntilDate!=null){let r=h.of("Date",(e.RetainUntilDate.toISOString().split(".")[0]+"Z").toString()).withName("RetainUntilDate");n.addChildNode(r)}return n},a2=(e,t)=>{let n=new h("ObjectLockRule");if(e.DefaultRetention!=null){let r=x$(e.DefaultRetention,t).withName("DefaultRetention");n.addChildNode(r)}return n},c2=(e,t)=>{let n=new h("OutputLocation");if(e.S3!=null){let r=k2(e.S3,t).withName("S3");n.addChildNode(r)}return n},LA=(e,t)=>{let n=new h("OutputSerialization");if(e.CSV!=null){let r=S$(e.CSV,t).withName("CSV");n.addChildNode(r)}if(e.JSON!=null){let r=G$(e.JSON,t).withName("JSON");n.addChildNode(r)}return n},d2=(e,t)=>{let n=new h("Owner");if(e.DisplayName!=null){let r=h.of("DisplayName",e.DisplayName).withName("DisplayName");n.addChildNode(r)}if(e.ID!=null){let r=h.of("ID",e.ID).withName("ID");n.addChildNode(r)}return n},eb=(e,t)=>{let n=new h("OwnershipControls");return e.Rules!=null&&u2(e.Rules,t).map(s=>{s=s.withName("Rule"),n.addChildNode(s)}),n},l2=(e,t)=>{let n=new h("OwnershipControlsRule");if(e.ObjectOwnership!=null){let r=h.of("ObjectOwnership",e.ObjectOwnership).withName("ObjectOwnership");n.addChildNode(r)}return n},u2=(e,t)=>e.filter(n=>n!=null).map(n=>l2(n,t).withName("member")),m2=(e,t)=>new h("ParquetInput"),tb=(e,t)=>{let n=new h("PublicAccessBlockConfiguration");if(e.BlockPublicAcls!=null){let r=h.of("Setting",String(e.BlockPublicAcls)).withName("BlockPublicAcls");n.addChildNode(r)}if(e.IgnorePublicAcls!=null){let r=h.of("Setting",String(e.IgnorePublicAcls)).withName("IgnorePublicAcls");n.addChildNode(r)}if(e.BlockPublicPolicy!=null){let r=h.of("Setting",String(e.BlockPublicPolicy)).withName("BlockPublicPolicy");n.addChildNode(r)}if(e.RestrictPublicBuckets!=null){let r=h.of("Setting",String(e.RestrictPublicBuckets)).withName("RestrictPublicBuckets");n.addChildNode(r)}return n},f2=(e,t)=>{let n=new h("QueueConfiguration");if(e.Id!=null){let r=h.of("NotificationId",e.Id).withName("Id");n.addChildNode(r)}if(e.QueueArn!=null){let r=h.of("QueueArn",e.QueueArn).withName("Queue");n.addChildNode(r)}if(e.Events!=null&&Gh(e.Events,t).map(s=>{s=s.withName("Event"),n.addChildNode(s)}),e.Filter!=null){let r=jh(e.Filter,t).withName("Filter");n.addChildNode(r)}return n},h2=(e,t)=>e.filter(n=>n!=null).map(n=>f2(n,t).withName("member")),p2=(e,t)=>{let n=new h("Redirect");if(e.HostName!=null){let r=h.of("HostName",e.HostName).withName("HostName");n.addChildNode(r)}if(e.HttpRedirectCode!=null){let r=h.of("HttpRedirectCode",e.HttpRedirectCode).withName("HttpRedirectCode");n.addChildNode(r)}if(e.Protocol!=null){let r=h.of("Protocol",e.Protocol).withName("Protocol");n.addChildNode(r)}if(e.ReplaceKeyPrefixWith!=null){let r=h.of("ReplaceKeyPrefixWith",e.ReplaceKeyPrefixWith).withName("ReplaceKeyPrefixWith");n.addChildNode(r)}if(e.ReplaceKeyWith!=null){let r=h.of("ReplaceKeyWith",e.ReplaceKeyWith).withName("ReplaceKeyWith");n.addChildNode(r)}return n},y2=(e,t)=>{let n=new h("RedirectAllRequestsTo");if(e.HostName!=null){let r=h.of("HostName",e.HostName).withName("HostName");n.addChildNode(r)}if(e.Protocol!=null){let r=h.of("Protocol",e.Protocol).withName("Protocol");n.addChildNode(r)}return n},g2=(e,t)=>{let n=new h("ReplicaModifications");if(e.Status!=null){let r=h.of("ReplicaModificationsStatus",e.Status).withName("Status");n.addChildNode(r)}return n},nb=(e,t)=>{let n=new h("ReplicationConfiguration");if(e.Role!=null){let r=h.of("Role",e.Role).withName("Role");n.addChildNode(r)}return e.Rules!=null&&w2(e.Rules,t).map(s=>{s=s.withName("Rule"),n.addChildNode(s)}),n},E2=(e,t)=>{let n=new h("ReplicationRule");if(e.ID!=null){let r=h.of("ID",e.ID).withName("ID");n.addChildNode(r)}if(e.Priority!=null){let r=h.of("Priority",String(e.Priority)).withName("Priority");n.addChildNode(r)}if(e.Prefix!=null){let r=h.of("Prefix",e.Prefix).withName("Prefix");n.addChildNode(r)}if(e.Filter!=null){let r=x2(e.Filter,t).withName("Filter");n.addChildNode(r)}if(e.Status!=null){let r=h.of("ReplicationRuleStatus",e.Status).withName("Status");n.addChildNode(r)}if(e.SourceSelectionCriteria!=null){let r=D2(e.SourceSelectionCriteria,t).withName("SourceSelectionCriteria");n.addChildNode(r)}if(e.ExistingObjectReplication!=null){let r=k$(e.ExistingObjectReplication,t).withName("ExistingObjectReplication");n.addChildNode(r)}if(e.Destination!=null){let r=C$(e.Destination,t).withName("Destination");n.addChildNode(r)}if(e.DeleteMarkerReplication!=null){let r=w$(e.DeleteMarkerReplication,t).withName("DeleteMarkerReplication");n.addChildNode(r)}return n},S2=(e,t)=>{let n=new h("ReplicationRuleAndOperator");if(e.Prefix!=null){let r=h.of("Prefix",e.Prefix).withName("Prefix");n.addChildNode(r)}return e.Tags!=null&&ni(e.Tags,t).map(s=>{s=s.withName("Tag"),n.addChildNode(s)}),n},x2=(e,t)=>{let n=new h("ReplicationRuleFilter");return jl.visit(e,{Prefix:r=>{let s=h.of("Prefix",r).withName("Prefix");n.addChildNode(s)},Tag:r=>{let s=ti(r,t).withName("Tag");n.addChildNode(s)},And:r=>{let s=S2(r,t).withName("And");n.addChildNode(s)},_:(r,s)=>{if(!(s instanceof h||s instanceof ur))throw new Error("Unable to serialize unknown union members in XML.");n.addChildNode(new h(r).addChildNode(s))}}),n},w2=(e,t)=>e.filter(n=>n!=null).map(n=>E2(n,t).withName("member")),C2=(e,t)=>{let n=new h("ReplicationTime");if(e.Status!=null){let r=h.of("ReplicationTimeStatus",e.Status).withName("Status");n.addChildNode(r)}if(e.Time!=null){let r=UA(e.Time,t).withName("Time");n.addChildNode(r)}return n},UA=(e,t)=>{let n=new h("ReplicationTimeValue");if(e.Minutes!=null){let r=h.of("Minutes",String(e.Minutes)).withName("Minutes");n.addChildNode(r)}return n},rb=(e,t)=>{let n=new h("RequestPaymentConfiguration");if(e.Payer!=null){let r=h.of("Payer",e.Payer).withName("Payer");n.addChildNode(r)}return n},b2=(e,t)=>{let n=new h("RequestProgress");if(e.Enabled!=null){let r=h.of("EnableRequestProgress",String(e.Enabled)).withName("Enabled");n.addChildNode(r)}return n},sb=(e,t)=>{let n=new h("RestoreRequest");if(e.Days!=null){let r=h.of("Days",String(e.Days)).withName("Days");n.addChildNode(r)}if(e.GlacierJobParameters!=null){let r=v$(e.GlacierJobParameters,t).withName("GlacierJobParameters");n.addChildNode(r)}if(e.Type!=null){let r=h.of("RestoreRequestType",e.Type).withName("Type");n.addChildNode(r)}if(e.Tier!=null){let r=h.of("Tier",e.Tier).withName("Tier");n.addChildNode(r)}if(e.Description!=null){let r=h.of("Description",e.Description).withName("Description");n.addChildNode(r)}if(e.SelectParameters!=null){let r=I2(e.SelectParameters,t).withName("SelectParameters");n.addChildNode(r)}if(e.OutputLocation!=null){let r=c2(e.OutputLocation,t).withName("OutputLocation");n.addChildNode(r)}return n},P2=(e,t)=>{let n=new h("RoutingRule");if(e.Condition!=null){let r=p$(e.Condition,t).withName("Condition");n.addChildNode(r)}if(e.Redirect!=null){let r=p2(e.Redirect,t).withName("Redirect");n.addChildNode(r)}return n},_2=(e,t)=>e.filter(n=>n!=null).map(n=>P2(n,t).withName("RoutingRule")),A2=(e,t)=>{let n=new h("S3KeyFilter");return e.FilterRules!=null&&N$(e.FilterRules,t).map(s=>{s=s.withName("FilterRule"),n.addChildNode(s)}),n},k2=(e,t)=>{let n=new h("S3Location");if(e.BucketName!=null){let r=h.of("BucketName",e.BucketName).withName("BucketName");n.addChildNode(r)}if(e.Prefix!=null){let r=h.of("LocationPrefix",e.Prefix).withName("Prefix");n.addChildNode(r)}if(e.Encryption!=null){let r=b$(e.Encryption,t).withName("Encryption");n.addChildNode(r)}if(e.CannedACL!=null){let r=h.of("ObjectCannedACL",e.CannedACL).withName("CannedACL");n.addChildNode(r)}if(e.AccessControlList!=null){let r=FA(e.AccessControlList,t),s=new h("AccessControlList");r.map(o=>{s.addChildNode(o)}),n.addChildNode(s)}if(e.Tagging!=null){let r=gd(e.Tagging,t).withName("Tagging");n.addChildNode(r)}if(e.UserMetadata!=null){let r=V2(e.UserMetadata,t),s=new h("UserMetadata");r.map(o=>{s.addChildNode(o)}),n.addChildNode(s)}if(e.StorageClass!=null){let r=h.of("StorageClass",e.StorageClass).withName("StorageClass");n.addChildNode(r)}return n},R2=(e,t)=>{let n=new h("ScanRange");if(e.Start!=null){let r=h.of("Start",String(e.Start)).withName("Start");n.addChildNode(r)}if(e.End!=null){let r=h.of("End",String(e.End)).withName("End");n.addChildNode(r)}return n},I2=(e,t)=>{let n=new h("SelectParameters");if(e.InputSerialization!=null){let r=MA(e.InputSerialization,t).withName("InputSerialization");n.addChildNode(r)}if(e.ExpressionType!=null){let r=h.of("ExpressionType",e.ExpressionType).withName("ExpressionType");n.addChildNode(r)}if(e.Expression!=null){let r=h.of("Expression",e.Expression).withName("Expression");n.addChildNode(r)}if(e.OutputSerialization!=null){let r=LA(e.OutputSerialization,t).withName("OutputSerialization");n.addChildNode(r)}return n},N2=(e,t)=>{let n=new h("ServerSideEncryptionByDefault");if(e.SSEAlgorithm!=null){let r=h.of("ServerSideEncryption",e.SSEAlgorithm).withName("SSEAlgorithm");n.addChildNode(r)}if(e.KMSMasterKeyID!=null){let r=h.of("SSEKMSKeyId",e.KMSMasterKeyID).withName("KMSMasterKeyID");n.addChildNode(r)}return n},ob=(e,t)=>{let n=new h("ServerSideEncryptionConfiguration");return e.Rules!=null&&T2(e.Rules,t).map(s=>{s=s.withName("Rule"),n.addChildNode(s)}),n},v2=(e,t)=>{let n=new h("ServerSideEncryptionRule");if(e.ApplyServerSideEncryptionByDefault!=null){let r=N2(e.ApplyServerSideEncryptionByDefault,t).withName("ApplyServerSideEncryptionByDefault");n.addChildNode(r)}if(e.BucketKeyEnabled!=null){let r=h.of("BucketKeyEnabled",String(e.BucketKeyEnabled)).withName("BucketKeyEnabled");n.addChildNode(r)}return n},T2=(e,t)=>e.filter(n=>n!=null).map(n=>v2(n,t).withName("member")),D2=(e,t)=>{let n=new h("SourceSelectionCriteria");if(e.SseKmsEncryptedObjects!=null){let r=O2(e.SseKmsEncryptedObjects,t).withName("SseKmsEncryptedObjects");n.addChildNode(r)}if(e.ReplicaModifications!=null){let r=g2(e.ReplicaModifications,t).withName("ReplicaModifications");n.addChildNode(r)}return n},B2=(e,t)=>{let n=new h("SSE-KMS");if(e.KeyId!=null){let r=h.of("SSEKMSKeyId",e.KeyId).withName("KeyId");n.addChildNode(r)}return n},O2=(e,t)=>{let n=new h("SseKmsEncryptedObjects");if(e.Status!=null){let r=h.of("SseKmsEncryptedObjectsStatus",e.Status).withName("Status");n.addChildNode(r)}return n},F2=(e,t)=>new h("SSE-S3"),M2=(e,t)=>{let n=new h("StorageClassAnalysis");if(e.DataExport!=null){let r=L2(e.DataExport,t).withName("DataExport");n.addChildNode(r)}return n},L2=(e,t)=>{let n=new h("StorageClassAnalysisDataExport");if(e.OutputSchemaVersion!=null){let r=h.of("StorageClassAnalysisSchemaVersion",e.OutputSchemaVersion).withName("OutputSchemaVersion");n.addChildNode(r)}if(e.Destination!=null){let r=l$(e.Destination,t).withName("Destination");n.addChildNode(r)}return n},ti=(e,t)=>{let n=new h("Tag");if(e.Key!=null){let r=h.of("ObjectKey",e.Key).withName("Key");n.addChildNode(r)}if(e.Value!=null){let r=h.of("Value",e.Value).withName("Value");n.addChildNode(r)}return n},gd=(e,t)=>{let n=new h("Tagging");if(e.TagSet!=null){let r=ni(e.TagSet,t),s=new h("TagSet");r.map(o=>{s.addChildNode(o)}),n.addChildNode(s)}return n},ni=(e,t)=>e.filter(n=>n!=null).map(n=>ti(n,t).withName("Tag")),U2=(e,t)=>{let n=new h("TargetGrant");if(e.Grantee!=null){let r=OA(e.Grantee,t).withName("Grantee");r.addAttribute("xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),n.addChildNode(r)}if(e.Permission!=null){let r=h.of("BucketLogsPermission",e.Permission).withName("Permission");n.addChildNode(r)}return n},z2=(e,t)=>e.filter(n=>n!=null).map(n=>U2(n,t).withName("Grant")),q2=(e,t)=>{let n=new h("Tiering");if(e.Days!=null){let r=h.of("IntelligentTieringDays",String(e.Days)).withName("Days");n.addChildNode(r)}if(e.AccessTier!=null){let r=h.of("IntelligentTieringAccessTier",e.AccessTier).withName("AccessTier");n.addChildNode(r)}return n},$2=(e,t)=>e.filter(n=>n!=null).map(n=>q2(n,t).withName("member")),G2=(e,t)=>{let n=new h("TopicConfiguration");if(e.Id!=null){let r=h.of("NotificationId",e.Id).withName("Id");n.addChildNode(r)}if(e.TopicArn!=null){let r=h.of("TopicArn",e.TopicArn).withName("Topic");n.addChildNode(r)}if(e.Events!=null&&Gh(e.Events,t).map(s=>{s=s.withName("Event"),n.addChildNode(s)}),e.Filter!=null){let r=jh(e.Filter,t).withName("Filter");n.addChildNode(r)}return n},j2=(e,t)=>e.filter(n=>n!=null).map(n=>G2(n,t).withName("member")),H2=(e,t)=>{let n=new h("Transition");if(e.Date!=null){let r=h.of("Date",(e.Date.toISOString().split(".")[0]+"Z").toString()).withName("Date");n.addChildNode(r)}if(e.Days!=null){let r=h.of("Days",String(e.Days)).withName("Days");n.addChildNode(r)}if(e.StorageClass!=null){let r=h.of("TransitionStorageClass",e.StorageClass).withName("StorageClass");n.addChildNode(r)}return n},K2=(e,t)=>e.filter(n=>n!=null).map(n=>H2(n,t).withName("member")),V2=(e,t)=>e.filter(n=>n!=null).map(n=>Z$(n,t).withName("MetadataEntry")),ib=(e,t)=>{let n=new h("VersioningConfiguration");if(e.MFADelete!=null){let r=h.of("MFADelete",e.MFADelete).withName("MfaDelete");n.addChildNode(r)}if(e.Status!=null){let r=h.of("BucketVersioningStatus",e.Status).withName("Status");n.addChildNode(r)}return n},ab=(e,t)=>{let n=new h("WebsiteConfiguration");if(e.ErrorDocument!=null){let r=_$(e.ErrorDocument,t).withName("ErrorDocument");n.addChildNode(r)}if(e.IndexDocument!=null){let r=D$(e.IndexDocument,t).withName("IndexDocument");n.addChildNode(r)}if(e.RedirectAllRequestsTo!=null){let r=y2(e.RedirectAllRequestsTo,t).withName("RedirectAllRequestsTo");n.addChildNode(r)}if(e.RoutingRules!=null){let r=_2(e.RoutingRules,t),s=new h("RoutingRules");r.map(o=>{s.addChildNode(o)}),n.addChildNode(s)}return n},W2=(e,t)=>{let n={};return e.DaysAfterInitiation!==void 0&&(n.DaysAfterInitiation=Ie(e.DaysAfterInitiation)),n},Y2=(e,t)=>{let n={};return e.Owner!==void 0&&(n.Owner=y(e.Owner)),n},X2=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>y(n)),Q2=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>y(n)),Z2=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>y(n)),J2=(e,t)=>{let n={};return e.Prefix!==void 0&&(n.Prefix=y(e.Prefix)),e.Tag===""?n.Tags=[]:e.Tag!==void 0&&(n.Tags=eo(te(e.Tag),t)),n},zA=(e,t)=>{let n={};return e.Id!==void 0&&(n.Id=y(e.Id)),e.Filter===""||e.Filter!==void 0&&(n.Filter=nG(ld(e.Filter),t)),e.StorageClassAnalysis!==void 0&&(n.StorageClassAnalysis=Vj(e.StorageClassAnalysis,t)),n},eG=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>zA(n,t)),tG=(e,t)=>{let n={};return e.S3BucketDestination!==void 0&&(n.S3BucketDestination=rG(e.S3BucketDestination,t)),n},nG=(e,t)=>e.Prefix!==void 0?{Prefix:y(e.Prefix)}:e.Tag!==void 0?{Tag:ri(e.Tag,t)}:e.And!==void 0?{And:J2(e.And,t)}:{$unknown:Object.entries(e)[0]},rG=(e,t)=>{let n={};return e.Format!==void 0&&(n.Format=y(e.Format)),e.BucketAccountId!==void 0&&(n.BucketAccountId=y(e.BucketAccountId)),e.Bucket!==void 0&&(n.Bucket=y(e.Bucket)),e.Prefix!==void 0&&(n.Prefix=y(e.Prefix)),n},sG=(e,t)=>{let n={};return e.Name!==void 0&&(n.Name=y(e.Name)),e.CreationDate!==void 0&&(n.CreationDate=W(_t(e.CreationDate))),n},oG=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>sG(n,t)),iG=(e,t)=>{let n={};return e.ChecksumCRC32!==void 0&&(n.ChecksumCRC32=y(e.ChecksumCRC32)),e.ChecksumCRC32C!==void 0&&(n.ChecksumCRC32C=y(e.ChecksumCRC32C)),e.ChecksumSHA1!==void 0&&(n.ChecksumSHA1=y(e.ChecksumSHA1)),e.ChecksumSHA256!==void 0&&(n.ChecksumSHA256=y(e.ChecksumSHA256)),n},qA=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>y(n)),aG=(e,t)=>{let n={};return e.Prefix!==void 0&&(n.Prefix=y(e.Prefix)),n},Vl=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>aG(n,t)),cG=(e,t)=>{let n={};return e.HttpErrorCodeReturnedEquals!==void 0&&(n.HttpErrorCodeReturnedEquals=y(e.HttpErrorCodeReturnedEquals)),e.KeyPrefixEquals!==void 0&&(n.KeyPrefixEquals=y(e.KeyPrefixEquals)),n},dG=(e,t)=>({}),lG=(e,t)=>{let n={};return e.ETag!==void 0&&(n.ETag=y(e.ETag)),e.LastModified!==void 0&&(n.LastModified=W(_t(e.LastModified))),e.ChecksumCRC32!==void 0&&(n.ChecksumCRC32=y(e.ChecksumCRC32)),e.ChecksumCRC32C!==void 0&&(n.ChecksumCRC32C=y(e.ChecksumCRC32C)),e.ChecksumSHA1!==void 0&&(n.ChecksumSHA1=y(e.ChecksumSHA1)),e.ChecksumSHA256!==void 0&&(n.ChecksumSHA256=y(e.ChecksumSHA256)),n},uG=(e,t)=>{let n={};return e.ETag!==void 0&&(n.ETag=y(e.ETag)),e.LastModified!==void 0&&(n.LastModified=W(_t(e.LastModified))),e.ChecksumCRC32!==void 0&&(n.ChecksumCRC32=y(e.ChecksumCRC32)),e.ChecksumCRC32C!==void 0&&(n.ChecksumCRC32C=y(e.ChecksumCRC32C)),e.ChecksumSHA1!==void 0&&(n.ChecksumSHA1=y(e.ChecksumSHA1)),e.ChecksumSHA256!==void 0&&(n.ChecksumSHA256=y(e.ChecksumSHA256)),n},mG=(e,t)=>{let n={};return e.ID!==void 0&&(n.ID=y(e.ID)),e.AllowedHeader===""?n.AllowedHeaders=[]:e.AllowedHeader!==void 0&&(n.AllowedHeaders=X2(te(e.AllowedHeader),t)),e.AllowedMethod===""?n.AllowedMethods=[]:e.AllowedMethod!==void 0&&(n.AllowedMethods=Q2(te(e.AllowedMethod),t)),e.AllowedOrigin===""?n.AllowedOrigins=[]:e.AllowedOrigin!==void 0&&(n.AllowedOrigins=Z2(te(e.AllowedOrigin),t)),e.ExposeHeader===""?n.ExposeHeaders=[]:e.ExposeHeader!==void 0&&(n.ExposeHeaders=RG(te(e.ExposeHeader),t)),e.MaxAgeSeconds!==void 0&&(n.MaxAgeSeconds=Ie(e.MaxAgeSeconds)),n},fG=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>mG(n,t)),hG=(e,t)=>{let n={};return e.Mode!==void 0&&(n.Mode=y(e.Mode)),e.Days!==void 0&&(n.Days=Ie(e.Days)),e.Years!==void 0&&(n.Years=Ie(e.Years)),n},pG=(e,t)=>{let n={};return e.Key!==void 0&&(n.Key=y(e.Key)),e.VersionId!==void 0&&(n.VersionId=y(e.VersionId)),e.DeleteMarker!==void 0&&(n.DeleteMarker=_e(e.DeleteMarker)),e.DeleteMarkerVersionId!==void 0&&(n.DeleteMarkerVersionId=y(e.DeleteMarkerVersionId)),n},yG=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>pG(n,t)),gG=(e,t)=>{let n={};return e.Owner!==void 0&&(n.Owner=Jr(e.Owner,t)),e.Key!==void 0&&(n.Key=y(e.Key)),e.VersionId!==void 0&&(n.VersionId=y(e.VersionId)),e.IsLatest!==void 0&&(n.IsLatest=_e(e.IsLatest)),e.LastModified!==void 0&&(n.LastModified=W(_t(e.LastModified))),n},EG=(e,t)=>{let n={};return e.Status!==void 0&&(n.Status=y(e.Status)),n},SG=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>gG(n,t)),xG=(e,t)=>{let n={};return e.Bucket!==void 0&&(n.Bucket=y(e.Bucket)),e.Account!==void 0&&(n.Account=y(e.Account)),e.StorageClass!==void 0&&(n.StorageClass=y(e.StorageClass)),e.AccessControlTranslation!==void 0&&(n.AccessControlTranslation=Y2(e.AccessControlTranslation,t)),e.EncryptionConfiguration!==void 0&&(n.EncryptionConfiguration=wG(e.EncryptionConfiguration,t)),e.ReplicationTime!==void 0&&(n.ReplicationTime=Bj(e.ReplicationTime,t)),e.Metrics!==void 0&&(n.Metrics=ZG(e.Metrics,t)),n},wG=(e,t)=>{let n={};return e.ReplicaKmsKeyID!==void 0&&(n.ReplicaKmsKeyID=y(e.ReplicaKmsKeyID)),n},CG=(e,t)=>({}),bG=(e,t)=>{let n={};return e.Key!==void 0&&(n.Key=y(e.Key)),e.VersionId!==void 0&&(n.VersionId=y(e.VersionId)),e.Code!==void 0&&(n.Code=y(e.Code)),e.Message!==void 0&&(n.Message=y(e.Message)),n},PG=(e,t)=>{let n={};return e.Key!==void 0&&(n.Key=y(e.Key)),n},_G=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>bG(n,t)),AG=(e,t)=>({}),Hh=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>y(n)),kG=(e,t)=>{let n={};return e.Status!==void 0&&(n.Status=y(e.Status)),n},RG=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>y(n)),IG=(e,t)=>{let n={};return e.Name!==void 0&&(n.Name=y(e.Name)),e.Value!==void 0&&(n.Value=y(e.Value)),n},NG=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>IG(n,t)),vG=(e,t)=>{let n={};return e.PartsCount!==void 0&&(n.TotalPartsCount=Ie(e.PartsCount)),e.PartNumberMarker!==void 0&&(n.PartNumberMarker=y(e.PartNumberMarker)),e.NextPartNumberMarker!==void 0&&(n.NextPartNumberMarker=y(e.NextPartNumberMarker)),e.MaxParts!==void 0&&(n.MaxParts=Ie(e.MaxParts)),e.IsTruncated!==void 0&&(n.IsTruncated=_e(e.IsTruncated)),e.Part===""?n.Parts=[]:e.Part!==void 0&&(n.Parts=xj(te(e.Part),t)),n},TG=(e,t)=>{let n={};return e.Grantee!==void 0&&(n.Grantee=$A(e.Grantee,t)),e.Permission!==void 0&&(n.Permission=y(e.Permission)),n},$A=(e,t)=>{let n={};return e.DisplayName!==void 0&&(n.DisplayName=y(e.DisplayName)),e.EmailAddress!==void 0&&(n.EmailAddress=y(e.EmailAddress)),e.ID!==void 0&&(n.ID=y(e.ID)),e.URI!==void 0&&(n.URI=y(e.URI)),e["xsi:type"]!==void 0&&(n.Type=y(e["xsi:type"])),n},GA=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>TG(n,t)),DG=(e,t)=>{let n={};return e.Suffix!==void 0&&(n.Suffix=y(e.Suffix)),n},jA=(e,t)=>{let n={};return e.ID!==void 0&&(n.ID=y(e.ID)),e.DisplayName!==void 0&&(n.DisplayName=y(e.DisplayName)),n},BG=(e,t)=>{let n={};return e.Prefix!==void 0&&(n.Prefix=y(e.Prefix)),e.Tag===""?n.Tags=[]:e.Tag!==void 0&&(n.Tags=eo(te(e.Tag),t)),n},HA=(e,t)=>{let n={};return e.Id!==void 0&&(n.Id=y(e.Id)),e.Filter!==void 0&&(n.Filter=FG(e.Filter,t)),e.Status!==void 0&&(n.Status=y(e.Status)),e.Tiering===""?n.Tierings=[]:e.Tiering!==void 0&&(n.Tierings=Zj(te(e.Tiering),t)),n},OG=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>HA(n,t)),FG=(e,t)=>{let n={};return e.Prefix!==void 0&&(n.Prefix=y(e.Prefix)),e.Tag!==void 0&&(n.Tag=ri(e.Tag,t)),e.And!==void 0&&(n.And=BG(e.And,t)),n},KA=(e,t)=>{let n={};return e.Destination!==void 0&&(n.Destination=LG(e.Destination,t)),e.IsEnabled!==void 0&&(n.IsEnabled=_e(e.IsEnabled)),e.Filter!==void 0&&(n.Filter=zG(e.Filter,t)),e.Id!==void 0&&(n.Id=y(e.Id)),e.IncludedObjectVersions!==void 0&&(n.IncludedObjectVersions=y(e.IncludedObjectVersions)),e.OptionalFields===""?n.OptionalFields=[]:e.OptionalFields!==void 0&&e.OptionalFields.Field!==void 0&&(n.OptionalFields=qG(te(e.OptionalFields.Field),t)),e.Schedule!==void 0&&(n.Schedule=GG(e.Schedule,t)),n},MG=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>KA(n,t)),LG=(e,t)=>{let n={};return e.S3BucketDestination!==void 0&&(n.S3BucketDestination=$G(e.S3BucketDestination,t)),n},UG=(e,t)=>{let n={};return e["SSE-S3"]!==void 0&&(n.SSES3=Hj(e["SSE-S3"],t)),e["SSE-KMS"]!==void 0&&(n.SSEKMS=Gj(e["SSE-KMS"],t)),n},zG=(e,t)=>{let n={};return e.Prefix!==void 0&&(n.Prefix=y(e.Prefix)),n},qG=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>y(n)),$G=(e,t)=>{let n={};return e.AccountId!==void 0&&(n.AccountId=y(e.AccountId)),e.Bucket!==void 0&&(n.Bucket=y(e.Bucket)),e.Format!==void 0&&(n.Format=y(e.Format)),e.Prefix!==void 0&&(n.Prefix=y(e.Prefix)),e.Encryption!==void 0&&(n.Encryption=UG(e.Encryption,t)),n},GG=(e,t)=>{let n={};return e.Frequency!==void 0&&(n.Frequency=y(e.Frequency)),n},jG=(e,t)=>{let n={};return e.Id!==void 0&&(n.Id=y(e.Id)),e.CloudFunction!==void 0&&(n.LambdaFunctionArn=y(e.CloudFunction)),e.Event===""?n.Events=[]:e.Event!==void 0&&(n.Events=Hh(te(e.Event),t)),e.Filter!==void 0&&(n.Filter=Kh(e.Filter,t)),n},HG=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>jG(n,t)),KG=(e,t)=>{let n={};return e.Date!==void 0&&(n.Date=W(_t(e.Date))),e.Days!==void 0&&(n.Days=Ie(e.Days)),e.ExpiredObjectDeleteMarker!==void 0&&(n.ExpiredObjectDeleteMarker=_e(e.ExpiredObjectDeleteMarker)),n},VG=(e,t)=>{let n={};return e.Expiration!==void 0&&(n.Expiration=KG(e.Expiration,t)),e.ID!==void 0&&(n.ID=y(e.ID)),e.Prefix!==void 0&&(n.Prefix=y(e.Prefix)),e.Filter===""||e.Filter!==void 0&&(n.Filter=YG(ld(e.Filter),t)),e.Status!==void 0&&(n.Status=y(e.Status)),e.Transition===""?n.Transitions=[]:e.Transition!==void 0&&(n.Transitions=nH(te(e.Transition),t)),e.NoncurrentVersionTransition===""?n.NoncurrentVersionTransitions=[]:e.NoncurrentVersionTransition!==void 0&&(n.NoncurrentVersionTransitions=ij(te(e.NoncurrentVersionTransition),t)),e.NoncurrentVersionExpiration!==void 0&&(n.NoncurrentVersionExpiration=sj(e.NoncurrentVersionExpiration,t)),e.AbortIncompleteMultipartUpload!==void 0&&(n.AbortIncompleteMultipartUpload=W2(e.AbortIncompleteMultipartUpload,t)),n},WG=(e,t)=>{let n={};return e.Prefix!==void 0&&(n.Prefix=y(e.Prefix)),e.Tag===""?n.Tags=[]:e.Tag!==void 0&&(n.Tags=eo(te(e.Tag),t)),e.ObjectSizeGreaterThan!==void 0&&(n.ObjectSizeGreaterThan=ft(e.ObjectSizeGreaterThan)),e.ObjectSizeLessThan!==void 0&&(n.ObjectSizeLessThan=ft(e.ObjectSizeLessThan)),n},YG=(e,t)=>e.Prefix!==void 0?{Prefix:y(e.Prefix)}:e.Tag!==void 0?{Tag:ri(e.Tag,t)}:e.ObjectSizeGreaterThan!==void 0?{ObjectSizeGreaterThan:ft(e.ObjectSizeGreaterThan)}:e.ObjectSizeLessThan!==void 0?{ObjectSizeLessThan:ft(e.ObjectSizeLessThan)}:e.And!==void 0?{And:WG(e.And,t)}:{$unknown:Object.entries(e)[0]},XG=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>VG(n,t)),QG=(e,t)=>{let n={};return e.TargetBucket!==void 0&&(n.TargetBucket=y(e.TargetBucket)),e.TargetGrants===""?n.TargetGrants=[]:e.TargetGrants!==void 0&&e.TargetGrants.Grant!==void 0&&(n.TargetGrants=Xj(te(e.TargetGrants.Grant),t)),e.TargetPrefix!==void 0&&(n.TargetPrefix=y(e.TargetPrefix)),n},ZG=(e,t)=>{let n={};return e.Status!==void 0&&(n.Status=y(e.Status)),e.EventThreshold!==void 0&&(n.EventThreshold=YA(e.EventThreshold,t)),n},JG=(e,t)=>{let n={};return e.Prefix!==void 0&&(n.Prefix=y(e.Prefix)),e.Tag===""?n.Tags=[]:e.Tag!==void 0&&(n.Tags=eo(te(e.Tag),t)),e.AccessPointArn!==void 0&&(n.AccessPointArn=y(e.AccessPointArn)),n},VA=(e,t)=>{let n={};return e.Id!==void 0&&(n.Id=y(e.Id)),e.Filter===""||e.Filter!==void 0&&(n.Filter=tj(ld(e.Filter),t)),n},ej=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>VA(n,t)),tj=(e,t)=>e.Prefix!==void 0?{Prefix:y(e.Prefix)}:e.Tag!==void 0?{Tag:ri(e.Tag,t)}:e.AccessPointArn!==void 0?{AccessPointArn:y(e.AccessPointArn)}:e.And!==void 0?{And:JG(e.And,t)}:{$unknown:Object.entries(e)[0]},nj=(e,t)=>{let n={};return e.UploadId!==void 0&&(n.UploadId=y(e.UploadId)),e.Key!==void 0&&(n.Key=y(e.Key)),e.Initiated!==void 0&&(n.Initiated=W(_t(e.Initiated))),e.StorageClass!==void 0&&(n.StorageClass=y(e.StorageClass)),e.Owner!==void 0&&(n.Owner=Jr(e.Owner,t)),e.Initiator!==void 0&&(n.Initiator=jA(e.Initiator,t)),e.ChecksumAlgorithm!==void 0&&(n.ChecksumAlgorithm=y(e.ChecksumAlgorithm)),n},rj=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>nj(n,t)),sj=(e,t)=>{let n={};return e.NoncurrentDays!==void 0&&(n.NoncurrentDays=Ie(e.NoncurrentDays)),e.NewerNoncurrentVersions!==void 0&&(n.NewerNoncurrentVersions=Ie(e.NewerNoncurrentVersions)),n},oj=(e,t)=>{let n={};return e.NoncurrentDays!==void 0&&(n.NoncurrentDays=Ie(e.NoncurrentDays)),e.StorageClass!==void 0&&(n.StorageClass=y(e.StorageClass)),e.NewerNoncurrentVersions!==void 0&&(n.NewerNoncurrentVersions=Ie(e.NewerNoncurrentVersions)),n},ij=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>oj(n,t)),Kh=(e,t)=>{let n={};return e.S3Key!==void 0&&(n.Key=Mj(e.S3Key,t)),n},aj=(e,t)=>{let n={};return e.Key!==void 0&&(n.Key=y(e.Key)),e.LastModified!==void 0&&(n.LastModified=W(_t(e.LastModified))),e.ETag!==void 0&&(n.ETag=y(e.ETag)),e.ChecksumAlgorithm===""?n.ChecksumAlgorithm=[]:e.ChecksumAlgorithm!==void 0&&(n.ChecksumAlgorithm=qA(te(e.ChecksumAlgorithm),t)),e.Size!==void 0&&(n.Size=ft(e.Size)),e.StorageClass!==void 0&&(n.StorageClass=y(e.StorageClass)),e.Owner!==void 0&&(n.Owner=Jr(e.Owner,t)),n},WA=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>aj(n,t)),cj=(e,t)=>{let n={};return e.ObjectLockEnabled!==void 0&&(n.ObjectLockEnabled=y(e.ObjectLockEnabled)),e.Rule!==void 0&&(n.Rule=uj(e.Rule,t)),n},dj=(e,t)=>{let n={};return e.Status!==void 0&&(n.Status=y(e.Status)),n},lj=(e,t)=>{let n={};return e.Mode!==void 0&&(n.Mode=y(e.Mode)),e.RetainUntilDate!==void 0&&(n.RetainUntilDate=W(_t(e.RetainUntilDate))),n},uj=(e,t)=>{let n={};return e.DefaultRetention!==void 0&&(n.DefaultRetention=hG(e.DefaultRetention,t)),n},mj=(e,t)=>{let n={};return e.PartNumber!==void 0&&(n.PartNumber=Ie(e.PartNumber)),e.Size!==void 0&&(n.Size=ft(e.Size)),e.ChecksumCRC32!==void 0&&(n.ChecksumCRC32=y(e.ChecksumCRC32)),e.ChecksumCRC32C!==void 0&&(n.ChecksumCRC32C=y(e.ChecksumCRC32C)),e.ChecksumSHA1!==void 0&&(n.ChecksumSHA1=y(e.ChecksumSHA1)),e.ChecksumSHA256!==void 0&&(n.ChecksumSHA256=y(e.ChecksumSHA256)),n},fj=(e,t)=>{let n={};return e.ETag!==void 0&&(n.ETag=y(e.ETag)),e.ChecksumAlgorithm===""?n.ChecksumAlgorithm=[]:e.ChecksumAlgorithm!==void 0&&(n.ChecksumAlgorithm=qA(te(e.ChecksumAlgorithm),t)),e.Size!==void 0&&(n.Size=ft(e.Size)),e.StorageClass!==void 0&&(n.StorageClass=y(e.StorageClass)),e.Key!==void 0&&(n.Key=y(e.Key)),e.VersionId!==void 0&&(n.VersionId=y(e.VersionId)),e.IsLatest!==void 0&&(n.IsLatest=_e(e.IsLatest)),e.LastModified!==void 0&&(n.LastModified=W(_t(e.LastModified))),e.Owner!==void 0&&(n.Owner=Jr(e.Owner,t)),n},hj=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>fj(n,t)),Jr=(e,t)=>{let n={};return e.DisplayName!==void 0&&(n.DisplayName=y(e.DisplayName)),e.ID!==void 0&&(n.ID=y(e.ID)),n},pj=(e,t)=>{let n={};return e.Rule===""?n.Rules=[]:e.Rule!==void 0&&(n.Rules=gj(te(e.Rule),t)),n},yj=(e,t)=>{let n={};return e.ObjectOwnership!==void 0&&(n.ObjectOwnership=y(e.ObjectOwnership)),n},gj=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>yj(n,t)),Ej=(e,t)=>{let n={};return e.PartNumber!==void 0&&(n.PartNumber=Ie(e.PartNumber)),e.LastModified!==void 0&&(n.LastModified=W(_t(e.LastModified))),e.ETag!==void 0&&(n.ETag=y(e.ETag)),e.Size!==void 0&&(n.Size=ft(e.Size)),e.ChecksumCRC32!==void 0&&(n.ChecksumCRC32=y(e.ChecksumCRC32)),e.ChecksumCRC32C!==void 0&&(n.ChecksumCRC32C=y(e.ChecksumCRC32C)),e.ChecksumSHA1!==void 0&&(n.ChecksumSHA1=y(e.ChecksumSHA1)),e.ChecksumSHA256!==void 0&&(n.ChecksumSHA256=y(e.ChecksumSHA256)),n},Sj=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>Ej(n,t)),xj=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>mj(n,t)),wj=(e,t)=>{let n={};return e.IsPublic!==void 0&&(n.IsPublic=_e(e.IsPublic)),n},Cj=(e,t)=>{let n={};return e.BytesScanned!==void 0&&(n.BytesScanned=ft(e.BytesScanned)),e.BytesProcessed!==void 0&&(n.BytesProcessed=ft(e.BytesProcessed)),e.BytesReturned!==void 0&&(n.BytesReturned=ft(e.BytesReturned)),n},bj=(e,t)=>{let n={};return e.BlockPublicAcls!==void 0&&(n.BlockPublicAcls=_e(e.BlockPublicAcls)),e.IgnorePublicAcls!==void 0&&(n.IgnorePublicAcls=_e(e.IgnorePublicAcls)),e.BlockPublicPolicy!==void 0&&(n.BlockPublicPolicy=_e(e.BlockPublicPolicy)),e.RestrictPublicBuckets!==void 0&&(n.RestrictPublicBuckets=_e(e.RestrictPublicBuckets)),n},Pj=(e,t)=>{let n={};return e.Id!==void 0&&(n.Id=y(e.Id)),e.Queue!==void 0&&(n.QueueArn=y(e.Queue)),e.Event===""?n.Events=[]:e.Event!==void 0&&(n.Events=Hh(te(e.Event),t)),e.Filter!==void 0&&(n.Filter=Kh(e.Filter,t)),n},_j=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>Pj(n,t)),Aj=(e,t)=>{let n={};return e.HostName!==void 0&&(n.HostName=y(e.HostName)),e.HttpRedirectCode!==void 0&&(n.HttpRedirectCode=y(e.HttpRedirectCode)),e.Protocol!==void 0&&(n.Protocol=y(e.Protocol)),e.ReplaceKeyPrefixWith!==void 0&&(n.ReplaceKeyPrefixWith=y(e.ReplaceKeyPrefixWith)),e.ReplaceKeyWith!==void 0&&(n.ReplaceKeyWith=y(e.ReplaceKeyWith)),n},kj=(e,t)=>{let n={};return e.HostName!==void 0&&(n.HostName=y(e.HostName)),e.Protocol!==void 0&&(n.Protocol=y(e.Protocol)),n},Rj=(e,t)=>{let n={};return e.Status!==void 0&&(n.Status=y(e.Status)),n},Ij=(e,t)=>{let n={};return e.Role!==void 0&&(n.Role=y(e.Role)),e.Rule===""?n.Rules=[]:e.Rule!==void 0&&(n.Rules=Dj(te(e.Rule),t)),n},Nj=(e,t)=>{let n={};return e.ID!==void 0&&(n.ID=y(e.ID)),e.Priority!==void 0&&(n.Priority=Ie(e.Priority)),e.Prefix!==void 0&&(n.Prefix=y(e.Prefix)),e.Filter===""||e.Filter!==void 0&&(n.Filter=Tj(ld(e.Filter),t)),e.Status!==void 0&&(n.Status=y(e.Status)),e.SourceSelectionCriteria!==void 0&&(n.SourceSelectionCriteria=$j(e.SourceSelectionCriteria,t)),e.ExistingObjectReplication!==void 0&&(n.ExistingObjectReplication=kG(e.ExistingObjectReplication,t)),e.Destination!==void 0&&(n.Destination=xG(e.Destination,t)),e.DeleteMarkerReplication!==void 0&&(n.DeleteMarkerReplication=EG(e.DeleteMarkerReplication,t)),n},vj=(e,t)=>{let n={};return e.Prefix!==void 0&&(n.Prefix=y(e.Prefix)),e.Tag===""?n.Tags=[]:e.Tag!==void 0&&(n.Tags=eo(te(e.Tag),t)),n},Tj=(e,t)=>e.Prefix!==void 0?{Prefix:y(e.Prefix)}:e.Tag!==void 0?{Tag:ri(e.Tag,t)}:e.And!==void 0?{And:vj(e.And,t)}:{$unknown:Object.entries(e)[0]},Dj=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>Nj(n,t)),Bj=(e,t)=>{let n={};return e.Status!==void 0&&(n.Status=y(e.Status)),e.Time!==void 0&&(n.Time=YA(e.Time,t)),n},YA=(e,t)=>{let n={};return e.Minutes!==void 0&&(n.Minutes=Ie(e.Minutes)),n},Oj=(e,t)=>{let n={};return e.Condition!==void 0&&(n.Condition=cG(e.Condition,t)),e.Redirect!==void 0&&(n.Redirect=Aj(e.Redirect,t)),n},Fj=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>Oj(n,t)),Mj=(e,t)=>{let n={};return e.FilterRule===""?n.FilterRules=[]:e.FilterRule!==void 0&&(n.FilterRules=NG(te(e.FilterRule),t)),n},Lj=(e,t)=>{let n={};return e.SSEAlgorithm!==void 0&&(n.SSEAlgorithm=y(e.SSEAlgorithm)),e.KMSMasterKeyID!==void 0&&(n.KMSMasterKeyID=y(e.KMSMasterKeyID)),n},Uj=(e,t)=>{let n={};return e.Rule===""?n.Rules=[]:e.Rule!==void 0&&(n.Rules=qj(te(e.Rule),t)),n},zj=(e,t)=>{let n={};return e.ApplyServerSideEncryptionByDefault!==void 0&&(n.ApplyServerSideEncryptionByDefault=Lj(e.ApplyServerSideEncryptionByDefault,t)),e.BucketKeyEnabled!==void 0&&(n.BucketKeyEnabled=_e(e.BucketKeyEnabled)),n},qj=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>zj(n,t)),$j=(e,t)=>{let n={};return e.SseKmsEncryptedObjects!==void 0&&(n.SseKmsEncryptedObjects=jj(e.SseKmsEncryptedObjects,t)),e.ReplicaModifications!==void 0&&(n.ReplicaModifications=Rj(e.ReplicaModifications,t)),n},Gj=(e,t)=>{let n={};return e.KeyId!==void 0&&(n.KeyId=y(e.KeyId)),n},jj=(e,t)=>{let n={};return e.Status!==void 0&&(n.Status=y(e.Status)),n},Hj=(e,t)=>({}),Kj=(e,t)=>{let n={};return e.BytesScanned!==void 0&&(n.BytesScanned=ft(e.BytesScanned)),e.BytesProcessed!==void 0&&(n.BytesProcessed=ft(e.BytesProcessed)),e.BytesReturned!==void 0&&(n.BytesReturned=ft(e.BytesReturned)),n},Vj=(e,t)=>{let n={};return e.DataExport!==void 0&&(n.DataExport=Wj(e.DataExport,t)),n},Wj=(e,t)=>{let n={};return e.OutputSchemaVersion!==void 0&&(n.OutputSchemaVersion=y(e.OutputSchemaVersion)),e.Destination!==void 0&&(n.Destination=tG(e.Destination,t)),n},ri=(e,t)=>{let n={};return e.Key!==void 0&&(n.Key=y(e.Key)),e.Value!==void 0&&(n.Value=y(e.Value)),n},eo=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>ri(n,t)),Yj=(e,t)=>{let n={};return e.Grantee!==void 0&&(n.Grantee=$A(e.Grantee,t)),e.Permission!==void 0&&(n.Permission=y(e.Permission)),n},Xj=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>Yj(n,t)),Qj=(e,t)=>{let n={};return e.Days!==void 0&&(n.Days=Ie(e.Days)),e.AccessTier!==void 0&&(n.AccessTier=y(e.AccessTier)),n},Zj=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>Qj(n,t)),Jj=(e,t)=>{let n={};return e.Id!==void 0&&(n.Id=y(e.Id)),e.Topic!==void 0&&(n.TopicArn=y(e.Topic)),e.Event===""?n.Events=[]:e.Event!==void 0&&(n.Events=Hh(te(e.Event),t)),e.Filter!==void 0&&(n.Filter=Kh(e.Filter,t)),n},eH=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>Jj(n,t)),tH=(e,t)=>{let n={};return e.Date!==void 0&&(n.Date=W(_t(e.Date))),e.Days!==void 0&&(n.Days=Ie(e.Days)),e.StorageClass!==void 0&&(n.StorageClass=y(e.StorageClass)),n},nH=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>tH(n,t)),U=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),re=(e=new Uint8Array,t)=>e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array),XA=(e,t)=>re(e,t).then(n=>t.utf8Encoder(n)),T=e=>e!=null&&e!==""&&(!Object.getOwnPropertyNames(e).includes("length")||e.length!=0)&&(!Object.getOwnPropertyNames(e).includes("size")||e.size!=0),ue=(e,t)=>XA(e,t).then(n=>{if(n.length){let r=new cb.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(l,d)=>d.trim()===""&&d.includes(`
`)?"":void 0});r.addEntity("#xD","\r"),r.addEntity("#10",`
`);let s=r.parse(n),o="#text",a=Object.keys(s)[0],i=s[a];return i[o]&&(i[a]=i[o],delete i[o]),hd(i)}return{}}),q=async(e,t)=>{let n=await ue(e,t);return n.Error&&(n.Error.message=n.Error.message??n.Error.Message),n},$=(e,t)=>{if((t==null?void 0:t.Code)!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"};var si=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,si.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"AbortMultipartUploadCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return db(t,n)}deserialize(t,n){return WP(t,n)}};var rH="content-length";function sH(){return(e,t)=>async n=>{var s;let{request:r}=n;if(v.isInstance(r)&&!r.headers[rH]){let o="Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.";typeof((s=t==null?void 0:t.logger)==null?void 0:s.warn)=="function"?t.logger.warn(o):console.warn(o)}return e({...n})}}var oH={step:"finalizeRequest",tags:["CHECK_CONTENT_LENGTH_HEADER"],name:"getCheckContentLengthHeaderPlugin",override:!0},QA=e=>({applyToStack:t=>{t.add(sH(),oH)}});var ZA=e=>({...e,forcePathStyle:e.forcePathStyle??!1,useAccelerateEndpoint:e.useAccelerateEndpoint??!1,disableMultiregionAccessPoints:e.disableMultiregionAccessPoints??!1});var iH=e=>t=>async n=>{let r=await t(n),{response:s}=r;if(!fn.isInstance(s))return r;let{statusCode:o,body:a}=s;if(o<200||o>=300)return r;let i=await JA(a,e),l=await aH(i,e);if(i.length===0){let d=new Error("S3 aborted request");throw d.name="InternalError",d}return l&&l.match("<Error>")&&(s.statusCode=400),s.body=i,r},JA=(e=new Uint8Array,t)=>e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array),aH=(e,t)=>JA(e,t).then(n=>t.utf8Encoder(n)),cH={relation:"after",toMiddleware:"deserializerMiddleware",tags:["THROW_200_EXCEPTIONS","S3"],name:"throw200ExceptionsMiddleware",override:!0},oi=e=>({applyToStack:t=>{t.addRelativeTo(iH(e),cH)}});var Vh=e=>typeof e=="string"&&e.indexOf("arn:")===0&&e.split(":").length>=6;function dH(){return e=>async t=>{let{input:{Bucket:n}}=t;if(typeof n=="string"&&!Vh(n)&&n.indexOf("/")>=0){let r=new Error(`Bucket name shouldn't contain '/', received '${n}'`);throw r.name="InvalidBucketName",r}return e({...t})}}var lH={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},ek=e=>({applyToStack:t=>{t.add(dH(),lH)}});function uH(e){return t=>async n=>{let r={...n.input},s=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}];for(let o of s){let a=r[o.target];if(a){let i=ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength):typeof a=="string"?e.utf8Decoder(a):new Uint8Array(a),l=e.base64Encoder(i),d=new e.md5;d.update(i),r={...r,[o.target]:l,[o.hash]:e.base64Encoder(await d.digest())}}}return t({...n,input:r})}}var mH={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},et=e=>({applyToStack:t=>{t.add(uH(e),mH)}});var ii=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,ii.getEndpointParameterInstructions())),this.middlewareStack.use(oi(n)),this.middlewareStack.use(et(n));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"CompleteMultipartUploadCommand",inputFilterSensitiveLog:lC,outputFilterSensitiveLog:dC},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return lb(t,n)}deserialize(t,n){return YP(t,n)}};var ai=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,ai.getEndpointParameterInstructions())),this.middlewareStack.use(oi(n)),this.middlewareStack.use(et(n));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"CopyObjectCommand",inputFilterSensitiveLog:mC,outputFilterSensitiveLog:uC},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return ub(t,n)}deserialize(t,n){return XP(t,n)}};function fH(e){return t=>async n=>{let{CreateBucketConfiguration:r}=n.input,s=await e.region();return(!r||!r.LocationConstraint)&&(n={...n,input:{...n.input,CreateBucketConfiguration:s==="us-east-1"?void 0:{LocationConstraint:s}}}),t(n)}}var hH={step:"initialize",tags:["LOCATION_CONSTRAINT","CREATE_BUCKET_CONFIGURATION"],name:"locationConstraintMiddleware",override:!0},tk=e=>({applyToStack:t=>{t.add(fH(e),hH)}});var ci=class extends x{static getEndpointParameterInstructions(){return{DisableAccessPoints:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,ci.getEndpointParameterInstructions())),this.middlewareStack.use(tk(n));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"CreateBucketCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return mb(t,n)}deserialize(t,n){return QP(t,n)}};var di=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,di.getEndpointParameterInstructions())),this.middlewareStack.use(et(n));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"CreateMultipartUploadCommand",inputFilterSensitiveLog:hC,outputFilterSensitiveLog:fC},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return fb(t,n)}deserialize(t,n){return ZP(t,n)}};var li=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,li.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"DeleteBucketAnalyticsConfigurationCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return pb(t,n)}deserialize(t,n){return e_(t,n)}};var ui=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,ui.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"DeleteBucketCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return hb(t,n)}deserialize(t,n){return JP(t,n)}};var mi=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,mi.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"DeleteBucketCorsCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return yb(t,n)}deserialize(t,n){return t_(t,n)}};var fi=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,fi.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"DeleteBucketEncryptionCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return gb(t,n)}deserialize(t,n){return n_(t,n)}};var hi=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,hi.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"DeleteBucketIntelligentTieringConfigurationCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return Eb(t,n)}deserialize(t,n){return r_(t,n)}};var pi=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,pi.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"DeleteBucketInventoryConfigurationCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return Sb(t,n)}deserialize(t,n){return s_(t,n)}};var yi=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,yi.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"DeleteBucketLifecycleCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return xb(t,n)}deserialize(t,n){return o_(t,n)}};var gi=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,gi.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"DeleteBucketMetricsConfigurationCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return wb(t,n)}deserialize(t,n){return i_(t,n)}};var Ei=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Ei.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"DeleteBucketOwnershipControlsCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return Cb(t,n)}deserialize(t,n){return a_(t,n)}};var Si=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Si.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"DeleteBucketPolicyCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return bb(t,n)}deserialize(t,n){return c_(t,n)}};var xi=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,xi.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"DeleteBucketReplicationCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return Pb(t,n)}deserialize(t,n){return d_(t,n)}};var wi=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,wi.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"DeleteBucketTaggingCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return _b(t,n)}deserialize(t,n){return l_(t,n)}};var Ci=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Ci.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"DeleteBucketWebsiteCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return Ab(t,n)}deserialize(t,n){return u_(t,n)}};var bi=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,bi.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"DeleteObjectCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return kb(t,n)}deserialize(t,n){return m_(t,n)}};var tt;(function(e){e.MD5="MD5",e.CRC32="CRC32",e.CRC32C="CRC32C",e.SHA1="SHA1",e.SHA256="SHA256"})(tt||(tt={}));var nk;(function(e){e.HEADER="header",e.TRAILER="trailer"})(nk||(nk={}));var Ed=[tt.CRC32,tt.CRC32C,tt.SHA1,tt.SHA256],rk=[tt.CRC32,tt.CRC32C,tt.SHA1,tt.SHA256];var sk=(e,{requestChecksumRequired:t,requestAlgorithmMember:n})=>{if(!n||!e[n])return t?tt.MD5:void 0;let r=e[n];if(!Ed.includes(r))throw new Error(`The checksum algorithm "${r}" is not supported by the client. Select one of ${Ed}.`);return r};var Wl=e=>e===tt.MD5?"content-md5":`x-amz-checksum-${e.toLowerCase()}`;var ok=(e,t)=>{let n=e.toLowerCase();for(let r of Object.keys(t))if(n===r.toLowerCase())return!0;return!1};var Pi=e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]";var Yl=e=>e!==void 0&&typeof e!="string"&&!ArrayBuffer.isView(e)&&!Pi(e);var Rk=cn(wd()),Ik=cn(ip());var nu=(e,t)=>({[tt.MD5]:t.md5,[tt.CRC32]:Rk.AwsCrc32,[tt.CRC32C]:Ik.AwsCrc32c,[tt.SHA1]:t.sha1,[tt.SHA256]:t.sha256})[e];var ru=require("buffer"),fr=(e,t=0,n=e.byteLength-t)=>{if(!Pi(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return ru.Buffer.from(e,t,n)},_i=(e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?ru.Buffer.from(e,t):ru.Buffer.from(e)};var Un=e=>{let t=_i(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)};var jt=e=>typeof e=="string"?Un(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e);var ns=e=>fr(e.buffer,e.byteOffset,e.byteLength).toString("utf8");var su=(e,t)=>{let n=new e;return n.update(jt(t||"")),n.digest()};var Nk=async(e,{streamHasher:t,checksumAlgorithmFn:n,base64Encoder:r})=>{let s=Yl(e)?t(n,e):su(n,e);return r(await s)};var vk=(e=[])=>{let t=[];for(let n of rk)!e.includes(n)||!Ed.includes(n)||t.push(n);return t};var Tk=async(e,{config:t,responseAlgorithms:n})=>{let r=vk(n),{body:s,headers:o}=e;for(let a of r){let i=Wl(a),l=o[i];if(l){let d=nu(a,t),{streamHasher:c,base64Encoder:m}=t,u=await Nk(s,{streamHasher:c,checksumAlgorithmFn:d,base64Encoder:m});if(u===l)break;throw new Error(`Checksum mismatch: expected "${u}" but received "${l}" in response header "${i}".`)}}};var Dk=(e,t)=>n=>async r=>{if(!v.isInstance(r.request))return n(r);let{request:s}=r,{body:o,headers:a}=s,{base64Encoder:i,streamHasher:l}=e,{input:d,requestChecksumRequired:c,requestAlgorithmMember:m}=t,u=sk(d,{requestChecksumRequired:c,requestAlgorithmMember:m}),w=o,S=a;if(u){let Ce=Wl(u),ye=nu(u,e);if(Yl(o)){let{getAwsChunkedEncodingStream:ot,bodyLengthChecker:pe}=e;w=ot(o,{base64Encoder:i,bodyLengthChecker:pe,checksumLocationName:Ce,checksumAlgorithmFn:ye,streamHasher:l}),S={...a,"content-encoding":a["content-encoding"]?`${a["content-encoding"]},aws-chunked`:"aws-chunked","transfer-encoding":"chunked","x-amz-decoded-content-length":a["content-length"],"x-amz-content-sha256":"STREAMING-UNSIGNED-PAYLOAD-TRAILER","x-amz-trailer":Ce},delete S["content-length"]}else if(!ok(Ce,a)){let ot=await su(ye,o);S={...a,[Ce]:i(ot)}}}let I=await n({...r,request:{...s,headers:S,body:w}}),{requestValidationModeMember:D,responseAlgorithms:X}=t;return D&&d[D]==="ENABLED"&&Tk(I.response,{config:e,responseAlgorithms:X}),I};var _6={name:"flexibleChecksumsMiddleware",step:"build",tags:["BODY_CHECKSUM"],override:!0},ae=(e,t)=>({applyToStack:n=>{n.add(Dk(e,t),_6)}});var Ai=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Ai.getEndpointParameterInstructions())),this.middlewareStack.use(ae(n,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!0}));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"DeleteObjectsCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return Rb(t,n)}deserialize(t,n){return f_(t,n)}};var ki=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,ki.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"DeleteObjectTaggingCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return Ib(t,n)}deserialize(t,n){return h_(t,n)}};var Ri=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Ri.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"DeletePublicAccessBlockCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return Nb(t,n)}deserialize(t,n){return p_(t,n)}};var Ii=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Ii.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"GetBucketAccelerateConfigurationCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return vb(t,n)}deserialize(t,n){return y_(t,n)}};var Ni=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Ni.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"GetBucketAclCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return Tb(t,n)}deserialize(t,n){return g_(t,n)}};var vi=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,vi.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"GetBucketAnalyticsConfigurationCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return Db(t,n)}deserialize(t,n){return E_(t,n)}};var Ti=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Ti.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"GetBucketCorsCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return Bb(t,n)}deserialize(t,n){return S_(t,n)}};var Di=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Di.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"GetBucketEncryptionCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:yC},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return Ob(t,n)}deserialize(t,n){return x_(t,n)}};var Bi=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Bi.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"GetBucketIntelligentTieringConfigurationCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return Fb(t,n)}deserialize(t,n){return w_(t,n)}};var Oi=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Oi.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"GetBucketInventoryConfigurationCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:gC},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return Mb(t,n)}deserialize(t,n){return C_(t,n)}};var Fi=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Fi.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"GetBucketLifecycleConfigurationCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return Lb(t,n)}deserialize(t,n){return b_(t,n)}};var Mi=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Mi.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"GetBucketLocationCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return Ub(t,n)}deserialize(t,n){return P_(t,n)}};var Li=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Li.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"GetBucketLoggingCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return zb(t,n)}deserialize(t,n){return __(t,n)}};var Ui=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Ui.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"GetBucketMetricsConfigurationCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return qb(t,n)}deserialize(t,n){return A_(t,n)}};var zi=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,zi.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"GetBucketNotificationConfigurationCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return $b(t,n)}deserialize(t,n){return k_(t,n)}};var qi=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,qi.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"GetBucketOwnershipControlsCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return Gb(t,n)}deserialize(t,n){return R_(t,n)}};var $i=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,$i.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"GetBucketPolicyCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return jb(t,n)}deserialize(t,n){return I_(t,n)}};var Gi=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Gi.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"GetBucketPolicyStatusCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return Hb(t,n)}deserialize(t,n){return N_(t,n)}};var ji=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,ji.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"GetBucketReplicationCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return Kb(t,n)}deserialize(t,n){return v_(t,n)}};var Hi=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Hi.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"GetBucketRequestPaymentCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return Vb(t,n)}deserialize(t,n){return T_(t,n)}};var Ki=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Ki.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"GetBucketTaggingCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return Wb(t,n)}deserialize(t,n){return D_(t,n)}};var Vi=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Vi.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"GetBucketVersioningCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return Yb(t,n)}deserialize(t,n){return B_(t,n)}};var Wi=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Wi.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"GetBucketWebsiteCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return Xb(t,n)}deserialize(t,n){return O_(t,n)}};var Yi=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Yi.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"GetObjectAclCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return Zb(t,n)}deserialize(t,n){return M_(t,n)}};var Xi=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Xi.getEndpointParameterInstructions())),this.middlewareStack.use(et(n));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"GetObjectAttributesCommand",inputFilterSensitiveLog:xC,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return Jb(t,n)}deserialize(t,n){return L_(t,n)}};var Qi=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Qi.getEndpointParameterInstructions())),this.middlewareStack.use(et(n)),this.middlewareStack.use(ae(n,{input:this.input,requestChecksumRequired:!1,requestValidationModeMember:"ChecksumMode",responseAlgorithms:["CRC32","CRC32C","SHA256","SHA1"]}));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"GetObjectCommand",inputFilterSensitiveLog:SC,outputFilterSensitiveLog:EC},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return Qb(t,n)}deserialize(t,n){return F_(t,n)}};var Zi=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Zi.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"GetObjectLegalHoldCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return eP(t,n)}deserialize(t,n){return U_(t,n)}};var Ji=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Ji.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"GetObjectLockConfigurationCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return tP(t,n)}deserialize(t,n){return z_(t,n)}};var ea=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,ea.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"GetObjectRetentionCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return nP(t,n)}deserialize(t,n){return q_(t,n)}};var ta=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,ta.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"GetObjectTaggingCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return rP(t,n)}deserialize(t,n){return $_(t,n)}};var na=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,na.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"GetObjectTorrentCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:wC},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return sP(t,n)}deserialize(t,n){return G_(t,n)}};var ra=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,ra.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"GetPublicAccessBlockCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return oP(t,n)}deserialize(t,n){return j_(t,n)}};var sa=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,sa.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"HeadBucketCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return iP(t,n)}deserialize(t,n){return H_(t,n)}};var oa=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,oa.getEndpointParameterInstructions())),this.middlewareStack.use(et(n));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"HeadObjectCommand",inputFilterSensitiveLog:bC,outputFilterSensitiveLog:CC},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return aP(t,n)}deserialize(t,n){return K_(t,n)}};var ia=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,ia.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"ListBucketAnalyticsConfigurationsCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return cP(t,n)}deserialize(t,n){return V_(t,n)}};var aa=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,aa.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"ListBucketIntelligentTieringConfigurationsCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return dP(t,n)}deserialize(t,n){return W_(t,n)}};var ca=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,ca.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"ListBucketInventoryConfigurationsCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:PC},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return lP(t,n)}deserialize(t,n){return Y_(t,n)}};var da=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,da.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"ListBucketMetricsConfigurationsCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return uP(t,n)}deserialize(t,n){return X_(t,n)}};var la=class extends x{static getEndpointParameterInstructions(){return{ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,la.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"ListBucketsCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return mP(t,n)}deserialize(t,n){return Q_(t,n)}};var ua=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,ua.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"ListMultipartUploadsCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return fP(t,n)}deserialize(t,n){return Z_(t,n)}};var ma=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,ma.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"ListObjectsCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return hP(t,n)}deserialize(t,n){return J_(t,n)}};var fa=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,fa.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"ListObjectsV2Command",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return pP(t,n)}deserialize(t,n){return eA(t,n)}};var ha=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,ha.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"ListObjectVersionsCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return yP(t,n)}deserialize(t,n){return tA(t,n)}};var pa=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,pa.getEndpointParameterInstructions())),this.middlewareStack.use(et(n));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"ListPartsCommand",inputFilterSensitiveLog:_C,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return gP(t,n)}deserialize(t,n){return nA(t,n)}};var ya=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,ya.getEndpointParameterInstructions())),this.middlewareStack.use(ae(n,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!1}));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"PutBucketAccelerateConfigurationCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return EP(t,n)}deserialize(t,n){return rA(t,n)}};var ga=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,ga.getEndpointParameterInstructions())),this.middlewareStack.use(ae(n,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!0}));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"PutBucketAclCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return SP(t,n)}deserialize(t,n){return sA(t,n)}};var Ea=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Ea.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"PutBucketAnalyticsConfigurationCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return xP(t,n)}deserialize(t,n){return oA(t,n)}};var Sa=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Sa.getEndpointParameterInstructions())),this.middlewareStack.use(ae(n,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!0}));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"PutBucketCorsCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return wP(t,n)}deserialize(t,n){return iA(t,n)}};var xa=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,xa.getEndpointParameterInstructions())),this.middlewareStack.use(ae(n,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!0}));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"PutBucketEncryptionCommand",inputFilterSensitiveLog:AC,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return CP(t,n)}deserialize(t,n){return aA(t,n)}};var wa=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,wa.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"PutBucketIntelligentTieringConfigurationCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return bP(t,n)}deserialize(t,n){return cA(t,n)}};var Ca=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Ca.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"PutBucketInventoryConfigurationCommand",inputFilterSensitiveLog:kC,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return PP(t,n)}deserialize(t,n){return dA(t,n)}};var ba=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,ba.getEndpointParameterInstructions())),this.middlewareStack.use(ae(n,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!0}));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"PutBucketLifecycleConfigurationCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return _P(t,n)}deserialize(t,n){return lA(t,n)}};var Pa=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Pa.getEndpointParameterInstructions())),this.middlewareStack.use(ae(n,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!0}));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"PutBucketLoggingCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return AP(t,n)}deserialize(t,n){return uA(t,n)}};var _a=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,_a.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"PutBucketMetricsConfigurationCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return kP(t,n)}deserialize(t,n){return mA(t,n)}};var Aa=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Aa.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"PutBucketNotificationConfigurationCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return RP(t,n)}deserialize(t,n){return fA(t,n)}};var ka=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,ka.getEndpointParameterInstructions())),this.middlewareStack.use(ae(n,{input:this.input,requestChecksumRequired:!0}));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"PutBucketOwnershipControlsCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return IP(t,n)}deserialize(t,n){return hA(t,n)}};var Ra=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Ra.getEndpointParameterInstructions())),this.middlewareStack.use(ae(n,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!0}));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"PutBucketPolicyCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return NP(t,n)}deserialize(t,n){return pA(t,n)}};var Ia=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Ia.getEndpointParameterInstructions())),this.middlewareStack.use(ae(n,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!0}));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"PutBucketReplicationCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return vP(t,n)}deserialize(t,n){return yA(t,n)}};var Na=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Na.getEndpointParameterInstructions())),this.middlewareStack.use(ae(n,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!0}));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"PutBucketRequestPaymentCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return TP(t,n)}deserialize(t,n){return gA(t,n)}};var va=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,va.getEndpointParameterInstructions())),this.middlewareStack.use(ae(n,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!0}));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"PutBucketTaggingCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return DP(t,n)}deserialize(t,n){return EA(t,n)}};var Ta=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Ta.getEndpointParameterInstructions())),this.middlewareStack.use(ae(n,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!0}));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"PutBucketVersioningCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return BP(t,n)}deserialize(t,n){return SA(t,n)}};var Da=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Da.getEndpointParameterInstructions())),this.middlewareStack.use(ae(n,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!0}));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"PutBucketWebsiteCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return OP(t,n)}deserialize(t,n){return xA(t,n)}};var Ba=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Ba.getEndpointParameterInstructions())),this.middlewareStack.use(ae(n,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!0}));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"PutObjectAclCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return MP(t,n)}deserialize(t,n){return CA(t,n)}};var Oa=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Oa.getEndpointParameterInstructions())),this.middlewareStack.use(QA(n)),this.middlewareStack.use(et(n)),this.middlewareStack.use(ae(n,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!1}));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"PutObjectCommand",inputFilterSensitiveLog:IC,outputFilterSensitiveLog:RC},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return FP(t,n)}deserialize(t,n){return wA(t,n)}};var Fa=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Fa.getEndpointParameterInstructions())),this.middlewareStack.use(ae(n,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!0}));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"PutObjectLegalHoldCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return LP(t,n)}deserialize(t,n){return bA(t,n)}};var Ma=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Ma.getEndpointParameterInstructions())),this.middlewareStack.use(ae(n,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!0}));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"PutObjectLockConfigurationCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return UP(t,n)}deserialize(t,n){return PA(t,n)}};var La=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,La.getEndpointParameterInstructions())),this.middlewareStack.use(ae(n,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!0}));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"PutObjectRetentionCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return zP(t,n)}deserialize(t,n){return _A(t,n)}};var Ua=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Ua.getEndpointParameterInstructions())),this.middlewareStack.use(ae(n,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!0}));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"PutObjectTaggingCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return qP(t,n)}deserialize(t,n){return AA(t,n)}};var za=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,za.getEndpointParameterInstructions())),this.middlewareStack.use(ae(n,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!0}));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"PutPublicAccessBlockCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return $P(t,n)}deserialize(t,n){return kA(t,n)}};var qa=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,qa.getEndpointParameterInstructions())),this.middlewareStack.use(ae(n,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!1}));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"RestoreObjectCommand",inputFilterSensitiveLog:vC,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return GP(t,n)}deserialize(t,n){return RA(t,n)}};var $a=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,$a.getEndpointParameterInstructions())),this.middlewareStack.use(et(n));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"SelectObjectContentCommand",inputFilterSensitiveLog:DC,outputFilterSensitiveLog:TC},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return jP(t,n)}deserialize(t,n){return IA(t,n)}};var Ga=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Ga.getEndpointParameterInstructions())),this.middlewareStack.use(et(n)),this.middlewareStack.use(ae(n,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!1}));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"UploadPartCommand",inputFilterSensitiveLog:OC,outputFilterSensitiveLog:BC},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return HP(t,n)}deserialize(t,n){return NA(t,n)}};var ja=class extends x{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,ja.getEndpointParameterInstructions())),this.middlewareStack.use(oi(n)),this.middlewareStack.use(et(n));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"UploadPartCopyCommand",inputFilterSensitiveLog:MC,outputFilterSensitiveLog:FC},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return KP(t,n)}deserialize(t,n){return vA(t,n)}};var Ha=class extends x{static getEndpointParameterInstructions(){return{UseObjectLambdaEndpoint:{type:"staticContextParams",value:!0},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,Ha.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"S3Client",commandName:"WriteGetObjectResponseCommand",inputFilterSensitiveLog:LC,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return VP(t,n)}deserialize(t,n){return TA(t,n)}};var hn;(function(e){e.ENV="env",e.CONFIG="shared config entry"})(hn||(hn={}));var zn=(e,t,n)=>{if(t in e){if(e[t]==="true")return!0;if(e[t]==="false")return!1;throw new Error(`Cannot load ${n} "${t}". Expected "true" or "false", got ${e[t]}.`)}};var A6="AWS_USE_DUALSTACK_ENDPOINT",k6="use_dualstack_endpoint";var rs={environmentVariableSelector:e=>zn(e,A6,hn.ENV),configFileSelector:e=>zn(e,k6,hn.CONFIG),default:!1};var R6="AWS_USE_FIPS_ENDPOINT",I6="use_fips_endpoint";var ss={environmentVariableSelector:e=>zn(e,R6,hn.ENV),configFileSelector:e=>zn(e,I6,hn.CONFIG),default:!1};var N6="AWS_REGION",v6="region",qn={environmentVariableSelector:e=>e[N6],configFileSelector:e=>e[v6],default:()=>{throw new Error("Region is missing")}},os={preferredFile:"credentials"};var ou=e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips"));var ap=e=>ou(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e;var is=e=>{let{region:t,useFipsEndpoint:n}=e;if(!t)throw new Error("Region is missing");return{...e,region:async()=>{if(typeof t=="string")return ap(t);let r=await t();return ap(r)},useFipsEndpoint:async()=>{let r=typeof t=="string"?t:await t();return ou(r)?!0:typeof n!="function"?Promise.resolve(!!n):n()}}};var Bk=e=>({...e,eventStreamMarshaller:e.eventStreamSerdeProvider(e)});var Ok="content-length";function T6(e){return t=>async n=>{let r=n.request;if(v.isInstance(r)){let{body:s,headers:o}=r;if(s&&Object.keys(o).map(a=>a.toLowerCase()).indexOf(Ok)===-1)try{let a=e(s);r.headers={...r.headers,[Ok]:String(a)}}catch{}}return t({...n,request:r})}}var D6={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},as=e=>({applyToStack:t=>{t.add(T6(e.bodyLengthChecker),D6)}});function B6(e){return t=>async n=>{let{request:r}=n;return v.isInstance(r)&&r.body&&e.runtime==="node"&&(r.headers={...r.headers,Expect:"100-continue"}),t({...n,request:r})}}var O6={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},Fk=e=>({applyToStack:t=>{t.add(B6(e),O6)}});var F6=e=>t=>async n=>{if(!v.isInstance(n.request))return t(n);let{request:r}=n,{handlerProtocol:s=""}=e.requestHandler.metadata||{};if(s.indexOf("h2")>=0&&!r.headers[":authority"])delete r.headers.host,r.headers[":authority"]="";else if(!r.headers.host){let o=r.hostname;r.port!=null&&(o+=`:${r.port}`),r.headers.host=o}return t(n)},M6={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},cs=e=>({applyToStack:t=>{t.add(F6(e),M6)}});var L6=()=>(e,t)=>async n=>{var r,s;try{let o=await e(n),{clientName:a,commandName:i,logger:l,dynamoDbDocumentClientOptions:d={}}=t,{overrideInputFilterSensitiveLog:c,overrideOutputFilterSensitiveLog:m}=d,u=c??t.inputFilterSensitiveLog,w=m??t.outputFilterSensitiveLog,{$metadata:S,...I}=o.output;return(r=l==null?void 0:l.info)==null||r.call(l,{clientName:a,commandName:i,input:u(n.input),output:w(I),metadata:S}),o}catch(o){let{clientName:a,commandName:i,logger:l,dynamoDbDocumentClientOptions:d={}}=t,{overrideInputFilterSensitiveLog:c}=d,m=c??t.inputFilterSensitiveLog;throw(s=l==null?void 0:l.error)==null||s.call(l,{clientName:a,commandName:i,input:m(n.input),error:o,metadata:o.$metadata}),o}},U6={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},ds=e=>({applyToStack:t=>{t.add(L6(),U6)}});var Mk="X-Amzn-Trace-Id",z6="AWS_LAMBDA_FUNCTION_NAME",q6="_X_AMZN_TRACE_ID",$6=e=>t=>async n=>{let{request:r}=n;if(!v.isInstance(r)||e.runtime!=="node"||r.headers.hasOwnProperty(Mk))return t(n);let s=process.env[z6],o=process.env[q6],a=i=>typeof i=="string"&&i.length>0;return a(s)&&a(o)&&(r.headers[Mk]=o),t({...n,request:r})},G6={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},ls=e=>({applyToStack:t=>{t.add($6(e),G6)}});var $n;(function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"})($n||($n={}));var to=3,Gn="STANDARD";var Lk=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],Uk=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],zk=[500,502,503,504],qk=["ECONNRESET","EPIPE","ETIMEDOUT"];var Ka=e=>{var t,n;return((t=e.$metadata)==null?void 0:t.httpStatusCode)===429||Lk.includes(e.name)||((n=e.$retryable)==null?void 0:n.throttling)==!0},iu=e=>{var t;return Uk.includes(e.name)||qk.includes((e==null?void 0:e.code)||"")||zk.includes(((t=e.$metadata)==null?void 0:t.httpStatusCode)||0)},$k=e=>{var t;if(((t=e.$metadata)==null?void 0:t.httpStatusCode)!==void 0){let n=e.$metadata.httpStatusCode;return 500<=n&&n<=599&&!iu(e)}return!1};var bd=class{constructor(t){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=(t==null?void 0:t.beta)??.7,this.minCapacity=(t==null?void 0:t.minCapacity)??1,this.minFillRate=(t==null?void 0:t.minFillRate)??.5,this.scaleConstant=(t==null?void 0:t.scaleConstant)??.4,this.smooth=(t==null?void 0:t.smooth)??.8;let n=this.getCurrentTimeInSeconds();this.lastThrottleTime=n,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){let n=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(r=>setTimeout(r,n))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){let t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}let n=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+n),this.lastTimestamp=t}updateClientSendingRate(t){let n;if(this.updateMeasuredRate(),Ka(t)){let s=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=s,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),n=this.cubicThrottle(s),this.enableTokenBucket()}else this.calculateTimeWindow(),n=this.cubicSuccess(this.getCurrentTimeInSeconds());let r=Math.min(n,2*this.measuredTxRate);this.updateTokenBucketRate(r)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let t=this.getCurrentTimeInSeconds(),n=Math.floor(t*2)/2;if(this.requestCount++,n>this.lastTxRateBucket){let r=this.requestCount/(n-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(r*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=n}}getPrecise(t){return parseFloat(t.toFixed(8))}};var au="amz-sdk-invocation-id",cu="amz-sdk-request";var Gk=()=>{let e=100;return{computeNextBackoffDelay:r=>Math.floor(Math.min(2e4,Math.random()*2**r*e)),setDelayBase:r=>{e=r}}};var Wk=(e,t,n,r)=>{let s=e,o=(r==null?void 0:r.retryCost)??5,a=(r==null?void 0:r.timeoutRetryCost)??10,i=(r==null?void 0:r.retryBackoffStrategy)??Gk(),l=e,d=Math.min(2e4,t),c,m=n??0,u=ye=>ye==="TRANSIENT"?a:o,w=()=>m,S=()=>d,I=()=>c,D=ye=>u(ye)<=l;return{getRetryCount:w,getRetryDelay:S,getLastRetryCost:I,hasRetryTokens:D,getRetryTokenCount:ye=>{let ot=ye.errorType;if(!D(ot))throw new Error("No retry token available");let pe=u(ot),qe=ot==="THROTTLING"?500:100;i.setDelayBase(qe);let Ee=i.computeNextBackoffDelay(m);if(ye.retryAfterHint){let le=ye.retryAfterHint.getTime()-Date.now();d=Math.max(le||0,Ee)}else d=Ee;return m++,c=pe,l-=pe,pe},releaseRetryTokens:ye=>{l+=ye??1,l=Math.min(l,s)}}};var Wa=class{constructor(t){this.maxAttemptsProvider=t,this.mode=$n.STANDARD,this.retryToken=Wk(500,100),this.maxAttemptsProvider=t}async acquireInitialRetryToken(t){return this.retryToken}async refreshRetryTokenForRetry(t,n){let r=await this.getMaxAttempts();if(this.shouldRetry(t,n,r))return t.getRetryTokenCount(n),t;throw new Error("No retry token available")}recordSuccess(t){this.retryToken.releaseRetryTokens(t.getLastRetryCost())}async getMaxAttempts(){let t;try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${to}`),to}}shouldRetry(t,n,r){return t.getRetryCount()<r&&t.hasRetryTokens(n.errorType)&&this.isRetryableError(n.errorType)}isRetryableError(t){return t==="THROTTLING"||t==="TRANSIENT"}};var lu=class{constructor(t,n){this.maxAttemptsProvider=t,this.mode=$n.ADAPTIVE;let{rateLimiter:r}=n??{};this.rateLimiter=r??new bd,this.standardRetryStrategy=new Wa(t)}async acquireInitialRetryToken(t){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(t)}async refreshRetryTokenForRetry(t,n){return this.rateLimiter.updateClientSendingRate(n),this.standardRetryStrategy.refreshRetryTokenForRetry(t,n)}recordSuccess(t){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(t)}};var cp=e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`);var Xk="AWS_MAX_ATTEMPTS",Qk="max_attempts",us={environmentVariableSelector:e=>{let t=e[Xk];if(!t)return;let n=parseInt(t);if(Number.isNaN(n))throw new Error(`Environment variable ${Xk} mast be a number, got "${t}"`);return n},configFileSelector:e=>{let t=e[Qk];if(!t)return;let n=parseInt(t);if(Number.isNaN(n))throw new Error(`Shared config file entry ${Qk} mast be a number, got "${t}"`);return n},default:to},ms=e=>{let{retryStrategy:t}=e,n=xt(e.maxAttempts??to);return{...e,maxAttempts:n,retryStrategy:async()=>t||(await xt(e.retryMode)()===$n.ADAPTIVE?new lu(n):new Wa(n))}},j6="AWS_RETRY_MODE",H6="retry_mode",fs={environmentVariableSelector:e=>e[j6],configFileSelector:e=>e[H6],default:Gn};ch();var K6=e=>(t,n)=>async r=>{let s=await e.retryStrategy(),o=await e.maxAttempts();if(V6(s)){s=s;let a=await s.acquireInitialRetryToken(n.partition_id),i=new Error,l=0,d=0,{request:c}=r;for(v.isInstance(c)&&(c.headers[au]=Dl());;)try{v.isInstance(c)&&(c.headers[cu]=`attempt=${l+1}; max=${o}`);let{response:m,output:u}=await t(r);return s.recordSuccess(a),u.$metadata.attempts=l+1,u.$metadata.totalRetryDelay=d,{response:m,output:u}}catch(m){let u=W6(m);i=cp(m);try{a=await s.refreshRetryTokenForRetry(a,u)}catch{throw i.$metadata||(i.$metadata={}),i.$metadata.attempts=l+1,i.$metadata.totalRetryDelay=d,i}l=a.getRetryCount();let w=a.getRetryDelay();d+=w,await new Promise(S=>setTimeout(S,w))}}else return s=s,s!=null&&s.mode&&(n.userAgent=[...n.userAgent||[],["cfg/retry-mode",s.mode]]),s.retry(t,r)},V6=e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u",W6=e=>{let t={errorType:Y6(e)},n=Q6(e.$response);return n&&(t.retryAfterHint=n),t},Y6=e=>Ka(e)?"THROTTLING":iu(e)?"TRANSIENT":$k(e)?"SERVER_ERROR":"CLIENT_ERROR",X6={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},hs=e=>({applyToStack:t=>{t.add(K6(e),X6)}}),Q6=e=>{if(!fn.isInstance(e))return;let t=Object.keys(e.headers).find(o=>o.toLowerCase()==="retry-after");if(!t)return;let n=e.headers[t],r=Number(n);return Number.isNaN(r)?new Date(n):new Date(r*1e3)};var Ht=class extends Error{constructor(t,n=!0){super(t),this.tryNextLink=n,this.name="ProviderError",Object.setPrototypeOf(this,Ht.prototype)}static from(t,n=!0){return Object.assign(new this(t.message,n),t)}};var ne=class extends Ht{constructor(t,n=!0){super(t,n),this.tryNextLink=n,this.name="CredentialsProviderError",Object.setPrototypeOf(this,ne.prototype)}};var Kt=class extends Ht{constructor(t,n=!0){super(t,n),this.tryNextLink=n,this.name="TokenProviderError",Object.setPrototypeOf(this,Kt.prototype)}};function uu(...e){return()=>{let t=Promise.reject(new Ht("No providers in chain"));for(let n of e)t=t.catch(r=>{if(r!=null&&r.tryNextLink)return n();throw r});return t}}var Zk=e=>()=>Promise.resolve(e);var ps=(e,t,n)=>{let r,s,o,a=!1,i=async()=>{s||(s=e());try{r=await s,o=!0,a=!1}finally{s=void 0}return r};return t===void 0?async l=>((!o||l!=null&&l.forceRefresh)&&(r=await i()),r):async l=>((!o||l!=null&&l.forceRefresh)&&(r=await i()),a?r:n&&!n(r)?(a=!0,r):(t(r)&&await i(),r))};var Jk={},dp={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),Jk[e]=t,dp[t]=e}function eR(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2){let r=e.slice(n,n+2).toLowerCase();if(r in dp)t[n/2]=dp[r];else throw new Error(`Cannot decode unrecognized sequence ${r} as hexadecimal`)}return t}function wt(e){let t="";for(let n=0;n<e.byteLength;n++)t+=Jk[e[n]];return t}var tR="X-Amz-Algorithm",nR="X-Amz-Credential",lp="X-Amz-Date",rR="X-Amz-SignedHeaders",sR="X-Amz-Expires",up="X-Amz-Signature",mp="X-Amz-Security-Token";var fp="authorization",hp=lp.toLowerCase(),Z6="date",oR=[fp,hp,Z6],iR=up.toLowerCase(),Pd="x-amz-content-sha256",aR=mp.toLowerCase();var cR={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},dR=/^proxy-/,lR=/^sec-/;var mu="AWS4-HMAC-SHA256";var uR="AWS4-HMAC-SHA256-PAYLOAD",mR="UNSIGNED-PAYLOAD",fR=50,pp="aws4_request",hR=60*60*24*7;var fu={},yp=[],hu=(e,t,n)=>`${e}/${t}/${n}/${pp}`,yR=async(e,t,n,r,s)=>{let o=await pR(e,t.secretAccessKey,t.accessKeyId),a=`${n}:${r}:${s}:${wt(o)}:${t.sessionToken}`;if(a in fu)return fu[a];for(yp.push(a);yp.length>fR;)delete fu[yp.shift()];let i=`AWS4${t.secretAccessKey}`;for(let l of[n,r,s,pp])i=await pR(e,i,l);return fu[a]=i};var pR=(e,t,n)=>{let r=new e(t);return r.update(jt(n)),r.digest()};var pu=({headers:e},t,n)=>{let r={};for(let s of Object.keys(e).sort()){if(e[s]==null)continue;let o=s.toLowerCase();(o in cR||t!=null&&t.has(o)||dR.test(o)||lR.test(o))&&(!n||n&&!n.has(o))||(r[o]=e[s].trim().replace(/\s+/g," "))}return r};var jn=e=>encodeURIComponent(e).replace(/[!'()*]/g,J6),J6=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`;var gp=({query:e={}})=>{let t=[],n={};for(let r of Object.keys(e).sort()){if(r.toLowerCase()===iR)continue;t.push(r);let s=e[r];typeof s=="string"?n[r]=`${jn(r)}=${jn(s)}`:Array.isArray(s)&&(n[r]=s.slice(0).sort().reduce((o,a)=>o.concat([`${jn(r)}=${jn(a)}`]),[]).join("&"))}return t.map(r=>n[r]).filter(r=>r).join("&")};var _d=async({headers:e,body:t},n)=>{for(let r of Object.keys(e))if(r.toLowerCase()===Pd)return e[r];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||Pi(t)){let r=new n;return r.update(jt(t)),wt(await r.digest())}return mR};var gR=(e,t)=>{e=e.toLowerCase();for(let n of Object.keys(t))if(e===n.toLowerCase())return!0;return!1};var yu=({headers:e,query:t,...n})=>({...n,headers:{...e},query:t?eK(t):void 0}),eK=e=>Object.keys(e).reduce((t,n)=>{let r=e[n];return{...t,[n]:Array.isArray(r)?[...r]:r}},{});var Ep=(e,t={})=>{var s;let{headers:n,query:r={}}=typeof e.clone=="function"?e.clone():yu(e);for(let o of Object.keys(n)){let a=o.toLowerCase();a.slice(0,6)==="x-amz-"&&!((s=t.unhoistableHeaders)!=null&&s.has(a))&&(r[o]=n[o],delete n[o])}return{...e,headers:n,query:r}};var gu=e=>{e=typeof e.clone=="function"?e.clone():yu(e);for(let t of Object.keys(e.headers))oR.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e};var ER=e=>tK(e).toISOString().replace(/\.\d{3}Z$/,"Z"),tK=e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e;var no=class{constructor({applyChecksum:t,credentials:n,region:r,service:s,sha256:o,uriEscapePath:a=!0}){this.service=s,this.sha256=o,this.uriEscapePath=a,this.applyChecksum=typeof t=="boolean"?t:!0,this.regionProvider=xt(r),this.credentialProvider=xt(n)}async presign(t,n={}){let{signingDate:r=new Date,expiresIn:s=3600,unsignableHeaders:o,unhoistableHeaders:a,signableHeaders:i,signingRegion:l,signingService:d}=n,c=await this.credentialProvider();this.validateResolvedCredentials(c);let m=l??await this.regionProvider(),{longDate:u,shortDate:w}=Eu(r);if(s>hR)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let S=hu(w,m,d??this.service),I=Ep(gu(t),{unhoistableHeaders:a});c.sessionToken&&(I.query[mp]=c.sessionToken),I.query[tR]=mu,I.query[nR]=`${c.accessKeyId}/${S}`,I.query[lp]=u,I.query[sR]=s.toString(10);let D=pu(I,o,i);return I.query[rR]=SR(D),I.query[up]=await this.getSignature(u,S,this.getSigningKey(c,m,w,d),this.createCanonicalRequest(I,D,await _d(t,this.sha256))),I}async sign(t,n){return typeof t=="string"?this.signString(t,n):t.headers&&t.payload?this.signEvent(t,n):this.signRequest(t,n)}async signEvent({headers:t,payload:n},{signingDate:r=new Date,priorSignature:s,signingRegion:o,signingService:a}){let i=o??await this.regionProvider(),{shortDate:l,longDate:d}=Eu(r),c=hu(l,i,a??this.service),m=await _d({headers:{},body:n},this.sha256),u=new this.sha256;u.update(t);let w=wt(await u.digest()),S=[uR,d,c,s,w,m].join(`
`);return this.signString(S,{signingDate:r,signingRegion:i,signingService:a})}async signString(t,{signingDate:n=new Date,signingRegion:r,signingService:s}={}){let o=await this.credentialProvider();this.validateResolvedCredentials(o);let a=r??await this.regionProvider(),{shortDate:i}=Eu(n),l=new this.sha256(await this.getSigningKey(o,a,i,s));return l.update(jt(t)),wt(await l.digest())}async signRequest(t,{signingDate:n=new Date,signableHeaders:r,unsignableHeaders:s,signingRegion:o,signingService:a}={}){let i=await this.credentialProvider();this.validateResolvedCredentials(i);let l=o??await this.regionProvider(),d=gu(t),{longDate:c,shortDate:m}=Eu(n),u=hu(m,l,a??this.service);d.headers[hp]=c,i.sessionToken&&(d.headers[aR]=i.sessionToken);let w=await _d(d,this.sha256);!gR(Pd,d.headers)&&this.applyChecksum&&(d.headers[Pd]=w);let S=pu(d,s,r),I=await this.getSignature(c,u,this.getSigningKey(i,l,m,a),this.createCanonicalRequest(d,S,w));return d.headers[fp]=`${mu} Credential=${i.accessKeyId}/${u}, SignedHeaders=${SR(S)}, Signature=${I}`,d}createCanonicalRequest(t,n,r){let s=Object.keys(n).sort();return`${t.method}
${this.getCanonicalPath(t)}
${gp(t)}
${s.map(o=>`${o}:${n[o]}`).join(`
`)}

${s.join(";")}
${r}`}async createStringToSign(t,n,r){let s=new this.sha256;s.update(jt(r));let o=await s.digest();return`${mu}
${t}
${n}
${wt(o)}`}getCanonicalPath({path:t}){if(this.uriEscapePath){let n=[];for(let o of t.split("/"))(o==null?void 0:o.length)!==0&&o!=="."&&(o===".."?n.pop():n.push(o));let r=`${t!=null&&t.startsWith("/")?"/":""}${n.join("/")}${n.length>0&&(t!=null&&t.endsWith("/"))?"/":""}`;return encodeURIComponent(r).replace(/%2F/g,"/")}return t}async getSignature(t,n,r,s){let o=await this.createStringToSign(t,n,s),a=new this.sha256(await r);return a.update(jt(o)),wt(await a.digest())}getSigningKey(t,n,r,s){return yR(this.sha256,t,r,n,s||this.service)}validateResolvedCredentials(t){if(typeof t!="object"||typeof t.accessKeyId!="string"||typeof t.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}},Eu=e=>{let t=ER(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}},SR=e=>Object.keys(e).sort().join(";");var nK=3e5,Su=e=>{let t=e.credentials?rK(e.credentials):e.credentialDefaultProvider(e),{signingEscapePath:n=!0,systemClockOffset:r=e.systemClockOffset||0,sha256:s}=e,o;return e.signer?o=xt(e.signer):e.regionInfoProvider?o=()=>xt(e.region)().then(async a=>[await e.regionInfoProvider(a,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},a]).then(([a,i])=>{let{signingRegion:l,signingService:d}=a;e.signingRegion=e.signingRegion||l||i,e.signingName=e.signingName||d||e.serviceId;let c={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:s,uriEscapePath:n},m=e.signerConstructor||no;return new m(c)}):o=async a=>{a=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await xt(e.region)(),properties:{}},a);let i=a.signingRegion,l=a.signingName;e.signingRegion=e.signingRegion||i,e.signingName=e.signingName||l||e.serviceId;let d={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:s,uriEscapePath:n},c=e.signerConstructor||no;return new c(d)},{...e,systemClockOffset:r,signingEscapePath:n,credentials:t,signer:o}};var rK=e=>typeof e=="function"?ps(e,t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<nK,t=>t.expiration!==void 0):xt(e);var xu=e=>new Date(Date.now()+e);var xR=(e,t)=>Math.abs(xu(t).getTime()-e)>=3e5;var Sp=(e,t)=>{let n=Date.parse(e);return xR(n,t)?n-Date.now():t};var sK=e=>(t,n)=>async function(r){var d,c,m,u;if(!v.isInstance(r.request))return t(r);let s=(m=(c=(d=n.endpointV2)==null?void 0:d.properties)==null?void 0:c.authSchemes)==null?void 0:m[0],o=(s==null?void 0:s.name)==="sigv4a"?(u=s==null?void 0:s.signingRegionSet)==null?void 0:u.join(","):void 0,a=await e.signer(s),i=await t({...r,request:await a.sign(r.request,{signingDate:xu(e.systemClockOffset),signingRegion:o||n.signing_region,signingService:n.signing_service})}).catch(w=>{let S=w.ServerTime??wR(w.$response);throw S&&(e.systemClockOffset=Sp(S,e.systemClockOffset)),w}),l=wR(i.response);return l&&(e.systemClockOffset=Sp(l,e.systemClockOffset)),i},wR=e=>{var t,n;return fn.isInstance(e)?((t=e.headers)==null?void 0:t.date)??((n=e.headers)==null?void 0:n.Date):void 0},oK={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},wu=e=>({applyToStack:t=>{t.addRelativeTo(sK(e),oK)}});function ys(e){return{...e,customUserAgent:typeof e.customUserAgent=="string"?[[e.customUserAgent]]:e.customUserAgent}}var xp={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}}],version:"1.1"};var CR=xp,bR="",aK=e=>{let{partitions:t}=CR;for(let r of t){let{regions:s,outputs:o}=r;for(let[a,i]of Object.entries(s))if(a===e)return{...o,...i}}for(let r of t){let{regionRegex:s,outputs:o}=r;if(new RegExp(s).test(e))return{...o}}let n=t.find(r=>r.id==="aws");if(!n)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...n.outputs}},PR=(e,t="")=>{CR=e,bR=t},cK=()=>{PR(xp,"")},wp=()=>bR;var hr="endpoints";function pn(e){return typeof e!="object"||e==null?e:"ref"in e?`$${pn(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(pn).join(", ")})`:JSON.stringify(e,null,2)}var He=class extends Error{constructor(t){super(t),this.name="EndpointError"}};var _p={};Oo(_p,{aws:()=>Cp,booleanEquals:()=>mK,getAttr:()=>bp,isSet:()=>fK,isValidHostLabel:()=>bu,not:()=>hK,parseURL:()=>pK,stringEquals:()=>yK,substring:()=>gK,uriEncode:()=>EK});var Cp={};Oo(Cp,{getUserAgentPrefix:()=>wp,isVirtualHostableS3Bucket:()=>_R,parseArn:()=>uK,partition:()=>aK,setPartitionInfo:()=>PR,useDefaultPartitionInfo:()=>cK});var dK=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),Cu=e=>dK.test(e)||e.startsWith("[")&&e.endsWith("]");var lK=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),bu=(e,t=!1)=>{if(!t)return lK.test(e);let n=e.split(".");for(let r of n)if(!bu(r))return!1;return!0};var _R=(e,t=!1)=>{if(t){for(let n of e.split("."))if(!_R(n))return!1;return!0}return!(!bu(e)||e.length<3||e.length>63||e!==e.toLowerCase()||Cu(e))};var uK=e=>{let t=e.split(":");if(t.length<6)return null;let[n,r,s,o,a,...i]=t;return n!=="arn"||r===""||s===""||i[0]===""?null:{partition:r,service:s,region:o,accountId:a,resourceId:i[0].includes("/")?i[0].split("/"):i}};var mK=(e,t)=>e===t;var AR=e=>{let t=e.split("."),n=[];for(let r of t){let s=r.indexOf("[");if(s!==-1){if(r.indexOf("]")!==r.length-1)throw new He(`Path: '${e}' does not end with ']'`);let o=r.slice(s+1,-1);if(Number.isNaN(parseInt(o)))throw new He(`Invalid array index: '${o}' in path: '${e}'`);s!==0&&n.push(r.slice(0,s)),n.push(o)}else n.push(r)}return n};var bp=(e,t)=>AR(t).reduce((n,r)=>{if(typeof n!="object")throw new He(`Index '${r}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(n)?n[parseInt(r)]:n[r]},e);var fK=e=>e!=null;var hK=e=>!e;var kR;(function(e){e.HEADER="header",e.QUERY="query"})(kR||(kR={}));var RR;(function(e){e.AAAA="AAAA",e.A="A"})(RR||(RR={}));var Ya;(function(e){e.HTTP="http",e.HTTPS="https"})(Ya||(Ya={}));var IR;(function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"})(IR||(IR={}));var Pp={[Ya.HTTP]:80,[Ya.HTTPS]:443},pK=e=>{let t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:u,port:w,protocol:S="",path:I="",query:D={}}=e,X=new URL(`${S}//${u}${w?`:${w}`:""}${I}`);return X.search=Object.entries(D).map(([Ce,ye])=>`${Ce}=${ye}`).join("&"),X}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let n=t.href,{host:r,hostname:s,pathname:o,protocol:a,search:i}=t;if(i)return null;let l=a.slice(0,-1);if(!Object.values(Ya).includes(l))return null;let d=Cu(s),c=n.includes(`${r}:${Pp[l]}`)||typeof e=="string"&&e.includes(`${r}:${Pp[l]}`),m=`${r}${c?`:${Pp[l]}`:""}`;return{scheme:l,authority:m,path:o,normalizedPath:o.endsWith("/")?o:`${o}/`,isIp:d}};var yK=(e,t)=>e===t;var gK=(e,t,n,r)=>t>=n||e.length<n?null:r?e.substring(e.length-n,e.length-t):e.substring(t,n);var EK=e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`);var Pu=(e,t)=>{let n=[],r={...t.endpointParams,...t.referenceRecord},s=0;for(;s<e.length;){let o=e.indexOf("{",s);if(o===-1){n.push(e.slice(s));break}n.push(e.slice(s,o));let a=e.indexOf("}",o);if(a===-1){n.push(e.slice(o));break}e[o+1]==="{"&&e[a+1]==="}"&&(n.push(e.slice(o+1,a)),s=a+2);let i=e.substring(o+1,a);if(i.includes("#")){let[l,d]=i.split("#");n.push(bp(r[l],d))}else n.push(r[i]);s=a+1}return n.join("")};var NR=({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e];var gs=(e,t,n)=>{if(typeof e=="string")return Pu(e,n);if(e.fn)return _u(e,n);if(e.ref)return NR(e,n);throw new He(`'${t}': ${String(e)} is not a string, function or reference.`)};var _u=({fn:e,argv:t},n)=>{let r=t.map(s=>["boolean","number"].includes(typeof s)?s:gs(s,"arg",n));return e.split(".").reduce((s,o)=>s[o],_p)(...r)};var vR=({assign:e,...t},n)=>{var s,o;if(e&&e in n.referenceRecord)throw new He(`'${e}' is already defined in Reference Record.`);let r=_u(t,n);return(o=(s=n.logger)==null?void 0:s.debug)==null||o.call(s,hr,`evaluateCondition: ${pn(t)} = ${pn(r)}`),{result:r===""?!0:!!r,...e!=null&&{toAssign:{name:e,value:r}}}};var Xa=(e=[],t)=>{var r,s;let n={};for(let o of e){let{result:a,toAssign:i}=vR(o,{...t,referenceRecord:{...t.referenceRecord,...n}});if(!a)return{result:a};i&&(n[i.name]=i.value,(s=(r=t.logger)==null?void 0:r.debug)==null||s.call(r,hr,`assign: ${i.name} := ${pn(i.value)}`))}return{result:!0,referenceRecord:n}};var TR=(e,t)=>Object.entries(e).reduce((n,[r,s])=>({...n,[r]:s.map(o=>{let a=gs(o,"Header value entry",t);if(typeof a!="string")throw new He(`Header '${r}' value '${a}' is not a string`);return a})}),{});var Ap=(e,t)=>{if(Array.isArray(e))return e.map(n=>Ap(n,t));switch(typeof e){case"string":return Pu(e,t);case"object":if(e===null)throw new He(`Unexpected endpoint property: ${e}`);return Au(e,t);case"boolean":return e;default:throw new He(`Unexpected endpoint property type: ${typeof e}`)}};var Au=(e,t)=>Object.entries(e).reduce((n,[r,s])=>({...n,[r]:Ap(s,t)}),{});var DR=(e,t)=>{let n=gs(e,"Endpoint URL",t);if(typeof n=="string")try{return new URL(n)}catch(r){throw console.error(`Failed to construct URL with ${n}`,r),r}throw new He(`Endpoint URL must be a string, got ${typeof n}`)};var BR=(e,t)=>{var c,m;let{conditions:n,endpoint:r}=e,{result:s,referenceRecord:o}=Xa(n,t);if(!s)return;let a={...t,referenceRecord:{...t.referenceRecord,...o}},{url:i,properties:l,headers:d}=r;return(m=(c=t.logger)==null?void 0:c.debug)==null||m.call(c,hr,`Resolving endpoint from template: ${pn(r)}`),{...d!=null&&{headers:TR(d,a)},...l!=null&&{properties:Au(l,a)},url:DR(i,a)}};var OR=(e,t)=>{let{conditions:n,error:r}=e,{result:s,referenceRecord:o}=Xa(n,t);if(s)throw new He(gs(r,"Error",{...t,referenceRecord:{...t.referenceRecord,...o}}))};var FR=(e,t)=>{let{conditions:n,rules:r}=e,{result:s,referenceRecord:o}=Xa(n,t);if(s)return ku(r,{...t,referenceRecord:{...t.referenceRecord,...o}})};var ku=(e,t)=>{for(let n of e)if(n.type==="endpoint"){let r=BR(n,t);if(r)return r}else if(n.type==="error")OR(n,t);else if(n.type==="tree"){let r=FR(n,t);if(r)return r}else throw new He(`Unknown endpoint rule: ${n}`);throw new He("Rules evaluation failed")};var Es=(e,t)=>{var d,c,m,u,w;let{endpointParams:n,logger:r}=t,{parameters:s,rules:o}=e;(c=(d=t.logger)==null?void 0:d.debug)==null||c.call(d,hr,`Initial EndpointParams: ${pn(n)}`);let a=Object.entries(s).filter(([,S])=>S.default!=null).map(([S,I])=>[S,I.default]);if(a.length>0)for(let[S,I]of a)n[S]=n[S]??I;let i=Object.entries(s).filter(([,S])=>S.required).map(([S])=>S);for(let S of i)if(n[S]==null)throw new He(`Missing required parameter: '${S}'`);let l=ku(o,{endpointParams:n,logger:r,referenceRecord:{}});if((m=t.endpointParams)!=null&&m.Endpoint)try{let S=new URL(t.endpointParams.Endpoint),{protocol:I,port:D}=S;l.url.protocol=I,l.url.port=D}catch{}return(w=(u=t.logger)==null?void 0:u.debug)==null||w.call(u,hr,`Resolved endpoint: ${pn(l)}`),l};var kp="user-agent",Ru="x-amz-user-agent",Rp=" ",MR=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g;var SK=e=>(t,n)=>async r=>{var u,w;let{request:s}=r;if(!v.isInstance(s))return t(r);let{headers:o}=s,a=((u=n==null?void 0:n.userAgent)==null?void 0:u.map(Ip))||[],i=(await e.defaultUserAgentProvider()).map(Ip),l=((w=e==null?void 0:e.customUserAgent)==null?void 0:w.map(Ip))||[],d=wp(),c=(d?[d]:[]).concat([...i,...a,...l]).join(Rp),m=[...i.filter(S=>S.startsWith("aws-sdk-")),...l].join(Rp);return e.runtime!=="browser"?(m&&(o[Ru]=o[Ru]?`${o[kp]} ${m}`:m),o[kp]=c):o[Ru]=c,t({...r,request:s})},Ip=([e,t])=>{let n=e.indexOf("/"),r=e.substring(0,n),s=e.substring(n+1);return r==="api"&&(s=s.toLowerCase()),[r,s,t].filter(o=>o&&o.length>0).map(o=>o==null?void 0:o.replace(MR,"_")).join("/")},xK={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},Ss=e=>({applyToStack:t=>{t.add(SK(e),xK)}});var LR=e=>({...e,useFipsEndpoint:e.useFipsEndpoint??!1,useDualstackEndpoint:e.useDualstackEndpoint??!1,useAccelerateEndpoint:e.useAccelerateEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,disableMultiregionAccessPoints:e.disableMultiregionAccessPoints??!1,defaultSigningName:"s3"});var UR={name:"@aws-sdk/client-s3",description:"AWS SDK for JavaScript S3 Client for Node.js, Browser and React Native",version:"3.309.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo s3",test:"yarn test:unit","test:e2e":"ts-mocha test/**/*.ispec.ts && karma start karma.conf.js","test:unit":"ts-mocha test/**/*.spec.ts"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha1-browser":"3.0.0","@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/client-sts":"3.309.0","@aws-sdk/config-resolver":"3.306.0","@aws-sdk/credential-provider-node":"3.309.0","@aws-sdk/eventstream-serde-browser":"3.306.0","@aws-sdk/eventstream-serde-config-resolver":"3.306.0","@aws-sdk/eventstream-serde-node":"3.306.0","@aws-sdk/fetch-http-handler":"3.306.0","@aws-sdk/hash-blob-browser":"3.306.0","@aws-sdk/hash-node":"3.306.0","@aws-sdk/hash-stream-node":"3.306.0","@aws-sdk/invalid-dependency":"3.306.0","@aws-sdk/md5-js":"3.306.0","@aws-sdk/middleware-bucket-endpoint":"3.306.0","@aws-sdk/middleware-content-length":"3.306.0","@aws-sdk/middleware-endpoint":"3.306.0","@aws-sdk/middleware-expect-continue":"3.306.0","@aws-sdk/middleware-flexible-checksums":"3.306.0","@aws-sdk/middleware-host-header":"3.306.0","@aws-sdk/middleware-location-constraint":"3.306.0","@aws-sdk/middleware-logger":"3.306.0","@aws-sdk/middleware-recursion-detection":"3.306.0","@aws-sdk/middleware-retry":"3.306.0","@aws-sdk/middleware-sdk-s3":"3.306.0","@aws-sdk/middleware-serde":"3.306.0","@aws-sdk/middleware-signing":"3.306.0","@aws-sdk/middleware-ssec":"3.306.0","@aws-sdk/middleware-stack":"3.306.0","@aws-sdk/middleware-user-agent":"3.306.0","@aws-sdk/node-config-provider":"3.306.0","@aws-sdk/node-http-handler":"3.306.0","@aws-sdk/protocol-http":"3.306.0","@aws-sdk/signature-v4-multi-region":"3.306.0","@aws-sdk/smithy-client":"3.309.0","@aws-sdk/types":"3.306.0","@aws-sdk/url-parser":"3.306.0","@aws-sdk/util-base64":"3.303.0","@aws-sdk/util-body-length-browser":"3.303.0","@aws-sdk/util-body-length-node":"3.303.0","@aws-sdk/util-defaults-mode-browser":"3.309.0","@aws-sdk/util-defaults-mode-node":"3.309.0","@aws-sdk/util-endpoints":"3.306.0","@aws-sdk/util-retry":"3.306.0","@aws-sdk/util-stream-browser":"3.306.0","@aws-sdk/util-stream-node":"3.306.0","@aws-sdk/util-user-agent-browser":"3.306.0","@aws-sdk/util-user-agent-node":"3.306.0","@aws-sdk/util-utf8":"3.303.0","@aws-sdk/util-waiter":"3.306.0","@aws-sdk/xml-builder":"3.303.0","fast-xml-parser":"4.1.2",tslib:"^2.5.0"},devDependencies:{"@aws-sdk/service-client-documentation-generator":"3.303.0","@tsconfig/node14":"1.0.3","@types/chai":"^4.2.11","@types/mocha":"^8.0.4","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-s3",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-s3"}};var zR=cn(qh());var Ut=class extends mn{constructor(t){super(t),Object.setPrototypeOf(this,Ut.prototype)}};var Qa=class extends Ut{constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,Qa.prototype)}},Za=class extends Ut{constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),this.name="MalformedPolicyDocumentException",this.$fault="client",Object.setPrototypeOf(this,Za.prototype)}},Ja=class extends Ut{constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),this.name="PackedPolicyTooLargeException",this.$fault="client",Object.setPrototypeOf(this,Ja.prototype)}},ec=class extends Ut{constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),this.name="RegionDisabledException",this.$fault="client",Object.setPrototypeOf(this,ec.prototype)}},tc=class extends Ut{constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),this.name="IDPRejectedClaimException",this.$fault="client",Object.setPrototypeOf(this,tc.prototype)}},nc=class extends Ut{constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),this.name="InvalidIdentityTokenException",this.$fault="client",Object.setPrototypeOf(this,nc.prototype)}},rc=class extends Ut{constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),this.name="IDPCommunicationErrorException",this.$fault="client",Object.setPrototypeOf(this,rc.prototype)}};var qR=async(e,t)=>{let n={"content-type":"application/x-www-form-urlencoded"},r;return r=e0({...kK(e,t),Action:"AssumeRole",Version:"2011-06-15"}),ZR(t,n,"/",void 0,r)};var $R=async(e,t)=>{let n={"content-type":"application/x-www-form-urlencoded"},r;return r=e0({...RK(e,t),Action:"AssumeRoleWithWebIdentity",Version:"2011-06-15"}),ZR(t,n,"/",void 0,r)};var GR=async(e,t)=>{if(e.statusCode>=300)return CK(e,t);let n=await Np(e.body,t),r={};r=DK(n.AssumeRoleResult,t);let s={$metadata:pr(e),...r};return Promise.resolve(s)},CK=async(e,t)=>{let n={...e,body:await JR(e.body,t)},r=t0(e,n.body);switch(r){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await HR(n,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await KR(n,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await VR(n,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await WR(n,t);default:let s=n.body;z({output:e,parsedBody:s.Error,exceptionCtor:Ut,errorCode:r})}};var jR=async(e,t)=>{if(e.statusCode>=300)return bK(e,t);let n=await Np(e.body,t),r={};r=BK(n.AssumeRoleWithWebIdentityResult,t);let s={$metadata:pr(e),...r};return Promise.resolve(s)},bK=async(e,t)=>{let n={...e,body:await JR(e.body,t)},r=t0(e,n.body);switch(r){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await HR(n,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await PK(n,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await _K(n,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await AK(n,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await KR(n,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await VR(n,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await WR(n,t);default:let s=n.body;z({output:e,parsedBody:s.Error,exceptionCtor:Ut,errorCode:r})}};var HR=async(e,t)=>{let n=e.body,r=OK(n.Error,t),s=new Qa({$metadata:pr(e),...r});return we(s,n)},PK=async(e,t)=>{let n=e.body,r=FK(n.Error,t),s=new rc({$metadata:pr(e),...r});return we(s,n)},_K=async(e,t)=>{let n=e.body,r=MK(n.Error,t),s=new tc({$metadata:pr(e),...r});return we(s,n)};var AK=async(e,t)=>{let n=e.body,r=LK(n.Error,t),s=new nc({$metadata:pr(e),...r});return we(s,n)},KR=async(e,t)=>{let n=e.body,r=UK(n.Error,t),s=new Za({$metadata:pr(e),...r});return we(s,n)},VR=async(e,t)=>{let n=e.body,r=zK(n.Error,t),s=new Ja({$metadata:pr(e),...r});return we(s,n)},WR=async(e,t)=>{let n=e.body,r=qK(n.Error,t),s=new ec({$metadata:pr(e),...r});return we(s,n)},kK=(e,t)=>{var r,s,o;let n={};if(e.RoleArn!=null&&(n.RoleArn=e.RoleArn),e.RoleSessionName!=null&&(n.RoleSessionName=e.RoleSessionName),e.PolicyArns!=null){let a=YR(e.PolicyArns,t);((r=e.PolicyArns)==null?void 0:r.length)===0&&(n.PolicyArns=[]),Object.entries(a).forEach(([i,l])=>{let d=`PolicyArns.${i}`;n[d]=l})}if(e.Policy!=null&&(n.Policy=e.Policy),e.DurationSeconds!=null&&(n.DurationSeconds=e.DurationSeconds),e.Tags!=null){let a=TK(e.Tags,t);((s=e.Tags)==null?void 0:s.length)===0&&(n.Tags=[]),Object.entries(a).forEach(([i,l])=>{let d=`Tags.${i}`;n[d]=l})}if(e.TransitiveTagKeys!=null){let a=vK(e.TransitiveTagKeys,t);((o=e.TransitiveTagKeys)==null?void 0:o.length)===0&&(n.TransitiveTagKeys=[]),Object.entries(a).forEach(([i,l])=>{let d=`TransitiveTagKeys.${i}`;n[d]=l})}return e.ExternalId!=null&&(n.ExternalId=e.ExternalId),e.SerialNumber!=null&&(n.SerialNumber=e.SerialNumber),e.TokenCode!=null&&(n.TokenCode=e.TokenCode),e.SourceIdentity!=null&&(n.SourceIdentity=e.SourceIdentity),n};var RK=(e,t)=>{var r;let n={};if(e.RoleArn!=null&&(n.RoleArn=e.RoleArn),e.RoleSessionName!=null&&(n.RoleSessionName=e.RoleSessionName),e.WebIdentityToken!=null&&(n.WebIdentityToken=e.WebIdentityToken),e.ProviderId!=null&&(n.ProviderId=e.ProviderId),e.PolicyArns!=null){let s=YR(e.PolicyArns,t);((r=e.PolicyArns)==null?void 0:r.length)===0&&(n.PolicyArns=[]),Object.entries(s).forEach(([o,a])=>{let i=`PolicyArns.${o}`;n[i]=a})}return e.Policy!=null&&(n.Policy=e.Policy),e.DurationSeconds!=null&&(n.DurationSeconds=e.DurationSeconds),n};var YR=(e,t)=>{let n={},r=1;for(let s of e){if(s===null)continue;let o=IK(s,t);Object.entries(o).forEach(([a,i])=>{n[`member.${r}.${a}`]=i}),r++}return n},IK=(e,t)=>{let n={};return e.arn!=null&&(n.arn=e.arn),n},NK=(e,t)=>{let n={};return e.Key!=null&&(n.Key=e.Key),e.Value!=null&&(n.Value=e.Value),n},vK=(e,t)=>{let n={},r=1;for(let s of e)s!==null&&(n[`member.${r}`]=s,r++);return n},TK=(e,t)=>{let n={},r=1;for(let s of e){if(s===null)continue;let o=NK(s,t);Object.entries(o).forEach(([a,i])=>{n[`member.${r}.${a}`]=i}),r++}return n},XR=(e,t)=>{let n={};return e.AssumedRoleId!==void 0&&(n.AssumedRoleId=y(e.AssumedRoleId)),e.Arn!==void 0&&(n.Arn=y(e.Arn)),n},DK=(e,t)=>{let n={};return e.Credentials!==void 0&&(n.Credentials=QR(e.Credentials,t)),e.AssumedRoleUser!==void 0&&(n.AssumedRoleUser=XR(e.AssumedRoleUser,t)),e.PackedPolicySize!==void 0&&(n.PackedPolicySize=Ie(e.PackedPolicySize)),e.SourceIdentity!==void 0&&(n.SourceIdentity=y(e.SourceIdentity)),n};var BK=(e,t)=>{let n={};return e.Credentials!==void 0&&(n.Credentials=QR(e.Credentials,t)),e.SubjectFromWebIdentityToken!==void 0&&(n.SubjectFromWebIdentityToken=y(e.SubjectFromWebIdentityToken)),e.AssumedRoleUser!==void 0&&(n.AssumedRoleUser=XR(e.AssumedRoleUser,t)),e.PackedPolicySize!==void 0&&(n.PackedPolicySize=Ie(e.PackedPolicySize)),e.Provider!==void 0&&(n.Provider=y(e.Provider)),e.Audience!==void 0&&(n.Audience=y(e.Audience)),e.SourceIdentity!==void 0&&(n.SourceIdentity=y(e.SourceIdentity)),n},QR=(e,t)=>{let n={};return e.AccessKeyId!==void 0&&(n.AccessKeyId=y(e.AccessKeyId)),e.SecretAccessKey!==void 0&&(n.SecretAccessKey=y(e.SecretAccessKey)),e.SessionToken!==void 0&&(n.SessionToken=y(e.SessionToken)),e.Expiration!==void 0&&(n.Expiration=W(_t(e.Expiration))),n};var OK=(e,t)=>{let n={};return e.message!==void 0&&(n.message=y(e.message)),n};var FK=(e,t)=>{let n={};return e.message!==void 0&&(n.message=y(e.message)),n},MK=(e,t)=>{let n={};return e.message!==void 0&&(n.message=y(e.message)),n};var LK=(e,t)=>{let n={};return e.message!==void 0&&(n.message=y(e.message)),n},UK=(e,t)=>{let n={};return e.message!==void 0&&(n.message=y(e.message)),n},zK=(e,t)=>{let n={};return e.message!==void 0&&(n.message=y(e.message)),n},qK=(e,t)=>{let n={};return e.message!==void 0&&(n.message=y(e.message)),n},pr=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),$K=(e=new Uint8Array,t)=>e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array),GK=(e,t)=>$K(e,t).then(n=>t.utf8Encoder(n)),ZR=async(e,t,n,r,s)=>{let{hostname:o,protocol:a="https",port:i,path:l}=await e.endpoint(),d={protocol:a,hostname:o,port:i,method:"POST",path:l.endsWith("/")?l.slice(0,-1)+n:l+n,headers:t};return r!==void 0&&(d.hostname=r),s!==void 0&&(d.body=s),new v(d)},Np=(e,t)=>GK(e,t).then(n=>{if(n.length){let r=new zR.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(l,d)=>d.trim()===""&&d.includes(`
`)?"":void 0});r.addEntity("#xD","\r"),r.addEntity("#10",`
`);let s=r.parse(n),o="#text",a=Object.keys(s)[0],i=s[a];return i[o]&&(i[a]=i[o],delete i[o]),hd(i)}return{}}),JR=async(e,t)=>{let n=await Np(e,t);return n.Error&&(n.Error.message=n.Error.message??n.Error.Message),n},e0=e=>Object.entries(e).map(([t,n])=>Ho(t)+"="+Ho(n)).join("&"),t0=(e,t)=>{var n;if(((n=t.Error)==null?void 0:n.Code)!==void 0)return t.Error.Code;if(e.statusCode==404)return"NotFound"};var sc=class extends x{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,sc.getEndpointParameterInstructions())),this.middlewareStack.use(wu(n));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"STSClient",commandName:"AssumeRoleCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return qR(t,n)}deserialize(t,n){return GR(t,n)}};var oc=class extends x{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,oc.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"STSClient",commandName:"AssumeRoleWithWebIdentityCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return $R(t,n)}deserialize(t,n){return jR(t,n)}};var n0=(e,{stsClientCtor:t})=>Su({...e,stsClientCtor:t});var r0=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"});var s0={name:"@aws-sdk/client-sts",description:"AWS SDK for JavaScript Sts Client for Node.js, Browser and React Native",version:"3.309.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sts",test:"yarn test:unit","test:unit":"jest"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/config-resolver":"3.306.0","@aws-sdk/credential-provider-node":"3.309.0","@aws-sdk/fetch-http-handler":"3.306.0","@aws-sdk/hash-node":"3.306.0","@aws-sdk/invalid-dependency":"3.306.0","@aws-sdk/middleware-content-length":"3.306.0","@aws-sdk/middleware-endpoint":"3.306.0","@aws-sdk/middleware-host-header":"3.306.0","@aws-sdk/middleware-logger":"3.306.0","@aws-sdk/middleware-recursion-detection":"3.306.0","@aws-sdk/middleware-retry":"3.306.0","@aws-sdk/middleware-sdk-sts":"3.306.0","@aws-sdk/middleware-serde":"3.306.0","@aws-sdk/middleware-signing":"3.306.0","@aws-sdk/middleware-stack":"3.306.0","@aws-sdk/middleware-user-agent":"3.306.0","@aws-sdk/node-config-provider":"3.306.0","@aws-sdk/node-http-handler":"3.306.0","@aws-sdk/protocol-http":"3.306.0","@aws-sdk/smithy-client":"3.309.0","@aws-sdk/types":"3.306.0","@aws-sdk/url-parser":"3.306.0","@aws-sdk/util-base64":"3.303.0","@aws-sdk/util-body-length-browser":"3.303.0","@aws-sdk/util-body-length-node":"3.303.0","@aws-sdk/util-defaults-mode-browser":"3.309.0","@aws-sdk/util-defaults-mode-node":"3.309.0","@aws-sdk/util-endpoints":"3.306.0","@aws-sdk/util-retry":"3.306.0","@aws-sdk/util-user-agent-browser":"3.306.0","@aws-sdk/util-user-agent-node":"3.306.0","@aws-sdk/util-utf8":"3.303.0","fast-xml-parser":"4.1.2",tslib:"^2.5.0"},devDependencies:{"@aws-sdk/service-client-documentation-generator":"3.303.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sts",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sts"}};var o0="us-east-1",i0=e=>typeof e!="function"?e===void 0?o0:e:async()=>{try{return await e()}catch{return o0}},vp=(e,t)=>{let n,r;return async(s,o)=>{if(r=s,!n){let{logger:i,region:l,requestHandler:d}=e;n=new t({logger:i,credentialDefaultProvider:()=>async()=>r,region:i0(l||e.region),...d?{requestHandler:d}:{}})}let{Credentials:a}=await n.send(new sc(o));if(!a||!a.AccessKeyId||!a.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${o.RoleArn}`);return{accessKeyId:a.AccessKeyId,secretAccessKey:a.SecretAccessKey,sessionToken:a.SessionToken,expiration:a.Expiration}}},Tp=(e,t)=>{let n;return async r=>{if(!n){let{logger:o,region:a,requestHandler:i}=e;n=new t({logger:o,region:i0(a||e.region),...i?{requestHandler:i}:{}})}let{Credentials:s}=await n.send(new oc(r));if(!s||!s.AccessKeyId||!s.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${r.RoleArn}`);return{accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.SessionToken,expiration:s.Expiration}}},a0=e=>t=>e({roleAssumer:vp(t,t.stsClientCtor),roleAssumerWithWebIdentity:Tp(t,t.stsClientCtor),...t});var HK="AWS_ACCESS_KEY_ID",KK="AWS_SECRET_ACCESS_KEY",VK="AWS_SESSION_TOKEN",WK="AWS_CREDENTIAL_EXPIRATION",Iu=()=>async()=>{let e=process.env[HK],t=process.env[KK],n=process.env[VK],r=process.env[WK];if(e&&t)return{accessKeyId:e,secretAccessKey:t,...n&&{sessionToken:n},...r&&{expiration:new Date(r)}};throw new ne("Unable to find environment variable credentials.")};var c0=require("os"),d0=require("path"),ic=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:n,HOMEDRIVE:r=`C:${d0.sep}`}=process.env;return e||t||(n?`${r}${n}`:(0,c0.homedir)())};var Dp="AWS_PROFILE",YK="default",yn=e=>e.profile||process.env[Dp]||YK;var l0=require("crypto"),u0=require("path");var Nu=e=>{let n=(0,l0.createHash)("sha1").update(e).digest("hex");return(0,u0.join)(ic(),".aws","sso","cache",`${n}.json`)};var m0=require("fs");var{readFile:XK}=m0.promises,vu=async e=>{let t=Nu(e),n=await XK(t,"utf8");return JSON.parse(n)};var f0=require("path");var QK="AWS_CONFIG_FILE",Tu=()=>process.env[QK]||(0,f0.join)(ic(),".aws","config");var h0=require("path");var ZK="AWS_SHARED_CREDENTIALS_FILE",p0=()=>process.env[ZK]||(0,h0.join)(ic(),".aws","credentials");var y0=/^profile\s(["'])?([^\1]+)\1$/,g0=e=>Object.entries(e).filter(([t])=>y0.test(t)).reduce((t,[n,r])=>({...t,[y0.exec(n)[2]]:r}),{...e.default&&{default:e.default}});var JK=["__proto__","profile __proto__"],Ad=e=>{let t={},n;for(let r of e.split(/\r?\n/))if(r=r.split(/(^|\s)[;#]/)[0].trim(),r[0]==="["&&r[r.length-1]==="]"){if(n=r.substring(1,r.length-1),JK.includes(n))throw new Error(`Found invalid profile name "${n}"`)}else if(n){let o=r.indexOf("="),a=0,i=r.length-1;if(o!==-1&&o!==a&&o!==i){let[d,c]=[r.substring(0,o).trim(),r.substring(o+1).trim()];t[n]=t[n]||{},t[n][d]=c}}return t};var E0=require("fs"),{readFile:e4}=E0.promises,Bp={},kd=(e,t)=>((!Bp[e]||t!=null&&t.ignoreCache)&&(Bp[e]=e4(e,"utf8")),Bp[e]);var S0=()=>({}),Du=async(e={})=>{let{filepath:t=p0(),configFilepath:n=Tu()}=e,r=await Promise.all([kd(n,{ignoreCache:e.ignoreCache}).then(Ad).then(g0).catch(S0),kd(t,{ignoreCache:e.ignoreCache}).then(Ad).catch(S0)]);return{configFile:r[0],credentialsFile:r[1]}};var x0=/^sso-session\s(["'])?([^\1]+)\1$/,w0=e=>Object.entries(e).filter(([t])=>x0.test(t)).reduce((t,[n,r])=>({...t,[x0.exec(n)[2]]:r}),{});var t4=()=>({}),Bu=async(e={})=>kd(e.configFilepath??Tu()).then(Ad).then(w0).catch(t4);var C0=(...e)=>{let t={};for(let n of e)for(let[r,s]of Object.entries(n))t[r]!==void 0?Object.assign(t[r],s):t[r]=s;return t};var xs=async e=>{let t=await Du(e);return C0(t.configFile,t.credentialsFile)};var A0=require("url");var b0=require("buffer"),P0=require("http");function yr(e){return new Promise((t,n)=>{var s;let r=(0,P0.request)({method:"GET",...e,hostname:(s=e.hostname)==null?void 0:s.replace(/^\[(.+)\]$/,"$1")});r.on("error",o=>{n(Object.assign(new Ht("Unable to connect to instance metadata service"),o)),r.destroy()}),r.on("timeout",()=>{n(new Ht("TimeoutError from instance metadata service")),r.destroy()}),r.on("response",o=>{let{statusCode:a=400}=o;(a<200||300<=a)&&(n(Object.assign(new Ht("Error response received from instance metadata service"),{statusCode:a})),r.destroy());let i=[];o.on("data",l=>{i.push(l)}),o.on("end",()=>{t(b0.Buffer.concat(i)),r.destroy()})}),r.end()})}var Ou=e=>!!e&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string",Fu=e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration)});var Mu=({maxRetries:e=0,timeout:t=1e3})=>({maxRetries:e,timeout:t});var Rd=(e,t)=>{let n=e();for(let r=0;r<t;r++)n=n.catch(e);return n};var Id="AWS_CONTAINER_CREDENTIALS_FULL_URI",Nd="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",_0="AWS_CONTAINER_AUTHORIZATION_TOKEN",Lu=(e={})=>{let{timeout:t,maxRetries:n}=Mu(e);return()=>Rd(async()=>{let r=await i4(),s=JSON.parse(await n4(t,r));if(!Ou(s))throw new ne("Invalid response received from instance metadata service.");return Fu(s)},n)},n4=async(e,t)=>(process.env[_0]&&(t.headers={...t.headers,Authorization:process.env[_0]}),(await yr({...t,timeout:e})).toString()),r4="169.254.170.2",s4={localhost:!0,"127.0.0.1":!0},o4={"http:":!0,"https:":!0},i4=async()=>{if(process.env[Nd])return{hostname:r4,path:process.env[Nd]};if(process.env[Id]){let e=(0,A0.parse)(process.env[Id]);if(!e.hostname||!(e.hostname in s4))throw new ne(`${e.hostname} is not a valid container metadata service hostname`,!1);if(!e.protocol||!(e.protocol in o4))throw new ne(`${e.protocol} is not a valid container metadata service protocol`,!1);return{...e,port:e.port?parseInt(e.port,10):void 0}}throw new ne(`The container metadata credential provider cannot be used unless the ${Nd} or ${Id} environment variable is set`,!1)};var k0=e=>async()=>{try{let t=e(process.env);if(t===void 0)throw new Error;return t}catch(t){throw new ne(t.message||`Cannot load config from environment variables with getter: ${e}`)}};var R0=(e,{preferredFile:t="config",...n}={})=>async()=>{let r=yn(n),{configFile:s,credentialsFile:o}=await Du(n),a=o[r]||{},i=s[r]||{},l=t==="config"?{...a,...i}:{...i,...a};try{let d=e(l);if(d===void 0)throw new Error;return d}catch(d){throw new ne(d.message||`Cannot load config for profile ${r} in SDK configuration files with getter: ${e}`)}};var a4=e=>typeof e=="function",I0=e=>a4(e)?async()=>await e():Zk(e);var ke=({environmentVariableSelector:e,configFileSelector:t,default:n},r={})=>ps(uu(k0(e),R0(t,r),I0(n)));var vd;(function(e){e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]"})(vd||(vd={}));var c4="AWS_EC2_METADATA_SERVICE_ENDPOINT",d4="ec2_metadata_service_endpoint",N0={environmentVariableSelector:e=>e[c4],configFileSelector:e=>e[d4],default:void 0};var ws;(function(e){e.IPv4="IPv4",e.IPv6="IPv6"})(ws||(ws={}));var l4="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",u4="ec2_metadata_service_endpoint_mode",v0={environmentVariableSelector:e=>e[l4],configFileSelector:e=>e[u4],default:ws.IPv4};var Td=async()=>$t(await m4()||await f4()),m4=async()=>ke(N0)(),f4=async()=>{let e=await ke(v0)();switch(e){case ws.IPv4:return vd.IPv4;case ws.IPv6:return vd.IPv6;default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(ws)}`)}};var h4="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",Op=(e,t)=>{let n=300+Math.floor(Math.random()*300),r=new Date(Date.now()+n*1e3);t.warn("Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(newExpiration)}.\nFor more information, please visit: "+h4);let s=e.originalExpiration??e.expiration;return{...e,...s?{originalExpiration:s}:{},expiration:r}};var T0=(e,t={})=>{let n=(t==null?void 0:t.logger)||console,r;return async()=>{let s;try{s=await e(),s.expiration&&s.expiration.getTime()<Date.now()&&(s=Op(s,n))}catch(o){if(r)n.warn("Credential renew failed: ",o),s=Op(r,n);else throw o}return r=s,s}};var D0="/latest/meta-data/iam/security-credentials/",p4="/latest/api/token",Uu=(e={})=>T0(y4(e),{logger:e.logger}),y4=e=>{let t=!1,{timeout:n,maxRetries:r}=Mu(e),s=async(o,a)=>{let i=(await Rd(async()=>{let l;try{l=await E4(a)}catch(d){throw d.statusCode===401&&(t=!1),d}return l},o)).trim();return Rd(async()=>{let l;try{l=await S4(i,a)}catch(d){throw d.statusCode===401&&(t=!1),d}return l},o)};return async()=>{let o=await Td();if(t)return s(r,{...o,timeout:n});{let a;try{a=(await g4({...o,timeout:n})).toString()}catch(i){if((i==null?void 0:i.statusCode)===400)throw Object.assign(i,{message:"EC2 Metadata token request returned error"});return(i.message==="TimeoutError"||[403,404,405].includes(i.statusCode))&&(t=!0),s(r,{...o,timeout:n})}return s(r,{...o,headers:{"x-aws-ec2-metadata-token":a},timeout:n})}}},g4=async e=>yr({...e,path:p4,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),E4=async e=>(await yr({...e,path:D0})).toString(),S4=async(e,t)=>{let n=JSON.parse((await yr({...t,path:D0+e})).toString());if(!Ou(n))throw new ne("Invalid response received from instance metadata service.");return Fu(n)};var B0=(e,t)=>{let n={EcsContainer:Lu,Ec2InstanceMetadata:Uu,Environment:Iu};if(e in n)return n[e]();throw new ne(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`)};var O0=e=>!!e&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(x4(e)||w4(e)),x4=e=>typeof e.source_profile=="string"&&typeof e.credential_source>"u",w4=e=>typeof e.credential_source=="string"&&typeof e.source_profile>"u",F0=async(e,t,n,r={})=>{let s=t[e];if(!n.roleAssumer)throw new ne(`Profile ${e} requires a role to be assumed, but no role assumption callback was provided.`,!1);let{source_profile:o}=s;if(o&&o in r)throw new ne(`Detected a cycle attempting to resolve credentials for profile ${yn(n)}. Profiles visited: `+Object.keys(r).join(", "),!1);let a=o?zu(o,t,n,{...r,[o]:!0}):B0(s.credential_source,e)(),i={RoleArn:s.role_arn,RoleSessionName:s.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:s.external_id},{mfa_serial:l}=s;if(l){if(!n.mfaCodeProvider)throw new ne(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,!1);i.SerialNumber=l,i.TokenCode=await n.mfaCodeProvider(l)}let d=await a;return n.roleAssumer(d,i)};var L0=require("child_process"),U0=require("util");var M0=(e,t)=>{if(t.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(t.AccessKeyId===void 0||t.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){let n=new Date;if(new Date(t.Expiration)<n)throw Error(`Profile ${e} credential_process returned expired credentials.`)}return{accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)}}};var z0=async(e,t)=>{let n=t[e];if(t[e]){let r=n.credential_process;if(r!==void 0){let s=(0,U0.promisify)(L0.exec);try{let{stdout:o}=await s(r),a;try{a=JSON.parse(o.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return M0(e,a)}catch(o){throw new ne(o.message)}}else throw new ne(`Profile ${e} did not contain credential_process.`)}else throw new ne(`Profile ${e} could not be found in shared credentials file.`)};var qu=(e={})=>async()=>{let t=await xs(e);return z0(yn(e),t)};var q0=e=>!!e&&typeof e=="object"&&typeof e.credential_process=="string",$0=async(e,t)=>qu({...e,profile:t})();var Dd=e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string");var In=class extends mn{constructor(t){super(t),Object.setPrototypeOf(this,In.prototype)}};var ac=class extends In{constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,ac.prototype)}},cc=class extends In{constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,cc.prototype)}},dc=class extends In{constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),this.name="TooManyRequestsException",this.$fault="client",Object.setPrototypeOf(this,dc.prototype)}},lc=class extends In{constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),this.name="UnauthorizedException",this.$fault="client",Object.setPrototypeOf(this,lc.prototype)}},G0=e=>({...e,...e.accessToken&&{accessToken:Se}}),C4=e=>({...e,...e.secretAccessKey&&{secretAccessKey:Se},...e.sessionToken&&{sessionToken:Se}}),j0=e=>({...e,...e.roleCredentials&&{roleCredentials:C4(e.roleCredentials)}});var H0=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a=ro({},v4,{"x-amz-sso_bearer_token":e.accessToken}),i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/federation/credentials`,l=ro({role_name:[,W(e.roleName,"roleName")],account_id:[,W(e.accountId,"accountId")]}),d;return new v({protocol:r,hostname:n,port:s,method:"GET",headers:a,path:i,query:l,body:d})};var K0=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return b4(e,t);let n=ro({$metadata:Bd(e)}),r=W(de(await V0(e.body,t)),"body");return r.roleCredentials!=null&&(n.roleCredentials=R4(r.roleCredentials,t)),n},b4=async(e,t)=>{let n={...e,body:await T4(e.body,t)},r=D4(e,n.body);switch(r){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await P4(n,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await _4(n,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await A4(n,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await k4(n,t);default:let s=n.body;z({output:e,parsedBody:s,exceptionCtor:In,errorCode:r})}};var ro=Zs,P4=async(e,t)=>{let n=ro({}),r=e.body;r.message!=null&&(n.message=y(r.message));let s=new ac({$metadata:Bd(e),...n});return we(s,e.body)},_4=async(e,t)=>{let n=ro({}),r=e.body;r.message!=null&&(n.message=y(r.message));let s=new cc({$metadata:Bd(e),...n});return we(s,e.body)},A4=async(e,t)=>{let n=ro({}),r=e.body;r.message!=null&&(n.message=y(r.message));let s=new dc({$metadata:Bd(e),...n});return we(s,e.body)},k4=async(e,t)=>{let n=ro({}),r=e.body;r.message!=null&&(n.message=y(r.message));let s=new lc({$metadata:Bd(e),...n});return we(s,e.body)};var R4=(e,t)=>({accessKeyId:y(e.accessKeyId),expiration:jo(e.expiration),secretAccessKey:y(e.secretAccessKey),sessionToken:y(e.sessionToken)});var Bd=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),I4=(e=new Uint8Array,t)=>e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array),N4=(e,t)=>I4(e,t).then(n=>t.utf8Encoder(n)),v4=e=>e!=null&&e!==""&&(!Object.getOwnPropertyNames(e).includes("length")||e.length!=0)&&(!Object.getOwnPropertyNames(e).includes("size")||e.size!=0),V0=(e,t)=>N4(e,t).then(n=>n.length?JSON.parse(n):{}),T4=async(e,t)=>{let n=await V0(e,t);return n.message=n.message??n.Message,n},D4=(e,t)=>{let n=(o,a)=>Object.keys(o).find(i=>i.toLowerCase()===a.toLowerCase()),r=o=>{let a=o;return typeof a=="number"&&(a=a.toString()),a.indexOf(",")>=0&&(a=a.split(",")[0]),a.indexOf(":")>=0&&(a=a.split(":")[0]),a.indexOf("#")>=0&&(a=a.split("#")[1]),a},s=n(e.headers,"x-amzn-errortype");if(s!==void 0)return r(e.headers[s]);if(t.code!==void 0)return r(t.code);if(t.__type!==void 0)return r(t.__type)};var uc=class extends x{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,uc.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"SSOClient",commandName:"GetRoleCredentialsCommand",inputFilterSensitiveLog:G0,outputFilterSensitiveLog:j0},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return H0(t,n)}deserialize(t,n){return K0(t,n)}};var W0=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"});var Y0={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.309.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/config-resolver":"3.306.0","@aws-sdk/fetch-http-handler":"3.306.0","@aws-sdk/hash-node":"3.306.0","@aws-sdk/invalid-dependency":"3.306.0","@aws-sdk/middleware-content-length":"3.306.0","@aws-sdk/middleware-endpoint":"3.306.0","@aws-sdk/middleware-host-header":"3.306.0","@aws-sdk/middleware-logger":"3.306.0","@aws-sdk/middleware-recursion-detection":"3.306.0","@aws-sdk/middleware-retry":"3.306.0","@aws-sdk/middleware-serde":"3.306.0","@aws-sdk/middleware-stack":"3.306.0","@aws-sdk/middleware-user-agent":"3.306.0","@aws-sdk/node-config-provider":"3.306.0","@aws-sdk/node-http-handler":"3.306.0","@aws-sdk/protocol-http":"3.306.0","@aws-sdk/smithy-client":"3.309.0","@aws-sdk/types":"3.306.0","@aws-sdk/url-parser":"3.306.0","@aws-sdk/util-base64":"3.303.0","@aws-sdk/util-body-length-browser":"3.303.0","@aws-sdk/util-body-length-node":"3.303.0","@aws-sdk/util-defaults-mode-browser":"3.309.0","@aws-sdk/util-defaults-mode-node":"3.309.0","@aws-sdk/util-endpoints":"3.306.0","@aws-sdk/util-retry":"3.306.0","@aws-sdk/util-user-agent-browser":"3.306.0","@aws-sdk/util-user-agent-node":"3.306.0","@aws-sdk/util-utf8":"3.303.0",tslib:"^2.5.0"},devDependencies:{"@aws-sdk/service-client-documentation-generator":"3.303.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}};var Q0=require("buffer"),$u=require("crypto"),gn=class{constructor(t,n){this.algorithmIdentifier=t,this.secret=n,this.reset()}update(t,n){this.hash.update(jt(X0(t,n)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?(0,$u.createHmac)(this.algorithmIdentifier,X0(this.secret)):(0,$u.createHash)(this.algorithmIdentifier)}};function X0(e,t){return Q0.Buffer.isBuffer(e)?e:typeof e=="string"?_i(e,t):ArrayBuffer.isView(e)?fr(e.buffer,e.byteOffset,e.byteLength):fr(e)}function Fp(e){let t=[];for(let n of Object.keys(e).sort()){let r=e[n];if(n=jn(n),Array.isArray(r))for(let s=0,o=r.length;s<o;s++)t.push(`${n}=${jn(r[s])}`);else{let s=n;(r||typeof r=="string")&&(s+=`=${jn(r)}`),t.push(s)}}return t.join("&")}var Gu=require("http"),ju=require("https");var Z0=["ECONNRESET","EPIPE","ETIMEDOUT"];var Mp=e=>{let t={};for(let n of Object.keys(e)){let r=e[n];t[n]=Array.isArray(r)?r.join(","):r}return t};var eI=require("stream");function Lp(e,t){(t.headers.Expect||t.headers.expect)==="100-continue"?e.on("continue",()=>{J0(e,t.body)}):J0(e,t.body)}function J0(e,t){t instanceof eI.Readable?t.pipe(e):t?e.end(Buffer.from(t)):e.end()}var tI=0,Hn=class{constructor(t){this.metadata={handlerProtocol:"http/1.1"},this.configProvider=new Promise((n,r)=>{typeof t=="function"?t().then(s=>{n(this.resolveDefaultConfig(s))}).catch(r):n(this.resolveDefaultConfig(t))})}resolveDefaultConfig(t){let{requestTimeout:n,connectionTimeout:r,socketTimeout:s,httpAgent:o,httpsAgent:a}=t||{},i=!0,l=50;return{connectionTimeout:r,socketTimeout:s,requestTimeout:n??r??s??tI,httpAgent:o||new Gu.Agent({keepAlive:i,maxSockets:l}),httpsAgent:a||new ju.Agent({keepAlive:i,maxSockets:l})}}destroy(){var t,n,r,s;(n=(t=this.config)==null?void 0:t.httpAgent)==null||n.destroy(),(s=(r=this.config)==null?void 0:r.httpsAgent)==null||s.destroy()}async handle(t,{abortSignal:n}={}){return this.config||(this.config=await this.configProvider),new Promise((r,s)=>{var m;if(!this.config)throw new Error("Node HTTP request handler config is not resolved");if(n!=null&&n.aborted){let u=new Error("Request aborted");u.name="AbortError",s(u);return}let o=t.protocol==="https:",a=Fp(t.query||{}),i={headers:t.headers,host:t.hostname,method:t.method,path:a?`${t.path}?${a}`:t.path,port:t.port,agent:o?this.config.httpsAgent:this.config.httpAgent},d=(o?ju.request:Gu.request)(i,u=>{let w=new fn({statusCode:u.statusCode||-1,headers:Mp(u.headers),body:u});r({response:w})});d.on("error",u=>{Z0.includes(u.code)?s(Object.assign(u,{name:"TimeoutError"})):s(u)});let c=((m=this.config)==null?void 0:m.requestTimeout)??tI;d.setTimeout(c,()=>{d.destroy(),s(Object.assign(new Error(`Connection timed out after ${c} ms`),{name:"TimeoutError"}))}),n&&(n.onabort=()=>{d.abort();let u=new Error("Request aborted");u.name="AbortError",s(u)}),Lp(d,t)})}};var Up=class{constructor(t){this.sessions=[],this.sessions=t??[]}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(t){this.sessions.push(t)}contains(t){return this.sessions.includes(t)}remove(t){this.sessions=this.sessions.filter(n=>n!==t)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(t){for(let n of this.sessions)n===t&&(n.destroyed||n.destroy())}};var nI=require("stream"),Hu=class extends nI.Writable{constructor(){super(...arguments),this.bufferedBytes=[]}_write(t,n,r){this.bufferedBytes.push(t),r()}};var Kn=e=>new Promise((t,n)=>{let r=new Hu;e.pipe(r),e.on("error",s=>{r.end(),n(s)}),r.on("error",n),r.on("finish",function(){let s=new Uint8Array(Buffer.concat(this.bufferedBytes));t(s)})});var Ku=require("fs"),Cs=e=>{if(!e)return 0;if(typeof e=="string")return Buffer.from(e).length;if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.path=="string"||Buffer.isBuffer(e.path))return(0,Ku.lstatSync)(e.path).size;if(typeof e.fd=="number")return(0,Ku.fstatSync)(e.fd).size;throw new Error(`Body Length computation failed for ${e}`)};var Vu=require("os"),Od=require("process");var rI=()=>{try{return typeof require=="function"&&typeof module<"u"&&require("aws-crt")?["md/crt-avail"]:null}catch{return null}};var O4="AWS_SDK_UA_APP_ID",F4="sdk-ua-app-id",bs=({serviceId:e,clientVersion:t})=>{let n=[["aws-sdk-js",t],[`os/${(0,Vu.platform)()}`,(0,Vu.release)()],["lang/js"],["md/nodejs",`${Od.versions.node}`]],r=rI();r&&n.push(r),e&&n.push([`api/${e}`,t]),Od.env.AWS_EXECUTION_ENV&&n.push([`exec-env/${Od.env.AWS_EXECUTION_ENV}`]);let s=ke({environmentVariableSelector:a=>a[O4],configFileSelector:a=>a[F4],default:void 0})(),o;return async()=>{if(!o){let a=await s;o=a?[...n,[`app/${a}`]]:[...n]}return o}};var M4=/^[A-Za-z0-9+/]*={0,2}$/,Ps=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!M4.exec(e))throw new TypeError("Invalid base64 string.");let t=_i(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};var _s=e=>fr(e.buffer,e.byteOffset,e.byteLength).toString("base64");var uI="required",gr="fn",Er="argv",mc="ref",zp="PartitionResult",Vn="tree",Fd="error",Md="endpoint",sI={[uI]:!1,type:"String"},oI={[uI]:!0,default:!1,type:"Boolean"},mI={[mc]:"Endpoint"},fI={[gr]:"booleanEquals",[Er]:[{[mc]:"UseFIPS"},!0]},hI={[gr]:"booleanEquals",[Er]:[{[mc]:"UseDualStack"},!0]},Wn={},iI={[gr]:"booleanEquals",[Er]:[!0,{[gr]:"getAttr",[Er]:[{[mc]:zp},"supportsFIPS"]}]},aI={[gr]:"booleanEquals",[Er]:[!0,{[gr]:"getAttr",[Er]:[{[mc]:zp},"supportsDualStack"]}]},cI=[mI],dI=[fI],lI=[hI],L4={version:"1.0",parameters:{Region:sI,UseDualStack:oI,UseFIPS:oI,Endpoint:sI},rules:[{conditions:[{[gr]:"aws.partition",[Er]:[{[mc]:"Region"}],assign:zp}],type:Vn,rules:[{conditions:[{[gr]:"isSet",[Er]:cI},{[gr]:"parseURL",[Er]:cI,assign:"url"}],type:Vn,rules:[{conditions:dI,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Fd},{type:Vn,rules:[{conditions:lI,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Fd},{endpoint:{url:mI,properties:Wn,headers:Wn},type:Md}]}]},{conditions:[fI,hI],type:Vn,rules:[{conditions:[iI,aI],type:Vn,rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Wn,headers:Wn},type:Md}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Fd}]},{conditions:dI,type:Vn,rules:[{conditions:[iI],type:Vn,rules:[{type:Vn,rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Wn,headers:Wn},type:Md}]}]},{error:"FIPS is enabled but this partition does not support FIPS",type:Fd}]},{conditions:lI,type:Vn,rules:[{conditions:[aI],type:Vn,rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Wn,headers:Wn},type:Md}]},{error:"DualStack is enabled but this partition does not support DualStack",type:Fd}]},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:Wn,headers:Wn},type:Md}]}]},pI=L4;var yI=(e,t={})=>Es(pI,{endpointParams:e,logger:t.logger});var gI=e=>({apiVersion:"2019-06-10",base64Decoder:(e==null?void 0:e.base64Decoder)??Ps,base64Encoder:(e==null?void 0:e.base64Encoder)??_s,disableHostPrefix:(e==null?void 0:e.disableHostPrefix)??!1,endpointProvider:(e==null?void 0:e.endpointProvider)??yI,logger:(e==null?void 0:e.logger)??new Fn,serviceId:(e==null?void 0:e.serviceId)??"SSO",urlParser:(e==null?void 0:e.urlParser)??$t,utf8Decoder:(e==null?void 0:e.utf8Decoder)??Un,utf8Encoder:(e==null?void 0:e.utf8Encoder)??ns});var EI="AWS_EXECUTION_ENV",qp="AWS_REGION",$p="AWS_DEFAULT_REGION",SI="AWS_EC2_METADATA_DISABLED",xI=["in-region","cross-region","mobile","standard","legacy"],wI="/latest/meta-data/placement/region";var U4="AWS_DEFAULTS_MODE",z4="defaults_mode",CI={environmentVariableSelector:e=>e[U4],configFileSelector:e=>e[z4],default:"legacy"};var As=({region:e=ke(qn),defaultsMode:t=ke(CI)}={})=>ps(async()=>{let n=typeof t=="function"?await t():t;switch(n==null?void 0:n.toLowerCase()){case"auto":return q4(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(n==null?void 0:n.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${xI.join(", ")}, got ${n}`)}}),q4=async e=>{if(e){let t=typeof e=="function"?await e():e,n=await $4();return n?t===n?"in-region":"cross-region":"standard"}return"standard"},$4=async()=>{if(process.env[EI]&&(process.env[qp]||process.env[$p]))return process.env[qp]??process.env[$p];if(!process.env[SI])try{let e=await Td();return(await yr({...e,path:wI})).toString()}catch{}};var bI=e=>{Qr(process.version);let t=As(e),n=()=>t().then(Xr),r=gI(e);return{...r,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:(e==null?void 0:e.bodyLengthChecker)??Cs,defaultUserAgentProvider:(e==null?void 0:e.defaultUserAgentProvider)??bs({serviceId:r.serviceId,clientVersion:Y0.version}),maxAttempts:(e==null?void 0:e.maxAttempts)??ke(us),region:(e==null?void 0:e.region)??ke(qn,os),requestHandler:(e==null?void 0:e.requestHandler)??new Hn(n),retryMode:(e==null?void 0:e.retryMode)??ke({...fs,default:async()=>(await n()).retryMode||Gn}),sha256:(e==null?void 0:e.sha256)??gn.bind(null,"sha256"),streamCollector:(e==null?void 0:e.streamCollector)??Kn,useDualstackEndpoint:(e==null?void 0:e.useDualstackEndpoint)??ke(rs),useFipsEndpoint:(e==null?void 0:e.useFipsEndpoint)??ke(ss)}};var Wu=class extends Mn{constructor(t){let n=bI(t),r=W0(n),s=is(r),o=Vr(s),a=ms(o),i=a,l=ys(i);super(l),this.config=l,this.middlewareStack.use(hs(this.config)),this.middlewareStack.use(as(this.config)),this.middlewareStack.use(cs(this.config)),this.middlewareStack.use(ds(this.config)),this.middlewareStack.use(ls(this.config)),this.middlewareStack.use(Ss(this.config))}destroy(){super.destroy()}};var fc="To refresh this SSO session run 'aws sso login' with the corresponding profile.";var ht=class extends mn{constructor(t){super(t),Object.setPrototypeOf(this,ht.prototype)}};var hc=class extends ht{constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),this.name="AccessDeniedException",this.$fault="client",Object.setPrototypeOf(this,hc.prototype),this.error=t.error,this.error_description=t.error_description}},pc=class extends ht{constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t}),this.name="AuthorizationPendingException",this.$fault="client",Object.setPrototypeOf(this,pc.prototype),this.error=t.error,this.error_description=t.error_description}},yc=class extends ht{constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,yc.prototype),this.error=t.error,this.error_description=t.error_description}},gc=class extends ht{constructor(t){super({name:"InternalServerException",$fault:"server",...t}),this.name="InternalServerException",this.$fault="server",Object.setPrototypeOf(this,gc.prototype),this.error=t.error,this.error_description=t.error_description}},Ec=class extends ht{constructor(t){super({name:"InvalidClientException",$fault:"client",...t}),this.name="InvalidClientException",this.$fault="client",Object.setPrototypeOf(this,Ec.prototype),this.error=t.error,this.error_description=t.error_description}},Sc=class extends ht{constructor(t){super({name:"InvalidGrantException",$fault:"client",...t}),this.name="InvalidGrantException",this.$fault="client",Object.setPrototypeOf(this,Sc.prototype),this.error=t.error,this.error_description=t.error_description}},xc=class extends ht{constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,xc.prototype),this.error=t.error,this.error_description=t.error_description}},wc=class extends ht{constructor(t){super({name:"InvalidScopeException",$fault:"client",...t}),this.name="InvalidScopeException",this.$fault="client",Object.setPrototypeOf(this,wc.prototype),this.error=t.error,this.error_description=t.error_description}},Cc=class extends ht{constructor(t){super({name:"SlowDownException",$fault:"client",...t}),this.name="SlowDownException",this.$fault="client",Object.setPrototypeOf(this,Cc.prototype),this.error=t.error,this.error_description=t.error_description}},bc=class extends ht{constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t}),this.name="UnauthorizedClientException",this.$fault="client",Object.setPrototypeOf(this,bc.prototype),this.error=t.error,this.error_description=t.error_description}},Pc=class extends ht{constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t}),this.name="UnsupportedGrantTypeException",this.$fault="client",Object.setPrototypeOf(this,Pc.prototype),this.error=t.error,this.error_description=t.error_description}};var PI=async(e,t)=>{let{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),a={"content-type":"application/json"},i=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/token`,l;return l=JSON.stringify({...e.clientId!=null&&{clientId:e.clientId},...e.clientSecret!=null&&{clientSecret:e.clientSecret},...e.code!=null&&{code:e.code},...e.deviceCode!=null&&{deviceCode:e.deviceCode},...e.grantType!=null&&{grantType:e.grantType},...e.redirectUri!=null&&{redirectUri:e.redirectUri},...e.refreshToken!=null&&{refreshToken:e.refreshToken},...e.scope!=null&&{scope:t5(e.scope,t)}}),new v({protocol:r,hostname:n,port:s,method:"POST",headers:a,path:i,body:l})};var _I=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G4(e,t);let n=En({$metadata:Sn(e)}),r=W(de(await AI(e.body,t)),"body");return r.accessToken!=null&&(n.accessToken=y(r.accessToken)),r.expiresIn!=null&&(n.expiresIn=Ul(r.expiresIn)),r.idToken!=null&&(n.idToken=y(r.idToken)),r.refreshToken!=null&&(n.refreshToken=y(r.refreshToken)),r.tokenType!=null&&(n.tokenType=y(r.tokenType)),n},G4=async(e,t)=>{let n={...e,body:await s5(e.body,t)},r=o5(e,n.body);switch(r){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await j4(n,t);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await H4(n,t);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await K4(n,t);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await V4(n,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await W4(n,t);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await Y4(n,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await X4(n,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await Q4(n,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await Z4(n,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await J4(n,t);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await e5(n,t);default:let s=n.body;z({output:e,parsedBody:s,exceptionCtor:ht,errorCode:r})}};var En=Zs,j4=async(e,t)=>{let n=En({}),r=e.body;r.error!=null&&(n.error=y(r.error)),r.error_description!=null&&(n.error_description=y(r.error_description));let s=new hc({$metadata:Sn(e),...n});return we(s,e.body)},H4=async(e,t)=>{let n=En({}),r=e.body;r.error!=null&&(n.error=y(r.error)),r.error_description!=null&&(n.error_description=y(r.error_description));let s=new pc({$metadata:Sn(e),...n});return we(s,e.body)},K4=async(e,t)=>{let n=En({}),r=e.body;r.error!=null&&(n.error=y(r.error)),r.error_description!=null&&(n.error_description=y(r.error_description));let s=new yc({$metadata:Sn(e),...n});return we(s,e.body)},V4=async(e,t)=>{let n=En({}),r=e.body;r.error!=null&&(n.error=y(r.error)),r.error_description!=null&&(n.error_description=y(r.error_description));let s=new gc({$metadata:Sn(e),...n});return we(s,e.body)},W4=async(e,t)=>{let n=En({}),r=e.body;r.error!=null&&(n.error=y(r.error)),r.error_description!=null&&(n.error_description=y(r.error_description));let s=new Ec({$metadata:Sn(e),...n});return we(s,e.body)};var Y4=async(e,t)=>{let n=En({}),r=e.body;r.error!=null&&(n.error=y(r.error)),r.error_description!=null&&(n.error_description=y(r.error_description));let s=new Sc({$metadata:Sn(e),...n});return we(s,e.body)},X4=async(e,t)=>{let n=En({}),r=e.body;r.error!=null&&(n.error=y(r.error)),r.error_description!=null&&(n.error_description=y(r.error_description));let s=new xc({$metadata:Sn(e),...n});return we(s,e.body)},Q4=async(e,t)=>{let n=En({}),r=e.body;r.error!=null&&(n.error=y(r.error)),r.error_description!=null&&(n.error_description=y(r.error_description));let s=new wc({$metadata:Sn(e),...n});return we(s,e.body)},Z4=async(e,t)=>{let n=En({}),r=e.body;r.error!=null&&(n.error=y(r.error)),r.error_description!=null&&(n.error_description=y(r.error_description));let s=new Cc({$metadata:Sn(e),...n});return we(s,e.body)},J4=async(e,t)=>{let n=En({}),r=e.body;r.error!=null&&(n.error=y(r.error)),r.error_description!=null&&(n.error_description=y(r.error_description));let s=new bc({$metadata:Sn(e),...n});return we(s,e.body)},e5=async(e,t)=>{let n=En({}),r=e.body;r.error!=null&&(n.error=y(r.error)),r.error_description!=null&&(n.error_description=y(r.error_description));let s=new Pc({$metadata:Sn(e),...n});return we(s,e.body)},t5=(e,t)=>e.filter(n=>n!=null).map(n=>n),Sn=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),n5=(e=new Uint8Array,t)=>e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array),r5=(e,t)=>n5(e,t).then(n=>t.utf8Encoder(n));var AI=(e,t)=>r5(e,t).then(n=>n.length?JSON.parse(n):{}),s5=async(e,t)=>{let n=await AI(e,t);return n.message=n.message??n.Message,n},o5=(e,t)=>{let n=(o,a)=>Object.keys(o).find(i=>i.toLowerCase()===a.toLowerCase()),r=o=>{let a=o;return typeof a=="number"&&(a=a.toString()),a.indexOf(",")>=0&&(a=a.split(",")[0]),a.indexOf(":")>=0&&(a=a.split(":")[0]),a.indexOf("#")>=0&&(a=a.split("#")[1]),a},s=n(e.headers,"x-amzn-errortype");if(s!==void 0)return r(e.headers[s]);if(t.code!==void 0)return r(t.code);if(t.__type!==void 0)return r(t.__type)};var _c=class extends x{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,n,r){this.middlewareStack.use(C(n,this.serialize,this.deserialize)),this.middlewareStack.use(b(n,_c.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=n,l={logger:o,clientName:"SSOOIDCClient",commandName:"CreateTokenCommand",inputFilterSensitiveLog:c=>c,outputFilterSensitiveLog:c=>c},{requestHandler:d}=n;return s.resolve(c=>d.handle(c.request,r||{}),l)}serialize(t,n){return PI(t,n)}deserialize(t,n){return _I(t,n)}};var kI=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssooidc"});var RI={name:"@aws-sdk/client-sso-oidc",description:"AWS SDK for JavaScript Sso Oidc Client for Node.js, Browser and React Native",version:"3.309.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso-oidc"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/config-resolver":"3.306.0","@aws-sdk/fetch-http-handler":"3.306.0","@aws-sdk/hash-node":"3.306.0","@aws-sdk/invalid-dependency":"3.306.0","@aws-sdk/middleware-content-length":"3.306.0","@aws-sdk/middleware-endpoint":"3.306.0","@aws-sdk/middleware-host-header":"3.306.0","@aws-sdk/middleware-logger":"3.306.0","@aws-sdk/middleware-recursion-detection":"3.306.0","@aws-sdk/middleware-retry":"3.306.0","@aws-sdk/middleware-serde":"3.306.0","@aws-sdk/middleware-stack":"3.306.0","@aws-sdk/middleware-user-agent":"3.306.0","@aws-sdk/node-config-provider":"3.306.0","@aws-sdk/node-http-handler":"3.306.0","@aws-sdk/protocol-http":"3.306.0","@aws-sdk/smithy-client":"3.309.0","@aws-sdk/types":"3.306.0","@aws-sdk/url-parser":"3.306.0","@aws-sdk/util-base64":"3.303.0","@aws-sdk/util-body-length-browser":"3.303.0","@aws-sdk/util-body-length-node":"3.303.0","@aws-sdk/util-defaults-mode-browser":"3.309.0","@aws-sdk/util-defaults-mode-node":"3.309.0","@aws-sdk/util-endpoints":"3.306.0","@aws-sdk/util-retry":"3.306.0","@aws-sdk/util-user-agent-browser":"3.306.0","@aws-sdk/util-user-agent-node":"3.306.0","@aws-sdk/util-utf8":"3.303.0",tslib:"^2.5.0"},devDependencies:{"@aws-sdk/service-client-documentation-generator":"3.303.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso-oidc",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso-oidc"}};var FI="required",Sr="fn",xr="argv",Ac="ref",jp="PartitionResult",Yn="tree",Ld="error",Ud="endpoint",II={[FI]:!1,type:"String"},NI={[FI]:!0,default:!1,type:"Boolean"},MI={[Ac]:"Endpoint"},LI={[Sr]:"booleanEquals",[xr]:[{[Ac]:"UseFIPS"},!0]},UI={[Sr]:"booleanEquals",[xr]:[{[Ac]:"UseDualStack"},!0]},Xn={},vI={[Sr]:"booleanEquals",[xr]:[!0,{[Sr]:"getAttr",[xr]:[{[Ac]:jp},"supportsFIPS"]}]},TI={[Sr]:"booleanEquals",[xr]:[!0,{[Sr]:"getAttr",[xr]:[{[Ac]:jp},"supportsDualStack"]}]},DI=[MI],BI=[LI],OI=[UI],a5={version:"1.0",parameters:{Region:II,UseDualStack:NI,UseFIPS:NI,Endpoint:II},rules:[{conditions:[{[Sr]:"aws.partition",[xr]:[{[Ac]:"Region"}],assign:jp}],type:Yn,rules:[{conditions:[{[Sr]:"isSet",[xr]:DI},{[Sr]:"parseURL",[xr]:DI,assign:"url"}],type:Yn,rules:[{conditions:BI,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Ld},{type:Yn,rules:[{conditions:OI,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Ld},{endpoint:{url:MI,properties:Xn,headers:Xn},type:Ud}]}]},{conditions:[LI,UI],type:Yn,rules:[{conditions:[vI,TI],type:Yn,rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Xn,headers:Xn},type:Ud}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Ld}]},{conditions:BI,type:Yn,rules:[{conditions:[vI],type:Yn,rules:[{type:Yn,rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Xn,headers:Xn},type:Ud}]}]},{error:"FIPS is enabled but this partition does not support FIPS",type:Ld}]},{conditions:OI,type:Yn,rules:[{conditions:[TI],type:Yn,rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Xn,headers:Xn},type:Ud}]},{error:"DualStack is enabled but this partition does not support DualStack",type:Ld}]},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:Xn,headers:Xn},type:Ud}]}]},zI=a5;var qI=(e,t={})=>Es(zI,{endpointParams:e,logger:t.logger});var $I=e=>({apiVersion:"2019-06-10",base64Decoder:(e==null?void 0:e.base64Decoder)??Ps,base64Encoder:(e==null?void 0:e.base64Encoder)??_s,disableHostPrefix:(e==null?void 0:e.disableHostPrefix)??!1,endpointProvider:(e==null?void 0:e.endpointProvider)??qI,logger:(e==null?void 0:e.logger)??new Fn,serviceId:(e==null?void 0:e.serviceId)??"SSO OIDC",urlParser:(e==null?void 0:e.urlParser)??$t,utf8Decoder:(e==null?void 0:e.utf8Decoder)??Un,utf8Encoder:(e==null?void 0:e.utf8Encoder)??ns});var GI=e=>{Qr(process.version);let t=As(e),n=()=>t().then(Xr),r=$I(e);return{...r,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:(e==null?void 0:e.bodyLengthChecker)??Cs,defaultUserAgentProvider:(e==null?void 0:e.defaultUserAgentProvider)??bs({serviceId:r.serviceId,clientVersion:RI.version}),maxAttempts:(e==null?void 0:e.maxAttempts)??ke(us),region:(e==null?void 0:e.region)??ke(qn,os),requestHandler:(e==null?void 0:e.requestHandler)??new Hn(n),retryMode:(e==null?void 0:e.retryMode)??ke({...fs,default:async()=>(await n()).retryMode||Gn}),sha256:(e==null?void 0:e.sha256)??gn.bind(null,"sha256"),streamCollector:(e==null?void 0:e.streamCollector)??Kn,useDualstackEndpoint:(e==null?void 0:e.useDualstackEndpoint)??ke(rs),useFipsEndpoint:(e==null?void 0:e.useFipsEndpoint)??ke(ss)}};var Yu=class extends Mn{constructor(t){let n=GI(t),r=kI(n),s=is(r),o=Vr(s),a=ms(o),i=a,l=ys(i);super(l),this.config=l,this.middlewareStack.use(hs(this.config)),this.middlewareStack.use(as(this.config)),this.middlewareStack.use(cs(this.config)),this.middlewareStack.use(ds(this.config)),this.middlewareStack.use(ls(this.config)),this.middlewareStack.use(Ss(this.config))}destroy(){super.destroy()}};var Hp={},jI=e=>{if(Hp[e])return Hp[e];let t=new Yu({region:e});return Hp[e]=t,t};var HI=(e,t)=>jI(t).send(new _c({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}));var Kp=e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new Kt(`Token is expired. ${fc}`,!1)};var ks=(e,t,n=!1)=>{if(typeof t>"u")throw new Kt(`Value not present for '${e}' in SSO Token${n?". Cannot refresh":""}. ${fc}`,!1)};var KI=require("fs"),{writeFile:c5}=KI.promises,VI=(e,t)=>{let n=Nu(e),r=JSON.stringify(t,null,2);return c5(n,r)};var WI=new Date(0),YI=(e={})=>async()=>{let t=await xs(e),n=yn(e),r=t[n];if(r){if(!r.sso_session)throw new Kt(`Profile '${n}' is missing required property 'sso_session'.`)}else throw new Kt(`Profile '${n}' could not be found in shared credentials file.`,!1);let s=r.sso_session,a=(await Bu(e))[s];if(!a)throw new Kt(`Sso session '${s}' could not be found in shared credentials file.`,!1);for(let w of["sso_start_url","sso_region"])if(!a[w])throw new Kt(`Sso session '${s}' is missing required property '${w}'.`,!1);let i=a.sso_start_url,l=a.sso_region,d;try{d=await vu(s)}catch{throw new Kt(`The SSO session token associated with profile=${n} was not found or is invalid. ${fc}`,!1)}ks("accessToken",d.accessToken),ks("expiresAt",d.expiresAt);let{accessToken:c,expiresAt:m}=d,u={token:c,expiration:new Date(m)};if(u.expiration.getTime()-Date.now()>3e5)return u;if(Date.now()-WI.getTime()<30*1e3)return Kp(u),u;ks("clientId",d.clientId,!0),ks("clientSecret",d.clientSecret,!0),ks("refreshToken",d.refreshToken,!0);try{WI.setTime(Date.now());let w=await HI(d,l);ks("accessToken",w.accessToken),ks("expiresIn",w.expiresIn);let S=new Date(Date.now()+w.expiresIn*1e3);try{await VI(s,{...d,accessToken:w.accessToken,expiresAt:S.toISOString(),refreshToken:w.refreshToken})}catch{}return{token:w.accessToken,expiration:S}}catch{return Kp(u),u}};var l5=15*60*1e3,zd=!1,Vp=async({ssoStartUrl:e,ssoSession:t,ssoAccountId:n,ssoRegion:r,ssoRoleName:s,ssoClient:o,profile:a})=>{let i,l="To refresh this SSO session run aws sso login with the corresponding profile.";if(t)try{let D=await YI({profile:a})();i={accessToken:D.token,expiresAt:new Date(D.expiration).toISOString()}}catch(D){throw new ne(D.message,zd)}else try{i=await vu(e)}catch{throw new ne(`The SSO session associated with this profile is invalid. ${l}`,zd)}if(new Date(i.expiresAt).getTime()-Date.now()<=l5)throw new ne(`The SSO session associated with this profile has expired. ${l}`,zd);let{accessToken:d}=i,c=o||new Wu({region:r}),m;try{m=await c.send(new uc({accountId:n,roleName:s,accessToken:d}))}catch(D){throw ne.from(D,zd)}let{roleCredentials:{accessKeyId:u,secretAccessKey:w,sessionToken:S,expiration:I}={}}=m;if(!u||!w||!S||!I)throw new ne("SSO returns an invalid temporary credential.",zd);return{accessKeyId:u,secretAccessKey:w,sessionToken:S,expiration:new Date(I)}};var Xu=e=>{let{sso_start_url:t,sso_account_id:n,sso_region:r,sso_role_name:s}=e;if(!t||!n||!r||!s)throw new ne(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,!1);return e};var Qu=(e={})=>async()=>{let{ssoStartUrl:t,ssoAccountId:n,ssoRegion:r,ssoRoleName:s,ssoClient:o,ssoSession:a}=e,i=yn(e);if(!t&&!n&&!r&&!s&&!a){let d=(await xs(e))[i];if(!d)throw new ne(`Profile ${i} was not found.`);if(!Dd(d))throw new ne(`Profile ${i} is not configured with SSO credentials.`);if(d!=null&&d.sso_session){let D=(await Bu(e))[d.sso_session],X=` configurations in profile ${i} and sso-session ${d.sso_session}`;if(r&&r!==D.sso_region)throw new ne("Conflicting SSO region"+X,!1);if(t&&t!==D.sso_start_url)throw new ne("Conflicting SSO start_url"+X,!1);d.sso_region=D.sso_region,d.sso_start_url=D.sso_start_url}let{sso_start_url:c,sso_account_id:m,sso_region:u,sso_role_name:w,sso_session:S}=Xu(d);return Vp({ssoStartUrl:c,ssoSession:S,ssoAccountId:m,ssoRegion:u,ssoRoleName:w,ssoClient:o,profile:i})}else{if(!t||!n||!r||!s)throw new ne('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"');return Vp({ssoStartUrl:t,ssoSession:a,ssoAccountId:n,ssoRegion:r,ssoRoleName:s,ssoClient:o,profile:i})}};var XI=e=>{let{sso_start_url:t,sso_account_id:n,sso_session:r,sso_region:s,sso_role_name:o}=Xu(e);return Qu({ssoStartUrl:t,ssoAccountId:n,ssoSession:r,ssoRegion:s,ssoRoleName:o})()};var Wp=e=>!!e&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1,Yp=e=>Promise.resolve({accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token});var ZI=require("fs");var QI=e=>()=>{let{roleArn:t,roleSessionName:n,webIdentityToken:r,providerId:s,policyArns:o,policy:a,durationSeconds:i,roleAssumerWithWebIdentity:l}=e;if(!l)throw new ne(`Role Arn '${t}' needs to be assumed with web identity, but no role assumption callback was provided.`,!1);return l({RoleArn:t,RoleSessionName:n??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:r,ProviderId:s,PolicyArns:o,Policy:a,DurationSeconds:i})};var u5="AWS_WEB_IDENTITY_TOKEN_FILE",m5="AWS_ROLE_ARN",f5="AWS_ROLE_SESSION_NAME",Zu=(e={})=>async()=>h5(e),h5=e=>{let t=(e==null?void 0:e.webIdentityTokenFile)??process.env[u5],n=(e==null?void 0:e.roleArn)??process.env[m5],r=(e==null?void 0:e.roleSessionName)??process.env[f5];if(!t||!n)throw new ne("Web identity configuration not specified");return QI({...e,webIdentityToken:(0,ZI.readFileSync)(t,{encoding:"ascii"}),roleArn:n,roleSessionName:r})()};var JI=e=>!!e&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,eN=async(e,t)=>Zu({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity})();var zu=async(e,t,n,r={})=>{let s=t[e];if(Object.keys(r).length>0&&Wp(s))return Yp(s);if(O0(s))return F0(e,t,n,r);if(Wp(s))return Yp(s);if(JI(s))return eN(s,n);if(q0(s))return $0(n,e);if(Dd(s))return XI(s);throw new ne(`Profile ${e} could not be found or parsed in shared credentials file.`)};var tN=(e={})=>async()=>{let t=await xs(e);return zu(yn(e),t,e)};var p5="AWS_EC2_METADATA_DISABLED",nN=e=>process.env[Nd]||process.env[Id]?Lu(e):process.env[p5]?async()=>{throw new ne("EC2 Instance Metadata Service access disabled")}:Uu(e);var Ju=(e={})=>ps(uu(...e.profile||process.env[Dp]?[]:[Iu()],Qu(e),tN(e),qu(e),Zu(e),nN(e),async()=>{throw new ne("Could not load credentials from any providers",!1)}),t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,t=>t.expiration!==void 0);var uN="required",ge="type",De="fn",Be="argv",Rs="ref",so="properties",oo="headers";var Qp="PartitionResult",xn="tree",io="booleanEquals",Ct="stringEquals",mN="sigv4",fN="us-east-1",hN="sts",Ye="endpoint",pN="https://sts.{Region}.{PartitionResult#dnsSuffix}",qd="error",Zp="getAttr",rN={[uN]:!1,[ge]:"String"},Xp={[uN]:!0,default:!1,[ge]:"Boolean"},bt={[Rs]:"Region"},yN={[Rs]:"UseFIPS"},gN={[Rs]:"UseDualStack"},sN={[De]:"isSet",[Be]:[{[Rs]:"Endpoint"}]},EN={[Rs]:"Endpoint"},At={url:"https://sts.amazonaws.com",[so]:{authSchemes:[{name:mN,signingRegion:fN,signingName:hN}]},[oo]:{}},wr={},oN={conditions:[{[De]:Ct,[Be]:[bt,"aws-global"]}],[Ye]:At,[ge]:Ye},SN={[De]:io,[Be]:[yN,!0]},xN={[De]:io,[Be]:[gN,!0]},iN={[De]:io,[Be]:[!0,{[De]:Zp,[Be]:[{[Rs]:Qp},"supportsFIPS"]}]},wN={[Rs]:Qp},aN={[De]:io,[Be]:[!0,{[De]:Zp,[Be]:[wN,"supportsDualStack"]}]},cN={url:pN,[so]:{},[oo]:{}},y5=[EN],dN=[SN],lN=[xN],g5={version:"1.0",parameters:{Region:rN,UseDualStack:Xp,UseFIPS:Xp,Endpoint:rN,UseGlobalEndpoint:Xp},rules:[{conditions:[{[De]:"aws.partition",[Be]:[bt],assign:Qp}],[ge]:xn,rules:[{conditions:[{[De]:io,[Be]:[{[Rs]:"UseGlobalEndpoint"},!0]},{[De]:io,[Be]:[yN,!1]},{[De]:io,[Be]:[gN,!1]},{[De]:"not",[Be]:[sN]}],[ge]:xn,rules:[{conditions:[{[De]:Ct,[Be]:[bt,"ap-northeast-1"]}],endpoint:At,[ge]:Ye},{conditions:[{[De]:Ct,[Be]:[bt,"ap-south-1"]}],endpoint:At,[ge]:Ye},{conditions:[{[De]:Ct,[Be]:[bt,"ap-southeast-1"]}],endpoint:At,[ge]:Ye},{conditions:[{[De]:Ct,[Be]:[bt,"ap-southeast-2"]}],endpoint:At,[ge]:Ye},oN,{conditions:[{[De]:Ct,[Be]:[bt,"ca-central-1"]}],endpoint:At,[ge]:Ye},{conditions:[{[De]:Ct,[Be]:[bt,"eu-central-1"]}],endpoint:At,[ge]:Ye},{conditions:[{[De]:Ct,[Be]:[bt,"eu-north-1"]}],endpoint:At,[ge]:Ye},{conditions:[{[De]:Ct,[Be]:[bt,"eu-west-1"]}],endpoint:At,[ge]:Ye},{conditions:[{[De]:Ct,[Be]:[bt,"eu-west-2"]}],endpoint:At,[ge]:Ye},{conditions:[{[De]:Ct,[Be]:[bt,"eu-west-3"]}],endpoint:At,[ge]:Ye},{conditions:[{[De]:Ct,[Be]:[bt,"sa-east-1"]}],endpoint:At,[ge]:Ye},{conditions:[{[De]:Ct,[Be]:[bt,fN]}],endpoint:At,[ge]:Ye},{conditions:[{[De]:Ct,[Be]:[bt,"us-east-2"]}],endpoint:At,[ge]:Ye},{conditions:[{[De]:Ct,[Be]:[bt,"us-west-1"]}],endpoint:At,[ge]:Ye},{conditions:[{[De]:Ct,[Be]:[bt,"us-west-2"]}],endpoint:At,[ge]:Ye},{endpoint:{url:pN,[so]:{authSchemes:[{name:mN,signingRegion:"{Region}",signingName:hN}]},[oo]:wr},[ge]:Ye}]},{conditions:[sN,{[De]:"parseURL",[Be]:y5,assign:"url"}],[ge]:xn,rules:[{conditions:dN,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[ge]:qd},{[ge]:xn,rules:[{conditions:lN,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[ge]:qd},{endpoint:{url:EN,[so]:wr,[oo]:wr},[ge]:Ye}]}]},{conditions:[SN,xN],[ge]:xn,rules:[{conditions:[iN,aN],[ge]:xn,rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",[so]:wr,[oo]:wr},[ge]:Ye}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[ge]:qd}]},{conditions:dN,[ge]:xn,rules:[{conditions:[iN],[ge]:xn,rules:[{[ge]:xn,rules:[{conditions:[{[De]:Ct,[Be]:["aws-us-gov",{[De]:Zp,[Be]:[wN,"name"]}]}],endpoint:cN,[ge]:Ye},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",[so]:wr,[oo]:wr},[ge]:Ye}]}]},{error:"FIPS is enabled but this partition does not support FIPS",[ge]:qd}]},{conditions:lN,[ge]:xn,rules:[{conditions:[aN],[ge]:xn,rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",[so]:wr,[oo]:wr},[ge]:Ye}]},{error:"DualStack is enabled but this partition does not support DualStack",[ge]:qd}]},{[ge]:xn,rules:[oN,{endpoint:cN,[ge]:Ye}]}]}]},CN=g5;var bN=(e,t={})=>Es(CN,{endpointParams:e,logger:t.logger});var PN=e=>({apiVersion:"2011-06-15",base64Decoder:(e==null?void 0:e.base64Decoder)??Ps,base64Encoder:(e==null?void 0:e.base64Encoder)??_s,disableHostPrefix:(e==null?void 0:e.disableHostPrefix)??!1,endpointProvider:(e==null?void 0:e.endpointProvider)??bN,logger:(e==null?void 0:e.logger)??new Fn,serviceId:(e==null?void 0:e.serviceId)??"STS",urlParser:(e==null?void 0:e.urlParser)??$t,utf8Decoder:(e==null?void 0:e.utf8Decoder)??Un,utf8Encoder:(e==null?void 0:e.utf8Encoder)??ns});var _N=e=>{Qr(process.version);let t=As(e),n=()=>t().then(Xr),r=PN(e);return{...r,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:(e==null?void 0:e.bodyLengthChecker)??Cs,credentialDefaultProvider:(e==null?void 0:e.credentialDefaultProvider)??a0(Ju),defaultUserAgentProvider:(e==null?void 0:e.defaultUserAgentProvider)??bs({serviceId:r.serviceId,clientVersion:s0.version}),maxAttempts:(e==null?void 0:e.maxAttempts)??ke(us),region:(e==null?void 0:e.region)??ke(qn,os),requestHandler:(e==null?void 0:e.requestHandler)??new Hn(n),retryMode:(e==null?void 0:e.retryMode)??ke({...fs,default:async()=>(await n()).retryMode||Gn}),sha256:(e==null?void 0:e.sha256)??gn.bind(null,"sha256"),streamCollector:(e==null?void 0:e.streamCollector)??Kn,useDualstackEndpoint:(e==null?void 0:e.useDualstackEndpoint)??ke(rs),useFipsEndpoint:(e==null?void 0:e.useFipsEndpoint)??ke(ss)}};var ao=class extends Mn{constructor(t){let n=_N(t),r=r0(n),s=is(r),o=Vr(s),a=ms(o),i=a,l=n0(i,{stsClientCtor:ao}),d=ys(l);super(d),this.config=d,this.middlewareStack.use(hs(this.config)),this.middlewareStack.use(as(this.config)),this.middlewareStack.use(cs(this.config)),this.middlewareStack.use(ds(this.config)),this.middlewareStack.use(ls(this.config)),this.middlewareStack.use(Ss(this.config))}destroy(){super.destroy()}};var AN=(e,t)=>t?class extends e{constructor(r){super(r);for(let s of t)this.middlewareStack.use(s)}}:e,E5=(e={},t)=>vp(e,AN(ao,t)),S5=(e={},t)=>Tp(e,AN(ao,t)),kN=e=>t=>e({roleAssumer:E5(t),roleAssumerWithWebIdentity:S5(t),...t});var BN=cn(wd());var Is=class{constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let n=new Uint8Array(8);for(let r=7,s=Math.abs(Math.round(t));r>-1&&s>0;r--,s/=256)n[r]=s;return t<0&&RN(n),new Is(n)}valueOf(){let t=this.bytes.slice(0),n=t[0]&128;return n&&RN(t),parseInt(wt(t),16)*(n?-1:1)}toString(){return String(this.valueOf())}};function RN(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}var em=class{constructor(t,n){this.toUtf8=t,this.fromUtf8=n}format(t){let n=[];for(let o of Object.keys(t)){let a=this.fromUtf8(o);n.push(Uint8Array.from([a.byteLength]),a,this.formatHeaderValue(t[o]))}let r=new Uint8Array(n.reduce((o,a)=>o+a.byteLength,0)),s=0;for(let o of n)r.set(o,s),s+=o.byteLength;return r}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":let n=new DataView(new ArrayBuffer(3));return n.setUint8(0,3),n.setInt16(1,t.value,!1),new Uint8Array(n.buffer);case"integer":let r=new DataView(new ArrayBuffer(5));return r.setUint8(0,4),r.setInt32(1,t.value,!1),new Uint8Array(r.buffer);case"long":let s=new Uint8Array(9);return s[0]=5,s.set(t.value.bytes,1),s;case"binary":let o=new DataView(new ArrayBuffer(3+t.value.byteLength));o.setUint8(0,6),o.setUint16(1,t.value.byteLength,!1);let a=new Uint8Array(o.buffer);return a.set(t.value,3),a;case"string":let i=this.fromUtf8(t.value),l=new DataView(new ArrayBuffer(3+i.byteLength));l.setUint8(0,7),l.setUint16(1,i.byteLength,!1);let d=new Uint8Array(l.buffer);return d.set(i,3),d;case"timestamp":let c=new Uint8Array(9);return c[0]=8,c.set(Is.fromNumber(t.value.valueOf()).bytes,1),c;case"uuid":if(!R5.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);let m=new Uint8Array(17);return m[0]=9,m.set(eR(t.value.replace(/\-/g,"")),1),m}}parse(t){let n={},r=0;for(;r<t.byteLength;){let s=t.getUint8(r++),o=this.toUtf8(new Uint8Array(t.buffer,t.byteOffset+r,s));switch(r+=s,t.getUint8(r++)){case 0:n[o]={type:NN,value:!0};break;case 1:n[o]={type:NN,value:!1};break;case 2:n[o]={type:x5,value:t.getInt8(r++)};break;case 3:n[o]={type:w5,value:t.getInt16(r,!1)},r+=2;break;case 4:n[o]={type:C5,value:t.getInt32(r,!1)},r+=4;break;case 5:n[o]={type:b5,value:new Is(new Uint8Array(t.buffer,t.byteOffset+r,8))},r+=8;break;case 6:let a=t.getUint16(r,!1);r+=2,n[o]={type:P5,value:new Uint8Array(t.buffer,t.byteOffset+r,a)},r+=a;break;case 7:let i=t.getUint16(r,!1);r+=2,n[o]={type:_5,value:this.toUtf8(new Uint8Array(t.buffer,t.byteOffset+r,i))},r+=i;break;case 8:n[o]={type:A5,value:new Date(new Is(new Uint8Array(t.buffer,t.byteOffset+r,8)).valueOf())},r+=8;break;case 9:let l=new Uint8Array(t.buffer,t.byteOffset+r,16);r+=16,n[o]={type:k5,value:`${wt(l.subarray(0,4))}-${wt(l.subarray(4,6))}-${wt(l.subarray(6,8))}-${wt(l.subarray(8,10))}-${wt(l.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return n}},IN;(function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"})(IN||(IN={}));var NN="boolean",x5="byte",w5="short",C5="integer",b5="long",P5="binary",_5="string",A5="timestamp",k5="uuid",R5=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;var vN=cn(wd()),TN=4,Ns=TN*2,co=4,I5=Ns+co*2;function DN({byteLength:e,byteOffset:t,buffer:n}){if(e<I5)throw new Error("Provided message too short to accommodate event stream message overhead");let r=new DataView(n,t,e),s=r.getUint32(0,!1);if(e!==s)throw new Error("Reported message length does not match received message length");let o=r.getUint32(TN,!1),a=r.getUint32(Ns,!1),i=r.getUint32(e-co,!1),l=new vN.Crc32().update(new Uint8Array(n,t,Ns));if(a!==l.digest())throw new Error(`The prelude checksum specified in the message (${a}) does not match the calculated CRC32 checksum (${l.digest()})`);if(l.update(new Uint8Array(n,t+Ns,e-(Ns+co))),i!==l.digest())throw new Error(`The message checksum (${l.digest()}) did not match the expected value of ${i}`);return{headers:new DataView(n,t+Ns+co,o),body:new Uint8Array(n,t+Ns+co+o,s-o-(Ns+co+co))}}var tm=class{constructor(t,n){this.headerMarshaller=new em(t,n)}encode({headers:t,body:n}){let r=this.headerMarshaller.format(t),s=r.byteLength+n.byteLength+16,o=new Uint8Array(s),a=new DataView(o.buffer,o.byteOffset,o.byteLength),i=new BN.Crc32;return a.setUint32(0,s,!1),a.setUint32(4,r.byteLength,!1),a.setUint32(8,i.update(o.subarray(0,8)).digest(),!1),o.set(r,12),o.set(n,r.byteLength+12),a.setUint32(s-4,i.update(o.subarray(8,s-4)).digest(),!1),o}decode(t){let{headers:n,body:r}=DN(t);return{headers:this.headerMarshaller.parse(n),body:r}}formatHeaders(t){return this.headerMarshaller.format(t)}};function ON(e){let t=0,n=0,r=null,s=null,o=i=>{if(typeof i!="number")throw new Error("Attempted to allocate an event message where size was not a number: "+i);t=i,n=4,r=new Uint8Array(i),new DataView(r.buffer).setUint32(0,i,!1)},a=async function*(){let i=e[Symbol.asyncIterator]();for(;;){let{value:l,done:d}=await i.next();if(d){if(t)if(t===n)yield r;else throw new Error("Truncated event message received.");else return;return}let c=l.length,m=0;for(;m<c;){if(!r){let w=c-m;s||(s=new Uint8Array(4));let S=Math.min(4-n,w);if(s.set(l.slice(m,m+S),n),n+=S,m+=S,n<4)break;o(new DataView(s.buffer).getUint32(0,!1)),s=null}let u=Math.min(t-n,c-m);r.set(l.slice(m,m+u),n),n+=u,m+=u,t&&t===n&&(yield r,r=null,t=0,n=0)}}};return{[Symbol.asyncIterator]:a}}function FN(e,t){return{[Symbol.asyncIterator]:async function*(){for await(let n of e){let r=t.eventStreamCodec.decode(n),{value:s}=r.headers[":message-type"];if(s==="error"){let o=new Error(r.headers[":error-message"].value||"UnknownError");throw o.name=r.headers[":error-code"].value,o}else if(s==="exception"){let o=r.headers[":exception-type"].value,a={[o]:r},i=await t.deserializer(a);if(i.$unknown){let l=new Error(t.toUtf8(r.body));throw l.name=o,l}throw i[o]}else if(s==="event"){let o={[r.headers[":event-type"].value]:r},a=await t.deserializer(o);if(a.$unknown)continue;yield a}else throw Error(`Unrecognizable event type: ${r.headers[":event-type"].value}`)}}}}var $d=class{constructor({utf8Encoder:t,utf8Decoder:n}){this.eventStreamCodec=new tm(t,n),this.utfEncoder=t}deserialize(t,n){let r=ON(t);return FN(r,{eventStreamCodec:this.eventStreamCodec,deserializer:n,toUtf8:this.utfEncoder})}serialize(t,n){let r=this,s=async function*(){for await(let o of t)yield r.eventStreamCodec.encode(n(o));yield new Uint8Array(0)};return{[Symbol.asyncIterator]:s}}};var LN=require("stream");async function*MN(e){let t=!1,n=!1,r=new Array;for(e.on("error",s=>{if(t||(t=!0),s)throw s}),e.on("data",s=>{r.push(s)}),e.on("end",()=>{t=!0});!n;){let s=await new Promise(o=>setTimeout(()=>o(r.shift()),0));s&&(yield s),n=t&&r.length===0}}var nm=class{constructor({utf8Encoder:t,utf8Decoder:n}){this.universalMarshaller=new $d({utf8Decoder:n,utf8Encoder:t})}deserialize(t,n){let r=typeof t[Symbol.asyncIterator]=="function"?t:MN(t);return this.universalMarshaller.deserialize(r,n)}serialize(t,n){return LN.Readable.from(this.universalMarshaller.serialize(t,n))}};var UN=e=>new nm(e);var zN=require("stream"),Gd=class extends zN.Writable{constructor(t,n){super(n),this.hash=t}_write(t,n,r){try{this.hash.update(jt(t))}catch(s){return r(s)}r()}};var qN=(e,t)=>{if(t.readableFlowing!==null)throw new Error("Unable to calculate hash for flowing readable stream");let n=new e,r=new Gd(n);return t.pipe(r),new Promise((s,o)=>{t.on("error",a=>{r.end(),o(a)}),r.on("error",o),r.on("finish",()=>{n.digest().then(s).catch(o)})})};var N5="AWS_S3_USE_ARN_REGION",v5="s3_use_arn_region",$N={environmentVariableSelector:e=>zn(e,N5,hn.ENV),configFileSelector:e=>zn(e,v5,hn.CONFIG),default:!1};var GN=require("stream"),jN=(e,t)=>{let{base64Encoder:n,bodyLengthChecker:r,checksumAlgorithmFn:s,checksumLocationName:o,streamHasher:a}=t,i=n!==void 0&&s!==void 0&&o!==void 0&&a!==void 0,l=i?a(s,e):void 0,d=new GN.Readable({read:()=>{}});return e.on("data",c=>{d.push(`${(r(c)||0).toString(16)}\r
${c.toString()}\r
`)}),e.on("end",async()=>{if(d.push(`0\r
`),i){let c=n(await l);d.push(`${o}:${c}\r
`),d.push(`\r
`)}d.push(null)}),d};var rm=require("stream"),KN=require("util"),HN="The stream has already been transformed.",VN=e=>{var r,s;if(!(e instanceof rm.Readable)){let o=((s=(r=e==null?void 0:e.__proto__)==null?void 0:r.constructor)==null?void 0:s.name)||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${o}`)}let t=!1,n=async()=>{if(t)throw new Error(HN);return t=!0,await Kn(e)};return Object.assign(e,{transformToByteArray:n,transformToString:async o=>{let a=await n();return o===void 0||Buffer.isEncoding(o)?fr(a.buffer,a.byteOffset,a.byteLength).toString(o):new KN.TextDecoder(o).decode(a)},transformToWebStream:()=>{if(t)throw new Error(HN);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof rm.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please make sure you are using Node.js >= 17.0.0, or polyfill is available.");return t=!0,rm.Readable.toWeb(e)}})};var sm=class{constructor(t){this.sigv4Signer=new no(t),this.signerOptions=t}async sign(t,n={}){if(n.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().sign(t,n)}return this.sigv4Signer.sign(t,n)}async presign(t,n={}){if(n.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().presign(t,n)}return this.sigv4Signer.presign(t,n)}getSigv4aSigner(){if(!this.sigv4aSigner){let t;try{if(t=typeof require=="function"&&require("@aws-sdk/signature-v4-crt").CrtSignerV4,typeof t!="function")throw new Error}catch(n){throw n.message=`${n.message}
Please check if you have installed "@aws-sdk/signature-v4-crt" package explicitly. 
For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`,n}this.sigv4aSigner=new t({...this.signerOptions,signingAlgorithm:1})}return this.sigv4aSigner}};var xy="required",f="type",_="rules",P="conditions",g="fn",E="argv",R="ref",pt="assign",H="url",K="properties",se="authSchemes",oe="disableDoubleEncoding",ie="signingName",ce="signingRegion",V="headers";var A="tree",en="isSet",jd="substring",eT="hardwareType",tT="regionPrefix",WN="abbaSuffix",Ey="outpostId",Yd="aws.partition",Z="stringEquals",mo="isValidHostLabel",Je="not",Y="error",nT="parseURL",wy="s3-outposts",N="endpoint",G="booleanEquals",rT="aws.parseArn",me="s3",YN="aws.isVirtualHostableS3Bucket",Xe="getAttr",ee="name",Jp="Host override cannot be combined with Dualstack, FIPS, or S3 Accelerate",sT="https://{Bucket}.s3.{partitionResult#dnsSuffix}",oT="bucketArn",iT="arnType",lm="",Cy="s3-object-lambda",aT="accesspoint",by="accessPointName",XN="{url#scheme}://{accessPointName}-{bucketArn#accountId}.{url#authority}{url#path}",QN="mrapPartition",ZN="outpostType",JN="arnPrefix",fo="{url#scheme}://{url#authority}{url#path}",cT="https://s3.{partitionResult#dnsSuffix}",ey={[xy]:!1,[f]:"String"},Hd={[xy]:!0,default:!1,[f]:"Boolean"},om={[xy]:!1,[f]:"Boolean"},dT={[g]:en,[E]:[{[R]:"Bucket"}]},Qn={[R]:"Bucket"},ev={[R]:eT},tv={[P]:[{[g]:Je,[E]:[{[g]:en,[E]:[{[R]:"Endpoint"}]}]}],[Y]:"Expected a endpoint to be specified but no endpoint was found",[f]:Y},fe={[g]:Je,[E]:[{[g]:en,[E]:[{[R]:"Endpoint"}]}]},Pe={[g]:en,[E]:[{[R]:"Endpoint"}]},Le={[g]:nT,[E]:[{[R]:"Endpoint"}],[pt]:"url"},im={[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:wy,[ce]:"{Region}"}]},ct={},nv={[R]:"ForcePathStyle"},rv={[P]:[{[g]:"uriEncode",[E]:[Qn],[pt]:"uri_encoded_bucket"}],[f]:A,[_]:[{[P]:[{[g]:G,[E]:[{[R]:"UseDualStack"},!0]},Pe],[Y]:"Cannot set dual-stack in combination with a custom endpoint.",[f]:Y},{[f]:A,[_]:[{[P]:[{[g]:Yd,[E]:[{[R]:"Region"}],[pt]:"partitionResult"}],[f]:A,[_]:[{[f]:A,[_]:[{[P]:[{[g]:G,[E]:[{[R]:"Accelerate"},!1]}],[f]:A,[_]:[{[f]:A,[_]:[{[P]:[{[g]:G,[E]:[{[R]:"UseDualStack"},!0]},fe,{[g]:G,[E]:[{[R]:"UseFIPS"},!0]},{[g]:Z,[E]:[{[R]:"Region"},"aws-global"]}],[N]:{[H]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"us-east-1"}]},[V]:{}},[f]:N},{[P]:[{[g]:G,[E]:[{[R]:"UseDualStack"},!0]},fe,{[g]:G,[E]:[{[R]:"UseFIPS"},!0]},{[g]:Z,[E]:[{[R]:"Region"},"aws-global"]}],[N]:{[H]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"us-east-1"}]},[V]:{}},[f]:N},{[P]:[{[g]:G,[E]:[{[R]:"UseDualStack"},!0]},fe,{[g]:G,[E]:[{[R]:"UseFIPS"},!0]},{[g]:Je,[E]:[{[g]:Z,[E]:[{[R]:"Region"},"aws-global"]}]},{[g]:G,[E]:[{[R]:"UseGlobalEndpoint"},!0]}],[f]:A,[_]:[{[N]:{[H]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"{Region}"}]},[V]:{}},[f]:N}]},{[P]:[{[g]:G,[E]:[{[R]:"UseDualStack"},!0]},fe,{[g]:G,[E]:[{[R]:"UseFIPS"},!0]},{[g]:Je,[E]:[{[g]:Z,[E]:[{[R]:"Region"},"aws-global"]}]},{[g]:G,[E]:[{[R]:"UseGlobalEndpoint"},!1]}],[N]:{[H]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"{Region}"}]},[V]:{}},[f]:N},{[P]:[{[g]:G,[E]:[{[R]:"UseDualStack"},!1]},Pe,Le,{[g]:G,[E]:[{[R]:"UseFIPS"},!0]},{[g]:Z,[E]:[{[R]:"Region"},"aws-global"]}],[N]:{[H]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"us-east-1"}]},[V]:{}},[f]:N},{[P]:[{[g]:G,[E]:[{[R]:"UseDualStack"},!1]},Pe,Le,{[g]:G,[E]:[{[R]:"UseFIPS"},!0]},{[g]:Z,[E]:[{[R]:"Region"},"aws-global"]}],[N]:{[H]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"us-east-1"}]},[V]:{}},[f]:N},{[P]:[{[g]:G,[E]:[{[R]:"UseDualStack"},!1]},Pe,Le,{[g]:G,[E]:[{[R]:"UseFIPS"},!0]},{[g]:Je,[E]:[{[g]:Z,[E]:[{[R]:"Region"},"aws-global"]}]},{[g]:G,[E]:[{[R]:"UseGlobalEndpoint"},!0]}],[f]:A,[_]:[{[N]:{[H]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"{Region}"}]},[V]:{}},[f]:N}]},{[P]:[{[g]:G,[E]:[{[R]:"UseDualStack"},!1]},Pe,Le,{[g]:G,[E]:[{[R]:"UseFIPS"},!0]},{[g]:Je,[E]:[{[g]:Z,[E]:[{[R]:"Region"},"aws-global"]}]},{[g]:G,[E]:[{[R]:"UseGlobalEndpoint"},!1]}],[N]:{[H]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"{Region}"}]},[V]:{}},[f]:N},{[P]:[{[g]:G,[E]:[{[R]:"UseDualStack"},!1]},fe,{[g]:G,[E]:[{[R]:"UseFIPS"},!0]},{[g]:Z,[E]:[{[R]:"Region"},"aws-global"]}],[N]:{[H]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"us-east-1"}]},[V]:{}},[f]:N},{[P]:[{[g]:G,[E]:[{[R]:"UseDualStack"},!1]},fe,{[g]:G,[E]:[{[R]:"UseFIPS"},!0]},{[g]:Z,[E]:[{[R]:"Region"},"aws-global"]}],[N]:{[H]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"us-east-1"}]},[V]:{}},[f]:N},{[P]:[{[g]:G,[E]:[{[R]:"UseDualStack"},!1]},fe,{[g]:G,[E]:[{[R]:"UseFIPS"},!0]},{[g]:Je,[E]:[{[g]:Z,[E]:[{[R]:"Region"},"aws-global"]}]},{[g]:G,[E]:[{[R]:"UseGlobalEndpoint"},!0]}],[f]:A,[_]:[{[N]:{[H]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"{Region}"}]},[V]:{}},[f]:N}]},{[P]:[{[g]:G,[E]:[{[R]:"UseDualStack"},!1]},fe,{[g]:G,[E]:[{[R]:"UseFIPS"},!0]},{[g]:Je,[E]:[{[g]:Z,[E]:[{[R]:"Region"},"aws-global"]}]},{[g]:G,[E]:[{[R]:"UseGlobalEndpoint"},!1]}],[N]:{[H]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"{Region}"}]},[V]:{}},[f]:N},{[P]:[{[g]:G,[E]:[{[R]:"UseDualStack"},!0]},fe,{[g]:G,[E]:[{[R]:"UseFIPS"},!1]},{[g]:Z,[E]:[{[R]:"Region"},"aws-global"]}],[N]:{[H]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"us-east-1"}]},[V]:{}},[f]:N},{[P]:[{[g]:G,[E]:[{[R]:"UseDualStack"},!0]},fe,{[g]:G,[E]:[{[R]:"UseFIPS"},!1]},{[g]:Z,[E]:[{[R]:"Region"},"aws-global"]}],[N]:{[H]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"us-east-1"}]},[V]:{}},[f]:N},{[P]:[{[g]:G,[E]:[{[R]:"UseDualStack"},!0]},fe,{[g]:G,[E]:[{[R]:"UseFIPS"},!1]},{[g]:Je,[E]:[{[g]:Z,[E]:[{[R]:"Region"},"aws-global"]}]},{[g]:G,[E]:[{[R]:"UseGlobalEndpoint"},!0]}],[f]:A,[_]:[{[N]:{[H]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"{Region}"}]},[V]:{}},[f]:N}]},{[P]:[{[g]:G,[E]:[{[R]:"UseDualStack"},!0]},fe,{[g]:G,[E]:[{[R]:"UseFIPS"},!1]},{[g]:Je,[E]:[{[g]:Z,[E]:[{[R]:"Region"},"aws-global"]}]},{[g]:G,[E]:[{[R]:"UseGlobalEndpoint"},!1]}],[N]:{[H]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"{Region}"}]},[V]:{}},[f]:N},{[P]:[{[g]:G,[E]:[{[R]:"UseDualStack"},!1]},Pe,Le,{[g]:G,[E]:[{[R]:"UseFIPS"},!1]},{[g]:Z,[E]:[{[R]:"Region"},"aws-global"]}],[N]:{[H]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"us-east-1"}]},[V]:{}},[f]:N},{[P]:[{[g]:G,[E]:[{[R]:"UseDualStack"},!1]},Pe,Le,{[g]:G,[E]:[{[R]:"UseFIPS"},!1]},{[g]:Z,[E]:[{[R]:"Region"},"aws-global"]}],[N]:{[H]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"us-east-1"}]},[V]:{}},[f]:N},{[P]:[{[g]:G,[E]:[{[R]:"UseDualStack"},!1]},Pe,Le,{[g]:G,[E]:[{[R]:"UseFIPS"},!1]},{[g]:Je,[E]:[{[g]:Z,[E]:[{[R]:"Region"},"aws-global"]}]},{[g]:G,[E]:[{[R]:"UseGlobalEndpoint"},!0]}],[f]:A,[_]:[{[P]:[{[g]:Z,[E]:[{[R]:"Region"},"us-east-1"]}],[N]:{[H]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"{Region}"}]},[V]:{}},[f]:N},{[N]:{[H]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"{Region}"}]},[V]:{}},[f]:N}]},{[P]:[{[g]:G,[E]:[{[R]:"UseDualStack"},!1]},Pe,Le,{[g]:G,[E]:[{[R]:"UseFIPS"},!1]},{[g]:Je,[E]:[{[g]:Z,[E]:[{[R]:"Region"},"aws-global"]}]},{[g]:G,[E]:[{[R]:"UseGlobalEndpoint"},!1]}],[N]:{[H]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"{Region}"}]},[V]:{}},[f]:N},{[P]:[{[g]:G,[E]:[{[R]:"UseDualStack"},!1]},fe,{[g]:G,[E]:[{[R]:"UseFIPS"},!1]},{[g]:Z,[E]:[{[R]:"Region"},"aws-global"]}],[N]:{[H]:"https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"us-east-1"}]},[V]:{}},[f]:N},{[P]:[{[g]:G,[E]:[{[R]:"UseDualStack"},!1]},fe,{[g]:G,[E]:[{[R]:"UseFIPS"},!1]},{[g]:Z,[E]:[{[R]:"Region"},"aws-global"]}],[N]:{[H]:"https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"us-east-1"}]},[V]:{}},[f]:N},{[P]:[{[g]:G,[E]:[{[R]:"UseDualStack"},!1]},fe,{[g]:G,[E]:[{[R]:"UseFIPS"},!1]},{[g]:Je,[E]:[{[g]:Z,[E]:[{[R]:"Region"},"aws-global"]}]},{[g]:G,[E]:[{[R]:"UseGlobalEndpoint"},!0]}],[f]:A,[_]:[{[P]:[{[g]:Z,[E]:[{[R]:"Region"},"us-east-1"]}],[N]:{[H]:"https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"{Region}"}]},[V]:{}},[f]:N},{[N]:{[H]:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"{Region}"}]},[V]:{}},[f]:N}]},{[P]:[{[g]:G,[E]:[{[R]:"UseDualStack"},!1]},fe,{[g]:G,[E]:[{[R]:"UseFIPS"},!1]},{[g]:Je,[E]:[{[g]:Z,[E]:[{[R]:"Region"},"aws-global"]}]},{[g]:G,[E]:[{[R]:"UseGlobalEndpoint"},!1]}],[N]:{[H]:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"{Region}"}]},[V]:{}},[f]:N}]}]},{[Y]:"Path-style addressing cannot be used with S3 Accelerate",[f]:Y}]}]},{[Y]:"A valid partition could not be determined",[f]:Y}]}]},ze={[g]:G,[E]:[{[R]:"UseDualStack"},!0]},ut={[g]:G,[E]:[{[R]:"Accelerate"},!1]},Ke={[g]:G,[E]:[{[R]:"UseFIPS"},!0]},Ne={[g]:Je,[E]:[{[g]:Z,[E]:[{[R]:"Region"},"aws-global"]}]},kt={[g]:G,[E]:[{[R]:"UseGlobalEndpoint"},!0]},It={[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"{Region}"}]},Rt={[g]:G,[E]:[{[R]:"UseGlobalEndpoint"},!1]},Oe={[g]:G,[E]:[{[R]:"UseDualStack"},!1]},Ae={[g]:G,[E]:[{[R]:"UseFIPS"},!1]},lo={[Y]:"A valid partition could not be determined",[f]:Y},ty={[P]:[Ke,{[g]:Z,[E]:[{[g]:Xe,[E]:[{[R]:"partitionResult"},ee]},"aws-cn"]}],[Y]:"Partition does not support FIPS",[f]:Y},q5={[g]:Z,[E]:[{[g]:Xe,[E]:[{[R]:"partitionResult"},ee]},"aws-cn"]},Nn={[g]:G,[E]:[{[R]:"Accelerate"},!0]},sv={[P]:[ze,Ke,ut,fe,{[g]:Z,[E]:[{[R]:"Region"},"aws-global"]}],[N]:{[H]:"https://{Bucket}.s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"us-east-1"}]},[V]:{}},[f]:N},ov={[H]:"https://{Bucket}.s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[K]:It,[V]:{}},iv={[P]:[Oe,Ke,ut,fe,{[g]:Z,[E]:[{[R]:"Region"},"aws-global"]}],[N]:{[H]:"https://{Bucket}.s3-fips.us-east-1.{partitionResult#dnsSuffix}",[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"us-east-1"}]},[V]:{}},[f]:N},av={[H]:"https://{Bucket}.s3-fips.{Region}.{partitionResult#dnsSuffix}",[K]:It,[V]:{}},cv={[P]:[ze,Ae,Nn,fe,{[g]:Z,[E]:[{[R]:"Region"},"aws-global"]}],[N]:{[H]:"https://{Bucket}.s3-accelerate.dualstack.us-east-1.{partitionResult#dnsSuffix}",[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"us-east-1"}]},[V]:{}},[f]:N},dv={[H]:"https://{Bucket}.s3-accelerate.dualstack.{partitionResult#dnsSuffix}",[K]:It,[V]:{}},lv={[P]:[ze,Ae,ut,fe,{[g]:Z,[E]:[{[R]:"Region"},"aws-global"]}],[N]:{[H]:"https://{Bucket}.s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"us-east-1"}]},[V]:{}},[f]:N},uv={[H]:"https://{Bucket}.s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[K]:It,[V]:{}},mv={[P]:[Oe,Ae,ut,Pe,Le,{[g]:G,[E]:[{[g]:Xe,[E]:[{[R]:"url"},"isIp"]},!0]},{[g]:Z,[E]:[{[R]:"Region"},"aws-global"]}],[N]:{[H]:"{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"us-east-1"}]},[V]:{}},[f]:N},fv={[g]:G,[E]:[{[g]:Xe,[E]:[{[R]:"url"},"isIp"]},!0]},Py={[R]:"url"},hv={[P]:[Oe,Ae,ut,Pe,Le,{[g]:G,[E]:[{[g]:Xe,[E]:[Py,"isIp"]},!1]},{[g]:Z,[E]:[{[R]:"Region"},"aws-global"]}],[N]:{[H]:"{url#scheme}://{Bucket}.{url#authority}{url#path}",[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"us-east-1"}]},[V]:{}},[f]:N},pv={[g]:G,[E]:[{[g]:Xe,[E]:[Py,"isIp"]},!1]},ny={[H]:"{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",[K]:It,[V]:{}},Sy={[H]:"{url#scheme}://{Bucket}.{url#authority}{url#path}",[K]:It,[V]:{}},yv={[N]:Sy,[f]:N},gv={[P]:[Oe,Ae,Nn,fe,{[g]:Z,[E]:[{[R]:"Region"},"aws-global"]}],[N]:{[H]:"https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"us-east-1"}]},[V]:{}},[f]:N},ry={[H]:"https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",[K]:It,[V]:{}},Ev={[P]:[Oe,Ae,ut,fe,{[g]:Z,[E]:[{[R]:"Region"},"aws-global"]}],[N]:{[H]:sT,[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"us-east-1"}]},[V]:{}},[f]:N},Sv={[H]:"https://{Bucket}.s3.{Region}.{partitionResult#dnsSuffix}",[K]:It,[V]:{}},am={[Y]:"Invalid region: region was not a valid DNS name.",[f]:Y},Vt={[R]:oT},lT={[R]:iT},sy={[g]:Xe,[E]:[Vt,"service"]},_y={[R]:by},xv={[P]:[ze],[Y]:"S3 Object Lambda does not support Dual-stack",[f]:Y},wv={[P]:[Nn],[Y]:"S3 Object Lambda does not support S3 Accelerate",[f]:Y},Cv={[P]:[{[g]:en,[E]:[{[R]:"DisableAccessPoints"}]},{[g]:G,[E]:[{[R]:"DisableAccessPoints"},!0]}],[Y]:"Access points are not supported for this operation",[f]:Y},oy={[P]:[{[g]:en,[E]:[{[R]:"UseArnRegion"}]},{[g]:G,[E]:[{[R]:"UseArnRegion"},!1]},{[g]:Je,[E]:[{[g]:Z,[E]:[{[g]:Xe,[E]:[Vt,"region"]},"{Region}"]}]}],[Y]:"Invalid configuration: region from ARN `{bucketArn#region}` does not match client region `{Region}` and UseArnRegion is `false`",[f]:Y},Ay={[g]:Xe,[E]:[{[R]:"bucketPartition"},ee]},uT={[g]:Xe,[E]:[Vt,"accountId"]},bv={[P]:[Ke,{[g]:Z,[E]:[Ay,"aws-cn"]}],[Y]:"Partition does not support FIPS",[f]:Y},iy={[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:Cy,[ce]:"{bucketArn#region}"}]},Pv={[Y]:"Invalid ARN: The access point name may only contain a-z, A-Z, 0-9 and `-`. Found: `{accessPointName}`",[f]:Y},ay={[Y]:"Invalid ARN: The account id may only contain a-z, A-Z, 0-9 and `-`. Found: `{bucketArn#accountId}`",[f]:Y},cy={[Y]:"Invalid region in ARN: `{bucketArn#region}` (invalid DNS name)",[f]:Y},dy={[Y]:"Client was configured for partition `{partitionResult#name}` but ARN (`{Bucket}`) has `{bucketPartition#name}`",[f]:Y},_v={[Y]:"Could not load partition for ARN region `{bucketArn#region}`",[f]:Y},Av={[Y]:"Invalid ARN: The ARN may only contain a single resource component after `accesspoint`.",[f]:Y},kv={[Y]:"Invalid ARN: bucket ARN is missing a region",[f]:Y},Rv={[Y]:"Invalid ARN: Expected a resource of the format `accesspoint:<accesspoint name>` but no name was provided",[f]:Y},Kd={[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"{bucketArn#region}"}]},Iv={[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:wy,[ce]:"{bucketArn#region}"}]},Nv={[R]:"UseObjectLambdaEndpoint"},ly={[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:Cy,[ce]:"{Region}"}]},vv={[P]:[Ke,ze,Pe,Le,{[g]:Z,[E]:[{[R]:"Region"},"aws-global"]}],[N]:{[H]:fo,[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"us-east-1"}]},[V]:{}},[f]:N},mT={[N]:{[H]:fo,[K]:It,[V]:{}},[f]:N},Vd={[H]:fo,[K]:It,[V]:{}},Tv={[P]:[Ke,ze,fe,{[g]:Z,[E]:[{[R]:"Region"},"aws-global"]}],[N]:{[H]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"us-east-1"}]},[V]:{}},[f]:N},Dv={[H]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[K]:It,[V]:{}},Bv={[P]:[Ke,Oe,Pe,Le,{[g]:Z,[E]:[{[R]:"Region"},"aws-global"]}],[N]:{[H]:fo,[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"us-east-1"}]},[V]:{}},[f]:N},Ov={[P]:[Ke,Oe,fe,{[g]:Z,[E]:[{[R]:"Region"},"aws-global"]}],[N]:{[H]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}",[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"us-east-1"}]},[V]:{}},[f]:N},Fv={[H]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}",[K]:It,[V]:{}},Mv={[P]:[Ae,ze,Pe,Le,{[g]:Z,[E]:[{[R]:"Region"},"aws-global"]}],[N]:{[H]:fo,[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"us-east-1"}]},[V]:{}},[f]:N},Lv={[P]:[Ae,ze,fe,{[g]:Z,[E]:[{[R]:"Region"},"aws-global"]}],[N]:{[H]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"us-east-1"}]},[V]:{}},[f]:N},Uv={[H]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[K]:It,[V]:{}},zv={[P]:[Ae,Oe,Pe,Le,{[g]:Z,[E]:[{[R]:"Region"},"aws-global"]}],[N]:{[H]:fo,[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"us-east-1"}]},[V]:{}},[f]:N},qv={[P]:[Ae,Oe,fe,{[g]:Z,[E]:[{[R]:"Region"},"aws-global"]}],[N]:{[H]:cT,[K]:{[se]:[{[oe]:!0,[ee]:"sigv4",[ie]:me,[ce]:"us-east-1"}]},[V]:{}},[f]:N},$v={[H]:"https://s3.{Region}.{partitionResult#dnsSuffix}",[K]:It,[V]:{}},dm=[{[R]:"Region"}],$5=[Qn],Gv=[{[g]:mo,[E]:[{[R]:Ey},!1]}],jv=[{[g]:Z,[E]:[{[R]:tT},"beta"]}],G5=[{[R]:"Endpoint"}],Wd=[Pe,Le],Hv=[dT],Kv=[{[g]:rT,[E]:[Qn]}],j5=[ze,Pe],uo=[{[g]:Yd,[E]:dm,[pt]:"partitionResult"}],kc=[{[g]:Z,[E]:[{[R]:"Region"},"us-east-1"]}],Vv=[{[g]:mo,[E]:[{[R]:"Region"},!1]}],uy=[{[g]:Z,[E]:[lT,aT]}],Wv=[{[g]:Xe,[E]:[Vt,"resourceId[1]"],[pt]:by},{[g]:Je,[E]:[{[g]:Z,[E]:[_y,lm]}]}],H5=[Vt,"resourceId[1]"],Yv=[ze],my=[Nn],fy=[{[g]:Je,[E]:[{[g]:Z,[E]:[{[g]:Xe,[E]:[Vt,"region"]},lm]}]}],Xv=[{[g]:Je,[E]:[{[g]:en,[E]:[{[g]:Xe,[E]:[Vt,"resourceId[2]"]}]}]}],K5=[Vt,"resourceId[2]"],hy=[{[g]:Yd,[E]:[{[g]:Xe,[E]:[Vt,"region"]}],[pt]:"bucketPartition"}],Qv=[{[g]:Z,[E]:[Ay,{[g]:Xe,[E]:[{[R]:"partitionResult"},ee]}]}],py=[{[g]:mo,[E]:[{[g]:Xe,[E]:[Vt,"region"]},!0]}],yy=[{[g]:mo,[E]:[uT,!1]}],Zv=[{[g]:mo,[E]:[_y,!1]}],cm=[Ke],Jv=[{[g]:mo,[E]:[{[R]:"Region"},!0]}],gy=[mT],V5={version:"1.0",parameters:{Bucket:ey,Region:ey,UseFIPS:Hd,UseDualStack:Hd,Endpoint:ey,ForcePathStyle:om,Accelerate:Hd,UseGlobalEndpoint:Hd,UseObjectLambdaEndpoint:om,DisableAccessPoints:om,DisableMultiRegionAccessPoints:Hd,UseArnRegion:om},[_]:[{[f]:A,[_]:[{[P]:[{[g]:en,[E]:dm}],[f]:A,[_]:[{[f]:A,[_]:[{[P]:[dT,{[g]:jd,[E]:[Qn,49,50,!0],[pt]:eT},{[g]:jd,[E]:[Qn,8,12,!0],[pt]:tT},{[g]:jd,[E]:[Qn,0,7,!0],[pt]:WN},{[g]:jd,[E]:[Qn,32,49,!0],[pt]:Ey},{[g]:Yd,[E]:dm,[pt]:"regionPartition"},{[g]:Z,[E]:[{[R]:WN},"--op-s3"]}],[f]:A,[_]:[{[P]:Gv,[f]:A,[_]:[{[f]:A,[_]:[{[P]:[{[g]:Z,[E]:[ev,"e"]}],[f]:A,[_]:[{[P]:jv,[f]:A,[_]:[tv,{[P]:Wd,endpoint:{[H]:"https://{Bucket}.ec2.{url#authority}",[K]:im,[V]:ct},[f]:N}]},{endpoint:{[H]:"https://{Bucket}.ec2.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[K]:im,[V]:ct},[f]:N}]},{[P]:[{[g]:Z,[E]:[ev,"o"]}],[f]:A,[_]:[{[P]:jv,[f]:A,[_]:[tv,{[P]:Wd,endpoint:{[H]:"https://{Bucket}.op-{outpostId}.{url#authority}",[K]:im,[V]:ct},[f]:N}]},{endpoint:{[H]:"https://{Bucket}.op-{outpostId}.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[K]:im,[V]:ct},[f]:N}]},{error:'Unrecognized hardware type: "Expected hardware type o or e but got {hardwareType}"',[f]:Y}]}]},{error:"Invalid ARN: The outpost Id must only contain a-z, A-Z, 0-9 and `-`.",[f]:Y}]},{[P]:Hv,[f]:A,[_]:[{[P]:[Pe,{[g]:Je,[E]:[{[g]:en,[E]:[{[g]:nT,[E]:G5}]}]}],error:"Custom endpoint `{Endpoint}` was not a valid URI",[f]:Y},{[f]:A,[_]:[{[P]:[{[g]:en,[E]:[nv]},{[g]:G,[E]:[nv,!0]}],[f]:A,[_]:[{[f]:A,[_]:[{[P]:Kv,error:"Path-style addressing cannot be used with ARN buckets",[f]:Y},rv]}]},{[P]:[{[g]:YN,[E]:[Qn,!1]}],[f]:A,[_]:[{[P]:uo,[f]:A,[_]:[{[f]:A,[_]:[{[P]:Vv,[f]:A,[_]:[{[f]:A,[_]:[ty,{[f]:A,[_]:[{[P]:[Nn,Ke],error:"Accelerate cannot be used with FIPS",[f]:Y},{[f]:A,[_]:[{[P]:[Nn,q5],error:"S3 Accelerate cannot be used in this region",[f]:Y},{[f]:A,[_]:[{[P]:[Pe,ze],error:Jp,[f]:Y},{[f]:A,[_]:[{[P]:[Pe,Ke],error:Jp,[f]:Y},{[f]:A,[_]:[{[P]:[Pe,Nn],error:Jp,[f]:Y},{[f]:A,[_]:[sv,sv,{[P]:[ze,Ke,ut,fe,Ne,kt],[f]:A,[_]:[{endpoint:ov,[f]:N}]},{[P]:[ze,Ke,ut,fe,Ne,Rt],endpoint:ov,[f]:N},iv,iv,{[P]:[Oe,Ke,ut,fe,Ne,kt],[f]:A,[_]:[{endpoint:av,[f]:N}]},{[P]:[Oe,Ke,ut,fe,Ne,Rt],endpoint:av,[f]:N},cv,cv,{[P]:[ze,Ae,Nn,fe,Ne,kt],[f]:A,[_]:[{endpoint:dv,[f]:N}]},{[P]:[ze,Ae,Nn,fe,Ne,Rt],endpoint:dv,[f]:N},lv,lv,{[P]:[ze,Ae,ut,fe,Ne,kt],[f]:A,[_]:[{endpoint:uv,[f]:N}]},{[P]:[ze,Ae,ut,fe,Ne,Rt],endpoint:uv,[f]:N},mv,hv,mv,hv,{[P]:[Oe,Ae,ut,Pe,Le,fv,Ne,kt],[f]:A,[_]:[{[P]:kc,endpoint:ny,[f]:N},{endpoint:ny,[f]:N}]},{[P]:[Oe,Ae,ut,Pe,Le,pv,Ne,kt],[f]:A,[_]:[{[P]:kc,endpoint:Sy,[f]:N},yv]},{[P]:[Oe,Ae,ut,Pe,Le,fv,Ne,Rt],endpoint:ny,[f]:N},{[P]:[Oe,Ae,ut,Pe,Le,pv,Ne,Rt],endpoint:Sy,[f]:N},gv,gv,{[P]:[Oe,Ae,Nn,fe,Ne,kt],[f]:A,[_]:[{[P]:kc,endpoint:ry,[f]:N},{endpoint:ry,[f]:N}]},{[P]:[Oe,Ae,Nn,fe,Ne,Rt],endpoint:ry,[f]:N},Ev,Ev,{[P]:[Oe,Ae,ut,fe,Ne,kt],[f]:A,[_]:[{[P]:kc,endpoint:{[H]:sT,[K]:It,[V]:ct},[f]:N},{endpoint:Sv,[f]:N}]},{[P]:[Oe,Ae,ut,fe,Ne,Rt],endpoint:Sv,[f]:N}]}]}]}]}]}]}]}]},am]}]},lo]},{[P]:[Pe,Le,{[g]:Z,[E]:[{[g]:Xe,[E]:[Py,"scheme"]},"http"]},{[g]:YN,[E]:[Qn,!0]},Ae,Oe,ut],[f]:A,[_]:[{[P]:uo,[f]:A,[_]:[{[f]:A,[_]:[{[P]:Vv,[f]:A,[_]:[yv]},am]}]},lo]},{[P]:[{[g]:rT,[E]:$5,[pt]:oT}],[f]:A,[_]:[{[P]:[{[g]:Xe,[E]:[Vt,"resourceId[0]"],[pt]:iT},{[g]:Je,[E]:[{[g]:Z,[E]:[lT,lm]}]}],[f]:A,[_]:[{[f]:A,[_]:[{[P]:[{[g]:Z,[E]:[sy,Cy]}],[f]:A,[_]:[{[P]:uy,[f]:A,[_]:[{[f]:A,[_]:[{[P]:Wv,[f]:A,[_]:[{[f]:A,[_]:[xv,{[f]:A,[_]:[wv,{[f]:A,[_]:[{[P]:fy,[f]:A,[_]:[{[f]:A,[_]:[Cv,{[f]:A,[_]:[{[P]:Xv,[f]:A,[_]:[{[f]:A,[_]:[oy,{[f]:A,[_]:[{[P]:hy,[f]:A,[_]:[{[f]:A,[_]:[{[P]:uo,[f]:A,[_]:[{[f]:A,[_]:[{[P]:Qv,[f]:A,[_]:[{[f]:A,[_]:[{[P]:py,[f]:A,[_]:[{[f]:A,[_]:[{[P]:[{[g]:Z,[E]:[uT,lm]}],error:"Invalid ARN: Missing account id",[f]:Y},{[f]:A,[_]:[{[P]:yy,[f]:A,[_]:[{[f]:A,[_]:[{[P]:Zv,[f]:A,[_]:[{[f]:A,[_]:[bv,{[f]:A,[_]:[{[P]:Wd,endpoint:{[H]:XN,[K]:iy,[V]:ct},[f]:N},{[P]:cm,endpoint:{[H]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[K]:iy,[V]:ct},[f]:N},{endpoint:{[H]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda.{bucketArn#region}.{bucketPartition#dnsSuffix}",[K]:iy,[V]:ct},[f]:N}]}]}]},Pv]}]},ay]}]}]},cy]}]},dy]}]},lo]}]},_v]}]}]},Av]}]}]},kv]}]}]}]},Rv]}]},{error:"Invalid ARN: Object Lambda ARNs only support `accesspoint` arn types, but found: `{arnType}`",[f]:Y}]},{[P]:uy,[f]:A,[_]:[{[P]:Wv,[f]:A,[_]:[{[f]:A,[_]:[{[P]:fy,[f]:A,[_]:[{[P]:uy,[f]:A,[_]:[{[P]:fy,[f]:A,[_]:[{[f]:A,[_]:[Cv,{[f]:A,[_]:[{[P]:Xv,[f]:A,[_]:[{[f]:A,[_]:[oy,{[f]:A,[_]:[{[P]:hy,[f]:A,[_]:[{[f]:A,[_]:[{[P]:uo,[f]:A,[_]:[{[f]:A,[_]:[{[P]:[{[g]:Z,[E]:[Ay,"{partitionResult#name}"]}],[f]:A,[_]:[{[f]:A,[_]:[{[P]:py,[f]:A,[_]:[{[f]:A,[_]:[{[P]:[{[g]:Z,[E]:[sy,me]}],[f]:A,[_]:[{[f]:A,[_]:[{[P]:yy,[f]:A,[_]:[{[f]:A,[_]:[{[P]:Zv,[f]:A,[_]:[{[f]:A,[_]:[{[P]:my,error:"Access Points do not support S3 Accelerate",[f]:Y},{[f]:A,[_]:[bv,{[f]:A,[_]:[{[P]:j5,error:"DualStack cannot be combined with a Host override (PrivateLink)",[f]:Y},{[f]:A,[_]:[{[P]:[Ke,ze],endpoint:{[H]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[K]:Kd,[V]:ct},[f]:N},{[P]:[Ke,Oe],endpoint:{[H]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[K]:Kd,[V]:ct},[f]:N},{[P]:[Ae,ze],endpoint:{[H]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[K]:Kd,[V]:ct},[f]:N},{[P]:[Ae,Oe,Pe,Le],endpoint:{[H]:XN,[K]:Kd,[V]:ct},[f]:N},{[P]:[Ae,Oe],endpoint:{[H]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.{bucketArn#region}.{bucketPartition#dnsSuffix}",[K]:Kd,[V]:ct},[f]:N}]}]}]}]}]},Pv]}]},ay]}]},{error:"Invalid ARN: The ARN was not for the S3 service, found: {bucketArn#service}",[f]:Y}]}]},cy]}]},dy]}]},lo]}]},_v]}]}]},Av]}]}]},kv]}]},{[f]:A,[_]:[{[P]:[{[g]:mo,[E]:[_y,!0]}],[f]:A,[_]:[{[f]:A,[_]:[{[P]:Yv,error:"S3 MRAP does not support dual-stack",[f]:Y},{[f]:A,[_]:[{[P]:cm,error:"S3 MRAP does not support FIPS",[f]:Y},{[f]:A,[_]:[{[P]:my,error:"S3 MRAP does not support S3 Accelerate",[f]:Y},{[f]:A,[_]:[{[P]:[{[g]:G,[E]:[{[R]:"DisableMultiRegionAccessPoints"},!0]}],error:"Invalid configuration: Multi-Region Access Point ARNs are disabled.",[f]:Y},{[f]:A,[_]:[{[P]:[{[g]:Yd,[E]:dm,[pt]:QN}],[f]:A,[_]:[{[f]:A,[_]:[{[P]:[{[g]:Z,[E]:[{[g]:Xe,[E]:[{[R]:QN},ee]},{[g]:Xe,[E]:[Vt,"partition"]}]}],[f]:A,[_]:[{endpoint:{[H]:"https://{accessPointName}.accesspoint.s3-global.{mrapPartition#dnsSuffix}",[K]:{[se]:[{[oe]:!0,name:"sigv4a",[ie]:me,signingRegionSet:["*"]}]},[V]:ct},[f]:N}]},{error:"Client was configured for partition `{mrapPartition#name}` but bucket referred to partition `{bucketArn#partition}`",[f]:Y}]}]},{error:"{Region} was not a valid region",[f]:Y}]}]}]}]}]}]},{error:"Invalid Access Point Name",[f]:Y}]}]}]},Rv]},{[P]:[{[g]:Z,[E]:[sy,wy]}],[f]:A,[_]:[{[P]:Yv,error:"S3 Outposts does not support Dual-stack",[f]:Y},{[f]:A,[_]:[{[P]:cm,error:"S3 Outposts does not support FIPS",[f]:Y},{[f]:A,[_]:[{[P]:my,error:"S3 Outposts does not support S3 Accelerate",[f]:Y},{[f]:A,[_]:[{[P]:[{[g]:en,[E]:[{[g]:Xe,[E]:[Vt,"resourceId[4]"]}]}],error:"Invalid Arn: Outpost Access Point ARN contains sub resources",[f]:Y},{[f]:A,[_]:[{[P]:[{[g]:Xe,[E]:H5,[pt]:Ey}],[f]:A,[_]:[{[f]:A,[_]:[{[P]:Gv,[f]:A,[_]:[{[f]:A,[_]:[oy,{[f]:A,[_]:[{[P]:hy,[f]:A,[_]:[{[f]:A,[_]:[{[P]:uo,[f]:A,[_]:[{[f]:A,[_]:[{[P]:Qv,[f]:A,[_]:[{[f]:A,[_]:[{[P]:py,[f]:A,[_]:[{[f]:A,[_]:[{[P]:yy,[f]:A,[_]:[{[f]:A,[_]:[{[P]:[{[g]:Xe,[E]:K5,[pt]:ZN}],[f]:A,[_]:[{[f]:A,[_]:[{[P]:[{[g]:Xe,[E]:[Vt,"resourceId[3]"],[pt]:by}],[f]:A,[_]:[{[f]:A,[_]:[{[P]:[{[g]:Z,[E]:[{[R]:ZN},aT]}],[f]:A,[_]:[{[f]:A,[_]:[{[P]:Wd,endpoint:{[H]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.{url#authority}",[K]:Iv,[V]:ct},[f]:N},{endpoint:{[H]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.s3-outposts.{bucketArn#region}.{bucketPartition#dnsSuffix}",[K]:Iv,[V]:ct},[f]:N}]}]},{error:"Expected an outpost type `accesspoint`, found {outpostType}",[f]:Y}]}]},{error:"Invalid ARN: expected an access point name",[f]:Y}]}]},{error:"Invalid ARN: Expected a 4-component resource",[f]:Y}]}]},ay]}]},cy]}]},dy]}]},lo]}]},{error:"Could not load partition for ARN region {bucketArn#region}",[f]:Y}]}]}]},{error:"Invalid ARN: The outpost Id may only contain a-z, A-Z, 0-9 and `-`. Found: `{outpostId}`",[f]:Y}]}]},{error:"Invalid ARN: The Outpost Id was not set",[f]:Y}]}]}]}]}]},{error:"Invalid ARN: Unrecognized format: {Bucket} (type: {arnType})",[f]:Y}]}]},{error:"Invalid ARN: No ARN type specified",[f]:Y}]},{[P]:[{[g]:jd,[E]:[Qn,0,4,!1],[pt]:JN},{[g]:Z,[E]:[{[R]:JN},"arn:"]},{[g]:Je,[E]:[{[g]:en,[E]:Kv}]}],error:"Invalid ARN: `{Bucket}` was not a valid ARN",[f]:Y},rv]}]},{[P]:[{[g]:en,[E]:[Nv]},{[g]:G,[E]:[Nv,!0]}],[f]:A,[_]:[{[P]:uo,[f]:A,[_]:[{[f]:A,[_]:[{[P]:Jv,[f]:A,[_]:[{[f]:A,[_]:[xv,{[f]:A,[_]:[wv,{[f]:A,[_]:[ty,{[f]:A,[_]:[{[P]:Wd,endpoint:{[H]:fo,[K]:ly,[V]:ct},[f]:N},{[P]:cm,endpoint:{[H]:"https://s3-object-lambda-fips.{Region}.{partitionResult#dnsSuffix}",[K]:ly,[V]:ct},[f]:N},{endpoint:{[H]:"https://s3-object-lambda.{Region}.{partitionResult#dnsSuffix}",[K]:ly,[V]:ct},[f]:N}]}]}]}]}]},am]}]},lo]},{[P]:[{[g]:Je,[E]:Hv}],[f]:A,[_]:[{[P]:uo,[f]:A,[_]:[{[f]:A,[_]:[{[P]:Jv,[f]:A,[_]:[{[f]:A,[_]:[ty,{[f]:A,[_]:[vv,vv,{[P]:[Ke,ze,Pe,Le,Ne,kt],[f]:A,[_]:gy},{[P]:[Ke,ze,Pe,Le,Ne,Rt],endpoint:Vd,[f]:N},Tv,Tv,{[P]:[Ke,ze,fe,Ne,kt],[f]:A,[_]:[{endpoint:Dv,[f]:N}]},{[P]:[Ke,ze,fe,Ne,Rt],endpoint:Dv,[f]:N},Bv,Bv,{[P]:[Ke,Oe,Pe,Le,Ne,kt],[f]:A,[_]:gy},{[P]:[Ke,Oe,Pe,Le,Ne,Rt],endpoint:Vd,[f]:N},Ov,Ov,{[P]:[Ke,Oe,fe,Ne,kt],[f]:A,[_]:[{endpoint:Fv,[f]:N}]},{[P]:[Ke,Oe,fe,Ne,Rt],endpoint:Fv,[f]:N},Mv,Mv,{[P]:[Ae,ze,Pe,Le,Ne,kt],[f]:A,[_]:gy},{[P]:[Ae,ze,Pe,Le,Ne,Rt],endpoint:Vd,[f]:N},Lv,Lv,{[P]:[Ae,ze,fe,Ne,kt],[f]:A,[_]:[{endpoint:Uv,[f]:N}]},{[P]:[Ae,ze,fe,Ne,Rt],endpoint:Uv,[f]:N},zv,zv,{[P]:[Ae,Oe,Pe,Le,Ne,kt],[f]:A,[_]:[{[P]:kc,endpoint:Vd,[f]:N},mT]},{[P]:[Ae,Oe,Pe,Le,Ne,Rt],endpoint:Vd,[f]:N},qv,qv,{[P]:[Ae,Oe,fe,Ne,kt],[f]:A,[_]:[{[P]:kc,endpoint:{[H]:cT,[K]:It,[V]:ct},[f]:N},{endpoint:$v,[f]:N}]},{[P]:[Ae,Oe,fe,Ne,Rt],endpoint:$v,[f]:N}]}]}]},am]}]},lo]}]}]},{error:"A region must be set when sending requests to S3.",[f]:Y}]}]},fT=V5;var hT=(e,t={})=>Es(fT,{endpointParams:e,logger:t.logger});var pT=e=>({apiVersion:"2006-03-01",base64Decoder:(e==null?void 0:e.base64Decoder)??Ps,base64Encoder:(e==null?void 0:e.base64Encoder)??_s,disableHostPrefix:(e==null?void 0:e.disableHostPrefix)??!1,endpointProvider:(e==null?void 0:e.endpointProvider)??hT,logger:(e==null?void 0:e.logger)??new Fn,serviceId:(e==null?void 0:e.serviceId)??"S3",signerConstructor:(e==null?void 0:e.signerConstructor)??sm,signingEscapePath:(e==null?void 0:e.signingEscapePath)??!1,urlParser:(e==null?void 0:e.urlParser)??$t,useArnRegion:(e==null?void 0:e.useArnRegion)??!1,utf8Decoder:(e==null?void 0:e.utf8Decoder)??Un,utf8Encoder:(e==null?void 0:e.utf8Encoder)??ns});var yT=e=>{Qr(process.version);let t=As(e),n=()=>t().then(Xr),r=pT(e);return{...r,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:(e==null?void 0:e.bodyLengthChecker)??Cs,credentialDefaultProvider:(e==null?void 0:e.credentialDefaultProvider)??kN(Ju),defaultUserAgentProvider:(e==null?void 0:e.defaultUserAgentProvider)??bs({serviceId:r.serviceId,clientVersion:UR.version}),eventStreamSerdeProvider:(e==null?void 0:e.eventStreamSerdeProvider)??UN,getAwsChunkedEncodingStream:(e==null?void 0:e.getAwsChunkedEncodingStream)??jN,maxAttempts:(e==null?void 0:e.maxAttempts)??ke(us),md5:(e==null?void 0:e.md5)??gn.bind(null,"md5"),region:(e==null?void 0:e.region)??ke(qn,os),requestHandler:(e==null?void 0:e.requestHandler)??new Hn(n),retryMode:(e==null?void 0:e.retryMode)??ke({...fs,default:async()=>(await n()).retryMode||Gn}),sdkStreamMixin:(e==null?void 0:e.sdkStreamMixin)??VN,sha1:(e==null?void 0:e.sha1)??gn.bind(null,"sha1"),sha256:(e==null?void 0:e.sha256)??gn.bind(null,"sha256"),streamCollector:(e==null?void 0:e.streamCollector)??Kn,streamHasher:(e==null?void 0:e.streamHasher)??qN,useArnRegion:(e==null?void 0:e.useArnRegion)??ke($N),useDualstackEndpoint:(e==null?void 0:e.useDualstackEndpoint)??ke(rs),useFipsEndpoint:(e==null?void 0:e.useFipsEndpoint)??ke(ss)}};var um=class extends Mn{constructor(t){let n=yT(t),r=LR(n),s=is(r),o=Vr(s),a=ms(o),i=a,l=Su(i),d=ZA(l),c=ys(d),m=Bk(c);super(m),this.config=m,this.middlewareStack.use(hs(this.config)),this.middlewareStack.use(as(this.config)),this.middlewareStack.use(cs(this.config)),this.middlewareStack.use(ds(this.config)),this.middlewareStack.use(ls(this.config)),this.middlewareStack.use(wu(this.config)),this.middlewareStack.use(ek(this.config)),this.middlewareStack.use(Fk(this.config)),this.middlewareStack.use(Ss(this.config))}destroy(){super.destroy()}};var mm=class extends um{abortMultipartUpload(t,n,r){let s=new si(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}completeMultipartUpload(t,n,r){let s=new ii(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}copyObject(t,n,r){let s=new ai(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}createBucket(t,n,r){let s=new ci(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}createMultipartUpload(t,n,r){let s=new di(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}deleteBucket(t,n,r){let s=new ui(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}deleteBucketAnalyticsConfiguration(t,n,r){let s=new li(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}deleteBucketCors(t,n,r){let s=new mi(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}deleteBucketEncryption(t,n,r){let s=new fi(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}deleteBucketIntelligentTieringConfiguration(t,n,r){let s=new hi(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}deleteBucketInventoryConfiguration(t,n,r){let s=new pi(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}deleteBucketLifecycle(t,n,r){let s=new yi(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}deleteBucketMetricsConfiguration(t,n,r){let s=new gi(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}deleteBucketOwnershipControls(t,n,r){let s=new Ei(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}deleteBucketPolicy(t,n,r){let s=new Si(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}deleteBucketReplication(t,n,r){let s=new xi(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}deleteBucketTagging(t,n,r){let s=new wi(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}deleteBucketWebsite(t,n,r){let s=new Ci(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}deleteObject(t,n,r){let s=new bi(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}deleteObjects(t,n,r){let s=new Ai(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}deleteObjectTagging(t,n,r){let s=new ki(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}deletePublicAccessBlock(t,n,r){let s=new Ri(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}getBucketAccelerateConfiguration(t,n,r){let s=new Ii(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}getBucketAcl(t,n,r){let s=new Ni(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}getBucketAnalyticsConfiguration(t,n,r){let s=new vi(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}getBucketCors(t,n,r){let s=new Ti(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}getBucketEncryption(t,n,r){let s=new Di(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}getBucketIntelligentTieringConfiguration(t,n,r){let s=new Bi(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}getBucketInventoryConfiguration(t,n,r){let s=new Oi(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}getBucketLifecycleConfiguration(t,n,r){let s=new Fi(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}getBucketLocation(t,n,r){let s=new Mi(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}getBucketLogging(t,n,r){let s=new Li(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}getBucketMetricsConfiguration(t,n,r){let s=new Ui(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}getBucketNotificationConfiguration(t,n,r){let s=new zi(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}getBucketOwnershipControls(t,n,r){let s=new qi(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}getBucketPolicy(t,n,r){let s=new $i(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}getBucketPolicyStatus(t,n,r){let s=new Gi(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}getBucketReplication(t,n,r){let s=new ji(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}getBucketRequestPayment(t,n,r){let s=new Hi(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}getBucketTagging(t,n,r){let s=new Ki(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}getBucketVersioning(t,n,r){let s=new Vi(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}getBucketWebsite(t,n,r){let s=new Wi(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}getObject(t,n,r){let s=new Qi(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}getObjectAcl(t,n,r){let s=new Yi(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}getObjectAttributes(t,n,r){let s=new Xi(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}getObjectLegalHold(t,n,r){let s=new Zi(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}getObjectLockConfiguration(t,n,r){let s=new Ji(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}getObjectRetention(t,n,r){let s=new ea(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}getObjectTagging(t,n,r){let s=new ta(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}getObjectTorrent(t,n,r){let s=new na(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}getPublicAccessBlock(t,n,r){let s=new ra(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}headBucket(t,n,r){let s=new sa(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}headObject(t,n,r){let s=new oa(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}listBucketAnalyticsConfigurations(t,n,r){let s=new ia(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}listBucketIntelligentTieringConfigurations(t,n,r){let s=new aa(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}listBucketInventoryConfigurations(t,n,r){let s=new ca(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}listBucketMetricsConfigurations(t,n,r){let s=new da(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}listBuckets(t,n,r){let s=new la(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}listMultipartUploads(t,n,r){let s=new ua(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}listObjects(t,n,r){let s=new ma(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}listObjectsV2(t,n,r){let s=new fa(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}listObjectVersions(t,n,r){let s=new ha(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}listParts(t,n,r){let s=new pa(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}putBucketAccelerateConfiguration(t,n,r){let s=new ya(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}putBucketAcl(t,n,r){let s=new ga(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}putBucketAnalyticsConfiguration(t,n,r){let s=new Ea(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}putBucketCors(t,n,r){let s=new Sa(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}putBucketEncryption(t,n,r){let s=new xa(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}putBucketIntelligentTieringConfiguration(t,n,r){let s=new wa(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}putBucketInventoryConfiguration(t,n,r){let s=new Ca(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}putBucketLifecycleConfiguration(t,n,r){let s=new ba(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}putBucketLogging(t,n,r){let s=new Pa(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}putBucketMetricsConfiguration(t,n,r){let s=new _a(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}putBucketNotificationConfiguration(t,n,r){let s=new Aa(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}putBucketOwnershipControls(t,n,r){let s=new ka(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}putBucketPolicy(t,n,r){let s=new Ra(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}putBucketReplication(t,n,r){let s=new Ia(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}putBucketRequestPayment(t,n,r){let s=new Na(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}putBucketTagging(t,n,r){let s=new va(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}putBucketVersioning(t,n,r){let s=new Ta(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}putBucketWebsite(t,n,r){let s=new Da(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}putObject(t,n,r){let s=new Oa(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}putObjectAcl(t,n,r){let s=new Ba(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}putObjectLegalHold(t,n,r){let s=new Fa(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}putObjectLockConfiguration(t,n,r){let s=new Ma(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}putObjectRetention(t,n,r){let s=new La(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}putObjectTagging(t,n,r){let s=new Ua(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}putPublicAccessBlock(t,n,r){let s=new za(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}restoreObject(t,n,r){let s=new qa(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}selectObjectContent(t,n,r){let s=new $a(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}uploadPart(t,n,r){let s=new Ga(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}uploadPartCopy(t,n,r){let s=new ja(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}writeGetObjectResponse(t,n,r){let s=new Ha(t);if(typeof n=="function")this.send(s,n);else if(typeof r=="function"){if(typeof n!="object")throw new Error(`Expect http options but get ${typeof n}`);this.send(s,n||{},r)}else return this.send(s,n)}};var ML=cn(hO()),LL=cn(BL()),ux=new mm({});ux.middlewareStack.add(e=>async t=>(t.request.headers["Transfer-Encoding"]="gzip",await e(t)),{step:"build",name:"addTransferEncodingHeader"});async function uQ(){try{let e=(0,zr.getInput)("bucket",{required:!0}),t=(0,zr.getMultilineInput)("path",{required:!0}),n=(0,zr.getInput)("prefix"),r=(0,zr.getBooleanInput)("archive"),s=(await Promise.all(t.map(a=>(0,LL.default)(a,{onlyFiles:!1,markDirectories:!0})))).flat(),o=Array.from(new Set(s)).filter((a,i,l)=>a.at(-1)!=="/"||!l.some((d,c)=>i!==c&&d.startsWith(a)&&d.length>a.length));if(r){let a=Cl.posix.join(n,"archive"),i=(0,ML.create)({gzip:!0},o);(await ux.putObject({Bucket:e,Key:a,Body:i,ContentEncoding:"gzip",ContentType:"application/x-compressed"})).$metadata.httpStatusCode===200&&console.info("Uploaded archive:","archive.tgz")}else await mQ(e,n,o)}catch(e){console.log(">>>>>>>>>>ERROR"),console.log(e),e instanceof Error&&(0,zr.setFailed)(e)}}async function mQ(e,t,n){let r=0;await Promise.all(n.map(async s=>{let o=s.at(-1)==="/",a=Cl.posix.join(t,s),i=(0,Cl.join)(process.cwd(),s),l=o?void 0:(0,OL.createReadStream)(i),d=o?void 0:(await(0,FL.stat)(i)).size;(await ux.putObject({Bucket:e,Key:a,Body:l,ContentLength:d})).$metadata.httpStatusCode===200&&(r++,console.info("Uploaded:",i))})),console.log("### Total files uploaded:",r,"###")}uQ();
/*! Bundled license information:

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

is-extglob/index.js:
  (*!
   * is-extglob <https://github.com/jonschlinkert/is-extglob>
   *
   * Copyright (c) 2014-2016, Jon Schlinkert.
   * Licensed under the MIT License.
   *)

is-glob/index.js:
  (*!
   * is-glob <https://github.com/jonschlinkert/is-glob>
   *
   * Copyright (c) 2014-2017, Jon Schlinkert.
   * Released under the MIT License.
   *)

is-number/index.js:
  (*!
   * is-number <https://github.com/jonschlinkert/is-number>
   *
   * Copyright (c) 2014-present, Jon Schlinkert.
   * Released under the MIT License.
   *)

to-regex-range/index.js:
  (*!
   * to-regex-range <https://github.com/micromatch/to-regex-range>
   *
   * Copyright (c) 2015-present, Jon Schlinkert.
   * Released under the MIT License.
   *)

fill-range/index.js:
  (*!
   * fill-range <https://github.com/jonschlinkert/fill-range>
   *
   * Copyright (c) 2014-present, Jon Schlinkert.
   * Licensed under the MIT License.
   *)

queue-microtask/index.js:
  (*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

run-parallel/index.js:
  (*! run-parallel. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/
