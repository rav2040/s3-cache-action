"use strict";var IO=Object.create;var sc=Object.defineProperty;var DO=Object.getOwnPropertyDescriptor;var BO=Object.getOwnPropertyNames;var MO=Object.getPrototypeOf,LO=Object.prototype.hasOwnProperty;var Fe=(t,e)=>()=>(t&&(e=t(t=0)),e);var C=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),fo=(t,e)=>{for(var r in e)sc(t,r,{get:e[r],enumerable:!0})},Pg=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of BO(e))!LO.call(t,s)&&s!==r&&sc(t,s,{get:()=>e[s],enumerable:!(n=DO(e,s))||n.enumerable});return t};var Mt=(t,e,r)=>(r=t!=null?IO(MO(t)):{},Pg(e||!t||!t.__esModule?sc(r,"default",{value:t,enumerable:!0}):r,t)),ho=t=>Pg(sc({},"__esModule",{value:!0}),t);var oc=C(mo=>{"use strict";Object.defineProperty(mo,"__esModule",{value:!0});mo.toCommandProperties=mo.toCommandValue=void 0;function FO(t){return t==null?"":typeof t=="string"||t instanceof String?t:JSON.stringify(t)}mo.toCommandValue=FO;function UO(t){return Object.keys(t).length?{title:t.title,file:t.file,line:t.startLine,endLine:t.endLine,col:t.startColumn,endColumn:t.endColumn}:{}}mo.toCommandProperties=UO});var Mg=C(Lt=>{"use strict";var zO=Lt&&Lt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),$O=Lt&&Lt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),qO=Lt&&Lt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&zO(e,t,r);return $O(e,t),e};Object.defineProperty(Lt,"__esModule",{value:!0});Lt.issue=Lt.issueCommand=void 0;var HO=qO(require("os")),Dg=oc();function Bg(t,e,r){let n=new Ru(t,e,r);process.stdout.write(n.toString()+HO.EOL)}Lt.issueCommand=Bg;function jO(t,e=""){Bg(t,{},e)}Lt.issue=jO;var Ig="::",Ru=class{constructor(e,r,n){e||(e="missing.command"),this.command=e,this.properties=r,this.message=n}toString(){let e=Ig+this.command;if(this.properties&&Object.keys(this.properties).length>0){e+=" ";let r=!0;for(let n in this.properties)if(this.properties.hasOwnProperty(n)){let s=this.properties[n];s&&(r?r=!1:e+=",",e+=`${n}=${KO(s)}`)}}return e+=`${Ig}${GO(this.message)}`,e}};function GO(t){return Dg.toCommandValue(t).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function KO(t){return Dg.toCommandValue(t).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}});function zi(){return ic>ac.length-16&&(Lg.default.randomFillSync(ac),ic=0),ac.slice(ic,ic+=16)}var Lg,ac,ic,Au=Fe(()=>{Lg=Mt(require("crypto")),ac=new Uint8Array(256),ic=ac.length});var Fg,Ug=Fe(()=>{Fg=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function VO(t){return typeof t=="string"&&Fg.test(t)}var Sn,$i=Fe(()=>{Ug();Sn=VO});function WO(t,e=0){let r=(Xe[t[e+0]]+Xe[t[e+1]]+Xe[t[e+2]]+Xe[t[e+3]]+"-"+Xe[t[e+4]]+Xe[t[e+5]]+"-"+Xe[t[e+6]]+Xe[t[e+7]]+"-"+Xe[t[e+8]]+Xe[t[e+9]]+"-"+Xe[t[e+10]]+Xe[t[e+11]]+Xe[t[e+12]]+Xe[t[e+13]]+Xe[t[e+14]]+Xe[t[e+15]]).toLowerCase();if(!Sn(r))throw TypeError("Stringified UUID is invalid");return r}var Xe,bn,qi=Fe(()=>{$i();Xe=[];for(let t=0;t<256;++t)Xe.push((t+256).toString(16).substr(1));bn=WO});function YO(t,e,r){let n=e&&r||0,s=e||new Array(16);t=t||{};let o=t.node||zg,i=t.clockseq!==void 0?t.clockseq:ku;if(o==null||i==null){let u=t.random||(t.rng||zi)();o==null&&(o=zg=[u[0]|1,u[1],u[2],u[3],u[4],u[5]]),i==null&&(i=ku=(u[6]<<8|u[7])&16383)}let a=t.msecs!==void 0?t.msecs:Date.now(),c=t.nsecs!==void 0?t.nsecs:Nu+1,d=a-Tu+(c-Nu)/1e4;if(d<0&&t.clockseq===void 0&&(i=i+1&16383),(d<0||a>Tu)&&t.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Tu=a,Nu=c,ku=i,a+=122192928e5;let l=((a&268435455)*1e4+c)%4294967296;s[n++]=l>>>24&255,s[n++]=l>>>16&255,s[n++]=l>>>8&255,s[n++]=l&255;let f=a/4294967296*1e4&268435455;s[n++]=f>>>8&255,s[n++]=f&255,s[n++]=f>>>24&15|16,s[n++]=f>>>16&255,s[n++]=i>>>8|128,s[n++]=i&255;for(let u=0;u<6;++u)s[n+u]=o[u];return e||bn(s)}var zg,ku,Tu,Nu,$g,qg=Fe(()=>{Au();qi();Tu=0,Nu=0;$g=YO});function XO(t){if(!Sn(t))throw TypeError("Invalid UUID");let e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}var cc,vu=Fe(()=>{$i();cc=XO});function QO(t){t=unescape(encodeURIComponent(t));let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}function dc(t,e,r){function n(s,o,i,a){if(typeof s=="string"&&(s=QO(s)),typeof o=="string"&&(o=cc(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let c=new Uint8Array(16+s.length);if(c.set(o),c.set(s,o.length),c=r(c),c[6]=c[6]&15|e,c[8]=c[8]&63|128,i){a=a||0;for(let d=0;d<16;++d)i[a+d]=c[d];return i}return bn(c)}try{n.name=t}catch{}return n.DNS=ZO,n.URL=JO,n}var ZO,JO,Ou=Fe(()=>{qi();vu();ZO="6ba7b810-9dad-11d1-80b4-00c04fd430c8",JO="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function eP(t){return Array.isArray(t)?t=Buffer.from(t):typeof t=="string"&&(t=Buffer.from(t,"utf8")),Hg.default.createHash("md5").update(t).digest()}var Hg,jg,Gg=Fe(()=>{Hg=Mt(require("crypto"));jg=eP});var tP,Kg,Vg=Fe(()=>{Ou();Gg();tP=dc("v3",48,jg),Kg=tP});function rP(t,e,r){t=t||{};let n=t.random||(t.rng||zi)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let s=0;s<16;++s)e[r+s]=n[s];return e}return bn(n)}var lc,Wg=Fe(()=>{Au();qi();lc=rP});function nP(t){return Array.isArray(t)?t=Buffer.from(t):typeof t=="string"&&(t=Buffer.from(t,"utf8")),Yg.default.createHash("sha1").update(t).digest()}var Yg,Xg,Qg=Fe(()=>{Yg=Mt(require("crypto"));Xg=nP});var sP,Zg,Jg=Fe(()=>{Ou();Qg();sP=dc("v5",80,Xg),Zg=sP});var eE,tE=Fe(()=>{eE="00000000-0000-0000-0000-000000000000"});function oP(t){if(!Sn(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}var rE,nE=Fe(()=>{$i();rE=oP});var sE={};fo(sE,{NIL:()=>eE,parse:()=>cc,stringify:()=>bn,v1:()=>$g,v3:()=>Kg,v4:()=>lc,v5:()=>Zg,validate:()=>Sn,version:()=>rE});var Pu=Fe(()=>{qg();Vg();Wg();Jg();tE();nE();$i();qi();vu()});var cE=C(Ft=>{"use strict";var iP=Ft&&Ft.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),aP=Ft&&Ft.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),iE=Ft&&Ft.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&iP(e,t,r);return aP(e,t),e};Object.defineProperty(Ft,"__esModule",{value:!0});Ft.prepareKeyValueMessage=Ft.issueFileCommand=void 0;var oE=iE(require("fs")),Iu=iE(require("os")),cP=(Pu(),ho(sE)),aE=oc();function dP(t,e){let r=process.env[`GITHUB_${t}`];if(!r)throw new Error(`Unable to find environment variable for file command ${t}`);if(!oE.existsSync(r))throw new Error(`Missing file at path: ${r}`);oE.appendFileSync(r,`${aE.toCommandValue(e)}${Iu.EOL}`,{encoding:"utf8"})}Ft.issueFileCommand=dP;function lP(t,e){let r=`ghadelimiter_${cP.v4()}`,n=aE.toCommandValue(e);if(t.includes(r))throw new Error(`Unexpected input: name should not contain the delimiter "${r}"`);if(n.includes(r))throw new Error(`Unexpected input: value should not contain the delimiter "${r}"`);return`${t}<<${r}${Iu.EOL}${n}${Iu.EOL}${r}`}Ft.prepareKeyValueMessage=lP});var lE=C(po=>{"use strict";Object.defineProperty(po,"__esModule",{value:!0});po.checkBypass=po.getProxyUrl=void 0;function uP(t){let e=t.protocol==="https:";if(dE(t))return;let r=(()=>e?process.env.https_proxy||process.env.HTTPS_PROXY:process.env.http_proxy||process.env.HTTP_PROXY)();if(r)return new URL(r)}po.getProxyUrl=uP;function dE(t){if(!t.hostname)return!1;let e=t.hostname;if(fP(e))return!0;let r=process.env.no_proxy||process.env.NO_PROXY||"";if(!r)return!1;let n;t.port?n=Number(t.port):t.protocol==="http:"?n=80:t.protocol==="https:"&&(n=443);let s=[t.hostname.toUpperCase()];typeof n=="number"&&s.push(`${s[0]}:${n}`);for(let o of r.split(",").map(i=>i.trim().toUpperCase()).filter(i=>i))if(o==="*"||s.some(i=>i===o||i.endsWith(`.${o}`)||o.startsWith(".")&&i.endsWith(`${o}`)))return!0;return!1}po.checkBypass=dE;function fP(t){let e=t.toLowerCase();return e==="localhost"||e.startsWith("127.")||e.startsWith("[::1]")||e.startsWith("[0:0:0:0:0:0:0:1]")}});var mE=C(yo=>{"use strict";var Fj=require("net"),hP=require("tls"),Du=require("http"),uE=require("https"),mP=require("events"),Uj=require("assert"),pP=require("util");yo.httpOverHttp=yP;yo.httpsOverHttp=gP;yo.httpOverHttps=EP;yo.httpsOverHttps=xP;function yP(t){var e=new qr(t);return e.request=Du.request,e}function gP(t){var e=new qr(t);return e.request=Du.request,e.createSocket=fE,e.defaultPort=443,e}function EP(t){var e=new qr(t);return e.request=uE.request,e}function xP(t){var e=new qr(t);return e.request=uE.request,e.createSocket=fE,e.defaultPort=443,e}function qr(t){var e=this;e.options=t||{},e.proxyOptions=e.options.proxy||{},e.maxSockets=e.options.maxSockets||Du.Agent.defaultMaxSockets,e.requests=[],e.sockets=[],e.on("free",function(n,s,o,i){for(var a=hE(s,o,i),c=0,d=e.requests.length;c<d;++c){var l=e.requests[c];if(l.host===a.host&&l.port===a.port){e.requests.splice(c,1),l.request.onSocket(n);return}}n.destroy(),e.removeSocket(n)})}pP.inherits(qr,mP.EventEmitter);qr.prototype.addRequest=function(e,r,n,s){var o=this,i=Bu({request:e},o.options,hE(r,n,s));if(o.sockets.length>=this.maxSockets){o.requests.push(i);return}o.createSocket(i,function(a){a.on("free",c),a.on("close",d),a.on("agentRemove",d),e.onSocket(a);function c(){o.emit("free",a,i)}function d(l){o.removeSocket(a),a.removeListener("free",c),a.removeListener("close",d),a.removeListener("agentRemove",d)}})};qr.prototype.createSocket=function(e,r){var n=this,s={};n.sockets.push(s);var o=Bu({},n.proxyOptions,{method:"CONNECT",path:e.host+":"+e.port,agent:!1,headers:{host:e.host+":"+e.port}});e.localAddress&&(o.localAddress=e.localAddress),o.proxyAuth&&(o.headers=o.headers||{},o.headers["Proxy-Authorization"]="Basic "+new Buffer(o.proxyAuth).toString("base64")),_n("making CONNECT request");var i=n.request(o);i.useChunkedEncodingByDefault=!1,i.once("response",a),i.once("upgrade",c),i.once("connect",d),i.once("error",l),i.end();function a(f){f.upgrade=!0}function c(f,u,g){process.nextTick(function(){d(f,u,g)})}function d(f,u,g){if(i.removeAllListeners(),u.removeAllListeners(),f.statusCode!==200){_n("tunneling socket could not be established, statusCode=%d",f.statusCode),u.destroy();var y=new Error("tunneling socket could not be established, statusCode="+f.statusCode);y.code="ECONNRESET",e.request.emit("error",y),n.removeSocket(s);return}if(g.length>0){_n("got illegal response body from proxy"),u.destroy();var y=new Error("got illegal response body from proxy");y.code="ECONNRESET",e.request.emit("error",y),n.removeSocket(s);return}return _n("tunneling connection has established"),n.sockets[n.sockets.indexOf(s)]=u,r(u)}function l(f){i.removeAllListeners(),_n(`tunneling socket could not be established, cause=%s
`,f.message,f.stack);var u=new Error("tunneling socket could not be established, cause="+f.message);u.code="ECONNRESET",e.request.emit("error",u),n.removeSocket(s)}};qr.prototype.removeSocket=function(e){var r=this.sockets.indexOf(e);if(r!==-1){this.sockets.splice(r,1);var n=this.requests.shift();n&&this.createSocket(n,function(s){n.request.onSocket(s)})}};function fE(t,e){var r=this;qr.prototype.createSocket.call(r,t,function(n){var s=t.request.getHeader("host"),o=Bu({},r.options,{socket:n,servername:s?s.replace(/:.*$/,""):t.host}),i=hP.connect(0,o);r.sockets[r.sockets.indexOf(n)]=i,e(i)})}function hE(t,e,r){return typeof t=="string"?{host:t,port:e,localAddress:r}:t}function Bu(t){for(var e=1,r=arguments.length;e<r;++e){var n=arguments[e];if(typeof n=="object")for(var s=Object.keys(n),o=0,i=s.length;o<i;++o){var a=s[o];n[a]!==void 0&&(t[a]=n[a])}}return t}var _n;process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)?_n=function(){var t=Array.prototype.slice.call(arguments);typeof t[0]=="string"?t[0]="TUNNEL: "+t[0]:t.unshift("TUNNEL:"),console.error.apply(console,t)}:_n=function(){};yo.debug=_n});var yE=C(($j,pE)=>{pE.exports=mE()});var EE=C(pe=>{"use strict";var wP=pe&&pe.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),CP=pe&&pe.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),pc=pe&&pe.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&wP(e,t,r);return CP(e,t),e},qe=pe&&pe.__awaiter||function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(l){try{d(n.next(l))}catch(f){i(f)}}function c(l){try{d(n.throw(l))}catch(f){i(f)}}function d(l){l.done?o(l.value):s(l.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(pe,"__esModule",{value:!0});pe.HttpClient=pe.isHttps=pe.HttpClientResponse=pe.HttpClientError=pe.getProxyUrl=pe.MediaTypes=pe.Headers=pe.HttpCodes=void 0;var uc=pc(require("http")),Mu=pc(require("https")),gE=pc(lE()),fc=pc(yE()),rr;(function(t){t[t.OK=200]="OK",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.ResourceMoved=302]="ResourceMoved",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.SwitchProxy=306]="SwitchProxy",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.TooManyRequests=429]="TooManyRequests",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout"})(rr=pe.HttpCodes||(pe.HttpCodes={}));var ht;(function(t){t.Accept="accept",t.ContentType="content-type"})(ht=pe.Headers||(pe.Headers={}));var Rn;(function(t){t.ApplicationJson="application/json"})(Rn=pe.MediaTypes||(pe.MediaTypes={}));function SP(t){let e=gE.getProxyUrl(new URL(t));return e?e.href:""}pe.getProxyUrl=SP;var bP=[rr.MovedPermanently,rr.ResourceMoved,rr.SeeOther,rr.TemporaryRedirect,rr.PermanentRedirect],_P=[rr.BadGateway,rr.ServiceUnavailable,rr.GatewayTimeout],RP=["OPTIONS","GET","DELETE","HEAD"],AP=10,kP=5,go=class extends Error{constructor(e,r){super(e),this.name="HttpClientError",this.statusCode=r,Object.setPrototypeOf(this,go.prototype)}};pe.HttpClientError=go;var mc=class{constructor(e){this.message=e}readBody(){return qe(this,void 0,void 0,function*(){return new Promise(e=>qe(this,void 0,void 0,function*(){let r=Buffer.alloc(0);this.message.on("data",n=>{r=Buffer.concat([r,n])}),this.message.on("end",()=>{e(r.toString())})}))})}};pe.HttpClientResponse=mc;function TP(t){return new URL(t).protocol==="https:"}pe.isHttps=TP;var Lu=class{constructor(e,r,n){this._ignoreSslError=!1,this._allowRedirects=!0,this._allowRedirectDowngrade=!1,this._maxRedirects=50,this._allowRetries=!1,this._maxRetries=1,this._keepAlive=!1,this._disposed=!1,this.userAgent=e,this.handlers=r||[],this.requestOptions=n,n&&(n.ignoreSslError!=null&&(this._ignoreSslError=n.ignoreSslError),this._socketTimeout=n.socketTimeout,n.allowRedirects!=null&&(this._allowRedirects=n.allowRedirects),n.allowRedirectDowngrade!=null&&(this._allowRedirectDowngrade=n.allowRedirectDowngrade),n.maxRedirects!=null&&(this._maxRedirects=Math.max(n.maxRedirects,0)),n.keepAlive!=null&&(this._keepAlive=n.keepAlive),n.allowRetries!=null&&(this._allowRetries=n.allowRetries),n.maxRetries!=null&&(this._maxRetries=n.maxRetries))}options(e,r){return qe(this,void 0,void 0,function*(){return this.request("OPTIONS",e,null,r||{})})}get(e,r){return qe(this,void 0,void 0,function*(){return this.request("GET",e,null,r||{})})}del(e,r){return qe(this,void 0,void 0,function*(){return this.request("DELETE",e,null,r||{})})}post(e,r,n){return qe(this,void 0,void 0,function*(){return this.request("POST",e,r,n||{})})}patch(e,r,n){return qe(this,void 0,void 0,function*(){return this.request("PATCH",e,r,n||{})})}put(e,r,n){return qe(this,void 0,void 0,function*(){return this.request("PUT",e,r,n||{})})}head(e,r){return qe(this,void 0,void 0,function*(){return this.request("HEAD",e,null,r||{})})}sendStream(e,r,n,s){return qe(this,void 0,void 0,function*(){return this.request(e,r,n,s)})}getJson(e,r={}){return qe(this,void 0,void 0,function*(){r[ht.Accept]=this._getExistingOrDefaultHeader(r,ht.Accept,Rn.ApplicationJson);let n=yield this.get(e,r);return this._processResponse(n,this.requestOptions)})}postJson(e,r,n={}){return qe(this,void 0,void 0,function*(){let s=JSON.stringify(r,null,2);n[ht.Accept]=this._getExistingOrDefaultHeader(n,ht.Accept,Rn.ApplicationJson),n[ht.ContentType]=this._getExistingOrDefaultHeader(n,ht.ContentType,Rn.ApplicationJson);let o=yield this.post(e,s,n);return this._processResponse(o,this.requestOptions)})}putJson(e,r,n={}){return qe(this,void 0,void 0,function*(){let s=JSON.stringify(r,null,2);n[ht.Accept]=this._getExistingOrDefaultHeader(n,ht.Accept,Rn.ApplicationJson),n[ht.ContentType]=this._getExistingOrDefaultHeader(n,ht.ContentType,Rn.ApplicationJson);let o=yield this.put(e,s,n);return this._processResponse(o,this.requestOptions)})}patchJson(e,r,n={}){return qe(this,void 0,void 0,function*(){let s=JSON.stringify(r,null,2);n[ht.Accept]=this._getExistingOrDefaultHeader(n,ht.Accept,Rn.ApplicationJson),n[ht.ContentType]=this._getExistingOrDefaultHeader(n,ht.ContentType,Rn.ApplicationJson);let o=yield this.patch(e,s,n);return this._processResponse(o,this.requestOptions)})}request(e,r,n,s){return qe(this,void 0,void 0,function*(){if(this._disposed)throw new Error("Client has already been disposed.");let o=new URL(r),i=this._prepareRequest(e,o,s),a=this._allowRetries&&RP.includes(e)?this._maxRetries+1:1,c=0,d;do{if(d=yield this.requestRaw(i,n),d&&d.message&&d.message.statusCode===rr.Unauthorized){let f;for(let u of this.handlers)if(u.canHandleAuthentication(d)){f=u;break}return f?f.handleAuthentication(this,i,n):d}let l=this._maxRedirects;for(;d.message.statusCode&&bP.includes(d.message.statusCode)&&this._allowRedirects&&l>0;){let f=d.message.headers.location;if(!f)break;let u=new URL(f);if(o.protocol==="https:"&&o.protocol!==u.protocol&&!this._allowRedirectDowngrade)throw new Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.");if(yield d.readBody(),u.hostname!==o.hostname)for(let g in s)g.toLowerCase()==="authorization"&&delete s[g];i=this._prepareRequest(e,u,s),d=yield this.requestRaw(i,n),l--}if(!d.message.statusCode||!_P.includes(d.message.statusCode))return d;c+=1,c<a&&(yield d.readBody(),yield this._performExponentialBackoff(c))}while(c<a);return d})}dispose(){this._agent&&this._agent.destroy(),this._disposed=!0}requestRaw(e,r){return qe(this,void 0,void 0,function*(){return new Promise((n,s)=>{function o(i,a){i?s(i):a?n(a):s(new Error("Unknown error"))}this.requestRawWithCallback(e,r,o)})})}requestRawWithCallback(e,r,n){typeof r=="string"&&(e.options.headers||(e.options.headers={}),e.options.headers["Content-Length"]=Buffer.byteLength(r,"utf8"));let s=!1;function o(c,d){s||(s=!0,n(c,d))}let i=e.httpModule.request(e.options,c=>{let d=new mc(c);o(void 0,d)}),a;i.on("socket",c=>{a=c}),i.setTimeout(this._socketTimeout||3*6e4,()=>{a&&a.end(),o(new Error(`Request timeout: ${e.options.path}`))}),i.on("error",function(c){o(c)}),r&&typeof r=="string"&&i.write(r,"utf8"),r&&typeof r!="string"?(r.on("close",function(){i.end()}),r.pipe(i)):i.end()}getAgent(e){let r=new URL(e);return this._getAgent(r)}_prepareRequest(e,r,n){let s={};s.parsedUrl=r;let o=s.parsedUrl.protocol==="https:";s.httpModule=o?Mu:uc;let i=o?443:80;if(s.options={},s.options.host=s.parsedUrl.hostname,s.options.port=s.parsedUrl.port?parseInt(s.parsedUrl.port):i,s.options.path=(s.parsedUrl.pathname||"")+(s.parsedUrl.search||""),s.options.method=e,s.options.headers=this._mergeHeaders(n),this.userAgent!=null&&(s.options.headers["user-agent"]=this.userAgent),s.options.agent=this._getAgent(s.parsedUrl),this.handlers)for(let a of this.handlers)a.prepareRequest(s.options);return s}_mergeHeaders(e){return this.requestOptions&&this.requestOptions.headers?Object.assign({},hc(this.requestOptions.headers),hc(e||{})):hc(e||{})}_getExistingOrDefaultHeader(e,r,n){let s;return this.requestOptions&&this.requestOptions.headers&&(s=hc(this.requestOptions.headers)[r]),e[r]||s||n}_getAgent(e){let r,n=gE.getProxyUrl(e),s=n&&n.hostname;if(this._keepAlive&&s&&(r=this._proxyAgent),this._keepAlive&&!s&&(r=this._agent),r)return r;let o=e.protocol==="https:",i=100;if(this.requestOptions&&(i=this.requestOptions.maxSockets||uc.globalAgent.maxSockets),n&&n.hostname){let a={maxSockets:i,keepAlive:this._keepAlive,proxy:Object.assign(Object.assign({},(n.username||n.password)&&{proxyAuth:`${n.username}:${n.password}`}),{host:n.hostname,port:n.port})},c,d=n.protocol==="https:";o?c=d?fc.httpsOverHttps:fc.httpsOverHttp:c=d?fc.httpOverHttps:fc.httpOverHttp,r=c(a),this._proxyAgent=r}if(this._keepAlive&&!r){let a={keepAlive:this._keepAlive,maxSockets:i};r=o?new Mu.Agent(a):new uc.Agent(a),this._agent=r}return r||(r=o?Mu.globalAgent:uc.globalAgent),o&&this._ignoreSslError&&(r.options=Object.assign(r.options||{},{rejectUnauthorized:!1})),r}_performExponentialBackoff(e){return qe(this,void 0,void 0,function*(){e=Math.min(AP,e);let r=kP*Math.pow(2,e);return new Promise(n=>setTimeout(()=>n(),r))})}_processResponse(e,r){return qe(this,void 0,void 0,function*(){return new Promise((n,s)=>qe(this,void 0,void 0,function*(){let o=e.message.statusCode||0,i={statusCode:o,result:null,headers:{}};o===rr.NotFound&&n(i);function a(l,f){if(typeof f=="string"){let u=new Date(f);if(!isNaN(u.valueOf()))return u}return f}let c,d;try{d=yield e.readBody(),d&&d.length>0&&(r&&r.deserializeDates?c=JSON.parse(d,a):c=JSON.parse(d),i.result=c),i.headers=e.message.headers}catch{}if(o>299){let l;c&&c.message?l=c.message:d&&d.length>0?l=d:l=`Failed request: (${o})`;let f=new go(l,o);f.result=i.result,s(f)}else n(i)}))})}};pe.HttpClient=Lu;var hc=t=>Object.keys(t).reduce((e,r)=>(e[r.toLowerCase()]=t[r],e),{})});var xE=C(lr=>{"use strict";var $u=lr&&lr.__awaiter||function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(l){try{d(n.next(l))}catch(f){i(f)}}function c(l){try{d(n.throw(l))}catch(f){i(f)}}function d(l){l.done?o(l.value):s(l.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(lr,"__esModule",{value:!0});lr.PersonalAccessTokenCredentialHandler=lr.BearerCredentialHandler=lr.BasicCredentialHandler=void 0;var Fu=class{constructor(e,r){this.username=e,this.password=r}prepareRequest(e){if(!e.headers)throw Error("The request has no headers");e.headers.Authorization=`Basic ${Buffer.from(`${this.username}:${this.password}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return $u(this,void 0,void 0,function*(){throw new Error("not implemented")})}};lr.BasicCredentialHandler=Fu;var Uu=class{constructor(e){this.token=e}prepareRequest(e){if(!e.headers)throw Error("The request has no headers");e.headers.Authorization=`Bearer ${this.token}`}canHandleAuthentication(){return!1}handleAuthentication(){return $u(this,void 0,void 0,function*(){throw new Error("not implemented")})}};lr.BearerCredentialHandler=Uu;var zu=class{constructor(e){this.token=e}prepareRequest(e){if(!e.headers)throw Error("The request has no headers");e.headers.Authorization=`Basic ${Buffer.from(`PAT:${this.token}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return $u(this,void 0,void 0,function*(){throw new Error("not implemented")})}};lr.PersonalAccessTokenCredentialHandler=zu});var SE=C(Eo=>{"use strict";var wE=Eo&&Eo.__awaiter||function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(l){try{d(n.next(l))}catch(f){i(f)}}function c(l){try{d(n.throw(l))}catch(f){i(f)}}function d(l){l.done?o(l.value):s(l.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(Eo,"__esModule",{value:!0});Eo.OidcClient=void 0;var NP=EE(),vP=xE(),CE=qu(),An=class{static createHttpClient(e=!0,r=10){let n={allowRetries:e,maxRetries:r};return new NP.HttpClient("actions/oidc-client",[new vP.BearerCredentialHandler(An.getRequestToken())],n)}static getRequestToken(){let e=process.env.ACTIONS_ID_TOKEN_REQUEST_TOKEN;if(!e)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_TOKEN env variable");return e}static getIDTokenUrl(){let e=process.env.ACTIONS_ID_TOKEN_REQUEST_URL;if(!e)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_URL env variable");return e}static getCall(e){var r;return wE(this,void 0,void 0,function*(){let o=(r=(yield An.createHttpClient().getJson(e).catch(i=>{throw new Error(`Failed to get ID Token. 
 
        Error Code : ${i.statusCode}
 
        Error Message: ${i.result.message}`)})).result)===null||r===void 0?void 0:r.value;if(!o)throw new Error("Response json body do not have ID Token field");return o})}static getIDToken(e){return wE(this,void 0,void 0,function*(){try{let r=An.getIDTokenUrl();if(e){let s=encodeURIComponent(e);r=`${r}&audience=${s}`}CE.debug(`ID token url is ${r}`);let n=yield An.getCall(r);return CE.setSecret(n),n}catch(r){throw new Error(`Error message: ${r.message}`)}})}};Eo.OidcClient=An});var Ku=C(pt=>{"use strict";var Hu=pt&&pt.__awaiter||function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(l){try{d(n.next(l))}catch(f){i(f)}}function c(l){try{d(n.throw(l))}catch(f){i(f)}}function d(l){l.done?o(l.value):s(l.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(pt,"__esModule",{value:!0});pt.summary=pt.markdownSummary=pt.SUMMARY_DOCS_URL=pt.SUMMARY_ENV_VAR=void 0;var OP=require("os"),ju=require("fs"),{access:PP,appendFile:IP,writeFile:DP}=ju.promises;pt.SUMMARY_ENV_VAR="GITHUB_STEP_SUMMARY";pt.SUMMARY_DOCS_URL="https://docs.github.com/actions/using-workflows/workflow-commands-for-github-actions#adding-a-job-summary";var Gu=class{constructor(){this._buffer=""}filePath(){return Hu(this,void 0,void 0,function*(){if(this._filePath)return this._filePath;let e=process.env[pt.SUMMARY_ENV_VAR];if(!e)throw new Error(`Unable to find environment variable for $${pt.SUMMARY_ENV_VAR}. Check if your runtime environment supports job summaries.`);try{yield PP(e,ju.constants.R_OK|ju.constants.W_OK)}catch{throw new Error(`Unable to access summary file: '${e}'. Check if the file has correct read/write permissions.`)}return this._filePath=e,this._filePath})}wrap(e,r,n={}){let s=Object.entries(n).map(([o,i])=>` ${o}="${i}"`).join("");return r?`<${e}${s}>${r}</${e}>`:`<${e}${s}>`}write(e){return Hu(this,void 0,void 0,function*(){let r=!!(e!=null&&e.overwrite),n=yield this.filePath();return yield(r?DP:IP)(n,this._buffer,{encoding:"utf8"}),this.emptyBuffer()})}clear(){return Hu(this,void 0,void 0,function*(){return this.emptyBuffer().write({overwrite:!0})})}stringify(){return this._buffer}isEmptyBuffer(){return this._buffer.length===0}emptyBuffer(){return this._buffer="",this}addRaw(e,r=!1){return this._buffer+=e,r?this.addEOL():this}addEOL(){return this.addRaw(OP.EOL)}addCodeBlock(e,r){let n=Object.assign({},r&&{lang:r}),s=this.wrap("pre",this.wrap("code",e),n);return this.addRaw(s).addEOL()}addList(e,r=!1){let n=r?"ol":"ul",s=e.map(i=>this.wrap("li",i)).join(""),o=this.wrap(n,s);return this.addRaw(o).addEOL()}addTable(e){let r=e.map(s=>{let o=s.map(i=>{if(typeof i=="string")return this.wrap("td",i);let{header:a,data:c,colspan:d,rowspan:l}=i,f=a?"th":"td",u=Object.assign(Object.assign({},d&&{colspan:d}),l&&{rowspan:l});return this.wrap(f,c,u)}).join("");return this.wrap("tr",o)}).join(""),n=this.wrap("table",r);return this.addRaw(n).addEOL()}addDetails(e,r){let n=this.wrap("details",this.wrap("summary",e)+r);return this.addRaw(n).addEOL()}addImage(e,r,n){let{width:s,height:o}=n||{},i=Object.assign(Object.assign({},s&&{width:s}),o&&{height:o}),a=this.wrap("img",null,Object.assign({src:e,alt:r},i));return this.addRaw(a).addEOL()}addHeading(e,r){let n=`h${r}`,s=["h1","h2","h3","h4","h5","h6"].includes(n)?n:"h1",o=this.wrap(s,e);return this.addRaw(o).addEOL()}addSeparator(){let e=this.wrap("hr",null);return this.addRaw(e).addEOL()}addBreak(){let e=this.wrap("br",null);return this.addRaw(e).addEOL()}addQuote(e,r){let n=Object.assign({},r&&{cite:r}),s=this.wrap("blockquote",e,n);return this.addRaw(s).addEOL()}addLink(e,r){let n=this.wrap("a",e,{href:r});return this.addRaw(n).addEOL()}},bE=new Gu;pt.markdownSummary=bE;pt.summary=bE});var _E=C(yt=>{"use strict";var BP=yt&&yt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),MP=yt&&yt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),LP=yt&&yt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&BP(e,t,r);return MP(e,t),e};Object.defineProperty(yt,"__esModule",{value:!0});yt.toPlatformPath=yt.toWin32Path=yt.toPosixPath=void 0;var FP=LP(require("path"));function UP(t){return t.replace(/[\\]/g,"/")}yt.toPosixPath=UP;function zP(t){return t.replace(/[/]/g,"\\")}yt.toWin32Path=zP;function $P(t){return t.replace(/[/\\]/g,FP.sep)}yt.toPlatformPath=$P});var qu=C(F=>{"use strict";var qP=F&&F.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),HP=F&&F.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),RE=F&&F.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&qP(e,t,r);return HP(e,t),e},AE=F&&F.__awaiter||function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(l){try{d(n.next(l))}catch(f){i(f)}}function c(l){try{d(n.throw(l))}catch(f){i(f)}}function d(l){l.done?o(l.value):s(l.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(F,"__esModule",{value:!0});F.getIDToken=F.getState=F.saveState=F.group=F.endGroup=F.startGroup=F.info=F.notice=F.warning=F.error=F.debug=F.isDebug=F.setFailed=F.setCommandEcho=F.setOutput=F.getBooleanInput=F.getMultilineInput=F.getInput=F.addPath=F.setSecret=F.exportVariable=F.ExitCode=void 0;var Ut=Mg(),Ts=cE(),xo=oc(),kE=RE(require("os")),jP=RE(require("path")),GP=SE(),TE;(function(t){t[t.Success=0]="Success",t[t.Failure=1]="Failure"})(TE=F.ExitCode||(F.ExitCode={}));function KP(t,e){let r=xo.toCommandValue(e);if(process.env[t]=r,process.env.GITHUB_ENV||"")return Ts.issueFileCommand("ENV",Ts.prepareKeyValueMessage(t,e));Ut.issueCommand("set-env",{name:t},r)}F.exportVariable=KP;function VP(t){Ut.issueCommand("add-mask",{},t)}F.setSecret=VP;function WP(t){process.env.GITHUB_PATH||""?Ts.issueFileCommand("PATH",t):Ut.issueCommand("add-path",{},t),process.env.PATH=`${t}${jP.delimiter}${process.env.PATH}`}F.addPath=WP;function Vu(t,e){let r=process.env[`INPUT_${t.replace(/ /g,"_").toUpperCase()}`]||"";if(e&&e.required&&!r)throw new Error(`Input required and not supplied: ${t}`);return e&&e.trimWhitespace===!1?r:r.trim()}F.getInput=Vu;function YP(t,e){let r=Vu(t,e).split(`
`).filter(n=>n!=="");return e&&e.trimWhitespace===!1?r:r.map(n=>n.trim())}F.getMultilineInput=YP;function XP(t,e){let r=["true","True","TRUE"],n=["false","False","FALSE"],s=Vu(t,e);if(r.includes(s))return!0;if(n.includes(s))return!1;throw new TypeError(`Input does not meet YAML 1.2 "Core Schema" specification: ${t}
Support boolean input list: \`true | True | TRUE | false | False | FALSE\``)}F.getBooleanInput=XP;function QP(t,e){if(process.env.GITHUB_OUTPUT||"")return Ts.issueFileCommand("OUTPUT",Ts.prepareKeyValueMessage(t,e));process.stdout.write(kE.EOL),Ut.issueCommand("set-output",{name:t},xo.toCommandValue(e))}F.setOutput=QP;function ZP(t){Ut.issue("echo",t?"on":"off")}F.setCommandEcho=ZP;function JP(t){process.exitCode=TE.Failure,NE(t)}F.setFailed=JP;function eI(){return process.env.RUNNER_DEBUG==="1"}F.isDebug=eI;function tI(t){Ut.issueCommand("debug",{},t)}F.debug=tI;function NE(t,e={}){Ut.issueCommand("error",xo.toCommandProperties(e),t instanceof Error?t.toString():t)}F.error=NE;function rI(t,e={}){Ut.issueCommand("warning",xo.toCommandProperties(e),t instanceof Error?t.toString():t)}F.warning=rI;function nI(t,e={}){Ut.issueCommand("notice",xo.toCommandProperties(e),t instanceof Error?t.toString():t)}F.notice=nI;function sI(t){process.stdout.write(t+kE.EOL)}F.info=sI;function vE(t){Ut.issue("group",t)}F.startGroup=vE;function OE(){Ut.issue("endgroup")}F.endGroup=OE;function oI(t,e){return AE(this,void 0,void 0,function*(){vE(t);let r;try{r=yield e()}finally{OE()}return r})}F.group=oI;function iI(t,e){if(process.env.GITHUB_STATE||"")return Ts.issueFileCommand("STATE",Ts.prepareKeyValueMessage(t,e));Ut.issueCommand("save-state",{name:t},xo.toCommandValue(e))}F.saveState=iI;function aI(t){return process.env[`STATE_${t}`]||""}F.getState=aI;function cI(t){return AE(this,void 0,void 0,function*(){return yield GP.OidcClient.getIDToken(t)})}F.getIDToken=cI;var dI=Ku();Object.defineProperty(F,"summary",{enumerable:!0,get:function(){return dI.summary}});var lI=Ku();Object.defineProperty(F,"markdownSummary",{enumerable:!0,get:function(){return lI.markdownSummary}});var Wu=_E();Object.defineProperty(F,"toPosixPath",{enumerable:!0,get:function(){return Wu.toPosixPath}});Object.defineProperty(F,"toWin32Path",{enumerable:!0,get:function(){return Wu.toWin32Path}});Object.defineProperty(F,"toPlatformPath",{enumerable:!0,get:function(){return Wu.toPlatformPath}})});var tf=C(Gr=>{"use strict";var tx=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",FI=tx+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",rx="["+tx+"]["+FI+"]*",UI=new RegExp("^"+rx+"$"),zI=function(t,e){let r=[],n=e.exec(t);for(;n;){let s=[];s.startIndex=e.lastIndex-n[0].length;let o=n.length;for(let i=0;i<o;i++)s.push(n[i]);r.push(s),n=e.exec(t)}return r},$I=function(t){let e=UI.exec(t);return!(e===null||typeof e>"u")};Gr.isExist=function(t){return typeof t<"u"};Gr.isEmptyObject=function(t){return Object.keys(t).length===0};Gr.merge=function(t,e,r){if(e){let n=Object.keys(e),s=n.length;for(let o=0;o<s;o++)r==="strict"?t[n[o]]=[e[n[o]]]:t[n[o]]=e[n[o]]}};Gr.getValue=function(t){return Gr.isExist(t)?t:""};Gr.isName=$I;Gr.getAllMatches=zI;Gr.nameRegexp=rx});var nf=C(ax=>{"use strict";var rf=tf(),qI={allowBooleanAttributes:!1,unpairedTags:[]};ax.validate=function(t,e){e=Object.assign({},qI,e);let r=[],n=!1,s=!1;t[0]==="\uFEFF"&&(t=t.substr(1));for(let o=0;o<t.length;o++)if(t[o]==="<"&&t[o+1]==="?"){if(o+=2,o=sx(t,o),o.err)return o}else if(t[o]==="<"){let i=o;if(o++,t[o]==="!"){o=ox(t,o);continue}else{let a=!1;t[o]==="/"&&(a=!0,o++);let c="";for(;o<t.length&&t[o]!==">"&&t[o]!==" "&&t[o]!=="	"&&t[o]!==`
`&&t[o]!=="\r";o++)c+=t[o];if(c=c.trim(),c[c.length-1]==="/"&&(c=c.substring(0,c.length-1),o--),!XI(c)){let f;return c.trim().length===0?f="Invalid space after '<'.":f="Tag '"+c+"' is an invalid name.",Ue("InvalidTag",f,Et(t,o))}let d=GI(t,o);if(d===!1)return Ue("InvalidAttr","Attributes for '"+c+"' have open quote.",Et(t,o));let l=d.value;if(o=d.index,l[l.length-1]==="/"){let f=o-l.length;l=l.substring(0,l.length-1);let u=ix(l,e);if(u===!0)n=!0;else return Ue(u.err.code,u.err.msg,Et(t,f+u.err.line))}else if(a)if(d.tagClosed){if(l.trim().length>0)return Ue("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",Et(t,i));{let f=r.pop();if(c!==f.tagName){let u=Et(t,f.tagStartPos);return Ue("InvalidTag","Expected closing tag '"+f.tagName+"' (opened in line "+u.line+", col "+u.col+") instead of closing tag '"+c+"'.",Et(t,i))}r.length==0&&(s=!0)}}else return Ue("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",Et(t,o));else{let f=ix(l,e);if(f!==!0)return Ue(f.err.code,f.err.msg,Et(t,o-l.length+f.err.line));if(s===!0)return Ue("InvalidXml","Multiple possible root nodes found.",Et(t,o));e.unpairedTags.indexOf(c)!==-1||r.push({tagName:c,tagStartPos:i}),n=!0}for(o++;o<t.length;o++)if(t[o]==="<")if(t[o+1]==="!"){o++,o=ox(t,o);continue}else if(t[o+1]==="?"){if(o=sx(t,++o),o.err)return o}else break;else if(t[o]==="&"){let f=WI(t,o);if(f==-1)return Ue("InvalidChar","char '&' is not expected.",Et(t,o));o=f}else if(s===!0&&!nx(t[o]))return Ue("InvalidXml","Extra text at the end",Et(t,o));t[o]==="<"&&o--}}else{if(nx(t[o]))continue;return Ue("InvalidChar","char '"+t[o]+"' is not expected.",Et(t,o))}if(n){if(r.length==1)return Ue("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",Et(t,r[0].tagStartPos));if(r.length>0)return Ue("InvalidXml","Invalid '"+JSON.stringify(r.map(o=>o.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return Ue("InvalidXml","Start tag expected.",1);return!0};function nx(t){return t===" "||t==="	"||t===`
`||t==="\r"}function sx(t,e){let r=e;for(;e<t.length;e++)if(t[e]=="?"||t[e]==" "){let n=t.substr(r,e-r);if(e>5&&n==="xml")return Ue("InvalidXml","XML declaration allowed only at the start of the document.",Et(t,e));if(t[e]=="?"&&t[e+1]==">"){e++;break}else continue}return e}function ox(t,e){if(t.length>e+5&&t[e+1]==="-"&&t[e+2]==="-"){for(e+=3;e<t.length;e++)if(t[e]==="-"&&t[e+1]==="-"&&t[e+2]===">"){e+=2;break}}else if(t.length>e+8&&t[e+1]==="D"&&t[e+2]==="O"&&t[e+3]==="C"&&t[e+4]==="T"&&t[e+5]==="Y"&&t[e+6]==="P"&&t[e+7]==="E"){let r=1;for(e+=8;e<t.length;e++)if(t[e]==="<")r++;else if(t[e]===">"&&(r--,r===0))break}else if(t.length>e+9&&t[e+1]==="["&&t[e+2]==="C"&&t[e+3]==="D"&&t[e+4]==="A"&&t[e+5]==="T"&&t[e+6]==="A"&&t[e+7]==="["){for(e+=8;e<t.length;e++)if(t[e]==="]"&&t[e+1]==="]"&&t[e+2]===">"){e+=2;break}}return e}var HI='"',jI="'";function GI(t,e){let r="",n="",s=!1;for(;e<t.length;e++){if(t[e]===HI||t[e]===jI)n===""?n=t[e]:n!==t[e]||(n="");else if(t[e]===">"&&n===""){s=!0;break}r+=t[e]}return n!==""?!1:{value:r,index:e,tagClosed:s}}var KI=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function ix(t,e){let r=rf.getAllMatches(t,KI),n={};for(let s=0;s<r.length;s++){if(r[s][1].length===0)return Ue("InvalidAttr","Attribute '"+r[s][2]+"' has no space in starting.",Ki(r[s]));if(r[s][3]!==void 0&&r[s][4]===void 0)return Ue("InvalidAttr","Attribute '"+r[s][2]+"' is without value.",Ki(r[s]));if(r[s][3]===void 0&&!e.allowBooleanAttributes)return Ue("InvalidAttr","boolean attribute '"+r[s][2]+"' is not allowed.",Ki(r[s]));let o=r[s][2];if(!YI(o))return Ue("InvalidAttr","Attribute '"+o+"' is an invalid name.",Ki(r[s]));if(!n.hasOwnProperty(o))n[o]=1;else return Ue("InvalidAttr","Attribute '"+o+"' is repeated.",Ki(r[s]))}return!0}function VI(t,e){let r=/\d/;for(t[e]==="x"&&(e++,r=/[\da-fA-F]/);e<t.length;e++){if(t[e]===";")return e;if(!t[e].match(r))break}return-1}function WI(t,e){if(e++,t[e]===";")return-1;if(t[e]==="#")return e++,VI(t,e);let r=0;for(;e<t.length;e++,r++)if(!(t[e].match(/\w/)&&r<20)){if(t[e]===";")break;return-1}return e}function Ue(t,e,r){return{err:{code:t,msg:e,line:r.line||r,col:r.col}}}function YI(t){return rf.isName(t)}function XI(t){return rf.isName(t)}function Et(t,e){let r=t.substring(0,e).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function Ki(t){return t.startIndex+t[1].length}});var dx=C(sf=>{var cx={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1},QI=function(t){return Object.assign({},cx,t)};sf.buildOptions=QI;sf.defaultOptions=cx});var ux=C((cK,lx)=>{"use strict";var of=class{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,r){e==="__proto__"&&(e="#__proto__"),this.child.push({[e]:r})}addChild(e){e.tagname==="__proto__"&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,[":@"]:e[":@"]}):this.child.push({[e.tagname]:e.child})}};lx.exports=of});var hx=C((dK,fx)=>{function ZI(t,e){let r={};if(t[e+3]==="O"&&t[e+4]==="C"&&t[e+5]==="T"&&t[e+6]==="Y"&&t[e+7]==="P"&&t[e+8]==="E"){e=e+9;let n=1,s=!1,o=!1,i=!1,a="";for(;e<t.length;e++)if(t[e]==="<"&&!i){if(s&&t[e+1]==="!"&&t[e+2]==="E"&&t[e+3]==="N"&&t[e+4]==="T"&&t[e+5]==="I"&&t[e+6]==="T"&&t[e+7]==="Y")e+=7,o=!0;else if(s&&t[e+1]==="!"&&t[e+2]==="E"&&t[e+3]==="L"&&t[e+4]==="E"&&t[e+5]==="M"&&t[e+6]==="E"&&t[e+7]==="N"&&t[e+8]==="T")e+=8;else if(s&&t[e+1]==="!"&&t[e+2]==="A"&&t[e+3]==="T"&&t[e+4]==="T"&&t[e+5]==="L"&&t[e+6]==="I"&&t[e+7]==="S"&&t[e+8]==="T")e+=8;else if(s&&t[e+1]==="!"&&t[e+2]==="N"&&t[e+3]==="O"&&t[e+4]==="T"&&t[e+5]==="A"&&t[e+6]==="T"&&t[e+7]==="I"&&t[e+8]==="O"&&t[e+9]==="N")e+=9;else if(t[e+1]==="!"&&t[e+2]==="-"&&t[e+3]==="-")i=!0;else throw new Error("Invalid DOCTYPE");n++,a=""}else if(t[e]===">"){if(i?t[e-1]==="-"&&t[e-2]==="-"&&(i=!1,n--):(o&&(eD(a,r),o=!1),n--),n===0)break}else t[e]==="["?s=!0:a+=t[e];if(n!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:e}}var JI=RegExp(`^\\s([a-zA-z0-0]+)[ 	](['"])([^&]+)\\2`);function eD(t,e){let r=JI.exec(t);r&&(e[r[1]]={regx:RegExp(`&${r[1]};`,"g"),val:r[3]})}fx.exports=ZI});var px=C((lK,mx)=>{var tD=/^[-+]?0x[a-fA-F0-9]+$/,rD=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt);!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);var nD={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function sD(t,e={}){if(e=Object.assign({},nD,e),!t||typeof t!="string")return t;let r=t.trim();if(e.skipLike!==void 0&&e.skipLike.test(r))return t;if(e.hex&&tD.test(r))return Number.parseInt(r,16);{let n=rD.exec(r);if(n){let s=n[1],o=n[2],i=oD(n[3]),a=n[4]||n[6];if(!e.leadingZeros&&o.length>0&&s&&r[2]!==".")return t;if(!e.leadingZeros&&o.length>0&&!s&&r[1]!==".")return t;{let c=Number(r),d=""+c;return d.search(/[eE]/)!==-1||a?e.eNotation?c:t:r.indexOf(".")!==-1?d==="0"&&i===""||d===i||s&&d==="-"+i?c:t:o?i===d||s+i===d?c:t:r===d||r===s+d?c:t}}else return t}}function oD(t){return t&&t.indexOf(".")!==-1&&(t=t.replace(/0+$/,""),t==="."?t="0":t[0]==="."?t="0"+t:t[t.length-1]==="."&&(t=t.substr(0,t.length-1))),t}mx.exports=sD});var gx=C((fK,yx)=>{"use strict";var lf=tf(),Vi=ux(),iD=hx(),aD=px(),uK="<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,lf.nameRegexp),af=class{constructor(e){this.options=e,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"}},this.addExternalEntities=cD,this.parseXml=hD,this.parseTextData=dD,this.resolveNameSpace=lD,this.buildAttributesMap=fD,this.isItStopNode=yD,this.replaceEntitiesValue=mD,this.readStopNodeData=ED,this.saveTextToParentTag=pD}};function cD(t){let e=Object.keys(t);for(let r=0;r<e.length;r++){let n=e[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:t[n]}}}function dD(t,e,r,n,s,o,i){if(t!==void 0&&(this.options.trimValues&&!n&&(t=t.trim()),t.length>0)){i||(t=this.replaceEntitiesValue(t));let a=this.options.tagValueProcessor(e,t,r,s,o);return a==null?t:typeof a!=typeof t||a!==t?a:this.options.trimValues?df(t,this.options.parseTagValue,this.options.numberParseOptions):t.trim()===t?df(t,this.options.parseTagValue,this.options.numberParseOptions):t}}function lD(t){if(this.options.removeNSPrefix){let e=t.split(":"),r=t.charAt(0)==="/"?"/":"";if(e[0]==="xmlns")return"";e.length===2&&(t=r+e[1])}return t}var uD=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function fD(t,e){if(!this.options.ignoreAttributes&&typeof t=="string"){let r=lf.getAllMatches(t,uD),n=r.length,s={};for(let o=0;o<n;o++){let i=this.resolveNameSpace(r[o][1]),a=r[o][4],c=this.options.attributeNamePrefix+i;if(i.length)if(this.options.transformAttributeName&&(c=this.options.transformAttributeName(c)),c==="__proto__"&&(c="#__proto__"),a!==void 0){this.options.trimValues&&(a=a.trim()),a=this.replaceEntitiesValue(a);let d=this.options.attributeValueProcessor(i,a,e);d==null?s[c]=a:typeof d!=typeof a||d!==a?s[c]=d:s[c]=df(a,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(s[c]=!0)}if(!Object.keys(s).length)return;if(this.options.attributesGroupName){let o={};return o[this.options.attributesGroupName]=s,o}return s}}var hD=function(t){t=t.replace(/\r\n?/g,`
`);let e=new Vi("!xml"),r=e,n="",s="";for(let o=0;o<t.length;o++)if(t[o]==="<")if(t[o+1]==="/"){let a=vs(t,">",o,"Closing Tag is not closed."),c=t.substring(o+2,a).trim();if(this.options.removeNSPrefix){let d=c.indexOf(":");d!==-1&&(c=c.substr(d+1))}this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&(n=this.saveTextToParentTag(n,r,s)),s=s.substr(0,s.lastIndexOf(".")),r=this.tagsNodeStack.pop(),n="",o=a}else if(t[o+1]==="?"){let a=cf(t,o,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,s),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){let c=new Vi(a.tagName);c.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(c[":@"]=this.buildAttributesMap(a.tagExp,s)),r.addChild(c)}o=a.closeIndex+1}else if(t.substr(o+1,3)==="!--"){let a=vs(t,"-->",o+4,"Comment is not closed.");if(this.options.commentPropName){let c=t.substring(o+4,a-2);n=this.saveTextToParentTag(n,r,s),r.add(this.options.commentPropName,[{[this.options.textNodeName]:c}])}o=a}else if(t.substr(o+1,2)==="!D"){let a=iD(t,o);this.docTypeEntities=a.entities,o=a.i}else if(t.substr(o+1,2)==="!["){let a=vs(t,"]]>",o,"CDATA is not closed.")-2,c=t.substring(o+9,a);if(n=this.saveTextToParentTag(n,r,s),this.options.cdataPropName)r.add(this.options.cdataPropName,[{[this.options.textNodeName]:c}]);else{let d=this.parseTextData(c,r.tagname,s,!0,!1,!0);d==null&&(d=""),r.add(this.options.textNodeName,d)}o=a+2}else{let a=cf(t,o,this.options.removeNSPrefix),c=a.tagName,d=a.tagExp,l=a.attrExpPresent,f=a.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&n&&r.tagname!=="!xml"&&(n=this.saveTextToParentTag(n,r,s,!1)),c!==e.tagname&&(s+=s?"."+c:c);let u=r;if(u&&this.options.unpairedTags.indexOf(u.tagname)!==-1&&(r=this.tagsNodeStack.pop()),this.isItStopNode(this.options.stopNodes,s,c)){let g="";if(d.length>0&&d.lastIndexOf("/")===d.length-1)o=a.closeIndex;else if(this.options.unpairedTags.indexOf(c)!==-1)o=a.closeIndex;else{let b=this.readStopNodeData(t,c,f+1);if(!b)throw new Error(`Unexpected end of ${c}`);o=b.i,g=b.tagContent}let y=new Vi(c);c!==d&&l&&(y[":@"]=this.buildAttributesMap(d,s)),g&&(g=this.parseTextData(g,c,s,!0,l,!0,!0)),s=s.substr(0,s.lastIndexOf(".")),y.add(this.options.textNodeName,g),r.addChild(y)}else{if(d.length>0&&d.lastIndexOf("/")===d.length-1){c[c.length-1]==="/"?(c=c.substr(0,c.length-1),d=c):d=d.substr(0,d.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));let g=new Vi(c);c!==d&&l&&(g[":@"]=this.buildAttributesMap(d,s)),s=s.substr(0,s.lastIndexOf(".")),r.addChild(g)}else{let g=new Vi(c);this.tagsNodeStack.push(r),c!==d&&l&&(g[":@"]=this.buildAttributesMap(d,s)),r.addChild(g),r=g}n="",o=f}}else n+=t[o];return e.child},mD=function(t){if(this.options.processEntities){for(let e in this.docTypeEntities){let r=this.docTypeEntities[e];t=t.replace(r.regx,r.val)}for(let e in this.lastEntities){let r=this.lastEntities[e];t=t.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let e in this.htmlEntities){let r=this.htmlEntities[e];t=t.replace(r.regex,r.val)}t=t.replace(this.ampEntity.regex,this.ampEntity.val)}return t};function pD(t,e,r,n){return t&&(n===void 0&&(n=Object.keys(e.child).length===0),t=this.parseTextData(t,e.tagname,r,!1,e[":@"]?Object.keys(e[":@"]).length!==0:!1,n),t!==void 0&&t!==""&&e.add(this.options.textNodeName,t),t=""),t}function yD(t,e,r){let n="*."+r;for(let s in t){let o=t[s];if(n===o||e===o)return!0}return!1}function gD(t,e,r=">"){let n,s="";for(let o=e;o<t.length;o++){let i=t[o];if(n)i===n&&(n="");else if(i==='"'||i==="'")n=i;else if(i===r[0])if(r[1]){if(t[o+1]===r[1])return{data:s,index:o}}else return{data:s,index:o};else i==="	"&&(i=" ");s+=i}}function vs(t,e,r,n){let s=t.indexOf(e,r);if(s===-1)throw new Error(n);return s+e.length-1}function cf(t,e,r,n=">"){let s=gD(t,e+1,n);if(!s)return;let o=s.data,i=s.index,a=o.search(/\s/),c=o,d=!0;if(a!==-1&&(c=o.substr(0,a).replace(/\s\s*$/,""),o=o.substr(a+1)),r){let l=c.indexOf(":");l!==-1&&(c=c.substr(l+1),d=c!==s.data.substr(l+1))}return{tagName:c,tagExp:o,closeIndex:i,attrExpPresent:d}}function ED(t,e,r){let n=r,s=1;for(;r<t.length;r++)if(t[r]==="<")if(t[r+1]==="/"){let o=vs(t,">",r,`${e} is not closed`);if(t.substring(r+2,o).trim()===e&&(s--,s===0))return{tagContent:t.substring(n,r),i:o};r=o}else if(t[r+1]==="?")r=vs(t,"?>",r+1,"StopNode is not closed.");else if(t.substr(r+1,3)==="!--")r=vs(t,"-->",r+3,"StopNode is not closed.");else if(t.substr(r+1,2)==="![")r=vs(t,"]]>",r,"StopNode is not closed.")-2;else{let o=cf(t,r,">");o&&((o&&o.tagName)===e&&o.tagExp[o.tagExp.length-1]!=="/"&&s++,r=o.closeIndex)}}function df(t,e,r){if(e&&typeof t=="string"){let n=t.trim();return n==="true"?!0:n==="false"?!1:aD(t,r)}else return lf.isExist(t)?t:""}yx.exports=af});var wx=C(xx=>{"use strict";function xD(t,e){return Ex(t,e)}function Ex(t,e,r){let n,s={};for(let o=0;o<t.length;o++){let i=t[o],a=wD(i),c="";if(r===void 0?c=a:c=r+"."+a,a===e.textNodeName)n===void 0?n=i[a]:n+=""+i[a];else{if(a===void 0)continue;if(i[a]){let d=Ex(i[a],e,c),l=SD(d,e);i[":@"]?CD(d,i[":@"],c,e):Object.keys(d).length===1&&d[e.textNodeName]!==void 0&&!e.alwaysCreateTextNode?d=d[e.textNodeName]:Object.keys(d).length===0&&(e.alwaysCreateTextNode?d[e.textNodeName]="":d=""),s[a]!==void 0&&s.hasOwnProperty(a)?(Array.isArray(s[a])||(s[a]=[s[a]]),s[a].push(d)):e.isArray(a,c,l)?s[a]=[d]:s[a]=d}}}return typeof n=="string"?n.length>0&&(s[e.textNodeName]=n):n!==void 0&&(s[e.textNodeName]=n),s}function wD(t){let e=Object.keys(t);for(let r=0;r<e.length;r++){let n=e[r];if(n!==":@")return n}}function CD(t,e,r,n){if(e){let s=Object.keys(e),o=s.length;for(let i=0;i<o;i++){let a=s[i];n.isArray(a,r+"."+a,!0,!0)?t[a]=[e[a]]:t[a]=e[a]}}}function SD(t,e){let r=Object.keys(t).length;return!!(r===0||r===1&&t[e.textNodeName])}xx.prettify=xD});var Sx=C((mK,Cx)=>{var{buildOptions:bD}=dx(),_D=gx(),{prettify:RD}=wx(),AD=nf(),uf=class{constructor(e){this.externalEntities={},this.options=bD(e)}parse(e,r){if(typeof e!="string")if(e.toString)e=e.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});let o=AD.validate(e,r);if(o!==!0)throw Error(`${o.err.msg}:${o.err.line}:${o.err.col}`)}let n=new _D(this.options);n.addExternalEntities(this.externalEntities);let s=n.parseXml(e);return this.options.preserveOrder||s===void 0?s:RD(s,this.options)}addEntity(e,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(e.indexOf("&")!==-1||e.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[e]=r}};Cx.exports=uf});var kx=C((pK,Ax)=>{var kD=`
`;function TD(t,e){let r="";return e.format&&e.indentBy.length>0&&(r=kD),_x(t,e,"",r)}function _x(t,e,r,n){let s="",o=!1;for(let i=0;i<t.length;i++){let a=t[i],c=ND(a),d="";if(r.length===0?d=c:d=`${r}.${c}`,c===e.textNodeName){let y=a[c];vD(d,e)||(y=e.tagValueProcessor(c,y),y=Rx(y,e)),o&&(s+=n),s+=y,o=!1;continue}else if(c===e.cdataPropName){o&&(s+=n),s+=`<![CDATA[${a[c][0][e.textNodeName]}]]>`,o=!1;continue}else if(c===e.commentPropName){s+=n+`<!--${a[c][0][e.textNodeName]}-->`,o=!0;continue}else if(c[0]==="?"){let y=bx(a[":@"],e),b=c==="?xml"?"":n,R=a[c][0][e.textNodeName];R=R.length!==0?" "+R:"",s+=b+`<${c}${R}${y}?>`,o=!0;continue}let l=n;l!==""&&(l+=e.indentBy);let f=bx(a[":@"],e),u=n+`<${c}${f}`,g=_x(a[c],e,d,l);e.unpairedTags.indexOf(c)!==-1?e.suppressUnpairedNode?s+=u+">":s+=u+"/>":(!g||g.length===0)&&e.suppressEmptyNode?s+=u+"/>":g&&g.endsWith(">")?s+=u+`>${g}${n}</${c}>`:(s+=u+">",g&&n!==""&&(g.includes("/>")||g.includes("</"))?s+=n+e.indentBy+g+n:s+=g,s+=`</${c}>`),o=!0}return s}function ND(t){let e=Object.keys(t);for(let r=0;r<e.length;r++){let n=e[r];if(n!==":@")return n}}function bx(t,e){let r="";if(t&&!e.ignoreAttributes)for(let n in t){let s=e.attributeValueProcessor(n,t[n]);s=Rx(s,e),s===!0&&e.suppressBooleanAttributes?r+=` ${n.substr(e.attributeNamePrefix.length)}`:r+=` ${n.substr(e.attributeNamePrefix.length)}="${s}"`}return r}function vD(t,e){t=t.substr(0,t.length-e.textNodeName.length-1);let r=t.substr(t.lastIndexOf(".")+1);for(let n in e.stopNodes)if(e.stopNodes[n]===t||e.stopNodes[n]==="*."+r)return!0;return!1}function Rx(t,e){if(t&&t.length>0&&e.processEntities)for(let r=0;r<e.entities.length;r++){let n=e.entities[r];t=t.replace(n.regex,n.val)}return t}Ax.exports=TD});var Nx=C((yK,Tx)=>{"use strict";var OD=kx(),PD={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[]};function vn(t){this.options=Object.assign({},PD,t),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=BD),this.processTextOrObjNode=ID,this.options.format?(this.indentate=DD,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}vn.prototype.build=function(t){return this.options.preserveOrder?OD(t,this.options):(Array.isArray(t)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(t={[this.options.arrayNodeName]:t}),this.j2x(t,0).val)};vn.prototype.j2x=function(t,e){let r="",n="";for(let s in t)if(!(typeof t[s]>"u"))if(t[s]===null)s[0]==="?"?n+=this.indentate(e)+"<"+s+"?"+this.tagEndChar:n+=this.indentate(e)+"<"+s+"/"+this.tagEndChar;else if(t[s]instanceof Date)n+=this.buildTextValNode(t[s],s,"",e);else if(typeof t[s]!="object"){let o=this.isAttribute(s);if(o)r+=this.buildAttrPairStr(o,""+t[s]);else if(s===this.options.textNodeName){let i=this.options.tagValueProcessor(s,""+t[s]);n+=this.replaceEntitiesValue(i)}else n+=this.buildTextValNode(t[s],s,"",e)}else if(Array.isArray(t[s])){let o=t[s].length;for(let i=0;i<o;i++){let a=t[s][i];typeof a>"u"||(a===null?s[0]==="?"?n+=this.indentate(e)+"<"+s+"?"+this.tagEndChar:n+=this.indentate(e)+"<"+s+"/"+this.tagEndChar:typeof a=="object"?n+=this.processTextOrObjNode(a,s,e):n+=this.buildTextValNode(a,s,"",e))}}else if(this.options.attributesGroupName&&s===this.options.attributesGroupName){let o=Object.keys(t[s]),i=o.length;for(let a=0;a<i;a++)r+=this.buildAttrPairStr(o[a],""+t[s][o[a]])}else n+=this.processTextOrObjNode(t[s],s,e);return{attrStr:r,val:n}};vn.prototype.buildAttrPairStr=function(t,e){return e=this.options.attributeValueProcessor(t,""+e),e=this.replaceEntitiesValue(e),this.options.suppressBooleanAttributes&&e==="true"?" "+t:" "+t+'="'+e+'"'};function ID(t,e,r){let n=this.j2x(t,r+1);return t[this.options.textNodeName]!==void 0&&Object.keys(t).length===1?this.buildTextValNode(t[this.options.textNodeName],e,n.attrStr,r):this.buildObjectNode(n.val,e,n.attrStr,r)}vn.prototype.buildObjectNode=function(t,e,r,n){if(t==="")return e[0]==="?"?this.indentate(n)+"<"+e+r+"?"+this.tagEndChar:this.indentate(n)+"<"+e+r+this.closeTag(e)+this.tagEndChar;{let s="</"+e+this.tagEndChar,o="";return e[0]==="?"&&(o="?",s=""),r&&t.indexOf("<")===-1?this.indentate(n)+"<"+e+r+o+">"+t+s:this.options.commentPropName!==!1&&e===this.options.commentPropName&&o.length===0?this.indentate(n)+`<!--${t}-->`+this.newLine:this.indentate(n)+"<"+e+r+o+this.tagEndChar+t+this.indentate(n)+s}};vn.prototype.closeTag=function(t){let e="";return this.options.unpairedTags.indexOf(t)!==-1?this.options.suppressUnpairedNode||(e="/"):this.options.suppressEmptyNode?e="/":e=`></${t}`,e};vn.prototype.buildTextValNode=function(t,e,r,n){if(this.options.cdataPropName!==!1&&e===this.options.cdataPropName)return this.indentate(n)+`<![CDATA[${t}]]>`+this.newLine;if(this.options.commentPropName!==!1&&e===this.options.commentPropName)return this.indentate(n)+`<!--${t}-->`+this.newLine;if(e[0]==="?")return this.indentate(n)+"<"+e+r+"?"+this.tagEndChar;{let s=this.options.tagValueProcessor(e,t);return s=this.replaceEntitiesValue(s),s===""?this.indentate(n)+"<"+e+r+this.closeTag(e)+this.tagEndChar:this.indentate(n)+"<"+e+r+">"+s+"</"+e+this.tagEndChar}};vn.prototype.replaceEntitiesValue=function(t){if(t&&t.length>0&&this.options.processEntities)for(let e=0;e<this.options.entities.length;e++){let r=this.options.entities[e];t=t.replace(r.regex,r.val)}return t};function DD(t){return this.options.indentBy.repeat(t)}function BD(t){return t.startsWith(this.options.attributeNamePrefix)?t.substr(this.attrPrefixLen):!1}Tx.exports=vn});var ff=C((gK,vx)=>{"use strict";var MD=nf(),LD=Sx(),FD=Nx();vx.exports={XMLParser:LD,XMLValidator:MD,XMLBuilder:FD}});var Ef={};fo(Ef,{__assign:()=>yf,__asyncDelegator:()=>lB,__asyncGenerator:()=>dB,__asyncValues:()=>uB,__await:()=>Xi,__awaiter:()=>nB,__classPrivateFieldGet:()=>pB,__classPrivateFieldSet:()=>yB,__createBinding:()=>oB,__decorate:()=>eB,__exportStar:()=>iB,__extends:()=>ZD,__generator:()=>sB,__importDefault:()=>mB,__importStar:()=>hB,__makeTemplateObject:()=>fB,__metadata:()=>rB,__param:()=>tB,__read:()=>Yx,__rest:()=>JD,__spread:()=>aB,__spreadArrays:()=>cB,__values:()=>gf});function ZD(t,e){pf(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function JD(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function eB(t,e,r,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,r,o):i(e,r))||o);return s>3&&o&&Object.defineProperty(e,r,o),o}function tB(t,e){return function(r,n){e(r,n,t)}}function rB(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function nB(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(l){try{d(n.next(l))}catch(f){i(f)}}function c(l){try{d(n.throw(l))}catch(f){i(f)}}function d(l){l.done?o(l.value):s(l.value).then(a,c)}d((n=n.apply(t,e||[])).next())})}function sB(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,i;return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(d){return function(l){return c([d,l])}}function c(d){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(o=d[0]&2?s.return:d[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,d[1])).done)return o;switch(s=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,s=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){r.label=d[1];break}if(d[0]===6&&r.label<o[1]){r.label=o[1],o=d;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(d);break}o[2]&&r.ops.pop(),r.trys.pop();continue}d=e.call(t,r)}catch(l){d=[6,l],s=0}finally{n=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function oB(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function iB(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function gf(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Yx(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,o=[],i;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)o.push(s.value)}catch(a){i={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return o}function aB(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Yx(arguments[e]));return t}function cB(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var o=arguments[e],i=0,a=o.length;i<a;i++,s++)n[s]=o[i];return n}function Xi(t){return this instanceof Xi?(this.v=t,this):new Xi(t)}function dB(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,o=[];return s={},i("next"),i("throw"),i("return"),s[Symbol.asyncIterator]=function(){return this},s;function i(u){n[u]&&(s[u]=function(g){return new Promise(function(y,b){o.push([u,g,y,b])>1||a(u,g)})})}function a(u,g){try{c(n[u](g))}catch(y){f(o[0][3],y)}}function c(u){u.value instanceof Xi?Promise.resolve(u.value.v).then(d,l):f(o[0][2],u)}function d(u){a("next",u)}function l(u){a("throw",u)}function f(u,g){u(g),o.shift(),o.length&&a(o[0][0],o[0][1])}}function lB(t){var e,r;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,o){e[s]=t[s]?function(i){return(r=!r)?{value:Xi(t[s](i)),done:s==="return"}:o?o(i):i}:o}}function uB(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof gf=="function"?gf(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(i){return new Promise(function(a,c){i=t[o](i),s(a,c,i.done,i.value)})}}function s(o,i,a,c){Promise.resolve(c).then(function(d){o({value:d,done:a})},i)}}function fB(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function hB(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function mB(t){return t&&t.__esModule?t:{default:t}}function pB(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function yB(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}var pf,yf,xf=Fe(()=>{pf=function(t,e){return pf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)n.hasOwnProperty(s)&&(r[s]=n[s])},pf(t,e)};yf=function(){return yf=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},yf.apply(this,arguments)}});var Xx,Qx,Zx=Fe(()=>{Xx=t=>{let e=[];for(let r=0,n=t.length;r<n;r++){let s=t.charCodeAt(r);if(s<128)e.push(s);else if(s<2048)e.push(s>>6|192,s&63|128);else if(r+1<t.length&&(s&64512)===55296&&(t.charCodeAt(r+1)&64512)===56320){let o=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023);e.push(o>>18|240,o>>12&63|128,o>>6&63|128,o&63|128)}else e.push(s>>12|224,s>>6&63|128,s&63|128)}return Uint8Array.from(e)},Qx=t=>{let e="";for(let r=0,n=t.length;r<n;r++){let s=t[r];if(s<128)e+=String.fromCharCode(s);else if(192<=s&&s<224){let o=t[++r];e+=String.fromCharCode((s&31)<<6|o&63)}else if(240<=s&&s<365){let i="%"+[s,t[++r],t[++r],t[++r]].map(a=>a.toString(16)).join("%");e+=decodeURIComponent(i)}else e+=String.fromCharCode((s&15)<<12|(t[++r]&63)<<6|t[++r]&63)}return e}});function Jx(t){return new TextEncoder().encode(t)}function ew(t){return new TextDecoder("utf-8").decode(t)}var tw=Fe(()=>{});var rw={};fo(rw,{fromUtf8:()=>gB,toUtf8:()=>EB});var gB,EB,nw=Fe(()=>{Zx();tw();gB=t=>typeof TextEncoder=="function"?Jx(t):Xx(t),EB=t=>typeof TextDecoder=="function"?ew(t):Qx(t)});var sw=C(Sc=>{"use strict";Object.defineProperty(Sc,"__esModule",{value:!0});Sc.convertToBuffer=void 0;var xB=(nw(),ho(rw)),wB=typeof Buffer<"u"&&Buffer.from?function(t){return Buffer.from(t,"utf8")}:xB.fromUtf8;function CB(t){return t instanceof Uint8Array?t:typeof t=="string"?wB(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t)}Sc.convertToBuffer=CB});var ow=C(bc=>{"use strict";Object.defineProperty(bc,"__esModule",{value:!0});bc.isEmptyData=void 0;function SB(t){return typeof t=="string"?t.length===0:t.byteLength===0}bc.isEmptyData=SB});var iw=C(_c=>{"use strict";Object.defineProperty(_c,"__esModule",{value:!0});_c.numToUint8=void 0;function bB(t){return new Uint8Array([(t&4278190080)>>24,(t&16711680)>>16,(t&65280)>>8,t&255])}_c.numToUint8=bB});var aw=C(Rc=>{"use strict";Object.defineProperty(Rc,"__esModule",{value:!0});Rc.uint32ArrayFrom=void 0;function _B(t){if(!Uint32Array.from){for(var e=new Uint32Array(t.length),r=0;r<t.length;)e[r]=t[r],r+=1;return e}return Uint32Array.from(t)}Rc.uint32ArrayFrom=_B});var Qi=C(yr=>{"use strict";Object.defineProperty(yr,"__esModule",{value:!0});yr.uint32ArrayFrom=yr.numToUint8=yr.isEmptyData=yr.convertToBuffer=void 0;var RB=sw();Object.defineProperty(yr,"convertToBuffer",{enumerable:!0,get:function(){return RB.convertToBuffer}});var AB=ow();Object.defineProperty(yr,"isEmptyData",{enumerable:!0,get:function(){return AB.isEmptyData}});var kB=iw();Object.defineProperty(yr,"numToUint8",{enumerable:!0,get:function(){return kB.numToUint8}});var TB=aw();Object.defineProperty(yr,"uint32ArrayFrom",{enumerable:!0,get:function(){return TB.uint32ArrayFrom}})});var lw=C(Ac=>{"use strict";Object.defineProperty(Ac,"__esModule",{value:!0});Ac.AwsCrc32=void 0;var cw=(xf(),ho(Ef)),wf=Qi(),dw=Zi(),NB=function(){function t(){this.crc32=new dw.Crc32}return t.prototype.update=function(e){(0,wf.isEmptyData)(e)||this.crc32.update((0,wf.convertToBuffer)(e))},t.prototype.digest=function(){return cw.__awaiter(this,void 0,void 0,function(){return cw.__generator(this,function(e){return[2,(0,wf.numToUint8)(this.crc32.digest())]})})},t.prototype.reset=function(){this.crc32=new dw.Crc32},t}();Ac.AwsCrc32=NB});var Zi=C(On=>{"use strict";Object.defineProperty(On,"__esModule",{value:!0});On.AwsCrc32=On.Crc32=On.crc32=void 0;var vB=(xf(),ho(Ef)),OB=Qi();function PB(t){return new uw().update(t).digest()}On.crc32=PB;var uw=function(){function t(){this.checksum=4294967295}return t.prototype.update=function(e){var r,n;try{for(var s=vB.__values(e),o=s.next();!o.done;o=s.next()){var i=o.value;this.checksum=this.checksum>>>8^DB[(this.checksum^i)&255]}}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return this},t.prototype.digest=function(){return(this.checksum^4294967295)>>>0},t}();On.Crc32=uw;var IB=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],DB=(0,OB.uint32ArrayFrom)(IB),BB=lw();Object.defineProperty(On,"AwsCrc32",{enumerable:!0,get:function(){return BB.AwsCrc32}})});var _f={};fo(_f,{__assign:()=>Sf,__asyncDelegator:()=>WB,__asyncGenerator:()=>VB,__asyncValues:()=>YB,__await:()=>Ji,__awaiter:()=>$B,__classPrivateFieldGet:()=>JB,__classPrivateFieldSet:()=>e1,__createBinding:()=>HB,__decorate:()=>FB,__exportStar:()=>jB,__extends:()=>MB,__generator:()=>qB,__importDefault:()=>ZB,__importStar:()=>QB,__makeTemplateObject:()=>XB,__metadata:()=>zB,__param:()=>UB,__read:()=>fw,__rest:()=>LB,__spread:()=>GB,__spreadArrays:()=>KB,__values:()=>bf});function MB(t,e){Cf(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function LB(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function FB(t,e,r,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,r,o):i(e,r))||o);return s>3&&o&&Object.defineProperty(e,r,o),o}function UB(t,e){return function(r,n){e(r,n,t)}}function zB(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function $B(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(l){try{d(n.next(l))}catch(f){i(f)}}function c(l){try{d(n.throw(l))}catch(f){i(f)}}function d(l){l.done?o(l.value):s(l.value).then(a,c)}d((n=n.apply(t,e||[])).next())})}function qB(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,i;return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(d){return function(l){return c([d,l])}}function c(d){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(o=d[0]&2?s.return:d[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,d[1])).done)return o;switch(s=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,s=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){r.label=d[1];break}if(d[0]===6&&r.label<o[1]){r.label=o[1],o=d;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(d);break}o[2]&&r.ops.pop(),r.trys.pop();continue}d=e.call(t,r)}catch(l){d=[6,l],s=0}finally{n=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function HB(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function jB(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function bf(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function fw(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,o=[],i;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)o.push(s.value)}catch(a){i={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return o}function GB(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(fw(arguments[e]));return t}function KB(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var o=arguments[e],i=0,a=o.length;i<a;i++,s++)n[s]=o[i];return n}function Ji(t){return this instanceof Ji?(this.v=t,this):new Ji(t)}function VB(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,o=[];return s={},i("next"),i("throw"),i("return"),s[Symbol.asyncIterator]=function(){return this},s;function i(u){n[u]&&(s[u]=function(g){return new Promise(function(y,b){o.push([u,g,y,b])>1||a(u,g)})})}function a(u,g){try{c(n[u](g))}catch(y){f(o[0][3],y)}}function c(u){u.value instanceof Ji?Promise.resolve(u.value.v).then(d,l):f(o[0][2],u)}function d(u){a("next",u)}function l(u){a("throw",u)}function f(u,g){u(g),o.shift(),o.length&&a(o[0][0],o[0][1])}}function WB(t){var e,r;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,o){e[s]=t[s]?function(i){return(r=!r)?{value:Ji(t[s](i)),done:s==="return"}:o?o(i):i}:o}}function YB(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof bf=="function"?bf(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(i){return new Promise(function(a,c){i=t[o](i),s(a,c,i.done,i.value)})}}function s(o,i,a,c){Promise.resolve(c).then(function(d){o({value:d,done:a})},i)}}function XB(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function QB(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function ZB(t){return t&&t.__esModule?t:{default:t}}function JB(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function e1(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}var Cf,Sf,Rf=Fe(()=>{Cf=function(t,e){return Cf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)n.hasOwnProperty(s)&&(r[s]=n[s])},Cf(t,e)};Sf=function(){return Sf=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Sf.apply(this,arguments)}});var pw=C(kc=>{"use strict";Object.defineProperty(kc,"__esModule",{value:!0});kc.AwsCrc32c=void 0;var hw=(Rf(),ho(_f)),Af=Qi(),mw=kf(),t1=function(){function t(){this.crc32c=new mw.Crc32c}return t.prototype.update=function(e){(0,Af.isEmptyData)(e)||this.crc32c.update((0,Af.convertToBuffer)(e))},t.prototype.digest=function(){return hw.__awaiter(this,void 0,void 0,function(){return hw.__generator(this,function(e){return[2,(0,Af.numToUint8)(this.crc32c.digest())]})})},t.prototype.reset=function(){this.crc32c=new mw.Crc32c},t}();kc.AwsCrc32c=t1});var kf=C(Pn=>{"use strict";Object.defineProperty(Pn,"__esModule",{value:!0});Pn.AwsCrc32c=Pn.Crc32c=Pn.crc32c=void 0;var r1=(Rf(),ho(_f)),n1=Qi();function s1(t){return new yw().update(t).digest()}Pn.crc32c=s1;var yw=function(){function t(){this.checksum=4294967295}return t.prototype.update=function(e){var r,n;try{for(var s=r1.__values(e),o=s.next();!o.done;o=s.next()){var i=o.value;this.checksum=this.checksum>>>8^i1[(this.checksum^i)&255]}}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return this},t.prototype.digest=function(){return(this.checksum^4294967295)>>>0},t}();Pn.Crc32c=yw;var o1=[0,4067132163,3778769143,324072436,3348797215,904991772,648144872,3570033899,2329499855,2024987596,1809983544,2575936315,1296289744,3207089363,2893594407,1578318884,274646895,3795141740,4049975192,51262619,3619967088,632279923,922689671,3298075524,2592579488,1760304291,2075979607,2312596564,1562183871,2943781820,3156637768,1313733451,549293790,3537243613,3246849577,871202090,3878099393,357341890,102525238,4101499445,2858735121,1477399826,1264559846,3107202533,1845379342,2677391885,2361733625,2125378298,820201905,3263744690,3520608582,598981189,4151959214,85089709,373468761,3827903834,3124367742,1213305469,1526817161,2842354314,2107672161,2412447074,2627466902,1861252501,1098587580,3004210879,2688576843,1378610760,2262928035,1955203488,1742404180,2511436119,3416409459,969524848,714683780,3639785095,205050476,4266873199,3976438427,526918040,1361435347,2739821008,2954799652,1114974503,2529119692,1691668175,2005155131,2247081528,3690758684,697762079,986182379,3366744552,476452099,3993867776,4250756596,255256311,1640403810,2477592673,2164122517,1922457750,2791048317,1412925310,1197962378,3037525897,3944729517,427051182,170179418,4165941337,746937522,3740196785,3451792453,1070968646,1905808397,2213795598,2426610938,1657317369,3053634322,1147748369,1463399397,2773627110,4215344322,153784257,444234805,3893493558,1021025245,3467647198,3722505002,797665321,2197175160,1889384571,1674398607,2443626636,1164749927,3070701412,2757221520,1446797203,137323447,4198817972,3910406976,461344835,3484808360,1037989803,781091935,3705997148,2460548119,1623424788,1939049696,2180517859,1429367560,2807687179,3020495871,1180866812,410100952,3927582683,4182430767,186734380,3756733383,763408580,1053836080,3434856499,2722870694,1344288421,1131464017,2971354706,1708204729,2545590714,2229949006,1988219213,680717673,3673779818,3383336350,1002577565,4010310262,493091189,238226049,4233660802,2987750089,1082061258,1395524158,2705686845,1972364758,2279892693,2494862625,1725896226,952904198,3399985413,3656866545,731699698,4283874585,222117402,510512622,3959836397,3280807620,837199303,582374963,3504198960,68661723,4135334616,3844915500,390545967,1230274059,3141532936,2825850620,1510247935,2395924756,2091215383,1878366691,2644384480,3553878443,565732008,854102364,3229815391,340358836,3861050807,4117890627,119113024,1493875044,2875275879,3090270611,1247431312,2660249211,1828433272,2141937292,2378227087,3811616794,291187481,34330861,4032846830,615137029,3603020806,3314634738,939183345,1776939221,2609017814,2295496738,2058945313,2926798794,1545135305,1330124605,3173225534,4084100981,17165430,307568514,3762199681,888469610,3332340585,3587147933,665062302,2042050490,2346497209,2559330125,1793573966,3190661285,1279665062,1595330642,2910671697],i1=(0,n1.uint32ArrayFrom)(o1),a1=pw();Object.defineProperty(Pn,"AwsCrc32c",{enumerable:!0,get:function(){return a1.AwsCrc32c}})});var ai=C((Bie,cR)=>{"use strict";var aR=new Map([["C","cwd"],["f","file"],["z","gzip"],["P","preservePaths"],["U","unlink"],["strip-components","strip"],["stripComponents","strip"],["keep-newer","newer"],["keepNewer","newer"],["keep-newer-files","newer"],["keepNewerFiles","newer"],["k","keep"],["keep-existing","keep"],["keepExisting","keep"],["m","noMtime"],["no-mtime","noMtime"],["p","preserveOwner"],["L","follow"],["h","follow"]]);cR.exports=t=>t?Object.keys(t).map(e=>[aR.has(e)?aR.get(e):e,t[e]]).reduce((e,r)=>(e[r[0]]=r[1],e),Object.create(null)):{}});var jd=C((Mie,ER)=>{"use strict";var dR=typeof process=="object"&&process?process:{stdout:null,stderr:null},OF=require("events"),lR=require("stream"),PF=require("string_decoder"),uR=PF.StringDecoder,tn=Symbol("EOF"),rn=Symbol("maybeEmitEnd"),cs=Symbol("emittedEnd"),Fd=Symbol("emittingEnd"),ka=Symbol("emittedError"),Ud=Symbol("closed"),fR=Symbol("read"),zd=Symbol("flush"),hR=Symbol("flushChunk"),bt=Symbol("encoding"),nn=Symbol("decoder"),$d=Symbol("flowing"),Ta=Symbol("paused"),ci=Symbol("resume"),De=Symbol("buffer"),vr=Symbol("pipes"),Ve=Symbol("bufferLength"),Wh=Symbol("bufferPush"),Yh=Symbol("bufferShift"),tt=Symbol("objectMode"),Be=Symbol("destroyed"),Xh=Symbol("error"),Qh=Symbol("emitData"),mR=Symbol("emitEnd"),Zh=Symbol("emitEnd2"),sn=Symbol("async"),Jh=Symbol("abort"),qd=Symbol("aborted"),js=Symbol("signal"),Na=t=>Promise.resolve().then(t),gR=global._MP_NO_ITERATOR_SYMBOLS_!=="1",pR=gR&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),yR=gR&&Symbol.iterator||Symbol("iterator not implemented"),IF=t=>t==="end"||t==="finish"||t==="prefinish",DF=t=>t instanceof ArrayBuffer||typeof t=="object"&&t.constructor&&t.constructor.name==="ArrayBuffer"&&t.byteLength>=0,BF=t=>!Buffer.isBuffer(t)&&ArrayBuffer.isView(t),Hd=class{constructor(e,r,n){this.src=e,this.dest=r,this.opts=n,this.ondrain=()=>e[ci](),r.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},em=class extends Hd{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(e,r,n){super(e,r,n),this.proxyErrors=s=>r.emit("error",s),e.on("error",this.proxyErrors)}},va=class extends lR{constructor(e){super(),this[$d]=!1,this[Ta]=!1,this[vr]=[],this[De]=[],this[tt]=e&&e.objectMode||!1,this[tt]?this[bt]=null:this[bt]=e&&e.encoding||null,this[bt]==="buffer"&&(this[bt]=null),this[sn]=e&&!!e.async||!1,this[nn]=this[bt]?new uR(this[bt]):null,this[tn]=!1,this[cs]=!1,this[Fd]=!1,this[Ud]=!1,this[ka]=null,this.writable=!0,this.readable=!0,this[Ve]=0,this[Be]=!1,e&&e.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[De]}),e&&e.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[vr]}),this[js]=e&&e.signal,this[qd]=!1,this[js]&&(this[js].addEventListener("abort",()=>this[Jh]()),this[js].aborted&&this[Jh]())}get bufferLength(){return this[Ve]}get encoding(){return this[bt]}set encoding(e){if(this[tt])throw new Error("cannot set encoding in objectMode");if(this[bt]&&e!==this[bt]&&(this[nn]&&this[nn].lastNeed||this[Ve]))throw new Error("cannot change encoding");this[bt]!==e&&(this[nn]=e?new uR(e):null,this[De].length&&(this[De]=this[De].map(r=>this[nn].write(r)))),this[bt]=e}setEncoding(e){this.encoding=e}get objectMode(){return this[tt]}set objectMode(e){this[tt]=this[tt]||!!e}get async(){return this[sn]}set async(e){this[sn]=this[sn]||!!e}[Jh](){this[qd]=!0,this.emit("abort",this[js].reason),this.destroy(this[js].reason)}get aborted(){return this[qd]}set aborted(e){}write(e,r,n){if(this[qd])return!1;if(this[tn])throw new Error("write after end");if(this[Be])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof r=="function"&&(n=r,r="utf8"),r||(r="utf8");let s=this[sn]?Na:o=>o();return!this[tt]&&!Buffer.isBuffer(e)&&(BF(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):DF(e)?e=Buffer.from(e):typeof e!="string"&&(this.objectMode=!0)),this[tt]?(this.flowing&&this[Ve]!==0&&this[zd](!0),this.flowing?this.emit("data",e):this[Wh](e),this[Ve]!==0&&this.emit("readable"),n&&s(n),this.flowing):e.length?(typeof e=="string"&&!(r===this[bt]&&!this[nn].lastNeed)&&(e=Buffer.from(e,r)),Buffer.isBuffer(e)&&this[bt]&&(e=this[nn].write(e)),this.flowing&&this[Ve]!==0&&this[zd](!0),this.flowing?this.emit("data",e):this[Wh](e),this[Ve]!==0&&this.emit("readable"),n&&s(n),this.flowing):(this[Ve]!==0&&this.emit("readable"),n&&s(n),this.flowing)}read(e){if(this[Be])return null;if(this[Ve]===0||e===0||e>this[Ve])return this[rn](),null;this[tt]&&(e=null),this[De].length>1&&!this[tt]&&(this.encoding?this[De]=[this[De].join("")]:this[De]=[Buffer.concat(this[De],this[Ve])]);let r=this[fR](e||null,this[De][0]);return this[rn](),r}[fR](e,r){return e===r.length||e===null?this[Yh]():(this[De][0]=r.slice(e),r=r.slice(0,e),this[Ve]-=e),this.emit("data",r),!this[De].length&&!this[tn]&&this.emit("drain"),r}end(e,r,n){return typeof e=="function"&&(n=e,e=null),typeof r=="function"&&(n=r,r="utf8"),e&&this.write(e,r),n&&this.once("end",n),this[tn]=!0,this.writable=!1,(this.flowing||!this[Ta])&&this[rn](),this}[ci](){this[Be]||(this[Ta]=!1,this[$d]=!0,this.emit("resume"),this[De].length?this[zd]():this[tn]?this[rn]():this.emit("drain"))}resume(){return this[ci]()}pause(){this[$d]=!1,this[Ta]=!0}get destroyed(){return this[Be]}get flowing(){return this[$d]}get paused(){return this[Ta]}[Wh](e){this[tt]?this[Ve]+=1:this[Ve]+=e.length,this[De].push(e)}[Yh](){return this[tt]?this[Ve]-=1:this[Ve]-=this[De][0].length,this[De].shift()}[zd](e){do;while(this[hR](this[Yh]())&&this[De].length);!e&&!this[De].length&&!this[tn]&&this.emit("drain")}[hR](e){return this.emit("data",e),this.flowing}pipe(e,r){if(this[Be])return;let n=this[cs];return r=r||{},e===dR.stdout||e===dR.stderr?r.end=!1:r.end=r.end!==!1,r.proxyErrors=!!r.proxyErrors,n?r.end&&e.end():(this[vr].push(r.proxyErrors?new em(this,e,r):new Hd(this,e,r)),this[sn]?Na(()=>this[ci]()):this[ci]()),e}unpipe(e){let r=this[vr].find(n=>n.dest===e);r&&(this[vr].splice(this[vr].indexOf(r),1),r.unpipe())}addListener(e,r){return this.on(e,r)}on(e,r){let n=super.on(e,r);return e==="data"&&!this[vr].length&&!this.flowing?this[ci]():e==="readable"&&this[Ve]!==0?super.emit("readable"):IF(e)&&this[cs]?(super.emit(e),this.removeAllListeners(e)):e==="error"&&this[ka]&&(this[sn]?Na(()=>r.call(this,this[ka])):r.call(this,this[ka])),n}get emittedEnd(){return this[cs]}[rn](){!this[Fd]&&!this[cs]&&!this[Be]&&this[De].length===0&&this[tn]&&(this[Fd]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[Ud]&&this.emit("close"),this[Fd]=!1)}emit(e,r,...n){if(e!=="error"&&e!=="close"&&e!==Be&&this[Be])return;if(e==="data")return!this[tt]&&!r?!1:this[sn]?Na(()=>this[Qh](r)):this[Qh](r);if(e==="end")return this[mR]();if(e==="close"){if(this[Ud]=!0,!this[cs]&&!this[Be])return;let o=super.emit("close");return this.removeAllListeners("close"),o}else if(e==="error"){this[ka]=r,super.emit(Xh,r);let o=!this[js]||this.listeners("error").length?super.emit("error",r):!1;return this[rn](),o}else if(e==="resume"){let o=super.emit("resume");return this[rn](),o}else if(e==="finish"||e==="prefinish"){let o=super.emit(e);return this.removeAllListeners(e),o}let s=super.emit(e,r,...n);return this[rn](),s}[Qh](e){for(let n of this[vr])n.dest.write(e)===!1&&this.pause();let r=super.emit("data",e);return this[rn](),r}[mR](){this[cs]||(this[cs]=!0,this.readable=!1,this[sn]?Na(()=>this[Zh]()):this[Zh]())}[Zh](){if(this[nn]){let r=this[nn].end();if(r){for(let n of this[vr])n.dest.write(r);super.emit("data",r)}}for(let r of this[vr])r.end();let e=super.emit("end");return this.removeAllListeners("end"),e}collect(){let e=[];this[tt]||(e.dataLength=0);let r=this.promise();return this.on("data",n=>{e.push(n),this[tt]||(e.dataLength+=n.length)}),r.then(()=>e)}concat(){return this[tt]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(e=>this[tt]?Promise.reject(new Error("cannot concat in objectMode")):this[bt]?e.join(""):Buffer.concat(e,e.dataLength))}promise(){return new Promise((e,r)=>{this.on(Be,()=>r(new Error("stream destroyed"))),this.on("error",n=>r(n)),this.on("end",()=>e())})}[pR](){let e=!1,r=()=>(this.pause(),e=!0,Promise.resolve({done:!0}));return{next:()=>{if(e)return r();let s=this.read();if(s!==null)return Promise.resolve({done:!1,value:s});if(this[tn])return r();let o=null,i=null,a=f=>{this.removeListener("data",c),this.removeListener("end",d),this.removeListener(Be,l),r(),i(f)},c=f=>{this.removeListener("error",a),this.removeListener("end",d),this.removeListener(Be,l),this.pause(),o({value:f,done:!!this[tn]})},d=()=>{this.removeListener("error",a),this.removeListener("data",c),this.removeListener(Be,l),r(),o({done:!0})},l=()=>a(new Error("stream destroyed"));return new Promise((f,u)=>{i=u,o=f,this.once(Be,l),this.once("error",a),this.once("end",d),this.once("data",c)})},throw:r,return:r,[pR](){return this}}}[yR](){let e=!1,r=()=>(this.pause(),this.removeListener(Xh,r),this.removeListener(Be,r),this.removeListener("end",r),e=!0,{done:!0}),n=()=>{if(e)return r();let s=this.read();return s===null?r():{value:s}};return this.once("end",r),this.once(Xh,r),this.once(Be,r),{next:n,throw:r,return:r,[yR](){return this}}}destroy(e){return this[Be]?(e?this.emit("error",e):this.emit(Be),this):(this[Be]=!0,this[De].length=0,this[Ve]=0,typeof this.close=="function"&&!this[Ud]&&this.close(),e?this.emit("error",e):this.emit(Be),this)}static isStream(e){return!!e&&(e instanceof va||e instanceof lR||e instanceof OF&&(typeof e.pipe=="function"||typeof e.write=="function"&&typeof e.end=="function"))}};ER.exports=va});var wR=C((Lie,xR)=>{var MF=require("zlib").constants||{ZLIB_VERNUM:4736};xR.exports=Object.freeze(Object.assign(Object.create(null),{Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_VERSION_ERROR:-6,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,DEFLATE:1,INFLATE:2,GZIP:3,GUNZIP:4,DEFLATERAW:5,INFLATERAW:6,UNZIP:7,BROTLI_DECODE:8,BROTLI_ENCODE:9,Z_MIN_WINDOWBITS:8,Z_MAX_WINDOWBITS:15,Z_DEFAULT_WINDOWBITS:15,Z_MIN_CHUNK:64,Z_MAX_CHUNK:1/0,Z_DEFAULT_CHUNK:16384,Z_MIN_MEMLEVEL:1,Z_MAX_MEMLEVEL:9,Z_DEFAULT_MEMLEVEL:8,Z_MIN_LEVEL:-1,Z_MAX_LEVEL:9,Z_DEFAULT_LEVEL:-1,BROTLI_OPERATION_PROCESS:0,BROTLI_OPERATION_FLUSH:1,BROTLI_OPERATION_FINISH:2,BROTLI_OPERATION_EMIT_METADATA:3,BROTLI_MODE_GENERIC:0,BROTLI_MODE_TEXT:1,BROTLI_MODE_FONT:2,BROTLI_DEFAULT_MODE:0,BROTLI_MIN_QUALITY:0,BROTLI_MAX_QUALITY:11,BROTLI_DEFAULT_QUALITY:11,BROTLI_MIN_WINDOW_BITS:10,BROTLI_MAX_WINDOW_BITS:24,BROTLI_LARGE_MAX_WINDOW_BITS:30,BROTLI_DEFAULT_WINDOW:22,BROTLI_MIN_INPUT_BLOCK_BITS:16,BROTLI_MAX_INPUT_BLOCK_BITS:24,BROTLI_PARAM_MODE:0,BROTLI_PARAM_QUALITY:1,BROTLI_PARAM_LGWIN:2,BROTLI_PARAM_LGBLOCK:3,BROTLI_PARAM_DISABLE_LITERAL_CONTEXT_MODELING:4,BROTLI_PARAM_SIZE_HINT:5,BROTLI_PARAM_LARGE_WINDOW:6,BROTLI_PARAM_NPOSTFIX:7,BROTLI_PARAM_NDIRECT:8,BROTLI_DECODER_RESULT_ERROR:0,BROTLI_DECODER_RESULT_SUCCESS:1,BROTLI_DECODER_RESULT_NEEDS_MORE_INPUT:2,BROTLI_DECODER_RESULT_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_PARAM_DISABLE_RING_BUFFER_REALLOCATION:0,BROTLI_DECODER_PARAM_LARGE_WINDOW:1,BROTLI_DECODER_NO_ERROR:0,BROTLI_DECODER_SUCCESS:1,BROTLI_DECODER_NEEDS_MORE_INPUT:2,BROTLI_DECODER_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_NIBBLE:-1,BROTLI_DECODER_ERROR_FORMAT_RESERVED:-2,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_META_NIBBLE:-3,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_ALPHABET:-4,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_SAME:-5,BROTLI_DECODER_ERROR_FORMAT_CL_SPACE:-6,BROTLI_DECODER_ERROR_FORMAT_HUFFMAN_SPACE:-7,BROTLI_DECODER_ERROR_FORMAT_CONTEXT_MAP_REPEAT:-8,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_1:-9,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_2:-10,BROTLI_DECODER_ERROR_FORMAT_TRANSFORM:-11,BROTLI_DECODER_ERROR_FORMAT_DICTIONARY:-12,BROTLI_DECODER_ERROR_FORMAT_WINDOW_BITS:-13,BROTLI_DECODER_ERROR_FORMAT_PADDING_1:-14,BROTLI_DECODER_ERROR_FORMAT_PADDING_2:-15,BROTLI_DECODER_ERROR_FORMAT_DISTANCE:-16,BROTLI_DECODER_ERROR_DICTIONARY_NOT_SET:-19,BROTLI_DECODER_ERROR_INVALID_ARGUMENTS:-20,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MODES:-21,BROTLI_DECODER_ERROR_ALLOC_TREE_GROUPS:-22,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MAP:-25,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_1:-26,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_2:-27,BROTLI_DECODER_ERROR_ALLOC_BLOCK_TYPE_TREES:-30,BROTLI_DECODER_ERROR_UNREACHABLE:-31},MF))});var im=C((Fie,NR)=>{"use strict";var CR=typeof process=="object"&&process?process:{stdout:null,stderr:null},LF=require("events"),SR=require("stream"),bR=require("string_decoder").StringDecoder,on=Symbol("EOF"),an=Symbol("maybeEmitEnd"),ds=Symbol("emittedEnd"),Gd=Symbol("emittingEnd"),Oa=Symbol("emittedError"),Kd=Symbol("closed"),_R=Symbol("read"),Vd=Symbol("flush"),RR=Symbol("flushChunk"),_t=Symbol("encoding"),cn=Symbol("decoder"),Wd=Symbol("flowing"),Pa=Symbol("paused"),di=Symbol("resume"),We=Symbol("bufferLength"),tm=Symbol("bufferPush"),rm=Symbol("bufferShift"),it=Symbol("objectMode"),at=Symbol("destroyed"),nm=Symbol("emitData"),AR=Symbol("emitEnd"),sm=Symbol("emitEnd2"),dn=Symbol("async"),Ia=t=>Promise.resolve().then(t),kR=global._MP_NO_ITERATOR_SYMBOLS_!=="1",FF=kR&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),UF=kR&&Symbol.iterator||Symbol("iterator not implemented"),zF=t=>t==="end"||t==="finish"||t==="prefinish",$F=t=>t instanceof ArrayBuffer||typeof t=="object"&&t.constructor&&t.constructor.name==="ArrayBuffer"&&t.byteLength>=0,qF=t=>!Buffer.isBuffer(t)&&ArrayBuffer.isView(t),Yd=class{constructor(e,r,n){this.src=e,this.dest=r,this.opts=n,this.ondrain=()=>e[di](),r.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},om=class extends Yd{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(e,r,n){super(e,r,n),this.proxyErrors=s=>r.emit("error",s),e.on("error",this.proxyErrors)}};NR.exports=class TR extends SR{constructor(e){super(),this[Wd]=!1,this[Pa]=!1,this.pipes=[],this.buffer=[],this[it]=e&&e.objectMode||!1,this[it]?this[_t]=null:this[_t]=e&&e.encoding||null,this[_t]==="buffer"&&(this[_t]=null),this[dn]=e&&!!e.async||!1,this[cn]=this[_t]?new bR(this[_t]):null,this[on]=!1,this[ds]=!1,this[Gd]=!1,this[Kd]=!1,this[Oa]=null,this.writable=!0,this.readable=!0,this[We]=0,this[at]=!1}get bufferLength(){return this[We]}get encoding(){return this[_t]}set encoding(e){if(this[it])throw new Error("cannot set encoding in objectMode");if(this[_t]&&e!==this[_t]&&(this[cn]&&this[cn].lastNeed||this[We]))throw new Error("cannot change encoding");this[_t]!==e&&(this[cn]=e?new bR(e):null,this.buffer.length&&(this.buffer=this.buffer.map(r=>this[cn].write(r)))),this[_t]=e}setEncoding(e){this.encoding=e}get objectMode(){return this[it]}set objectMode(e){this[it]=this[it]||!!e}get async(){return this[dn]}set async(e){this[dn]=this[dn]||!!e}write(e,r,n){if(this[on])throw new Error("write after end");if(this[at])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof r=="function"&&(n=r,r="utf8"),r||(r="utf8");let s=this[dn]?Ia:o=>o();return!this[it]&&!Buffer.isBuffer(e)&&(qF(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):$F(e)?e=Buffer.from(e):typeof e!="string"&&(this.objectMode=!0)),this[it]?(this.flowing&&this[We]!==0&&this[Vd](!0),this.flowing?this.emit("data",e):this[tm](e),this[We]!==0&&this.emit("readable"),n&&s(n),this.flowing):e.length?(typeof e=="string"&&!(r===this[_t]&&!this[cn].lastNeed)&&(e=Buffer.from(e,r)),Buffer.isBuffer(e)&&this[_t]&&(e=this[cn].write(e)),this.flowing&&this[We]!==0&&this[Vd](!0),this.flowing?this.emit("data",e):this[tm](e),this[We]!==0&&this.emit("readable"),n&&s(n),this.flowing):(this[We]!==0&&this.emit("readable"),n&&s(n),this.flowing)}read(e){if(this[at])return null;if(this[We]===0||e===0||e>this[We])return this[an](),null;this[it]&&(e=null),this.buffer.length>1&&!this[it]&&(this.encoding?this.buffer=[this.buffer.join("")]:this.buffer=[Buffer.concat(this.buffer,this[We])]);let r=this[_R](e||null,this.buffer[0]);return this[an](),r}[_R](e,r){return e===r.length||e===null?this[rm]():(this.buffer[0]=r.slice(e),r=r.slice(0,e),this[We]-=e),this.emit("data",r),!this.buffer.length&&!this[on]&&this.emit("drain"),r}end(e,r,n){return typeof e=="function"&&(n=e,e=null),typeof r=="function"&&(n=r,r="utf8"),e&&this.write(e,r),n&&this.once("end",n),this[on]=!0,this.writable=!1,(this.flowing||!this[Pa])&&this[an](),this}[di](){this[at]||(this[Pa]=!1,this[Wd]=!0,this.emit("resume"),this.buffer.length?this[Vd]():this[on]?this[an]():this.emit("drain"))}resume(){return this[di]()}pause(){this[Wd]=!1,this[Pa]=!0}get destroyed(){return this[at]}get flowing(){return this[Wd]}get paused(){return this[Pa]}[tm](e){this[it]?this[We]+=1:this[We]+=e.length,this.buffer.push(e)}[rm](){return this.buffer.length&&(this[it]?this[We]-=1:this[We]-=this.buffer[0].length),this.buffer.shift()}[Vd](e){do;while(this[RR](this[rm]()));!e&&!this.buffer.length&&!this[on]&&this.emit("drain")}[RR](e){return e?(this.emit("data",e),this.flowing):!1}pipe(e,r){if(this[at])return;let n=this[ds];return r=r||{},e===CR.stdout||e===CR.stderr?r.end=!1:r.end=r.end!==!1,r.proxyErrors=!!r.proxyErrors,n?r.end&&e.end():(this.pipes.push(r.proxyErrors?new om(this,e,r):new Yd(this,e,r)),this[dn]?Ia(()=>this[di]()):this[di]()),e}unpipe(e){let r=this.pipes.find(n=>n.dest===e);r&&(this.pipes.splice(this.pipes.indexOf(r),1),r.unpipe())}addListener(e,r){return this.on(e,r)}on(e,r){let n=super.on(e,r);return e==="data"&&!this.pipes.length&&!this.flowing?this[di]():e==="readable"&&this[We]!==0?super.emit("readable"):zF(e)&&this[ds]?(super.emit(e),this.removeAllListeners(e)):e==="error"&&this[Oa]&&(this[dn]?Ia(()=>r.call(this,this[Oa])):r.call(this,this[Oa])),n}get emittedEnd(){return this[ds]}[an](){!this[Gd]&&!this[ds]&&!this[at]&&this.buffer.length===0&&this[on]&&(this[Gd]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[Kd]&&this.emit("close"),this[Gd]=!1)}emit(e,r,...n){if(e!=="error"&&e!=="close"&&e!==at&&this[at])return;if(e==="data")return r?this[dn]?Ia(()=>this[nm](r)):this[nm](r):!1;if(e==="end")return this[AR]();if(e==="close"){if(this[Kd]=!0,!this[ds]&&!this[at])return;let o=super.emit("close");return this.removeAllListeners("close"),o}else if(e==="error"){this[Oa]=r;let o=super.emit("error",r);return this[an](),o}else if(e==="resume"){let o=super.emit("resume");return this[an](),o}else if(e==="finish"||e==="prefinish"){let o=super.emit(e);return this.removeAllListeners(e),o}let s=super.emit(e,r,...n);return this[an](),s}[nm](e){for(let n of this.pipes)n.dest.write(e)===!1&&this.pause();let r=super.emit("data",e);return this[an](),r}[AR](){this[ds]||(this[ds]=!0,this.readable=!1,this[dn]?Ia(()=>this[sm]()):this[sm]())}[sm](){if(this[cn]){let r=this[cn].end();if(r){for(let n of this.pipes)n.dest.write(r);super.emit("data",r)}}for(let r of this.pipes)r.end();let e=super.emit("end");return this.removeAllListeners("end"),e}collect(){let e=[];this[it]||(e.dataLength=0);let r=this.promise();return this.on("data",n=>{e.push(n),this[it]||(e.dataLength+=n.length)}),r.then(()=>e)}concat(){return this[it]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(e=>this[it]?Promise.reject(new Error("cannot concat in objectMode")):this[_t]?e.join(""):Buffer.concat(e,e.dataLength))}promise(){return new Promise((e,r)=>{this.on(at,()=>r(new Error("stream destroyed"))),this.on("error",n=>r(n)),this.on("end",()=>e())})}[FF](){return{next:()=>{let r=this.read();if(r!==null)return Promise.resolve({done:!1,value:r});if(this[on])return Promise.resolve({done:!0});let n=null,s=null,o=d=>{this.removeListener("data",i),this.removeListener("end",a),s(d)},i=d=>{this.removeListener("error",o),this.removeListener("end",a),this.pause(),n({value:d,done:!!this[on]})},a=()=>{this.removeListener("error",o),this.removeListener("data",i),n({done:!0})},c=()=>o(new Error("stream destroyed"));return new Promise((d,l)=>{s=l,n=d,this.once(at,c),this.once("error",o),this.once("end",a),this.once("data",i)})}}}[UF](){return{next:()=>{let r=this.read();return{value:r,done:r===null}}}}destroy(e){return this[at]?(e?this.emit("error",e):this.emit(at),this):(this[at]=!0,this.buffer.length=0,this[We]=0,typeof this.close=="function"&&!this[Kd]&&this.close(),e?this.emit("error",e):this.emit(at),this)}static isStream(e){return!!e&&(e instanceof TR||e instanceof SR||e instanceof LF&&(typeof e.pipe=="function"||typeof e.write=="function"&&typeof e.end=="function"))}}});var Sm=C(vt=>{"use strict";var um=require("assert"),ls=require("buffer").Buffer,PR=require("zlib"),Gs=vt.constants=wR(),HF=im(),vR=ls.concat,Ks=Symbol("_superWrite"),ui=class extends Error{constructor(e){super("zlib: "+e.message),this.code=e.code,this.errno=e.errno,this.code||(this.code="ZLIB_ERROR"),this.message="zlib: "+e.message,Error.captureStackTrace(this,this.constructor)}get name(){return"ZlibError"}},jF=Symbol("opts"),Da=Symbol("flushFlag"),OR=Symbol("finishFlushFlag"),Cm=Symbol("fullFlushFlag"),Ce=Symbol("handle"),Xd=Symbol("onError"),li=Symbol("sawError"),am=Symbol("level"),cm=Symbol("strategy"),dm=Symbol("ended"),Uie=Symbol("_defaultFullFlush"),Qd=class extends HF{constructor(e,r){if(!e||typeof e!="object")throw new TypeError("invalid options for ZlibBase constructor");super(e),this[li]=!1,this[dm]=!1,this[jF]=e,this[Da]=e.flush,this[OR]=e.finishFlush;try{this[Ce]=new PR[r](e)}catch(n){throw new ui(n)}this[Xd]=n=>{this[li]||(this[li]=!0,this.close(),this.emit("error",n))},this[Ce].on("error",n=>this[Xd](new ui(n))),this.once("end",()=>this.close)}close(){this[Ce]&&(this[Ce].close(),this[Ce]=null,this.emit("close"))}reset(){if(!this[li])return um(this[Ce],"zlib binding closed"),this[Ce].reset()}flush(e){this.ended||(typeof e!="number"&&(e=this[Cm]),this.write(Object.assign(ls.alloc(0),{[Da]:e})))}end(e,r,n){return e&&this.write(e,r),this.flush(this[OR]),this[dm]=!0,super.end(null,null,n)}get ended(){return this[dm]}write(e,r,n){if(typeof r=="function"&&(n=r,r="utf8"),typeof e=="string"&&(e=ls.from(e,r)),this[li])return;um(this[Ce],"zlib binding closed");let s=this[Ce]._handle,o=s.close;s.close=()=>{};let i=this[Ce].close;this[Ce].close=()=>{},ls.concat=d=>d;let a;try{let d=typeof e[Da]=="number"?e[Da]:this[Da];a=this[Ce]._processChunk(e,d),ls.concat=vR}catch(d){ls.concat=vR,this[Xd](new ui(d))}finally{this[Ce]&&(this[Ce]._handle=s,s.close=o,this[Ce].close=i,this[Ce].removeAllListeners("error"))}this[Ce]&&this[Ce].on("error",d=>this[Xd](new ui(d)));let c;if(a)if(Array.isArray(a)&&a.length>0){c=this[Ks](ls.from(a[0]));for(let d=1;d<a.length;d++)c=this[Ks](a[d])}else c=this[Ks](ls.from(a));return n&&n(),c}[Ks](e){return super.write(e)}},ln=class extends Qd{constructor(e,r){e=e||{},e.flush=e.flush||Gs.Z_NO_FLUSH,e.finishFlush=e.finishFlush||Gs.Z_FINISH,super(e,r),this[Cm]=Gs.Z_FULL_FLUSH,this[am]=e.level,this[cm]=e.strategy}params(e,r){if(!this[li]){if(!this[Ce])throw new Error("cannot switch params when binding is closed");if(!this[Ce].params)throw new Error("not supported in this implementation");if(this[am]!==e||this[cm]!==r){this.flush(Gs.Z_SYNC_FLUSH),um(this[Ce],"zlib binding closed");let n=this[Ce].flush;this[Ce].flush=(s,o)=>{this.flush(s),o()};try{this[Ce].params(e,r)}finally{this[Ce].flush=n}this[Ce]&&(this[am]=e,this[cm]=r)}}}},fm=class extends ln{constructor(e){super(e,"Deflate")}},hm=class extends ln{constructor(e){super(e,"Inflate")}},lm=Symbol("_portable"),mm=class extends ln{constructor(e){super(e,"Gzip"),this[lm]=e&&!!e.portable}[Ks](e){return this[lm]?(this[lm]=!1,e[9]=255,super[Ks](e)):super[Ks](e)}},pm=class extends ln{constructor(e){super(e,"Gunzip")}},ym=class extends ln{constructor(e){super(e,"DeflateRaw")}},gm=class extends ln{constructor(e){super(e,"InflateRaw")}},Em=class extends ln{constructor(e){super(e,"Unzip")}},Zd=class extends Qd{constructor(e,r){e=e||{},e.flush=e.flush||Gs.BROTLI_OPERATION_PROCESS,e.finishFlush=e.finishFlush||Gs.BROTLI_OPERATION_FINISH,super(e,r),this[Cm]=Gs.BROTLI_OPERATION_FLUSH}},xm=class extends Zd{constructor(e){super(e,"BrotliCompress")}},wm=class extends Zd{constructor(e){super(e,"BrotliDecompress")}};vt.Deflate=fm;vt.Inflate=hm;vt.Gzip=mm;vt.Gunzip=pm;vt.DeflateRaw=ym;vt.InflateRaw=gm;vt.Unzip=Em;typeof PR.BrotliCompress=="function"?(vt.BrotliCompress=xm,vt.BrotliDecompress=wm):vt.BrotliCompress=vt.BrotliDecompress=class{constructor(){throw new Error("Brotli is not supported in this version of Node.js")}}});var fi=C((qie,IR)=>{var GF=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform;IR.exports=GF!=="win32"?t=>t:t=>t&&t.replace(/\\/g,"/")});var Jd=C((jie,DR)=>{"use strict";var KF=jd(),bm=fi(),_m=Symbol("slurp");DR.exports=class extends KF{constructor(e,r,n){switch(super(),this.pause(),this.extended=r,this.globalExtended=n,this.header=e,this.startBlockSize=512*Math.ceil(e.size/512),this.blockRemain=this.startBlockSize,this.remain=e.size,this.type=e.type,this.meta=!1,this.ignore=!1,this.type){case"File":case"OldFile":case"Link":case"SymbolicLink":case"CharacterDevice":case"BlockDevice":case"Directory":case"FIFO":case"ContiguousFile":case"GNUDumpDir":break;case"NextFileHasLongLinkpath":case"NextFileHasLongPath":case"OldGnuLongPath":case"GlobalExtendedHeader":case"ExtendedHeader":case"OldExtendedHeader":this.meta=!0;break;default:this.ignore=!0}this.path=bm(e.path),this.mode=e.mode,this.mode&&(this.mode=this.mode&4095),this.uid=e.uid,this.gid=e.gid,this.uname=e.uname,this.gname=e.gname,this.size=e.size,this.mtime=e.mtime,this.atime=e.atime,this.ctime=e.ctime,this.linkpath=bm(e.linkpath),this.uname=e.uname,this.gname=e.gname,r&&this[_m](r),n&&this[_m](n,!0)}write(e){let r=e.length;if(r>this.blockRemain)throw new Error("writing more to entry than is appropriate");let n=this.remain,s=this.blockRemain;return this.remain=Math.max(0,n-r),this.blockRemain=Math.max(0,s-r),this.ignore?!0:n>=r?super.write(e):super.write(e.slice(0,n))}[_m](e,r){for(let n in e)e[n]!==null&&e[n]!==void 0&&!(r&&n==="path")&&(this[n]=n==="path"||n==="linkpath"?bm(e[n]):e[n])}}});var Rm=C(el=>{"use strict";el.name=new Map([["0","File"],["","OldFile"],["1","Link"],["2","SymbolicLink"],["3","CharacterDevice"],["4","BlockDevice"],["5","Directory"],["6","FIFO"],["7","ContiguousFile"],["g","GlobalExtendedHeader"],["x","ExtendedHeader"],["A","SolarisACL"],["D","GNUDumpDir"],["I","Inode"],["K","NextFileHasLongLinkpath"],["L","NextFileHasLongPath"],["M","ContinuationFile"],["N","OldGnuLongPath"],["S","SparseFile"],["V","TapeVolumeHeader"],["X","OldExtendedHeader"]]);el.code=new Map(Array.from(el.name).map(t=>[t[1],t[0]]))});var FR=C((Kie,LR)=>{"use strict";var VF=(t,e)=>{if(Number.isSafeInteger(t))t<0?YF(t,e):WF(t,e);else throw Error("cannot encode number outside of javascript safe integer range");return e},WF=(t,e)=>{e[0]=128;for(var r=e.length;r>1;r--)e[r-1]=t&255,t=Math.floor(t/256)},YF=(t,e)=>{e[0]=255;var r=!1;t=t*-1;for(var n=e.length;n>1;n--){var s=t&255;t=Math.floor(t/256),r?e[n-1]=BR(s):s===0?e[n-1]=0:(r=!0,e[n-1]=MR(s))}},XF=t=>{let e=t[0],r=e===128?ZF(t.slice(1,t.length)):e===255?QF(t):null;if(r===null)throw Error("invalid base256 encoding");if(!Number.isSafeInteger(r))throw Error("parsed number outside of javascript safe integer range");return r},QF=t=>{for(var e=t.length,r=0,n=!1,s=e-1;s>-1;s--){var o=t[s],i;n?i=BR(o):o===0?i=o:(n=!0,i=MR(o)),i!==0&&(r-=i*Math.pow(256,e-s-1))}return r},ZF=t=>{for(var e=t.length,r=0,n=e-1;n>-1;n--){var s=t[n];s!==0&&(r+=s*Math.pow(256,e-n-1))}return r},BR=t=>(255^t)&255,MR=t=>(255^t)+1&255;LR.exports={encode:VF,parse:XF}});var mi=C((Vie,zR)=>{"use strict";var Am=Rm(),hi=require("path").posix,UR=FR(),km=Symbol("slurp"),Ot=Symbol("type"),vm=class{constructor(e,r,n,s){this.cksumValid=!1,this.needPax=!1,this.nullBlock=!1,this.block=null,this.path=null,this.mode=null,this.uid=null,this.gid=null,this.size=null,this.mtime=null,this.cksum=null,this[Ot]="0",this.linkpath=null,this.uname=null,this.gname=null,this.devmaj=0,this.devmin=0,this.atime=null,this.ctime=null,Buffer.isBuffer(e)?this.decode(e,r||0,n,s):e&&this.set(e)}decode(e,r,n,s){if(r||(r=0),!e||!(e.length>=r+512))throw new Error("need 512 bytes for header");if(this.path=Vs(e,r,100),this.mode=us(e,r+100,8),this.uid=us(e,r+108,8),this.gid=us(e,r+116,8),this.size=us(e,r+124,12),this.mtime=Tm(e,r+136,12),this.cksum=us(e,r+148,12),this[km](n),this[km](s,!0),this[Ot]=Vs(e,r+156,1),this[Ot]===""&&(this[Ot]="0"),this[Ot]==="0"&&this.path.slice(-1)==="/"&&(this[Ot]="5"),this[Ot]==="5"&&(this.size=0),this.linkpath=Vs(e,r+157,100),e.slice(r+257,r+265).toString()==="ustar\x0000")if(this.uname=Vs(e,r+265,32),this.gname=Vs(e,r+297,32),this.devmaj=us(e,r+329,8),this.devmin=us(e,r+337,8),e[r+475]!==0){let i=Vs(e,r+345,155);this.path=i+"/"+this.path}else{let i=Vs(e,r+345,130);i&&(this.path=i+"/"+this.path),this.atime=Tm(e,r+476,12),this.ctime=Tm(e,r+488,12)}let o=8*32;for(let i=r;i<r+148;i++)o+=e[i];for(let i=r+156;i<r+512;i++)o+=e[i];this.cksumValid=o===this.cksum,this.cksum===null&&o===8*32&&(this.nullBlock=!0)}[km](e,r){for(let n in e)e[n]!==null&&e[n]!==void 0&&!(r&&n==="path")&&(this[n]=e[n])}encode(e,r){if(e||(e=this.block=Buffer.alloc(512),r=0),r||(r=0),!(e.length>=r+512))throw new Error("need 512 bytes for header");let n=this.ctime||this.atime?130:155,s=JF(this.path||"",n),o=s[0],i=s[1];this.needPax=s[2],this.needPax=Ws(e,r,100,o)||this.needPax,this.needPax=fs(e,r+100,8,this.mode)||this.needPax,this.needPax=fs(e,r+108,8,this.uid)||this.needPax,this.needPax=fs(e,r+116,8,this.gid)||this.needPax,this.needPax=fs(e,r+124,12,this.size)||this.needPax,this.needPax=Nm(e,r+136,12,this.mtime)||this.needPax,e[r+156]=this[Ot].charCodeAt(0),this.needPax=Ws(e,r+157,100,this.linkpath)||this.needPax,e.write("ustar\x0000",r+257,8),this.needPax=Ws(e,r+265,32,this.uname)||this.needPax,this.needPax=Ws(e,r+297,32,this.gname)||this.needPax,this.needPax=fs(e,r+329,8,this.devmaj)||this.needPax,this.needPax=fs(e,r+337,8,this.devmin)||this.needPax,this.needPax=Ws(e,r+345,n,i)||this.needPax,e[r+475]!==0?this.needPax=Ws(e,r+345,155,i)||this.needPax:(this.needPax=Ws(e,r+345,130,i)||this.needPax,this.needPax=Nm(e,r+476,12,this.atime)||this.needPax,this.needPax=Nm(e,r+488,12,this.ctime)||this.needPax);let a=8*32;for(let c=r;c<r+148;c++)a+=e[c];for(let c=r+156;c<r+512;c++)a+=e[c];return this.cksum=a,fs(e,r+148,8,this.cksum),this.cksumValid=!0,this.needPax}set(e){for(let r in e)e[r]!==null&&e[r]!==void 0&&(this[r]=e[r])}get type(){return Am.name.get(this[Ot])||this[Ot]}get typeKey(){return this[Ot]}set type(e){Am.code.has(e)?this[Ot]=Am.code.get(e):this[Ot]=e}},JF=(t,e)=>{let n=t,s="",o,i=hi.parse(t).root||".";if(Buffer.byteLength(n)<100)o=[n,s,!1];else{s=hi.dirname(n),n=hi.basename(n);do Buffer.byteLength(n)<=100&&Buffer.byteLength(s)<=e?o=[n,s,!1]:Buffer.byteLength(n)>100&&Buffer.byteLength(s)<=e?o=[n.slice(0,100-1),s,!0]:(n=hi.join(hi.basename(s),n),s=hi.dirname(s));while(s!==i&&!o);o||(o=[t.slice(0,100-1),"",!0])}return o},Vs=(t,e,r)=>t.slice(e,e+r).toString("utf8").replace(/\0.*/,""),Tm=(t,e,r)=>e3(us(t,e,r)),e3=t=>t===null?null:new Date(t*1e3),us=(t,e,r)=>t[e]&128?UR.parse(t.slice(e,e+r)):r3(t,e,r),t3=t=>isNaN(t)?null:t,r3=(t,e,r)=>t3(parseInt(t.slice(e,e+r).toString("utf8").replace(/\0.*$/,"").trim(),8)),n3={12:8589934591,8:2097151},fs=(t,e,r,n)=>n===null?!1:n>n3[r]||n<0?(UR.encode(n,t.slice(e,e+r)),!0):(s3(t,e,r,n),!1),s3=(t,e,r,n)=>t.write(o3(n,r),e,r,"ascii"),o3=(t,e)=>i3(Math.floor(t).toString(8),e),i3=(t,e)=>(t.length===e-1?t:new Array(e-t.length-1).join("0")+t+" ")+"\0",Nm=(t,e,r,n)=>n===null?!1:fs(t,e,r,n.getTime()/1e3),a3=new Array(156).join("\0"),Ws=(t,e,r,n)=>n===null?!1:(t.write(n+a3,e,r,"utf8"),n.length!==Buffer.byteLength(n)||n.length>r);zR.exports=vm});var tl=C((Wie,$R)=>{"use strict";var c3=mi(),d3=require("path"),Ba=class{constructor(e,r){this.atime=e.atime||null,this.charset=e.charset||null,this.comment=e.comment||null,this.ctime=e.ctime||null,this.gid=e.gid||null,this.gname=e.gname||null,this.linkpath=e.linkpath||null,this.mtime=e.mtime||null,this.path=e.path||null,this.size=e.size||null,this.uid=e.uid||null,this.uname=e.uname||null,this.dev=e.dev||null,this.ino=e.ino||null,this.nlink=e.nlink||null,this.global=r||!1}encode(){let e=this.encodeBody();if(e==="")return null;let r=Buffer.byteLength(e),n=512*Math.ceil(1+r/512),s=Buffer.allocUnsafe(n);for(let o=0;o<512;o++)s[o]=0;new c3({path:("PaxHeader/"+d3.basename(this.path)).slice(0,99),mode:this.mode||420,uid:this.uid||null,gid:this.gid||null,size:r,mtime:this.mtime||null,type:this.global?"GlobalExtendedHeader":"ExtendedHeader",linkpath:"",uname:this.uname||"",gname:this.gname||"",devmaj:0,devmin:0,atime:this.atime||null,ctime:this.ctime||null}).encode(s),s.write(e,512,r,"utf8");for(let o=r+512;o<s.length;o++)s[o]=0;return s}encodeBody(){return this.encodeField("path")+this.encodeField("ctime")+this.encodeField("atime")+this.encodeField("dev")+this.encodeField("ino")+this.encodeField("nlink")+this.encodeField("charset")+this.encodeField("comment")+this.encodeField("gid")+this.encodeField("gname")+this.encodeField("linkpath")+this.encodeField("mtime")+this.encodeField("size")+this.encodeField("uid")+this.encodeField("uname")}encodeField(e){if(this[e]===null||this[e]===void 0)return"";let r=this[e]instanceof Date?this[e].getTime()/1e3:this[e],n=" "+(e==="dev"||e==="ino"||e==="nlink"?"SCHILY.":"")+e+"="+r+`
`,s=Buffer.byteLength(n),o=Math.floor(Math.log(s)/Math.log(10))+1;return s+o>=Math.pow(10,o)&&(o+=1),o+s+n}};Ba.parse=(t,e,r)=>new Ba(l3(u3(t),e),r);var l3=(t,e)=>e?Object.keys(t).reduce((r,n)=>(r[n]=t[n],r),e):t,u3=t=>t.replace(/\n$/,"").split(`
`).reduce(f3,Object.create(null)),f3=(t,e)=>{let r=parseInt(e,10);if(r!==Buffer.byteLength(e)+1)return t;e=e.slice((r+" ").length);let n=e.split("="),s=n.shift().replace(/^SCHILY\.(dev|ino|nlink)/,"$1");if(!s)return t;let o=n.join("=");return t[s]=/^([A-Z]+\.)?([mac]|birth|creation)time$/.test(s)?new Date(o*1e3):/^[0-9]+$/.test(o)?+o:o,t};$R.exports=Ba});var pi=C((Yie,qR)=>{qR.exports=t=>{let e=t.length-1,r=-1;for(;e>-1&&t.charAt(e)==="/";)r=e,e--;return r===-1?t:t.slice(0,r)}});var rl=C((Xie,HR)=>{"use strict";HR.exports=t=>class extends t{warn(e,r,n={}){this.file&&(n.file=this.file),this.cwd&&(n.cwd=this.cwd),n.code=r instanceof Error&&r.code||e,n.tarCode=e,!this.strict&&n.recoverable!==!1?(r instanceof Error&&(n=Object.assign(r,n),r=r.message),this.emit("warn",n.tarCode,r,n)):r instanceof Error?this.emit("error",Object.assign(r,n)):this.emit("error",Object.assign(new Error(`${e}: ${r}`),n))}}});var Pm=C((Zie,jR)=>{"use strict";var nl=["|","<",">","?",":"],Om=nl.map(t=>String.fromCharCode(61440+t.charCodeAt(0))),h3=new Map(nl.map((t,e)=>[t,Om[e]])),m3=new Map(Om.map((t,e)=>[t,nl[e]]));jR.exports={encode:t=>nl.reduce((e,r)=>e.split(r).join(h3.get(r)),t),decode:t=>Om.reduce((e,r)=>e.split(r).join(m3.get(r)),t)}});var Im=C((Jie,KR)=>{var{isAbsolute:p3,parse:GR}=require("path").win32;KR.exports=t=>{let e="",r=GR(t);for(;p3(t)||r.root;){let n=t.charAt(0)==="/"&&t.slice(0,4)!=="//?/"?"/":r.root;t=t.slice(n.length),e+=n,r=GR(t)}return[e,t]}});var WR=C((eae,VR)=>{"use strict";VR.exports=(t,e,r)=>(t&=4095,r&&(t=(t|384)&-19),e&&(t&256&&(t|=64),t&32&&(t|=8),t&4&&(t|=1)),t)});var Hm=C((nae,cA)=>{"use strict";var tA=jd(),rA=tl(),nA=mi(),Pr=require("fs"),YR=require("path"),Or=fi(),y3=pi(),sA=(t,e)=>e?(t=Or(t).replace(/^\.(\/|$)/,""),y3(e)+"/"+t):Or(t),g3=16*1024*1024,XR=Symbol("process"),QR=Symbol("file"),ZR=Symbol("directory"),Bm=Symbol("symlink"),JR=Symbol("hardlink"),Ma=Symbol("header"),sl=Symbol("read"),Mm=Symbol("lstat"),ol=Symbol("onlstat"),Lm=Symbol("onread"),Fm=Symbol("onreadlink"),Um=Symbol("openfile"),zm=Symbol("onopenfile"),hs=Symbol("close"),il=Symbol("mode"),$m=Symbol("awaitDrain"),Dm=Symbol("ondrain"),Ir=Symbol("prefix"),eA=Symbol("hadError"),oA=rl(),E3=Pm(),iA=Im(),aA=WR(),al=oA(class extends tA{constructor(e,r){if(r=r||{},super(r),typeof e!="string")throw new TypeError("path is required");this.path=Or(e),this.portable=!!r.portable,this.myuid=process.getuid&&process.getuid()||0,this.myuser=process.env.USER||"",this.maxReadSize=r.maxReadSize||g3,this.linkCache=r.linkCache||new Map,this.statCache=r.statCache||new Map,this.preservePaths=!!r.preservePaths,this.cwd=Or(r.cwd||process.cwd()),this.strict=!!r.strict,this.noPax=!!r.noPax,this.noMtime=!!r.noMtime,this.mtime=r.mtime||null,this.prefix=r.prefix?Or(r.prefix):null,this.fd=null,this.blockLen=null,this.blockRemain=null,this.buf=null,this.offset=null,this.length=null,this.pos=null,this.remain=null,typeof r.onwarn=="function"&&this.on("warn",r.onwarn);let n=!1;if(!this.preservePaths){let[s,o]=iA(this.path);s&&(this.path=o,n=s)}this.win32=!!r.win32||process.platform==="win32",this.win32&&(this.path=E3.decode(this.path.replace(/\\/g,"/")),e=e.replace(/\\/g,"/")),this.absolute=Or(r.absolute||YR.resolve(this.cwd,e)),this.path===""&&(this.path="./"),n&&this.warn("TAR_ENTRY_INFO",`stripping ${n} from absolute path`,{entry:this,path:n+this.path}),this.statCache.has(this.absolute)?this[ol](this.statCache.get(this.absolute)):this[Mm]()}emit(e,...r){return e==="error"&&(this[eA]=!0),super.emit(e,...r)}[Mm](){Pr.lstat(this.absolute,(e,r)=>{if(e)return this.emit("error",e);this[ol](r)})}[ol](e){this.statCache.set(this.absolute,e),this.stat=e,e.isFile()||(e.size=0),this.type=w3(e),this.emit("stat",e),this[XR]()}[XR](){switch(this.type){case"File":return this[QR]();case"Directory":return this[ZR]();case"SymbolicLink":return this[Bm]();default:return this.end()}}[il](e){return aA(e,this.type==="Directory",this.portable)}[Ir](e){return sA(e,this.prefix)}[Ma](){this.type==="Directory"&&this.portable&&(this.noMtime=!0),this.header=new nA({path:this[Ir](this.path),linkpath:this.type==="Link"?this[Ir](this.linkpath):this.linkpath,mode:this[il](this.stat.mode),uid:this.portable?null:this.stat.uid,gid:this.portable?null:this.stat.gid,size:this.stat.size,mtime:this.noMtime?null:this.mtime||this.stat.mtime,type:this.type,uname:this.portable?null:this.stat.uid===this.myuid?this.myuser:"",atime:this.portable?null:this.stat.atime,ctime:this.portable?null:this.stat.ctime}),this.header.encode()&&!this.noPax&&super.write(new rA({atime:this.portable?null:this.header.atime,ctime:this.portable?null:this.header.ctime,gid:this.portable?null:this.header.gid,mtime:this.noMtime?null:this.mtime||this.header.mtime,path:this[Ir](this.path),linkpath:this.type==="Link"?this[Ir](this.linkpath):this.linkpath,size:this.header.size,uid:this.portable?null:this.header.uid,uname:this.portable?null:this.header.uname,dev:this.portable?null:this.stat.dev,ino:this.portable?null:this.stat.ino,nlink:this.portable?null:this.stat.nlink}).encode()),super.write(this.header.block)}[ZR](){this.path.slice(-1)!=="/"&&(this.path+="/"),this.stat.size=0,this[Ma](),this.end()}[Bm](){Pr.readlink(this.absolute,(e,r)=>{if(e)return this.emit("error",e);this[Fm](r)})}[Fm](e){this.linkpath=Or(e),this[Ma](),this.end()}[JR](e){this.type="Link",this.linkpath=Or(YR.relative(this.cwd,e)),this.stat.size=0,this[Ma](),this.end()}[QR](){if(this.stat.nlink>1){let e=this.stat.dev+":"+this.stat.ino;if(this.linkCache.has(e)){let r=this.linkCache.get(e);if(r.indexOf(this.cwd)===0)return this[JR](r)}this.linkCache.set(e,this.absolute)}if(this[Ma](),this.stat.size===0)return this.end();this[Um]()}[Um](){Pr.open(this.absolute,"r",(e,r)=>{if(e)return this.emit("error",e);this[zm](r)})}[zm](e){if(this.fd=e,this[eA])return this[hs]();this.blockLen=512*Math.ceil(this.stat.size/512),this.blockRemain=this.blockLen;let r=Math.min(this.blockLen,this.maxReadSize);this.buf=Buffer.allocUnsafe(r),this.offset=0,this.pos=0,this.remain=this.stat.size,this.length=this.buf.length,this[sl]()}[sl](){let{fd:e,buf:r,offset:n,length:s,pos:o}=this;Pr.read(e,r,n,s,o,(i,a)=>{if(i)return this[hs](()=>this.emit("error",i));this[Lm](a)})}[hs](e){Pr.close(this.fd,e)}[Lm](e){if(e<=0&&this.remain>0){let s=new Error("encountered unexpected EOF");return s.path=this.absolute,s.syscall="read",s.code="EOF",this[hs](()=>this.emit("error",s))}if(e>this.remain){let s=new Error("did not encounter expected EOF");return s.path=this.absolute,s.syscall="read",s.code="EOF",this[hs](()=>this.emit("error",s))}if(e===this.remain)for(let s=e;s<this.length&&e<this.blockRemain;s++)this.buf[s+this.offset]=0,e++,this.remain++;let r=this.offset===0&&e===this.buf.length?this.buf:this.buf.slice(this.offset,this.offset+e);this.write(r)?this[Dm]():this[$m](()=>this[Dm]())}[$m](e){this.once("drain",e)}write(e){if(this.blockRemain<e.length){let r=new Error("writing more data than expected");return r.path=this.absolute,this.emit("error",r)}return this.remain-=e.length,this.blockRemain-=e.length,this.pos+=e.length,this.offset+=e.length,super.write(e)}[Dm](){if(!this.remain)return this.blockRemain&&super.write(Buffer.alloc(this.blockRemain)),this[hs](e=>e?this.emit("error",e):this.end());this.offset>=this.length&&(this.buf=Buffer.allocUnsafe(Math.min(this.blockRemain,this.buf.length)),this.offset=0),this.length=this.buf.length-this.offset,this[sl]()}}),qm=class extends al{[Mm](){this[ol](Pr.lstatSync(this.absolute))}[Bm](){this[Fm](Pr.readlinkSync(this.absolute))}[Um](){this[zm](Pr.openSync(this.absolute,"r"))}[sl](){let e=!0;try{let{fd:r,buf:n,offset:s,length:o,pos:i}=this,a=Pr.readSync(r,n,s,o,i);this[Lm](a),e=!1}finally{if(e)try{this[hs](()=>{})}catch{}}}[$m](e){e()}[hs](e){Pr.closeSync(this.fd),e()}},x3=oA(class extends tA{constructor(e,r){r=r||{},super(r),this.preservePaths=!!r.preservePaths,this.portable=!!r.portable,this.strict=!!r.strict,this.noPax=!!r.noPax,this.noMtime=!!r.noMtime,this.readEntry=e,this.type=e.type,this.type==="Directory"&&this.portable&&(this.noMtime=!0),this.prefix=r.prefix||null,this.path=Or(e.path),this.mode=this[il](e.mode),this.uid=this.portable?null:e.uid,this.gid=this.portable?null:e.gid,this.uname=this.portable?null:e.uname,this.gname=this.portable?null:e.gname,this.size=e.size,this.mtime=this.noMtime?null:r.mtime||e.mtime,this.atime=this.portable?null:e.atime,this.ctime=this.portable?null:e.ctime,this.linkpath=Or(e.linkpath),typeof r.onwarn=="function"&&this.on("warn",r.onwarn);let n=!1;if(!this.preservePaths){let[s,o]=iA(this.path);s&&(this.path=o,n=s)}this.remain=e.size,this.blockRemain=e.startBlockSize,this.header=new nA({path:this[Ir](this.path),linkpath:this.type==="Link"?this[Ir](this.linkpath):this.linkpath,mode:this.mode,uid:this.portable?null:this.uid,gid:this.portable?null:this.gid,size:this.size,mtime:this.noMtime?null:this.mtime,type:this.type,uname:this.portable?null:this.uname,atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime}),n&&this.warn("TAR_ENTRY_INFO",`stripping ${n} from absolute path`,{entry:this,path:n+this.path}),this.header.encode()&&!this.noPax&&super.write(new rA({atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime,gid:this.portable?null:this.gid,mtime:this.noMtime?null:this.mtime,path:this[Ir](this.path),linkpath:this.type==="Link"?this[Ir](this.linkpath):this.linkpath,size:this.size,uid:this.portable?null:this.uid,uname:this.portable?null:this.uname,dev:this.portable?null:this.readEntry.dev,ino:this.portable?null:this.readEntry.ino,nlink:this.portable?null:this.readEntry.nlink}).encode()),super.write(this.header.block),e.pipe(this)}[Ir](e){return sA(e,this.prefix)}[il](e){return aA(e,this.type==="Directory",this.portable)}write(e){let r=e.length;if(r>this.blockRemain)throw new Error("writing more to entry than is appropriate");return this.blockRemain-=r,super.write(e)}end(){return this.blockRemain&&super.write(Buffer.alloc(this.blockRemain)),super.end()}});al.Sync=qm;al.Tar=x3;var w3=t=>t.isFile()?"File":t.isDirectory()?"Directory":t.isSymbolicLink()?"SymbolicLink":"Unsupported";cA.exports=al});var lA=C((sae,dA)=>{"use strict";dA.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var jm=C((oae,uA)=>{"use strict";uA.exports=de;de.Node=Ys;de.create=de;function de(t){var e=this;if(e instanceof de||(e=new de),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(s){e.push(s)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)e.push(arguments[r]);return e}de.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e};de.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};de.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};de.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)S3(this,arguments[t]);return this.length};de.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)b3(this,arguments[t]);return this.length};de.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};de.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};de.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;r!==null;n++)t.call(e,r.value,n,this),r=r.next};de.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;r!==null;n--)t.call(e,r.value,n,this),r=r.prev};de.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};de.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};de.prototype.map=function(t,e){e=e||this;for(var r=new de,n=this.head;n!==null;)r.push(t.call(e,n.value,this)),n=n.next;return r};de.prototype.mapReverse=function(t,e){e=e||this;for(var r=new de,n=this.tail;n!==null;)r.push(t.call(e,n.value,this)),n=n.prev;return r};de.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=0;n!==null;s++)r=t(r,n.value,s),n=n.next;return r};de.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=this.length-1;n!==null;s--)r=t(r,n.value,s),n=n.prev;return r};de.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};de.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};de.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new de;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=0,s=this.head;s!==null&&n<t;n++)s=s.next;for(;s!==null&&n<e;n++,s=s.next)r.push(s.value);return r};de.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new de;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=this.length,s=this.tail;s!==null&&n>e;n--)s=s.prev;for(;s!==null&&n>t;n--,s=s.prev)r.push(s.value);return r};de.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,s=this.head;s!==null&&n<t;n++)s=s.next;for(var o=[],n=0;s&&n<e;n++)o.push(s.value),s=this.removeNode(s);s===null&&(s=this.tail),s!==this.head&&s!==this.tail&&(s=s.prev);for(var n=0;n<r.length;n++)s=C3(this,s,r[n]);return o};de.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};function C3(t,e,r){var n=e===t.head?new Ys(r,null,e,t):new Ys(r,e,e.next,t);return n.next===null&&(t.tail=n),n.prev===null&&(t.head=n),t.length++,n}function S3(t,e){t.tail=new Ys(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function b3(t,e){t.head=new Ys(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function Ys(t,e,r,n){if(!(this instanceof Ys))return new Ys(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{lA()(de)}catch{}});var yl=C((aae,EA)=>{"use strict";var ml=class{constructor(e,r){this.path=e||"./",this.absolute=r,this.entry=null,this.stat=null,this.readdir=null,this.pending=!1,this.ignore=!1,this.piped=!1}},_3=jd(),R3=Sm(),A3=Jd(),Jm=Hm(),k3=Jm.Sync,T3=Jm.Tar,N3=jm(),fA=Buffer.alloc(1024),ll=Symbol("onStat"),cl=Symbol("ended"),Dr=Symbol("queue"),yi=Symbol("current"),Xs=Symbol("process"),dl=Symbol("processing"),hA=Symbol("processJob"),Br=Symbol("jobs"),Gm=Symbol("jobDone"),ul=Symbol("addFSEntry"),mA=Symbol("addTarEntry"),Ym=Symbol("stat"),Xm=Symbol("readdir"),fl=Symbol("onreaddir"),hl=Symbol("pipe"),pA=Symbol("entry"),Km=Symbol("entryOpt"),Qm=Symbol("writeEntryClass"),gA=Symbol("write"),Vm=Symbol("ondrain"),pl=require("fs"),yA=require("path"),v3=rl(),Wm=fi(),ep=v3(class extends _3{constructor(e){super(e),e=e||Object.create(null),this.opt=e,this.file=e.file||"",this.cwd=e.cwd||process.cwd(),this.maxReadSize=e.maxReadSize,this.preservePaths=!!e.preservePaths,this.strict=!!e.strict,this.noPax=!!e.noPax,this.prefix=Wm(e.prefix||""),this.linkCache=e.linkCache||new Map,this.statCache=e.statCache||new Map,this.readdirCache=e.readdirCache||new Map,this[Qm]=Jm,typeof e.onwarn=="function"&&this.on("warn",e.onwarn),this.portable=!!e.portable,this.zip=null,e.gzip?(typeof e.gzip!="object"&&(e.gzip={}),this.portable&&(e.gzip.portable=!0),this.zip=new R3.Gzip(e.gzip),this.zip.on("data",r=>super.write(r)),this.zip.on("end",r=>super.end()),this.zip.on("drain",r=>this[Vm]()),this.on("resume",r=>this.zip.resume())):this.on("drain",this[Vm]),this.noDirRecurse=!!e.noDirRecurse,this.follow=!!e.follow,this.noMtime=!!e.noMtime,this.mtime=e.mtime||null,this.filter=typeof e.filter=="function"?e.filter:r=>!0,this[Dr]=new N3,this[Br]=0,this.jobs=+e.jobs||4,this[dl]=!1,this[cl]=!1}[gA](e){return super.write(e)}add(e){return this.write(e),this}end(e){return e&&this.write(e),this[cl]=!0,this[Xs](),this}write(e){if(this[cl])throw new Error("write after end");return e instanceof A3?this[mA](e):this[ul](e),this.flowing}[mA](e){let r=Wm(yA.resolve(this.cwd,e.path));if(!this.filter(e.path,e))e.resume();else{let n=new ml(e.path,r,!1);n.entry=new T3(e,this[Km](n)),n.entry.on("end",s=>this[Gm](n)),this[Br]+=1,this[Dr].push(n)}this[Xs]()}[ul](e){let r=Wm(yA.resolve(this.cwd,e));this[Dr].push(new ml(e,r)),this[Xs]()}[Ym](e){e.pending=!0,this[Br]+=1;let r=this.follow?"stat":"lstat";pl[r](e.absolute,(n,s)=>{e.pending=!1,this[Br]-=1,n?this.emit("error",n):this[ll](e,s)})}[ll](e,r){this.statCache.set(e.absolute,r),e.stat=r,this.filter(e.path,r)||(e.ignore=!0),this[Xs]()}[Xm](e){e.pending=!0,this[Br]+=1,pl.readdir(e.absolute,(r,n)=>{if(e.pending=!1,this[Br]-=1,r)return this.emit("error",r);this[fl](e,n)})}[fl](e,r){this.readdirCache.set(e.absolute,r),e.readdir=r,this[Xs]()}[Xs](){if(!this[dl]){this[dl]=!0;for(let e=this[Dr].head;e!==null&&this[Br]<this.jobs;e=e.next)if(this[hA](e.value),e.value.ignore){let r=e.next;this[Dr].removeNode(e),e.next=r}this[dl]=!1,this[cl]&&!this[Dr].length&&this[Br]===0&&(this.zip?this.zip.end(fA):(super.write(fA),super.end()))}}get[yi](){return this[Dr]&&this[Dr].head&&this[Dr].head.value}[Gm](e){this[Dr].shift(),this[Br]-=1,this[Xs]()}[hA](e){if(!e.pending){if(e.entry){e===this[yi]&&!e.piped&&this[hl](e);return}if(e.stat||(this.statCache.has(e.absolute)?this[ll](e,this.statCache.get(e.absolute)):this[Ym](e)),!!e.stat&&!e.ignore&&!(!this.noDirRecurse&&e.stat.isDirectory()&&!e.readdir&&(this.readdirCache.has(e.absolute)?this[fl](e,this.readdirCache.get(e.absolute)):this[Xm](e),!e.readdir))){if(e.entry=this[pA](e),!e.entry){e.ignore=!0;return}e===this[yi]&&!e.piped&&this[hl](e)}}}[Km](e){return{onwarn:(r,n,s)=>this.warn(r,n,s),noPax:this.noPax,cwd:this.cwd,absolute:e.absolute,preservePaths:this.preservePaths,maxReadSize:this.maxReadSize,strict:this.strict,portable:this.portable,linkCache:this.linkCache,statCache:this.statCache,noMtime:this.noMtime,mtime:this.mtime,prefix:this.prefix}}[pA](e){this[Br]+=1;try{return new this[Qm](e.path,this[Km](e)).on("end",()=>this[Gm](e)).on("error",r=>this.emit("error",r))}catch(r){this.emit("error",r)}}[Vm](){this[yi]&&this[yi].entry&&this[yi].entry.resume()}[hl](e){e.piped=!0,e.readdir&&e.readdir.forEach(s=>{let o=e.path,i=o==="./"?"":o.replace(/\/*$/,"/");this[ul](i+s)});let r=e.entry,n=this.zip;n?r.on("data",s=>{n.write(s)||r.pause()}):r.on("data",s=>{super.write(s)||r.pause()})}pause(){return this.zip&&this.zip.pause(),super.pause()}}),Zm=class extends ep{constructor(e){super(e),this[Qm]=k3}pause(){}resume(){}[Ym](e){let r=this.follow?"statSync":"lstatSync";this[ll](e,pl[r](e.absolute))}[Xm](e,r){this[fl](e,pl.readdirSync(e.absolute))}[hl](e){let r=e.entry,n=this.zip;e.readdir&&e.readdir.forEach(s=>{let o=e.path,i=o==="./"?"":o.replace(/\/*$/,"/");this[ul](i+s)}),n?r.on("data",s=>{n.write(s)}):r.on("data",s=>{super[gA](s)})}};ep.Sync=Zm;EA.exports=ep});var _i=C(Fa=>{"use strict";var O3=im(),P3=require("events").EventEmitter,Rt=require("fs"),np=Rt.writev;if(!np){let t=process.binding("fs"),e=t.FSReqWrap||t.FSReqCallback;np=(r,n,s,o)=>{let i=(c,d)=>o(c,d,n),a=new e;a.oncomplete=i,t.writeBuffers(r,n,s,a)}}var Si=Symbol("_autoClose"),ir=Symbol("_close"),La=Symbol("_ended"),Ee=Symbol("_fd"),xA=Symbol("_finished"),ps=Symbol("_flags"),tp=Symbol("_flush"),sp=Symbol("_handleChunk"),op=Symbol("_makeBuf"),Cl=Symbol("_mode"),gl=Symbol("_needDrain"),wi=Symbol("_onerror"),bi=Symbol("_onopen"),rp=Symbol("_onread"),Ei=Symbol("_onwrite"),ys=Symbol("_open"),un=Symbol("_path"),Qs=Symbol("_pos"),Mr=Symbol("_queue"),xi=Symbol("_read"),wA=Symbol("_readSize"),ms=Symbol("_reading"),El=Symbol("_remain"),CA=Symbol("_size"),xl=Symbol("_write"),gi=Symbol("_writing"),wl=Symbol("_defaultFlag"),Ci=Symbol("_errored"),Sl=class extends O3{constructor(e,r){if(r=r||{},super(r),this.readable=!0,this.writable=!1,typeof e!="string")throw new TypeError("path must be a string");this[Ci]=!1,this[Ee]=typeof r.fd=="number"?r.fd:null,this[un]=e,this[wA]=r.readSize||16*1024*1024,this[ms]=!1,this[CA]=typeof r.size=="number"?r.size:1/0,this[El]=this[CA],this[Si]=typeof r.autoClose=="boolean"?r.autoClose:!0,typeof this[Ee]=="number"?this[xi]():this[ys]()}get fd(){return this[Ee]}get path(){return this[un]}write(){throw new TypeError("this is a readable stream")}end(){throw new TypeError("this is a readable stream")}[ys](){Rt.open(this[un],"r",(e,r)=>this[bi](e,r))}[bi](e,r){e?this[wi](e):(this[Ee]=r,this.emit("open",r),this[xi]())}[op](){return Buffer.allocUnsafe(Math.min(this[wA],this[El]))}[xi](){if(!this[ms]){this[ms]=!0;let e=this[op]();if(e.length===0)return process.nextTick(()=>this[rp](null,0,e));Rt.read(this[Ee],e,0,e.length,null,(r,n,s)=>this[rp](r,n,s))}}[rp](e,r,n){this[ms]=!1,e?this[wi](e):this[sp](r,n)&&this[xi]()}[ir](){if(this[Si]&&typeof this[Ee]=="number"){let e=this[Ee];this[Ee]=null,Rt.close(e,r=>r?this.emit("error",r):this.emit("close"))}}[wi](e){this[ms]=!0,this[ir](),this.emit("error",e)}[sp](e,r){let n=!1;return this[El]-=e,e>0&&(n=super.write(e<r.length?r.slice(0,e):r)),(e===0||this[El]<=0)&&(n=!1,this[ir](),super.end()),n}emit(e,r){switch(e){case"prefinish":case"finish":break;case"drain":typeof this[Ee]=="number"&&this[xi]();break;case"error":return this[Ci]?void 0:(this[Ci]=!0,super.emit(e,r));default:return super.emit(e,r)}}},ip=class extends Sl{[ys](){let e=!0;try{this[bi](null,Rt.openSync(this[un],"r")),e=!1}finally{e&&this[ir]()}}[xi](){let e=!0;try{if(!this[ms]){this[ms]=!0;do{let r=this[op](),n=r.length===0?0:Rt.readSync(this[Ee],r,0,r.length,null);if(!this[sp](n,r))break}while(!0);this[ms]=!1}e=!1}finally{e&&this[ir]()}}[ir](){if(this[Si]&&typeof this[Ee]=="number"){let e=this[Ee];this[Ee]=null,Rt.closeSync(e),this.emit("close")}}},bl=class extends P3{constructor(e,r){r=r||{},super(r),this.readable=!1,this.writable=!0,this[Ci]=!1,this[gi]=!1,this[La]=!1,this[gl]=!1,this[Mr]=[],this[un]=e,this[Ee]=typeof r.fd=="number"?r.fd:null,this[Cl]=r.mode===void 0?438:r.mode,this[Qs]=typeof r.start=="number"?r.start:null,this[Si]=typeof r.autoClose=="boolean"?r.autoClose:!0;let n=this[Qs]!==null?"r+":"w";this[wl]=r.flags===void 0,this[ps]=this[wl]?n:r.flags,this[Ee]===null&&this[ys]()}emit(e,r){if(e==="error"){if(this[Ci])return;this[Ci]=!0}return super.emit(e,r)}get fd(){return this[Ee]}get path(){return this[un]}[wi](e){this[ir](),this[gi]=!0,this.emit("error",e)}[ys](){Rt.open(this[un],this[ps],this[Cl],(e,r)=>this[bi](e,r))}[bi](e,r){this[wl]&&this[ps]==="r+"&&e&&e.code==="ENOENT"?(this[ps]="w",this[ys]()):e?this[wi](e):(this[Ee]=r,this.emit("open",r),this[tp]())}end(e,r){return e&&this.write(e,r),this[La]=!0,!this[gi]&&!this[Mr].length&&typeof this[Ee]=="number"&&this[Ei](null,0),this}write(e,r){return typeof e=="string"&&(e=Buffer.from(e,r)),this[La]?(this.emit("error",new Error("write() after end()")),!1):this[Ee]===null||this[gi]||this[Mr].length?(this[Mr].push(e),this[gl]=!0,!1):(this[gi]=!0,this[xl](e),!0)}[xl](e){Rt.write(this[Ee],e,0,e.length,this[Qs],(r,n)=>this[Ei](r,n))}[Ei](e,r){e?this[wi](e):(this[Qs]!==null&&(this[Qs]+=r),this[Mr].length?this[tp]():(this[gi]=!1,this[La]&&!this[xA]?(this[xA]=!0,this[ir](),this.emit("finish")):this[gl]&&(this[gl]=!1,this.emit("drain"))))}[tp](){if(this[Mr].length===0)this[La]&&this[Ei](null,0);else if(this[Mr].length===1)this[xl](this[Mr].pop());else{let e=this[Mr];this[Mr]=[],np(this[Ee],e,this[Qs],(r,n)=>this[Ei](r,n))}}[ir](){if(this[Si]&&typeof this[Ee]=="number"){let e=this[Ee];this[Ee]=null,Rt.close(e,r=>r?this.emit("error",r):this.emit("close"))}}},ap=class extends bl{[ys](){let e;if(this[wl]&&this[ps]==="r+")try{e=Rt.openSync(this[un],this[ps],this[Cl])}catch(r){if(r.code==="ENOENT")return this[ps]="w",this[ys]();throw r}else e=Rt.openSync(this[un],this[ps],this[Cl]);this[bi](null,e)}[ir](){if(this[Si]&&typeof this[Ee]=="number"){let e=this[Ee];this[Ee]=null,Rt.closeSync(e),this.emit("close")}}[xl](e){let r=!0;try{this[Ei](null,Rt.writeSync(this[Ee],e,0,e.length,this[Qs])),r=!1}finally{if(r)try{this[ir]()}catch{}}}};Fa.ReadStream=Sl;Fa.ReadStreamSync=ip;Fa.WriteStream=bl;Fa.WriteStreamSync=ap});var vl=C((lae,NA)=>{"use strict";var I3=rl(),D3=mi(),B3=require("events"),M3=jm(),L3=1024*1024,F3=Jd(),SA=tl(),U3=Sm(),{nextTick:z3}=require("process"),cp=Buffer.from([31,139]),Yt=Symbol("state"),Zs=Symbol("writeEntry"),fn=Symbol("readEntry"),dp=Symbol("nextEntry"),bA=Symbol("processEntry"),Xt=Symbol("extendedHeader"),Ua=Symbol("globalExtendedHeader"),gs=Symbol("meta"),_A=Symbol("emitMeta"),Ae=Symbol("buffer"),hn=Symbol("queue"),Js=Symbol("ended"),RA=Symbol("emittedEnd"),eo=Symbol("emit"),At=Symbol("unzip"),_l=Symbol("consumeChunk"),Rl=Symbol("consumeChunkSub"),lp=Symbol("consumeBody"),AA=Symbol("consumeMeta"),kA=Symbol("consumeHeader"),Al=Symbol("consuming"),up=Symbol("bufferConcat"),fp=Symbol("maybeEnd"),za=Symbol("writing"),Es=Symbol("aborted"),kl=Symbol("onDone"),to=Symbol("sawValidEntry"),Tl=Symbol("sawNullBlock"),Nl=Symbol("sawEOF"),TA=Symbol("closeStream"),$3=t=>!0;NA.exports=I3(class extends B3{constructor(e){e=e||{},super(e),this.file=e.file||"",this[to]=null,this.on(kl,r=>{(this[Yt]==="begin"||this[to]===!1)&&this.warn("TAR_BAD_ARCHIVE","Unrecognized archive format")}),e.ondone?this.on(kl,e.ondone):this.on(kl,r=>{this.emit("prefinish"),this.emit("finish"),this.emit("end")}),this.strict=!!e.strict,this.maxMetaEntrySize=e.maxMetaEntrySize||L3,this.filter=typeof e.filter=="function"?e.filter:$3,this.writable=!0,this.readable=!1,this[hn]=new M3,this[Ae]=null,this[fn]=null,this[Zs]=null,this[Yt]="begin",this[gs]="",this[Xt]=null,this[Ua]=null,this[Js]=!1,this[At]=null,this[Es]=!1,this[Tl]=!1,this[Nl]=!1,this.on("end",()=>this[TA]()),typeof e.onwarn=="function"&&this.on("warn",e.onwarn),typeof e.onentry=="function"&&this.on("entry",e.onentry)}[kA](e,r){this[to]===null&&(this[to]=!1);let n;try{n=new D3(e,r,this[Xt],this[Ua])}catch(s){return this.warn("TAR_ENTRY_INVALID",s)}if(n.nullBlock)this[Tl]?(this[Nl]=!0,this[Yt]==="begin"&&(this[Yt]="header"),this[eo]("eof")):(this[Tl]=!0,this[eo]("nullBlock"));else if(this[Tl]=!1,!n.cksumValid)this.warn("TAR_ENTRY_INVALID","checksum failure",{header:n});else if(!n.path)this.warn("TAR_ENTRY_INVALID","path is required",{header:n});else{let s=n.type;if(/^(Symbolic)?Link$/.test(s)&&!n.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath required",{header:n});else if(!/^(Symbolic)?Link$/.test(s)&&n.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath forbidden",{header:n});else{let o=this[Zs]=new F3(n,this[Xt],this[Ua]);if(!this[to])if(o.remain){let i=()=>{o.invalid||(this[to]=!0)};o.on("end",i)}else this[to]=!0;o.meta?o.size>this.maxMetaEntrySize?(o.ignore=!0,this[eo]("ignoredEntry",o),this[Yt]="ignore",o.resume()):o.size>0&&(this[gs]="",o.on("data",i=>this[gs]+=i),this[Yt]="meta"):(this[Xt]=null,o.ignore=o.ignore||!this.filter(o.path,o),o.ignore?(this[eo]("ignoredEntry",o),this[Yt]=o.remain?"ignore":"header",o.resume()):(o.remain?this[Yt]="body":(this[Yt]="header",o.end()),this[fn]?this[hn].push(o):(this[hn].push(o),this[dp]())))}}}[TA](){z3(()=>this.emit("close"))}[bA](e){let r=!0;return e?Array.isArray(e)?this.emit.apply(this,e):(this[fn]=e,this.emit("entry",e),e.emittedEnd||(e.on("end",n=>this[dp]()),r=!1)):(this[fn]=null,r=!1),r}[dp](){do;while(this[bA](this[hn].shift()));if(!this[hn].length){let e=this[fn];!e||e.flowing||e.size===e.remain?this[za]||this.emit("drain"):e.once("drain",n=>this.emit("drain"))}}[lp](e,r){let n=this[Zs],s=n.blockRemain,o=s>=e.length&&r===0?e:e.slice(r,r+s);return n.write(o),n.blockRemain||(this[Yt]="header",this[Zs]=null,n.end()),o.length}[AA](e,r){let n=this[Zs],s=this[lp](e,r);return this[Zs]||this[_A](n),s}[eo](e,r,n){!this[hn].length&&!this[fn]?this.emit(e,r,n):this[hn].push([e,r,n])}[_A](e){switch(this[eo]("meta",this[gs]),e.type){case"ExtendedHeader":case"OldExtendedHeader":this[Xt]=SA.parse(this[gs],this[Xt],!1);break;case"GlobalExtendedHeader":this[Ua]=SA.parse(this[gs],this[Ua],!0);break;case"NextFileHasLongPath":case"OldGnuLongPath":this[Xt]=this[Xt]||Object.create(null),this[Xt].path=this[gs].replace(/\0.*/,"");break;case"NextFileHasLongLinkpath":this[Xt]=this[Xt]||Object.create(null),this[Xt].linkpath=this[gs].replace(/\0.*/,"");break;default:throw new Error("unknown meta: "+e.type)}}abort(e){this[Es]=!0,this.emit("abort",e),this.warn("TAR_ABORT",e,{recoverable:!1})}write(e){if(this[Es])return;if(this[At]===null&&e){if(this[Ae]&&(e=Buffer.concat([this[Ae],e]),this[Ae]=null),e.length<cp.length)return this[Ae]=e,!0;for(let n=0;this[At]===null&&n<cp.length;n++)e[n]!==cp[n]&&(this[At]=!1);if(this[At]===null){let n=this[Js];this[Js]=!1,this[At]=new U3.Unzip,this[At].on("data",o=>this[_l](o)),this[At].on("error",o=>this.abort(o)),this[At].on("end",o=>{this[Js]=!0,this[_l]()}),this[za]=!0;let s=this[At][n?"end":"write"](e);return this[za]=!1,s}}this[za]=!0,this[At]?this[At].write(e):this[_l](e),this[za]=!1;let r=this[hn].length?!1:this[fn]?this[fn].flowing:!0;return!r&&!this[hn].length&&this[fn].once("drain",n=>this.emit("drain")),r}[up](e){e&&!this[Es]&&(this[Ae]=this[Ae]?Buffer.concat([this[Ae],e]):e)}[fp](){if(this[Js]&&!this[RA]&&!this[Es]&&!this[Al]){this[RA]=!0;let e=this[Zs];if(e&&e.blockRemain){let r=this[Ae]?this[Ae].length:0;this.warn("TAR_BAD_ARCHIVE",`Truncated input (needed ${e.blockRemain} more bytes, only ${r} available)`,{entry:e}),this[Ae]&&e.write(this[Ae]),e.end()}this[eo](kl)}}[_l](e){if(this[Al])this[up](e);else if(!e&&!this[Ae])this[fp]();else{if(this[Al]=!0,this[Ae]){this[up](e);let r=this[Ae];this[Ae]=null,this[Rl](r)}else this[Rl](e);for(;this[Ae]&&this[Ae].length>=512&&!this[Es]&&!this[Nl];){let r=this[Ae];this[Ae]=null,this[Rl](r)}this[Al]=!1}(!this[Ae]||this[Js])&&this[fp]()}[Rl](e){let r=0,n=e.length;for(;r+512<=n&&!this[Es]&&!this[Nl];)switch(this[Yt]){case"begin":case"header":this[kA](e,r),r+=512;break;case"ignore":case"body":r+=this[lp](e,r);break;case"meta":r+=this[AA](e,r);break;default:throw new Error("invalid state: "+this[Yt])}r<n&&(this[Ae]?this[Ae]=Buffer.concat([e.slice(r),this[Ae]]):this[Ae]=e.slice(r))}end(e){this[Es]||(this[At]?this[At].end(e):(this[Js]=!0,this.write(e)))}})});var Ol=C((uae,IA)=>{"use strict";var q3=ai(),OA=vl(),Ri=require("fs"),H3=_i(),vA=require("path"),hp=pi();IA.exports=(t,e,r)=>{typeof t=="function"?(r=t,e=null,t={}):Array.isArray(t)&&(e=t,t={}),typeof e=="function"&&(r=e,e=null),e?e=Array.from(e):e=[];let n=q3(t);if(n.sync&&typeof r=="function")throw new TypeError("callback not supported for sync tar functions");if(!n.file&&typeof r=="function")throw new TypeError("callback only supported with file option");return e.length&&G3(n,e),n.noResume||j3(n),n.file&&n.sync?K3(n):n.file?V3(n,r):PA(n)};var j3=t=>{let e=t.onentry;t.onentry=e?r=>{e(r),r.resume()}:r=>r.resume()},G3=(t,e)=>{let r=new Map(e.map(o=>[hp(o),!0])),n=t.filter,s=(o,i)=>{let a=i||vA.parse(o).root||".",c=o===a?!1:r.has(o)?r.get(o):s(vA.dirname(o),a);return r.set(o,c),c};t.filter=n?(o,i)=>n(o,i)&&s(hp(o)):o=>s(hp(o))},K3=t=>{let e=PA(t),r=t.file,n=!0,s;try{let o=Ri.statSync(r),i=t.maxReadSize||16*1024*1024;if(o.size<i)e.end(Ri.readFileSync(r));else{let a=0,c=Buffer.allocUnsafe(i);for(s=Ri.openSync(r,"r");a<o.size;){let d=Ri.readSync(s,c,0,i,a);a+=d,e.write(c.slice(0,d))}e.end()}n=!1}finally{if(n&&s)try{Ri.closeSync(s)}catch{}}},V3=(t,e)=>{let r=new OA(t),n=t.maxReadSize||16*1024*1024,s=t.file,o=new Promise((i,a)=>{r.on("error",a),r.on("end",i),Ri.stat(s,(c,d)=>{if(c)a(c);else{let l=new H3.ReadStream(s,{readSize:n,size:d.size});l.on("error",a),l.pipe(r)}})});return e?o.then(e,e):o},PA=t=>new OA(t)});var UA=C((fae,FA)=>{"use strict";var W3=ai(),Pl=yl(),DA=_i(),BA=Ol(),MA=require("path");FA.exports=(t,e,r)=>{if(typeof e=="function"&&(r=e),Array.isArray(t)&&(e=t,t={}),!e||!Array.isArray(e)||!e.length)throw new TypeError("no files or directories specified");e=Array.from(e);let n=W3(t);if(n.sync&&typeof r=="function")throw new TypeError("callback not supported for sync tar functions");if(!n.file&&typeof r=="function")throw new TypeError("callback only supported with file option");return n.file&&n.sync?Y3(n,e):n.file?X3(n,e,r):n.sync?Q3(n,e):Z3(n,e)};var Y3=(t,e)=>{let r=new Pl.Sync(t),n=new DA.WriteStreamSync(t.file,{mode:t.mode||438});r.pipe(n),LA(r,e)},X3=(t,e,r)=>{let n=new Pl(t),s=new DA.WriteStream(t.file,{mode:t.mode||438});n.pipe(s);let o=new Promise((i,a)=>{s.on("error",a),s.on("close",i),n.on("error",a)});return mp(n,e),r?o.then(r,r):o},LA=(t,e)=>{e.forEach(r=>{r.charAt(0)==="@"?BA({file:MA.resolve(t.cwd,r.slice(1)),sync:!0,noResume:!0,onentry:n=>t.add(n)}):t.add(r)}),t.end()},mp=(t,e)=>{for(;e.length;){let r=e.shift();if(r.charAt(0)==="@")return BA({file:MA.resolve(t.cwd,r.slice(1)),noResume:!0,onentry:n=>t.add(n)}).then(n=>mp(t,e));t.add(r)}t.end()},Q3=(t,e)=>{let r=new Pl.Sync(t);return LA(r,e),r},Z3=(t,e)=>{let r=new Pl(t);return mp(r,e),r}});var pp=C((hae,KA)=>{"use strict";var J3=ai(),zA=yl(),Pt=require("fs"),$A=_i(),qA=Ol(),HA=require("path"),jA=mi();KA.exports=(t,e,r)=>{let n=J3(t);if(!n.file)throw new TypeError("file is required");if(n.gzip)throw new TypeError("cannot append to compressed archives");if(!e||!Array.isArray(e)||!e.length)throw new TypeError("no files or directories specified");return e=Array.from(e),n.sync?e2(n,e):r2(n,e,r)};var e2=(t,e)=>{let r=new zA.Sync(t),n=!0,s,o;try{try{s=Pt.openSync(t.file,"r+")}catch(c){if(c.code==="ENOENT")s=Pt.openSync(t.file,"w+");else throw c}let i=Pt.fstatSync(s),a=Buffer.alloc(512);e:for(o=0;o<i.size;o+=512){for(let l=0,f=0;l<512;l+=f){if(f=Pt.readSync(s,a,l,a.length-l,o+l),o===0&&a[0]===31&&a[1]===139)throw new Error("cannot append to compressed archives");if(!f)break e}let c=new jA(a);if(!c.cksumValid)break;let d=512*Math.ceil(c.size/512);if(o+d+512>i.size)break;o+=d,t.mtimeCache&&t.mtimeCache.set(c.path,c.mtime)}n=!1,t2(t,r,o,s,e)}finally{if(n)try{Pt.closeSync(s)}catch{}}},t2=(t,e,r,n,s)=>{let o=new $A.WriteStreamSync(t.file,{fd:n,start:r});e.pipe(o),n2(e,s)},r2=(t,e,r)=>{e=Array.from(e);let n=new zA(t),s=(i,a,c)=>{let d=(y,b)=>{y?Pt.close(i,R=>c(y)):c(null,b)},l=0;if(a===0)return d(null,0);let f=0,u=Buffer.alloc(512),g=(y,b)=>{if(y)return d(y);if(f+=b,f<512&&b)return Pt.read(i,u,f,u.length-f,l+f,g);if(l===0&&u[0]===31&&u[1]===139)return d(new Error("cannot append to compressed archives"));if(f<512)return d(null,l);let R=new jA(u);if(!R.cksumValid)return d(null,l);let B=512*Math.ceil(R.size/512);if(l+B+512>a||(l+=B+512,l>=a))return d(null,l);t.mtimeCache&&t.mtimeCache.set(R.path,R.mtime),f=0,Pt.read(i,u,0,512,l,g)};Pt.read(i,u,0,512,l,g)},o=new Promise((i,a)=>{n.on("error",a);let c="r+",d=(l,f)=>{if(l&&l.code==="ENOENT"&&c==="r+")return c="w+",Pt.open(t.file,c,d);if(l)return a(l);Pt.fstat(f,(u,g)=>{if(u)return Pt.close(f,()=>a(u));s(f,g.size,(y,b)=>{if(y)return a(y);let R=new $A.WriteStream(t.file,{fd:f,start:b});n.pipe(R),R.on("error",a),R.on("close",i),GA(n,e)})})};Pt.open(t.file,c,d)});return r?o.then(r,r):o},n2=(t,e)=>{e.forEach(r=>{r.charAt(0)==="@"?qA({file:HA.resolve(t.cwd,r.slice(1)),sync:!0,noResume:!0,onentry:n=>t.add(n)}):t.add(r)}),t.end()},GA=(t,e)=>{for(;e.length;){let r=e.shift();if(r.charAt(0)==="@")return qA({file:HA.resolve(t.cwd,r.slice(1)),noResume:!0,onentry:n=>t.add(n)}).then(n=>GA(t,e));t.add(r)}t.end()}});var WA=C((mae,VA)=>{"use strict";var s2=ai(),o2=pp();VA.exports=(t,e,r)=>{let n=s2(t);if(!n.file)throw new TypeError("file is required");if(n.gzip)throw new TypeError("cannot append to compressed archives");if(!e||!Array.isArray(e)||!e.length)throw new TypeError("no files or directories specified");return e=Array.from(e),i2(n),o2(n,e,r)};var i2=t=>{let e=t.filter;t.mtimeCache||(t.mtimeCache=new Map),t.filter=e?(r,n)=>e(r,n)&&!(t.mtimeCache.get(r)>n.mtime):(r,n)=>!(t.mtimeCache.get(r)>n.mtime)}});var QA=C((pae,XA)=>{var{promisify:YA}=require("util"),xs=require("fs"),a2=t=>{if(!t)t={mode:511,fs:xs};else if(typeof t=="object")t={mode:511,fs:xs,...t};else if(typeof t=="number")t={mode:t,fs:xs};else if(typeof t=="string")t={mode:parseInt(t,8),fs:xs};else throw new TypeError("invalid options argument");return t.mkdir=t.mkdir||t.fs.mkdir||xs.mkdir,t.mkdirAsync=YA(t.mkdir),t.stat=t.stat||t.fs.stat||xs.stat,t.statAsync=YA(t.stat),t.statSync=t.statSync||t.fs.statSync||xs.statSync,t.mkdirSync=t.mkdirSync||t.fs.mkdirSync||xs.mkdirSync,t};XA.exports=a2});var JA=C((yae,ZA)=>{var c2=process.env.__TESTING_MKDIRP_PLATFORM__||process.platform,{resolve:d2,parse:l2}=require("path"),u2=t=>{if(/\0/.test(t))throw Object.assign(new TypeError("path must be a string without null bytes"),{path:t,code:"ERR_INVALID_ARG_VALUE"});if(t=d2(t),c2==="win32"){let e=/[*|"<>?:]/,{root:r}=l2(t);if(e.test(t.substr(r.length)))throw Object.assign(new Error("Illegal characters in path."),{path:t,code:"EINVAL"})}return t};ZA.exports=u2});var sk=C((gae,nk)=>{var{dirname:ek}=require("path"),tk=(t,e,r=void 0)=>r===e?Promise.resolve():t.statAsync(e).then(n=>n.isDirectory()?r:void 0,n=>n.code==="ENOENT"?tk(t,ek(e),e):void 0),rk=(t,e,r=void 0)=>{if(r!==e)try{return t.statSync(e).isDirectory()?r:void 0}catch(n){return n.code==="ENOENT"?rk(t,ek(e),e):void 0}};nk.exports={findMade:tk,findMadeSync:rk}});var Ep=C((Eae,ik)=>{var{dirname:ok}=require("path"),yp=(t,e,r)=>{e.recursive=!1;let n=ok(t);return n===t?e.mkdirAsync(t,e).catch(s=>{if(s.code!=="EISDIR")throw s}):e.mkdirAsync(t,e).then(()=>r||t,s=>{if(s.code==="ENOENT")return yp(n,e).then(o=>yp(t,e,o));if(s.code!=="EEXIST"&&s.code!=="EROFS")throw s;return e.statAsync(t).then(o=>{if(o.isDirectory())return r;throw s},()=>{throw s})})},gp=(t,e,r)=>{let n=ok(t);if(e.recursive=!1,n===t)try{return e.mkdirSync(t,e)}catch(s){if(s.code!=="EISDIR")throw s;return}try{return e.mkdirSync(t,e),r||t}catch(s){if(s.code==="ENOENT")return gp(t,e,gp(n,e,r));if(s.code!=="EEXIST"&&s.code!=="EROFS")throw s;try{if(!e.statSync(t).isDirectory())throw s}catch{throw s}}};ik.exports={mkdirpManual:yp,mkdirpManualSync:gp}});var dk=C((xae,ck)=>{var{dirname:ak}=require("path"),{findMade:f2,findMadeSync:h2}=sk(),{mkdirpManual:m2,mkdirpManualSync:p2}=Ep(),y2=(t,e)=>(e.recursive=!0,ak(t)===t?e.mkdirAsync(t,e):f2(e,t).then(n=>e.mkdirAsync(t,e).then(()=>n).catch(s=>{if(s.code==="ENOENT")return m2(t,e);throw s}))),g2=(t,e)=>{if(e.recursive=!0,ak(t)===t)return e.mkdirSync(t,e);let n=h2(e,t);try{return e.mkdirSync(t,e),n}catch(s){if(s.code==="ENOENT")return p2(t,e);throw s}};ck.exports={mkdirpNative:y2,mkdirpNativeSync:g2}});var hk=C((wae,fk)=>{var lk=require("fs"),E2=process.env.__TESTING_MKDIRP_NODE_VERSION__||process.version,xp=E2.replace(/^v/,"").split("."),uk=+xp[0]>10||+xp[0]==10&&+xp[1]>=12,x2=uk?t=>t.mkdir===lk.mkdir:()=>!1,w2=uk?t=>t.mkdirSync===lk.mkdirSync:()=>!1;fk.exports={useNative:x2,useNativeSync:w2}});var xk=C((Cae,Ek)=>{var Ai=QA(),ki=JA(),{mkdirpNative:mk,mkdirpNativeSync:pk}=dk(),{mkdirpManual:yk,mkdirpManualSync:gk}=Ep(),{useNative:C2,useNativeSync:S2}=hk(),Ti=(t,e)=>(t=ki(t),e=Ai(e),C2(e)?mk(t,e):yk(t,e)),b2=(t,e)=>(t=ki(t),e=Ai(e),S2(e)?pk(t,e):gk(t,e));Ti.sync=b2;Ti.native=(t,e)=>mk(ki(t),Ai(e));Ti.manual=(t,e)=>yk(ki(t),Ai(e));Ti.nativeSync=(t,e)=>pk(ki(t),Ai(e));Ti.manualSync=(t,e)=>gk(ki(t),Ai(e));Ek.exports=Ti});var Ak=C((Sae,Rk)=>{"use strict";var Qt=require("fs"),ro=require("path"),_2=Qt.lchown?"lchown":"chown",R2=Qt.lchownSync?"lchownSync":"chownSync",Ck=Qt.lchown&&!process.version.match(/v1[1-9]+\./)&&!process.version.match(/v10\.[6-9]/),wk=(t,e,r)=>{try{return Qt[R2](t,e,r)}catch(n){if(n.code!=="ENOENT")throw n}},A2=(t,e,r)=>{try{return Qt.chownSync(t,e,r)}catch(n){if(n.code!=="ENOENT")throw n}},k2=Ck?(t,e,r,n)=>s=>{!s||s.code!=="EISDIR"?n(s):Qt.chown(t,e,r,n)}:(t,e,r,n)=>n,wp=Ck?(t,e,r)=>{try{return wk(t,e,r)}catch(n){if(n.code!=="EISDIR")throw n;A2(t,e,r)}}:(t,e,r)=>wk(t,e,r),T2=process.version,Sk=(t,e,r)=>Qt.readdir(t,e,r),N2=(t,e)=>Qt.readdirSync(t,e);/^v4\./.test(T2)&&(Sk=(t,e,r)=>Qt.readdir(t,r));var Il=(t,e,r,n)=>{Qt[_2](t,e,r,k2(t,e,r,s=>{n(s&&s.code!=="ENOENT"?s:null)}))},bk=(t,e,r,n,s)=>{if(typeof e=="string")return Qt.lstat(ro.resolve(t,e),(o,i)=>{if(o)return s(o.code!=="ENOENT"?o:null);i.name=e,bk(t,i,r,n,s)});if(e.isDirectory())Cp(ro.resolve(t,e.name),r,n,o=>{if(o)return s(o);let i=ro.resolve(t,e.name);Il(i,r,n,s)});else{let o=ro.resolve(t,e.name);Il(o,r,n,s)}},Cp=(t,e,r,n)=>{Sk(t,{withFileTypes:!0},(s,o)=>{if(s){if(s.code==="ENOENT")return n();if(s.code!=="ENOTDIR"&&s.code!=="ENOTSUP")return n(s)}if(s||!o.length)return Il(t,e,r,n);let i=o.length,a=null,c=d=>{if(!a){if(d)return n(a=d);if(--i===0)return Il(t,e,r,n)}};o.forEach(d=>bk(t,d,e,r,c))})},v2=(t,e,r,n)=>{if(typeof e=="string")try{let s=Qt.lstatSync(ro.resolve(t,e));s.name=e,e=s}catch(s){if(s.code==="ENOENT")return;throw s}e.isDirectory()&&_k(ro.resolve(t,e.name),r,n),wp(ro.resolve(t,e.name),r,n)},_k=(t,e,r)=>{let n;try{n=N2(t,{withFileTypes:!0})}catch(s){if(s.code==="ENOENT")return;if(s.code==="ENOTDIR"||s.code==="ENOTSUP")return wp(t,e,r);throw s}return n&&n.length&&n.forEach(s=>v2(t,s,e,r)),wp(t,e,r)};Rk.exports=Cp;Cp.sync=_k});var vk=C((bae,Sp)=>{"use strict";var kk=xk(),Zt=require("fs"),Dl=require("path"),Tk=Ak(),ar=fi(),Bl=class extends Error{constructor(e,r){super("Cannot extract through symbolic link"),this.path=r,this.symlink=e}get name(){return"SylinkError"}},Ml=class extends Error{constructor(e,r){super(r+": Cannot cd into '"+e+"'"),this.path=e,this.code=r}get name(){return"CwdError"}},Ll=(t,e)=>t.get(ar(e)),$a=(t,e,r)=>t.set(ar(e),r),O2=(t,e)=>{Zt.stat(t,(r,n)=>{(r||!n.isDirectory())&&(r=new Ml(t,r&&r.code||"ENOTDIR")),e(r)})};Sp.exports=(t,e,r)=>{t=ar(t);let n=e.umask,s=e.mode|448,o=(s&n)!==0,i=e.uid,a=e.gid,c=typeof i=="number"&&typeof a=="number"&&(i!==e.processUid||a!==e.processGid),d=e.preserve,l=e.unlink,f=e.cache,u=ar(e.cwd),g=(R,B)=>{R?r(R):($a(f,t,!0),B&&c?Tk(B,i,a,te=>g(te)):o?Zt.chmod(t,s,r):r())};if(f&&Ll(f,t)===!0)return g();if(t===u)return O2(t,g);if(d)return kk(t,{mode:s}).then(R=>g(null,R),g);let b=ar(Dl.relative(u,t)).split("/");Fl(u,b,s,f,l,u,null,g)};var Fl=(t,e,r,n,s,o,i,a)=>{if(!e.length)return a(null,i);let c=e.shift(),d=ar(Dl.resolve(t+"/"+c));if(Ll(n,d))return Fl(d,e,r,n,s,o,i,a);Zt.mkdir(d,r,Nk(d,e,r,n,s,o,i,a))},Nk=(t,e,r,n,s,o,i,a)=>c=>{c?Zt.lstat(t,(d,l)=>{if(d)d.path=d.path&&ar(d.path),a(d);else if(l.isDirectory())Fl(t,e,r,n,s,o,i,a);else if(s)Zt.unlink(t,f=>{if(f)return a(f);Zt.mkdir(t,r,Nk(t,e,r,n,s,o,i,a))});else{if(l.isSymbolicLink())return a(new Bl(t,t+"/"+e.join("/")));a(c)}}):(i=i||t,Fl(t,e,r,n,s,o,i,a))},P2=t=>{let e=!1,r="ENOTDIR";try{e=Zt.statSync(t).isDirectory()}catch(n){r=n.code}finally{if(!e)throw new Ml(t,r)}};Sp.exports.sync=(t,e)=>{t=ar(t);let r=e.umask,n=e.mode|448,s=(n&r)!==0,o=e.uid,i=e.gid,a=typeof o=="number"&&typeof i=="number"&&(o!==e.processUid||i!==e.processGid),c=e.preserve,d=e.unlink,l=e.cache,f=ar(e.cwd),u=R=>{$a(l,t,!0),R&&a&&Tk.sync(R,o,i),s&&Zt.chmodSync(t,n)};if(l&&Ll(l,t)===!0)return u();if(t===f)return P2(f),u();if(c)return u(kk.sync(t,n));let y=ar(Dl.relative(f,t)).split("/"),b=null;for(let R=y.shift(),B=f;R&&(B+="/"+R);R=y.shift())if(B=ar(Dl.resolve(B)),!Ll(l,B))try{Zt.mkdirSync(B,n),b=b||B,$a(l,B,!0)}catch{let Q=Zt.lstatSync(B);if(Q.isDirectory()){$a(l,B,!0);continue}else if(d){Zt.unlinkSync(B),Zt.mkdirSync(B,n),b=b||B,$a(l,B,!0);continue}else if(Q.isSymbolicLink())return new Bl(B,B+"/"+y.join("/"))}return u(b)}});var _p=C((_ae,Ok)=>{var bp=Object.create(null),{hasOwnProperty:I2}=Object.prototype;Ok.exports=t=>(I2.call(bp,t)||(bp[t]=t.normalize("NFKD")),bp[t])});var Bk=C((Rae,Dk)=>{var Pk=require("assert"),D2=_p(),B2=pi(),{join:Ik}=require("path"),M2=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform,L2=M2==="win32";Dk.exports=()=>{let t=new Map,e=new Map,r=d=>d.split("/").slice(0,-1).reduce((f,u)=>(f.length&&(u=Ik(f[f.length-1],u)),f.push(u||"/"),f),[]),n=new Set,s=d=>{let l=e.get(d);if(!l)throw new Error("function does not have any path reservations");return{paths:l.paths.map(f=>t.get(f)),dirs:[...l.dirs].map(f=>t.get(f))}},o=d=>{let{paths:l,dirs:f}=s(d);return l.every(u=>u[0]===d)&&f.every(u=>u[0]instanceof Set&&u[0].has(d))},i=d=>n.has(d)||!o(d)?!1:(n.add(d),d(()=>a(d)),!0),a=d=>{if(!n.has(d))return!1;let{paths:l,dirs:f}=e.get(d),u=new Set;return l.forEach(g=>{let y=t.get(g);Pk.equal(y[0],d),y.length===1?t.delete(g):(y.shift(),typeof y[0]=="function"?u.add(y[0]):y[0].forEach(b=>u.add(b)))}),f.forEach(g=>{let y=t.get(g);Pk(y[0]instanceof Set),y[0].size===1&&y.length===1?t.delete(g):y[0].size===1?(y.shift(),u.add(y[0])):y[0].delete(d)}),n.delete(d),u.forEach(g=>i(g)),!0};return{check:o,reserve:(d,l)=>{d=L2?["win32 parallelization disabled"]:d.map(u=>D2(B2(Ik(u))).toLowerCase());let f=new Set(d.map(u=>r(u)).reduce((u,g)=>u.concat(g)));return e.set(l,{dirs:f,paths:d}),d.forEach(u=>{let g=t.get(u);g?g.push(l):t.set(u,[l])}),f.forEach(u=>{let g=t.get(u);g?g[g.length-1]instanceof Set?g[g.length-1].add(l):g.push(new Set([l])):t.set(u,[new Set([l])])}),i(l)}}}});var Fk=C((Aae,Lk)=>{var F2=process.env.__FAKE_PLATFORM__||process.platform,U2=F2==="win32",z2=global.__FAKE_TESTING_FS__||require("fs"),{O_CREAT:$2,O_TRUNC:q2,O_WRONLY:H2,UV_FS_O_FILEMAP:Mk=0}=z2.constants,j2=U2&&!!Mk,G2=512*1024,K2=Mk|q2|$2|H2;Lk.exports=j2?t=>t<G2?K2:"w":()=>"w"});var Ip=C((kae,Zk)=>{"use strict";var V2=require("assert"),W2=vl(),le=require("fs"),Y2=_i(),mn=require("path"),Yk=vk(),Uk=Pm(),X2=Bk(),Q2=Im(),It=fi(),Z2=pi(),J2=_p(),zk=Symbol("onEntry"),kp=Symbol("checkFs"),$k=Symbol("checkFs2"),$l=Symbol("pruneCache"),Tp=Symbol("isReusable"),Jt=Symbol("makeFs"),Np=Symbol("file"),vp=Symbol("directory"),ql=Symbol("link"),qk=Symbol("symlink"),Hk=Symbol("hardlink"),jk=Symbol("unsupported"),Gk=Symbol("checkPath"),ws=Symbol("mkdir"),ct=Symbol("onError"),Ul=Symbol("pending"),Kk=Symbol("pend"),Ni=Symbol("unpend"),Rp=Symbol("ended"),Ap=Symbol("maybeClose"),Op=Symbol("skip"),qa=Symbol("doChown"),Ha=Symbol("uid"),ja=Symbol("gid"),Ga=Symbol("checkedCwd"),Xk=require("crypto"),Qk=Fk(),eU=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform,Ka=eU==="win32",tU=(t,e)=>{if(!Ka)return le.unlink(t,e);let r=t+".DELETE."+Xk.randomBytes(16).toString("hex");le.rename(t,r,n=>{if(n)return e(n);le.unlink(r,e)})},rU=t=>{if(!Ka)return le.unlinkSync(t);let e=t+".DELETE."+Xk.randomBytes(16).toString("hex");le.renameSync(t,e),le.unlinkSync(e)},Vk=(t,e,r)=>t===t>>>0?t:e===e>>>0?e:r,Wk=t=>J2(Z2(It(t))).toLowerCase(),nU=(t,e)=>{e=Wk(e);for(let r of t.keys()){let n=Wk(r);(n===e||n.indexOf(e+"/")===0)&&t.delete(r)}},sU=t=>{for(let e of t.keys())t.delete(e)},Va=class extends W2{constructor(e){if(e||(e={}),e.ondone=r=>{this[Rp]=!0,this[Ap]()},super(e),this[Ga]=!1,this.reservations=X2(),this.transform=typeof e.transform=="function"?e.transform:null,this.writable=!0,this.readable=!1,this[Ul]=0,this[Rp]=!1,this.dirCache=e.dirCache||new Map,typeof e.uid=="number"||typeof e.gid=="number"){if(typeof e.uid!="number"||typeof e.gid!="number")throw new TypeError("cannot set owner without number uid and gid");if(e.preserveOwner)throw new TypeError("cannot preserve owner in archive and also set owner explicitly");this.uid=e.uid,this.gid=e.gid,this.setOwner=!0}else this.uid=null,this.gid=null,this.setOwner=!1;e.preserveOwner===void 0&&typeof e.uid!="number"?this.preserveOwner=process.getuid&&process.getuid()===0:this.preserveOwner=!!e.preserveOwner,this.processUid=(this.preserveOwner||this.setOwner)&&process.getuid?process.getuid():null,this.processGid=(this.preserveOwner||this.setOwner)&&process.getgid?process.getgid():null,this.forceChown=e.forceChown===!0,this.win32=!!e.win32||Ka,this.newer=!!e.newer,this.keep=!!e.keep,this.noMtime=!!e.noMtime,this.preservePaths=!!e.preservePaths,this.unlink=!!e.unlink,this.cwd=It(mn.resolve(e.cwd||process.cwd())),this.strip=+e.strip||0,this.processUmask=e.noChmod?0:process.umask(),this.umask=typeof e.umask=="number"?e.umask:this.processUmask,this.dmode=e.dmode||511&~this.umask,this.fmode=e.fmode||438&~this.umask,this.on("entry",r=>this[zk](r))}warn(e,r,n={}){return(e==="TAR_BAD_ARCHIVE"||e==="TAR_ABORT")&&(n.recoverable=!1),super.warn(e,r,n)}[Ap](){this[Rp]&&this[Ul]===0&&(this.emit("prefinish"),this.emit("finish"),this.emit("end"))}[Gk](e){if(this.strip){let r=It(e.path).split("/");if(r.length<this.strip)return!1;if(e.path=r.slice(this.strip).join("/"),e.type==="Link"){let n=It(e.linkpath).split("/");if(n.length>=this.strip)e.linkpath=n.slice(this.strip).join("/");else return!1}}if(!this.preservePaths){let r=It(e.path),n=r.split("/");if(n.includes("..")||Ka&&/^[a-z]:\.\.$/i.test(n[0]))return this.warn("TAR_ENTRY_ERROR","path contains '..'",{entry:e,path:r}),!1;let[s,o]=Q2(r);s&&(e.path=o,this.warn("TAR_ENTRY_INFO",`stripping ${s} from absolute path`,{entry:e,path:r}))}if(mn.isAbsolute(e.path)?e.absolute=It(mn.resolve(e.path)):e.absolute=It(mn.resolve(this.cwd,e.path)),!this.preservePaths&&e.absolute.indexOf(this.cwd+"/")!==0&&e.absolute!==this.cwd)return this.warn("TAR_ENTRY_ERROR","path escaped extraction target",{entry:e,path:It(e.path),resolvedPath:e.absolute,cwd:this.cwd}),!1;if(e.absolute===this.cwd&&e.type!=="Directory"&&e.type!=="GNUDumpDir")return!1;if(this.win32){let{root:r}=mn.win32.parse(e.absolute);e.absolute=r+Uk.encode(e.absolute.slice(r.length));let{root:n}=mn.win32.parse(e.path);e.path=n+Uk.encode(e.path.slice(n.length))}return!0}[zk](e){if(!this[Gk](e))return e.resume();switch(V2.equal(typeof e.absolute,"string"),e.type){case"Directory":case"GNUDumpDir":e.mode&&(e.mode=e.mode|448);case"File":case"OldFile":case"ContiguousFile":case"Link":case"SymbolicLink":return this[kp](e);case"CharacterDevice":case"BlockDevice":case"FIFO":default:return this[jk](e)}}[ct](e,r){e.name==="CwdError"?this.emit("error",e):(this.warn("TAR_ENTRY_ERROR",e,{entry:r}),this[Ni](),r.resume())}[ws](e,r,n){Yk(It(e),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:r,noChmod:this.noChmod},n)}[qa](e){return this.forceChown||this.preserveOwner&&(typeof e.uid=="number"&&e.uid!==this.processUid||typeof e.gid=="number"&&e.gid!==this.processGid)||typeof this.uid=="number"&&this.uid!==this.processUid||typeof this.gid=="number"&&this.gid!==this.processGid}[Ha](e){return Vk(this.uid,e.uid,this.processUid)}[ja](e){return Vk(this.gid,e.gid,this.processGid)}[Np](e,r){let n=e.mode&4095||this.fmode,s=new Y2.WriteStream(e.absolute,{flags:Qk(e.size),mode:n,autoClose:!1});s.on("error",c=>{s.fd&&le.close(s.fd,()=>{}),s.write=()=>!0,this[ct](c,e),r()});let o=1,i=c=>{if(c){s.fd&&le.close(s.fd,()=>{}),this[ct](c,e),r();return}--o===0&&le.close(s.fd,d=>{d?this[ct](d,e):this[Ni](),r()})};s.on("finish",c=>{let d=e.absolute,l=s.fd;if(e.mtime&&!this.noMtime){o++;let f=e.atime||new Date,u=e.mtime;le.futimes(l,f,u,g=>g?le.utimes(d,f,u,y=>i(y&&g)):i())}if(this[qa](e)){o++;let f=this[Ha](e),u=this[ja](e);le.fchown(l,f,u,g=>g?le.chown(d,f,u,y=>i(y&&g)):i())}i()});let a=this.transform&&this.transform(e)||e;a!==e&&(a.on("error",c=>{this[ct](c,e),r()}),e.pipe(a)),a.pipe(s)}[vp](e,r){let n=e.mode&4095||this.dmode;this[ws](e.absolute,n,s=>{if(s){this[ct](s,e),r();return}let o=1,i=a=>{--o===0&&(r(),this[Ni](),e.resume())};e.mtime&&!this.noMtime&&(o++,le.utimes(e.absolute,e.atime||new Date,e.mtime,i)),this[qa](e)&&(o++,le.chown(e.absolute,this[Ha](e),this[ja](e),i)),i()})}[jk](e){e.unsupported=!0,this.warn("TAR_ENTRY_UNSUPPORTED",`unsupported entry type: ${e.type}`,{entry:e}),e.resume()}[qk](e,r){this[ql](e,e.linkpath,"symlink",r)}[Hk](e,r){let n=It(mn.resolve(this.cwd,e.linkpath));this[ql](e,n,"link",r)}[Kk](){this[Ul]++}[Ni](){this[Ul]--,this[Ap]()}[Op](e){this[Ni](),e.resume()}[Tp](e,r){return e.type==="File"&&!this.unlink&&r.isFile()&&r.nlink<=1&&!Ka}[kp](e){this[Kk]();let r=[e.path];e.linkpath&&r.push(e.linkpath),this.reservations.reserve(r,n=>this[$k](e,n))}[$l](e){e.type==="SymbolicLink"?sU(this.dirCache):e.type!=="Directory"&&nU(this.dirCache,e.absolute)}[$k](e,r){this[$l](e);let n=a=>{this[$l](e),r(a)},s=()=>{this[ws](this.cwd,this.dmode,a=>{if(a){this[ct](a,e),n();return}this[Ga]=!0,o()})},o=()=>{if(e.absolute!==this.cwd){let a=It(mn.dirname(e.absolute));if(a!==this.cwd)return this[ws](a,this.dmode,c=>{if(c){this[ct](c,e),n();return}i()})}i()},i=()=>{le.lstat(e.absolute,(a,c)=>{if(c&&(this.keep||this.newer&&c.mtime>e.mtime)){this[Op](e),n();return}if(a||this[Tp](e,c))return this[Jt](null,e,n);if(c.isDirectory()){if(e.type==="Directory"){let d=!this.noChmod&&e.mode&&(c.mode&4095)!==e.mode,l=f=>this[Jt](f,e,n);return d?le.chmod(e.absolute,e.mode,l):l()}if(e.absolute!==this.cwd)return le.rmdir(e.absolute,d=>this[Jt](d,e,n))}if(e.absolute===this.cwd)return this[Jt](null,e,n);tU(e.absolute,d=>this[Jt](d,e,n))})};this[Ga]?o():s()}[Jt](e,r,n){if(e){this[ct](e,r),n();return}switch(r.type){case"File":case"OldFile":case"ContiguousFile":return this[Np](r,n);case"Link":return this[Hk](r,n);case"SymbolicLink":return this[qk](r,n);case"Directory":case"GNUDumpDir":return this[vp](r,n)}}[ql](e,r,n,s){le[n](r,e.absolute,o=>{o?this[ct](o,e):(this[Ni](),e.resume()),s()})}},zl=t=>{try{return[null,t()]}catch(e){return[e,null]}},Pp=class extends Va{[Jt](e,r){return super[Jt](e,r,()=>{})}[kp](e){if(this[$l](e),!this[Ga]){let o=this[ws](this.cwd,this.dmode);if(o)return this[ct](o,e);this[Ga]=!0}if(e.absolute!==this.cwd){let o=It(mn.dirname(e.absolute));if(o!==this.cwd){let i=this[ws](o,this.dmode);if(i)return this[ct](i,e)}}let[r,n]=zl(()=>le.lstatSync(e.absolute));if(n&&(this.keep||this.newer&&n.mtime>e.mtime))return this[Op](e);if(r||this[Tp](e,n))return this[Jt](null,e);if(n.isDirectory()){if(e.type==="Directory"){let i=!this.noChmod&&e.mode&&(n.mode&4095)!==e.mode,[a]=i?zl(()=>{le.chmodSync(e.absolute,e.mode)}):[];return this[Jt](a,e)}let[o]=zl(()=>le.rmdirSync(e.absolute));this[Jt](o,e)}let[s]=e.absolute===this.cwd?[]:zl(()=>rU(e.absolute));this[Jt](s,e)}[Np](e,r){let n=e.mode&4095||this.fmode,s=a=>{let c;try{le.closeSync(o)}catch(d){c=d}(a||c)&&this[ct](a||c,e),r()},o;try{o=le.openSync(e.absolute,Qk(e.size),n)}catch(a){return s(a)}let i=this.transform&&this.transform(e)||e;i!==e&&(i.on("error",a=>this[ct](a,e)),e.pipe(i)),i.on("data",a=>{try{le.writeSync(o,a,0,a.length)}catch(c){s(c)}}),i.on("end",a=>{let c=null;if(e.mtime&&!this.noMtime){let d=e.atime||new Date,l=e.mtime;try{le.futimesSync(o,d,l)}catch(f){try{le.utimesSync(e.absolute,d,l)}catch{c=f}}}if(this[qa](e)){let d=this[Ha](e),l=this[ja](e);try{le.fchownSync(o,d,l)}catch(f){try{le.chownSync(e.absolute,d,l)}catch{c=c||f}}}s(c)})}[vp](e,r){let n=e.mode&4095||this.dmode,s=this[ws](e.absolute,n);if(s){this[ct](s,e),r();return}if(e.mtime&&!this.noMtime)try{le.utimesSync(e.absolute,e.atime||new Date,e.mtime)}catch{}if(this[qa](e))try{le.chownSync(e.absolute,this[Ha](e),this[ja](e))}catch{}r(),e.resume()}[ws](e,r){try{return Yk.sync(It(e),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:r})}catch(n){return n}}[ql](e,r,n,s){try{le[n+"Sync"](r,e.absolute),s(),e.resume()}catch(o){return this[ct](o,e)}}};Va.Sync=Pp;Zk.exports=Va});var nT=C((Tae,rT)=>{"use strict";var oU=ai(),Hl=Ip(),eT=require("fs"),tT=_i(),Jk=require("path"),Dp=pi();rT.exports=(t,e,r)=>{typeof t=="function"?(r=t,e=null,t={}):Array.isArray(t)&&(e=t,t={}),typeof e=="function"&&(r=e,e=null),e?e=Array.from(e):e=[];let n=oU(t);if(n.sync&&typeof r=="function")throw new TypeError("callback not supported for sync tar functions");if(!n.file&&typeof r=="function")throw new TypeError("callback only supported with file option");return e.length&&iU(n,e),n.file&&n.sync?aU(n):n.file?cU(n,r):n.sync?dU(n):lU(n)};var iU=(t,e)=>{let r=new Map(e.map(o=>[Dp(o),!0])),n=t.filter,s=(o,i)=>{let a=i||Jk.parse(o).root||".",c=o===a?!1:r.has(o)?r.get(o):s(Jk.dirname(o),a);return r.set(o,c),c};t.filter=n?(o,i)=>n(o,i)&&s(Dp(o)):o=>s(Dp(o))},aU=t=>{let e=new Hl.Sync(t),r=t.file,n=eT.statSync(r),s=t.maxReadSize||16*1024*1024;new tT.ReadStreamSync(r,{readSize:s,size:n.size}).pipe(e)},cU=(t,e)=>{let r=new Hl(t),n=t.maxReadSize||16*1024*1024,s=t.file,o=new Promise((i,a)=>{r.on("error",a),r.on("close",i),eT.stat(s,(c,d)=>{if(c)a(c);else{let l=new tT.ReadStream(s,{readSize:n,size:d.size});l.on("error",a),l.pipe(r)}})});return e?o.then(e,e):o},dU=t=>new Hl.Sync(t),lU=t=>new Hl(t)});var sT=C(je=>{"use strict";je.c=je.create=UA();je.r=je.replace=pp();je.t=je.list=Ol();je.u=je.update=WA();je.x=je.extract=nT();je.Pack=yl();je.Unpack=Ip();je.Parse=vl();je.ReadEntry=Jd();je.WriteEntry=Hm();je.Header=mi();je.Pax=tl();je.types=Rm()});var iT=C((vae,oT)=>{"use strict";oT.exports=(...t)=>[...new Set([].concat(...t))]});var Bp=C((Oae,dT)=>{"use strict";var uU=require("stream"),aT=uU.PassThrough,fU=Array.prototype.slice;dT.exports=hU;function hU(){let t=[],e=fU.call(arguments),r=!1,n=e[e.length-1];n&&!Array.isArray(n)&&n.pipe==null?e.pop():n={};let s=n.end!==!1,o=n.pipeError===!0;n.objectMode==null&&(n.objectMode=!0),n.highWaterMark==null&&(n.highWaterMark=64*1024);let i=aT(n);function a(){for(let l=0,f=arguments.length;l<f;l++)t.push(cT(arguments[l],n));return c(),this}function c(){if(r)return;r=!0;let l=t.shift();if(!l){process.nextTick(d);return}Array.isArray(l)||(l=[l]);let f=l.length+1;function u(){--f>0||(r=!1,c())}function g(y){function b(){y.removeListener("merge2UnpipeEnd",b),y.removeListener("end",b),o&&y.removeListener("error",R),u()}function R(B){i.emit("error",B)}if(y._readableState.endEmitted)return u();y.on("merge2UnpipeEnd",b),y.on("end",b),o&&y.on("error",R),y.pipe(i,{end:!1}),y.resume()}for(let y=0;y<l.length;y++)g(l[y]);u()}function d(){r=!1,i.emit("queueDrain"),s&&i.end()}return i.setMaxListeners(0),i.add=a,i.on("unpipe",function(l){l.emit("merge2UnpipeEnd")}),e.length&&a.apply(null,e),i}function cT(t,e){if(Array.isArray(t))for(let r=0,n=t.length;r<n;r++)t[r]=cT(t[r],e);else{if(!t._readableState&&t.pipe&&(t=t.pipe(aT(e))),!t._readableState||!t.pause||!t.pipe)throw new Error("Only readable stream can be merged.");t.pause()}return t}});var lT=C(vi=>{"use strict";Object.defineProperty(vi,"__esModule",{value:!0});vi.splitWhen=vi.flatten=void 0;function mU(t){return t.reduce((e,r)=>[].concat(e,r),[])}vi.flatten=mU;function pU(t,e){let r=[[]],n=0;for(let s of t)e(s)?(n++,r[n]=[]):r[n].push(s);return r}vi.splitWhen=pU});var uT=C(jl=>{"use strict";Object.defineProperty(jl,"__esModule",{value:!0});jl.isEnoentCodeError=void 0;function yU(t){return t.code==="ENOENT"}jl.isEnoentCodeError=yU});var fT=C(Gl=>{"use strict";Object.defineProperty(Gl,"__esModule",{value:!0});Gl.createDirentFromStats=void 0;var Mp=class{constructor(e,r){this.name=e,this.isBlockDevice=r.isBlockDevice.bind(r),this.isCharacterDevice=r.isCharacterDevice.bind(r),this.isDirectory=r.isDirectory.bind(r),this.isFIFO=r.isFIFO.bind(r),this.isFile=r.isFile.bind(r),this.isSocket=r.isSocket.bind(r),this.isSymbolicLink=r.isSymbolicLink.bind(r)}};function gU(t,e){return new Mp(t,e)}Gl.createDirentFromStats=gU});var hT=C(Lr=>{"use strict";Object.defineProperty(Lr,"__esModule",{value:!0});Lr.removeLeadingDotSegment=Lr.escape=Lr.makeAbsolute=Lr.unixify=void 0;var EU=require("path"),xU=2,wU=/(\\?)([()*?[\]{|}]|^!|[!+@](?=\())/g;function CU(t){return t.replace(/\\/g,"/")}Lr.unixify=CU;function SU(t,e){return EU.resolve(t,e)}Lr.makeAbsolute=SU;function bU(t){return t.replace(wU,"\\$2")}Lr.escape=bU;function _U(t){if(t.charAt(0)==="."){let e=t.charAt(1);if(e==="/"||e==="\\")return t.slice(xU)}return t}Lr.removeLeadingDotSegment=_U});var pT=C((Mae,mT)=>{mT.exports=function(e){if(typeof e!="string"||e==="")return!1;for(var r;r=/(\\).|([@?!+*]\(.*\))/g.exec(e);){if(r[2])return!0;e=e.slice(r.index+r[0].length)}return!1}});var ET=C((Lae,gT)=>{var RU=pT(),yT={"{":"}","(":")","[":"]"},AU=function(t){if(t[0]==="!")return!0;for(var e=0,r=-2,n=-2,s=-2,o=-2,i=-2;e<t.length;){if(t[e]==="*"||t[e+1]==="?"&&/[\].+)]/.test(t[e])||n!==-1&&t[e]==="["&&t[e+1]!=="]"&&(n<e&&(n=t.indexOf("]",e)),n>e&&(i===-1||i>n||(i=t.indexOf("\\",e),i===-1||i>n)))||s!==-1&&t[e]==="{"&&t[e+1]!=="}"&&(s=t.indexOf("}",e),s>e&&(i=t.indexOf("\\",e),i===-1||i>s))||o!==-1&&t[e]==="("&&t[e+1]==="?"&&/[:!=]/.test(t[e+2])&&t[e+3]!==")"&&(o=t.indexOf(")",e),o>e&&(i=t.indexOf("\\",e),i===-1||i>o))||r!==-1&&t[e]==="("&&t[e+1]!=="|"&&(r<e&&(r=t.indexOf("|",e)),r!==-1&&t[r+1]!==")"&&(o=t.indexOf(")",r),o>r&&(i=t.indexOf("\\",r),i===-1||i>o))))return!0;if(t[e]==="\\"){var a=t[e+1];e+=2;var c=yT[a];if(c){var d=t.indexOf(c,e);d!==-1&&(e=d+1)}if(t[e]==="!")return!0}else e++}return!1},kU=function(t){if(t[0]==="!")return!0;for(var e=0;e<t.length;){if(/[*?{}()[\]]/.test(t[e]))return!0;if(t[e]==="\\"){var r=t[e+1];e+=2;var n=yT[r];if(n){var s=t.indexOf(n,e);s!==-1&&(e=s+1)}if(t[e]==="!")return!0}else e++}return!1};gT.exports=function(e,r){if(typeof e!="string"||e==="")return!1;if(RU(e))return!0;var n=AU;return r&&r.strict===!1&&(n=kU),n(e)}});var wT=C((Fae,xT)=>{"use strict";var TU=ET(),NU=require("path").posix.dirname,vU=require("os").platform()==="win32",Lp="/",OU=/\\/g,PU=/[\{\[].*[\}\]]$/,IU=/(^|[^\\])([\{\[]|\([^\)]+$)/,DU=/\\([\!\*\?\|\[\]\(\)\{\}])/g;xT.exports=function(e,r){var n=Object.assign({flipBackslashes:!0},r);n.flipBackslashes&&vU&&e.indexOf(Lp)<0&&(e=e.replace(OU,Lp)),PU.test(e)&&(e+=Lp),e+="a";do e=NU(e);while(TU(e)||IU.test(e));return e.replace(DU,"$1")}});var Kl=C(er=>{"use strict";er.isInteger=t=>typeof t=="number"?Number.isInteger(t):typeof t=="string"&&t.trim()!==""?Number.isInteger(Number(t)):!1;er.find=(t,e)=>t.nodes.find(r=>r.type===e);er.exceedsLimit=(t,e,r=1,n)=>n===!1||!er.isInteger(t)||!er.isInteger(e)?!1:(Number(e)-Number(t))/Number(r)>=n;er.escapeNode=(t,e=0,r)=>{let n=t.nodes[e];n&&(r&&n.type===r||n.type==="open"||n.type==="close")&&n.escaped!==!0&&(n.value="\\"+n.value,n.escaped=!0)};er.encloseBrace=t=>t.type!=="brace"||t.commas>>0+t.ranges>>0?!1:(t.invalid=!0,!0);er.isInvalidBrace=t=>t.type!=="brace"?!1:t.invalid===!0||t.dollar?!0:!(t.commas>>0+t.ranges>>0)||t.open!==!0||t.close!==!0?(t.invalid=!0,!0):!1;er.isOpenOrClose=t=>t.type==="open"||t.type==="close"?!0:t.open===!0||t.close===!0;er.reduce=t=>t.reduce((e,r)=>(r.type==="text"&&e.push(r.value),r.type==="range"&&(r.type="text"),e),[]);er.flatten=(...t)=>{let e=[],r=n=>{for(let s=0;s<n.length;s++){let o=n[s];Array.isArray(o)?r(o,e):o!==void 0&&e.push(o)}return e};return r(t),e}});var Vl=C((zae,ST)=>{"use strict";var CT=Kl();ST.exports=(t,e={})=>{let r=(n,s={})=>{let o=e.escapeInvalid&&CT.isInvalidBrace(s),i=n.invalid===!0&&e.escapeInvalid===!0,a="";if(n.value)return(o||i)&&CT.isOpenOrClose(n)?"\\"+n.value:n.value;if(n.value)return n.value;if(n.nodes)for(let c of n.nodes)a+=r(c);return a};return r(t)}});var _T=C(($ae,bT)=>{"use strict";bT.exports=function(t){return typeof t=="number"?t-t===0:typeof t=="string"&&t.trim()!==""?Number.isFinite?Number.isFinite(+t):isFinite(+t):!1}});var IT=C((qae,PT)=>{"use strict";var RT=_T(),no=(t,e,r)=>{if(RT(t)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(e===void 0||t===e)return String(t);if(RT(e)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let n={relaxZeros:!0,...r};typeof n.strictZeros=="boolean"&&(n.relaxZeros=n.strictZeros===!1);let s=String(n.relaxZeros),o=String(n.shorthand),i=String(n.capture),a=String(n.wrap),c=t+":"+e+"="+s+o+i+a;if(no.cache.hasOwnProperty(c))return no.cache[c].result;let d=Math.min(t,e),l=Math.max(t,e);if(Math.abs(d-l)===1){let b=t+"|"+e;return n.capture?`(${b})`:n.wrap===!1?b:`(?:${b})`}let f=OT(t)||OT(e),u={min:t,max:e,a:d,b:l},g=[],y=[];if(f&&(u.isPadded=f,u.maxLen=String(u.max).length),d<0){let b=l<0?Math.abs(l):1;y=AT(b,Math.abs(d),u,n),d=u.a=0}return l>=0&&(g=AT(d,l,u,n)),u.negatives=y,u.positives=g,u.result=BU(y,g,n),n.capture===!0?u.result=`(${u.result})`:n.wrap!==!1&&g.length+y.length>1&&(u.result=`(?:${u.result})`),no.cache[c]=u,u.result};function BU(t,e,r){let n=Fp(t,e,"-",!1,r)||[],s=Fp(e,t,"",!1,r)||[],o=Fp(t,e,"-?",!0,r)||[];return n.concat(o).concat(s).join("|")}function MU(t,e){let r=1,n=1,s=TT(t,r),o=new Set([e]);for(;t<=s&&s<=e;)o.add(s),r+=1,s=TT(t,r);for(s=NT(e+1,n)-1;t<s&&s<=e;)o.add(s),n+=1,s=NT(e+1,n)-1;return o=[...o],o.sort(UU),o}function LU(t,e,r){if(t===e)return{pattern:t,count:[],digits:0};let n=FU(t,e),s=n.length,o="",i=0;for(let a=0;a<s;a++){let[c,d]=n[a];c===d?o+=c:c!=="0"||d!=="9"?o+=zU(c,d,r):i++}return i&&(o+=r.shorthand===!0?"\\d":"[0-9]"),{pattern:o,count:[i],digits:s}}function AT(t,e,r,n){let s=MU(t,e),o=[],i=t,a;for(let c=0;c<s.length;c++){let d=s[c],l=LU(String(i),String(d),n),f="";if(!r.isPadded&&a&&a.pattern===l.pattern){a.count.length>1&&a.count.pop(),a.count.push(l.count[0]),a.string=a.pattern+vT(a.count),i=d+1;continue}r.isPadded&&(f=$U(d,r,n)),l.string=f+l.pattern+vT(l.count),o.push(l),i=d+1,a=l}return o}function Fp(t,e,r,n,s){let o=[];for(let i of t){let{string:a}=i;!n&&!kT(e,"string",a)&&o.push(r+a),n&&kT(e,"string",a)&&o.push(r+a)}return o}function FU(t,e){let r=[];for(let n=0;n<t.length;n++)r.push([t[n],e[n]]);return r}function UU(t,e){return t>e?1:e>t?-1:0}function kT(t,e,r){return t.some(n=>n[e]===r)}function TT(t,e){return Number(String(t).slice(0,-e)+"9".repeat(e))}function NT(t,e){return t-t%Math.pow(10,e)}function vT(t){let[e=0,r=""]=t;return r||e>1?`{${e+(r?","+r:"")}}`:""}function zU(t,e,r){return`[${t}${e-t===1?"":"-"}${e}]`}function OT(t){return/^-?(0+)\d/.test(t)}function $U(t,e,r){if(!e.isPadded)return t;let n=Math.abs(e.maxLen-String(t).length),s=r.relaxZeros!==!1;switch(n){case 0:return"";case 1:return s?"0?":"0";case 2:return s?"0{0,2}":"00";default:return s?`0{0,${n}}`:`0{${n}}`}}no.cache={};no.clearCache=()=>no.cache={};PT.exports=no});var $p=C((Hae,$T)=>{"use strict";var qU=require("util"),MT=IT(),DT=t=>t!==null&&typeof t=="object"&&!Array.isArray(t),HU=t=>e=>t===!0?Number(e):String(e),Up=t=>typeof t=="number"||typeof t=="string"&&t!=="",Wa=t=>Number.isInteger(+t),zp=t=>{let e=`${t}`,r=-1;if(e[0]==="-"&&(e=e.slice(1)),e==="0")return!1;for(;e[++r]==="0";);return r>0},jU=(t,e,r)=>typeof t=="string"||typeof e=="string"?!0:r.stringify===!0,GU=(t,e,r)=>{if(e>0){let n=t[0]==="-"?"-":"";n&&(t=t.slice(1)),t=n+t.padStart(n?e-1:e,"0")}return r===!1?String(t):t},BT=(t,e)=>{let r=t[0]==="-"?"-":"";for(r&&(t=t.slice(1),e--);t.length<e;)t="0"+t;return r?"-"+t:t},KU=(t,e)=>{t.negatives.sort((i,a)=>i<a?-1:i>a?1:0),t.positives.sort((i,a)=>i<a?-1:i>a?1:0);let r=e.capture?"":"?:",n="",s="",o;return t.positives.length&&(n=t.positives.join("|")),t.negatives.length&&(s=`-(${r}${t.negatives.join("|")})`),n&&s?o=`${n}|${s}`:o=n||s,e.wrap?`(${r}${o})`:o},LT=(t,e,r,n)=>{if(r)return MT(t,e,{wrap:!1,...n});let s=String.fromCharCode(t);if(t===e)return s;let o=String.fromCharCode(e);return`[${s}-${o}]`},FT=(t,e,r)=>{if(Array.isArray(t)){let n=r.wrap===!0,s=r.capture?"":"?:";return n?`(${s}${t.join("|")})`:t.join("|")}return MT(t,e,r)},UT=(...t)=>new RangeError("Invalid range arguments: "+qU.inspect(...t)),zT=(t,e,r)=>{if(r.strictRanges===!0)throw UT([t,e]);return[]},VU=(t,e)=>{if(e.strictRanges===!0)throw new TypeError(`Expected step "${t}" to be a number`);return[]},WU=(t,e,r=1,n={})=>{let s=Number(t),o=Number(e);if(!Number.isInteger(s)||!Number.isInteger(o)){if(n.strictRanges===!0)throw UT([t,e]);return[]}s===0&&(s=0),o===0&&(o=0);let i=s>o,a=String(t),c=String(e),d=String(r);r=Math.max(Math.abs(r),1);let l=zp(a)||zp(c)||zp(d),f=l?Math.max(a.length,c.length,d.length):0,u=l===!1&&jU(t,e,n)===!1,g=n.transform||HU(u);if(n.toRegex&&r===1)return LT(BT(t,f),BT(e,f),!0,n);let y={negatives:[],positives:[]},b=te=>y[te<0?"negatives":"positives"].push(Math.abs(te)),R=[],B=0;for(;i?s>=o:s<=o;)n.toRegex===!0&&r>1?b(s):R.push(GU(g(s,B),f,u)),s=i?s-r:s+r,B++;return n.toRegex===!0?r>1?KU(y,n):FT(R,null,{wrap:!1,...n}):R},YU=(t,e,r=1,n={})=>{if(!Wa(t)&&t.length>1||!Wa(e)&&e.length>1)return zT(t,e,n);let s=n.transform||(u=>String.fromCharCode(u)),o=`${t}`.charCodeAt(0),i=`${e}`.charCodeAt(0),a=o>i,c=Math.min(o,i),d=Math.max(o,i);if(n.toRegex&&r===1)return LT(c,d,!1,n);let l=[],f=0;for(;a?o>=i:o<=i;)l.push(s(o,f)),o=a?o-r:o+r,f++;return n.toRegex===!0?FT(l,null,{wrap:!1,options:n}):l},Wl=(t,e,r,n={})=>{if(e==null&&Up(t))return[t];if(!Up(t)||!Up(e))return zT(t,e,n);if(typeof r=="function")return Wl(t,e,1,{transform:r});if(DT(r))return Wl(t,e,0,r);let s={...n};return s.capture===!0&&(s.wrap=!0),r=r||s.step||1,Wa(r)?Wa(t)&&Wa(e)?WU(t,e,r,s):YU(t,e,Math.max(Math.abs(r),1),s):r!=null&&!DT(r)?VU(r,s):Wl(t,e,1,r)};$T.exports=Wl});var jT=C((jae,HT)=>{"use strict";var XU=$p(),qT=Kl(),QU=(t,e={})=>{let r=(n,s={})=>{let o=qT.isInvalidBrace(s),i=n.invalid===!0&&e.escapeInvalid===!0,a=o===!0||i===!0,c=e.escapeInvalid===!0?"\\":"",d="";if(n.isOpen===!0||n.isClose===!0)return c+n.value;if(n.type==="open")return a?c+n.value:"(";if(n.type==="close")return a?c+n.value:")";if(n.type==="comma")return n.prev.type==="comma"?"":a?n.value:"|";if(n.value)return n.value;if(n.nodes&&n.ranges>0){let l=qT.reduce(n.nodes),f=XU(...l,{...e,wrap:!1,toRegex:!0});if(f.length!==0)return l.length>1&&f.length>1?`(${f})`:f}if(n.nodes)for(let l of n.nodes)d+=r(l,n);return d};return r(t)};HT.exports=QU});var VT=C((Gae,KT)=>{"use strict";var ZU=$p(),GT=Vl(),Oi=Kl(),so=(t="",e="",r=!1)=>{let n=[];if(t=[].concat(t),e=[].concat(e),!e.length)return t;if(!t.length)return r?Oi.flatten(e).map(s=>`{${s}}`):e;for(let s of t)if(Array.isArray(s))for(let o of s)n.push(so(o,e,r));else for(let o of e)r===!0&&typeof o=="string"&&(o=`{${o}}`),n.push(Array.isArray(o)?so(s,o,r):s+o);return Oi.flatten(n)},JU=(t,e={})=>{let r=e.rangeLimit===void 0?1e3:e.rangeLimit,n=(s,o={})=>{s.queue=[];let i=o,a=o.queue;for(;i.type!=="brace"&&i.type!=="root"&&i.parent;)i=i.parent,a=i.queue;if(s.invalid||s.dollar){a.push(so(a.pop(),GT(s,e)));return}if(s.type==="brace"&&s.invalid!==!0&&s.nodes.length===2){a.push(so(a.pop(),["{}"]));return}if(s.nodes&&s.ranges>0){let f=Oi.reduce(s.nodes);if(Oi.exceedsLimit(...f,e.step,r))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let u=ZU(...f,e);u.length===0&&(u=GT(s,e)),a.push(so(a.pop(),u)),s.nodes=[];return}let c=Oi.encloseBrace(s),d=s.queue,l=s;for(;l.type!=="brace"&&l.type!=="root"&&l.parent;)l=l.parent,d=l.queue;for(let f=0;f<s.nodes.length;f++){let u=s.nodes[f];if(u.type==="comma"&&s.type==="brace"){f===1&&d.push(""),d.push("");continue}if(u.type==="close"){a.push(so(a.pop(),d,c));continue}if(u.value&&u.type!=="open"){d.push(so(d.pop(),u.value));continue}u.nodes&&n(u,s)}return d};return Oi.flatten(n(t))};KT.exports=JU});var YT=C((Kae,WT)=>{"use strict";WT.exports={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:" ",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}});var eN=C((Vae,JT)=>{"use strict";var ez=Vl(),{MAX_LENGTH:XT,CHAR_BACKSLASH:qp,CHAR_BACKTICK:tz,CHAR_COMMA:rz,CHAR_DOT:nz,CHAR_LEFT_PARENTHESES:sz,CHAR_RIGHT_PARENTHESES:oz,CHAR_LEFT_CURLY_BRACE:iz,CHAR_RIGHT_CURLY_BRACE:az,CHAR_LEFT_SQUARE_BRACKET:QT,CHAR_RIGHT_SQUARE_BRACKET:ZT,CHAR_DOUBLE_QUOTE:cz,CHAR_SINGLE_QUOTE:dz,CHAR_NO_BREAK_SPACE:lz,CHAR_ZERO_WIDTH_NOBREAK_SPACE:uz}=YT(),fz=(t,e={})=>{if(typeof t!="string")throw new TypeError("Expected a string");let r=e||{},n=typeof r.maxLength=="number"?Math.min(XT,r.maxLength):XT;if(t.length>n)throw new SyntaxError(`Input length (${t.length}), exceeds max characters (${n})`);let s={type:"root",input:t,nodes:[]},o=[s],i=s,a=s,c=0,d=t.length,l=0,f=0,u,g={},y=()=>t[l++],b=R=>{if(R.type==="text"&&a.type==="dot"&&(a.type="text"),a&&a.type==="text"&&R.type==="text"){a.value+=R.value;return}return i.nodes.push(R),R.parent=i,R.prev=a,a=R,R};for(b({type:"bos"});l<d;)if(i=o[o.length-1],u=y(),!(u===uz||u===lz)){if(u===qp){b({type:"text",value:(e.keepEscaping?u:"")+y()});continue}if(u===ZT){b({type:"text",value:"\\"+u});continue}if(u===QT){c++;let R=!0,B;for(;l<d&&(B=y());){if(u+=B,B===QT){c++;continue}if(B===qp){u+=y();continue}if(B===ZT&&(c--,c===0))break}b({type:"text",value:u});continue}if(u===sz){i=b({type:"paren",nodes:[]}),o.push(i),b({type:"text",value:u});continue}if(u===oz){if(i.type!=="paren"){b({type:"text",value:u});continue}i=o.pop(),b({type:"text",value:u}),i=o[o.length-1];continue}if(u===cz||u===dz||u===tz){let R=u,B;for(e.keepQuotes!==!0&&(u="");l<d&&(B=y());){if(B===qp){u+=B+y();continue}if(B===R){e.keepQuotes===!0&&(u+=B);break}u+=B}b({type:"text",value:u});continue}if(u===iz){f++;let B={type:"brace",open:!0,close:!1,dollar:a.value&&a.value.slice(-1)==="$"||i.dollar===!0,depth:f,commas:0,ranges:0,nodes:[]};i=b(B),o.push(i),b({type:"open",value:u});continue}if(u===az){if(i.type!=="brace"){b({type:"text",value:u});continue}let R="close";i=o.pop(),i.close=!0,b({type:R,value:u}),f--,i=o[o.length-1];continue}if(u===rz&&f>0){if(i.ranges>0){i.ranges=0;let R=i.nodes.shift();i.nodes=[R,{type:"text",value:ez(i)}]}b({type:"comma",value:u}),i.commas++;continue}if(u===nz&&f>0&&i.commas===0){let R=i.nodes;if(f===0||R.length===0){b({type:"text",value:u});continue}if(a.type==="dot"){if(i.range=[],a.value+=u,a.type="range",i.nodes.length!==3&&i.nodes.length!==5){i.invalid=!0,i.ranges=0,a.type="text";continue}i.ranges++,i.args=[];continue}if(a.type==="range"){R.pop();let B=R[R.length-1];B.value+=a.value+u,a=B,i.ranges--;continue}b({type:"dot",value:u});continue}b({type:"text",value:u})}do if(i=o.pop(),i.type!=="root"){i.nodes.forEach(te=>{te.nodes||(te.type==="open"&&(te.isOpen=!0),te.type==="close"&&(te.isClose=!0),te.nodes||(te.type="text"),te.invalid=!0)});let R=o[o.length-1],B=R.nodes.indexOf(i);R.nodes.splice(B,1,...i.nodes)}while(o.length>0);return b({type:"eos"}),s};JT.exports=fz});var nN=C((Wae,rN)=>{"use strict";var tN=Vl(),hz=jT(),mz=VT(),pz=eN(),Dt=(t,e={})=>{let r=[];if(Array.isArray(t))for(let n of t){let s=Dt.create(n,e);Array.isArray(s)?r.push(...s):r.push(s)}else r=[].concat(Dt.create(t,e));return e&&e.expand===!0&&e.nodupes===!0&&(r=[...new Set(r)]),r};Dt.parse=(t,e={})=>pz(t,e);Dt.stringify=(t,e={})=>tN(typeof t=="string"?Dt.parse(t,e):t,e);Dt.compile=(t,e={})=>(typeof t=="string"&&(t=Dt.parse(t,e)),hz(t,e));Dt.expand=(t,e={})=>{typeof t=="string"&&(t=Dt.parse(t,e));let r=mz(t,e);return e.noempty===!0&&(r=r.filter(Boolean)),e.nodupes===!0&&(r=[...new Set(r)]),r};Dt.create=(t,e={})=>t===""||t.length<3?[t]:e.expand!==!0?Dt.compile(t,e):Dt.expand(t,e);rN.exports=Dt});var Ya=C((Yae,cN)=>{"use strict";var yz=require("path"),Fr="\\\\/",sN=`[^${Fr}]`,pn="\\.",gz="\\+",Ez="\\?",Yl="\\/",xz="(?=.)",oN="[^/]",Hp=`(?:${Yl}|$)`,iN=`(?:^|${Yl})`,jp=`${pn}{1,2}${Hp}`,wz=`(?!${pn})`,Cz=`(?!${iN}${jp})`,Sz=`(?!${pn}{0,1}${Hp})`,bz=`(?!${jp})`,_z=`[^.${Yl}]`,Rz=`${oN}*?`,aN={DOT_LITERAL:pn,PLUS_LITERAL:gz,QMARK_LITERAL:Ez,SLASH_LITERAL:Yl,ONE_CHAR:xz,QMARK:oN,END_ANCHOR:Hp,DOTS_SLASH:jp,NO_DOT:wz,NO_DOTS:Cz,NO_DOT_SLASH:Sz,NO_DOTS_SLASH:bz,QMARK_NO_DOT:_z,STAR:Rz,START_ANCHOR:iN},Az={...aN,SLASH_LITERAL:`[${Fr}]`,QMARK:sN,STAR:`${sN}*?`,DOTS_SLASH:`${pn}{1,2}(?:[${Fr}]|$)`,NO_DOT:`(?!${pn})`,NO_DOTS:`(?!(?:^|[${Fr}])${pn}{1,2}(?:[${Fr}]|$))`,NO_DOT_SLASH:`(?!${pn}{0,1}(?:[${Fr}]|$))`,NO_DOTS_SLASH:`(?!${pn}{1,2}(?:[${Fr}]|$))`,QMARK_NO_DOT:`[^.${Fr}]`,START_ANCHOR:`(?:^|[${Fr}])`,END_ANCHOR:`(?:[${Fr}]|$)`},kz={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};cN.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:kz,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:yz.sep,extglobChars(t){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${t.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(t){return t===!0?Az:aN}}});var Xa=C(kt=>{"use strict";var Tz=require("path"),Nz=process.platform==="win32",{REGEX_BACKSLASH:vz,REGEX_REMOVE_BACKSLASH:Oz,REGEX_SPECIAL_CHARS:Pz,REGEX_SPECIAL_CHARS_GLOBAL:Iz}=Ya();kt.isObject=t=>t!==null&&typeof t=="object"&&!Array.isArray(t);kt.hasRegexChars=t=>Pz.test(t);kt.isRegexChar=t=>t.length===1&&kt.hasRegexChars(t);kt.escapeRegex=t=>t.replace(Iz,"\\$1");kt.toPosixSlashes=t=>t.replace(vz,"/");kt.removeBackslashes=t=>t.replace(Oz,e=>e==="\\"?"":e);kt.supportsLookbehinds=()=>{let t=process.version.slice(1).split(".").map(Number);return t.length===3&&t[0]>=9||t[0]===8&&t[1]>=10};kt.isWindows=t=>t&&typeof t.windows=="boolean"?t.windows:Nz===!0||Tz.sep==="\\";kt.escapeLast=(t,e,r)=>{let n=t.lastIndexOf(e,r);return n===-1?t:t[n-1]==="\\"?kt.escapeLast(t,e,n-1):`${t.slice(0,n)}\\${t.slice(n)}`};kt.removePrefix=(t,e={})=>{let r=t;return r.startsWith("./")&&(r=r.slice(2),e.prefix="./"),r};kt.wrapOutput=(t,e={},r={})=>{let n=r.contains?"":"^",s=r.contains?"":"$",o=`${n}(?:${t})${s}`;return e.negated===!0&&(o=`(?:^(?!${o}).*$)`),o}});var yN=C((Qae,pN)=>{"use strict";var dN=Xa(),{CHAR_ASTERISK:Gp,CHAR_AT:Dz,CHAR_BACKWARD_SLASH:Qa,CHAR_COMMA:Bz,CHAR_DOT:Kp,CHAR_EXCLAMATION_MARK:Vp,CHAR_FORWARD_SLASH:mN,CHAR_LEFT_CURLY_BRACE:Wp,CHAR_LEFT_PARENTHESES:Yp,CHAR_LEFT_SQUARE_BRACKET:Mz,CHAR_PLUS:Lz,CHAR_QUESTION_MARK:lN,CHAR_RIGHT_CURLY_BRACE:Fz,CHAR_RIGHT_PARENTHESES:uN,CHAR_RIGHT_SQUARE_BRACKET:Uz}=Ya(),fN=t=>t===mN||t===Qa,hN=t=>{t.isPrefix!==!0&&(t.depth=t.isGlobstar?1/0:1)},zz=(t,e)=>{let r=e||{},n=t.length-1,s=r.parts===!0||r.scanToEnd===!0,o=[],i=[],a=[],c=t,d=-1,l=0,f=0,u=!1,g=!1,y=!1,b=!1,R=!1,B=!1,te=!1,Q=!1,Le=!1,X=!1,we=0,J,K,me={value:"",depth:0,isGlob:!1},Ye=()=>d>=n,T=()=>c.charCodeAt(d+1),ke=()=>(J=K,c.charCodeAt(++d));for(;d<n;){K=ke();let ut;if(K===Qa){te=me.backslashes=!0,K=ke(),K===Wp&&(B=!0);continue}if(B===!0||K===Wp){for(we++;Ye()!==!0&&(K=ke());){if(K===Qa){te=me.backslashes=!0,ke();continue}if(K===Wp){we++;continue}if(B!==!0&&K===Kp&&(K=ke())===Kp){if(u=me.isBrace=!0,y=me.isGlob=!0,X=!0,s===!0)continue;break}if(B!==!0&&K===Bz){if(u=me.isBrace=!0,y=me.isGlob=!0,X=!0,s===!0)continue;break}if(K===Fz&&(we--,we===0)){B=!1,u=me.isBrace=!0,X=!0;break}}if(s===!0)continue;break}if(K===mN){if(o.push(d),i.push(me),me={value:"",depth:0,isGlob:!1},X===!0)continue;if(J===Kp&&d===l+1){l+=2;continue}f=d+1;continue}if(r.noext!==!0&&(K===Lz||K===Dz||K===Gp||K===lN||K===Vp)===!0&&T()===Yp){if(y=me.isGlob=!0,b=me.isExtglob=!0,X=!0,K===Vp&&d===l&&(Le=!0),s===!0){for(;Ye()!==!0&&(K=ke());){if(K===Qa){te=me.backslashes=!0,K=ke();continue}if(K===uN){y=me.isGlob=!0,X=!0;break}}continue}break}if(K===Gp){if(J===Gp&&(R=me.isGlobstar=!0),y=me.isGlob=!0,X=!0,s===!0)continue;break}if(K===lN){if(y=me.isGlob=!0,X=!0,s===!0)continue;break}if(K===Mz){for(;Ye()!==!0&&(ut=ke());){if(ut===Qa){te=me.backslashes=!0,ke();continue}if(ut===Uz){g=me.isBracket=!0,y=me.isGlob=!0,X=!0;break}}if(s===!0)continue;break}if(r.nonegate!==!0&&K===Vp&&d===l){Q=me.negated=!0,l++;continue}if(r.noparen!==!0&&K===Yp){if(y=me.isGlob=!0,s===!0){for(;Ye()!==!0&&(K=ke());){if(K===Yp){te=me.backslashes=!0,K=ke();continue}if(K===uN){X=!0;break}}continue}break}if(y===!0){if(X=!0,s===!0)continue;break}}r.noext===!0&&(b=!1,y=!1);let Se=c,Cn="",A="";l>0&&(Cn=c.slice(0,l),c=c.slice(l),f-=l),Se&&y===!0&&f>0?(Se=c.slice(0,f),A=c.slice(f)):y===!0?(Se="",A=c):Se=c,Se&&Se!==""&&Se!=="/"&&Se!==c&&fN(Se.charCodeAt(Se.length-1))&&(Se=Se.slice(0,-1)),r.unescape===!0&&(A&&(A=dN.removeBackslashes(A)),Se&&te===!0&&(Se=dN.removeBackslashes(Se)));let k={prefix:Cn,input:t,start:l,base:Se,glob:A,isBrace:u,isBracket:g,isGlob:y,isExtglob:b,isGlobstar:R,negated:Q,negatedExtglob:Le};if(r.tokens===!0&&(k.maxDepth=0,fN(K)||i.push(me),k.tokens=i),r.parts===!0||r.tokens===!0){let ut;for(let ae=0;ae<o.length;ae++){let cr=ut?ut+1:l,dr=o[ae],Tt=t.slice(cr,dr);r.tokens&&(ae===0&&l!==0?(i[ae].isPrefix=!0,i[ae].value=Cn):i[ae].value=Tt,hN(i[ae]),k.maxDepth+=i[ae].depth),(ae!==0||Tt!=="")&&a.push(Tt),ut=dr}if(ut&&ut+1<t.length){let ae=t.slice(ut+1);a.push(ae),r.tokens&&(i[i.length-1].value=ae,hN(i[i.length-1]),k.maxDepth+=i[i.length-1].depth)}k.slashes=o,k.parts=a}return k};pN.exports=zz});var xN=C((Zae,EN)=>{"use strict";var Xl=Ya(),Bt=Xa(),{MAX_LENGTH:Ql,POSIX_REGEX_SOURCE:$z,REGEX_NON_SPECIAL_CHARS:qz,REGEX_SPECIAL_CHARS_BACKREF:Hz,REPLACEMENTS:gN}=Xl,jz=(t,e)=>{if(typeof e.expandRange=="function")return e.expandRange(...t,e);t.sort();let r=`[${t.join("-")}]`;try{new RegExp(r)}catch{return t.map(s=>Bt.escapeRegex(s)).join("..")}return r},Pi=(t,e)=>`Missing ${t}: "${e}" - use "\\\\${e}" to match literal characters`,Xp=(t,e)=>{if(typeof t!="string")throw new TypeError("Expected a string");t=gN[t]||t;let r={...e},n=typeof r.maxLength=="number"?Math.min(Ql,r.maxLength):Ql,s=t.length;if(s>n)throw new SyntaxError(`Input length: ${s}, exceeds maximum allowed length: ${n}`);let o={type:"bos",value:"",output:r.prepend||""},i=[o],a=r.capture?"":"?:",c=Bt.isWindows(e),d=Xl.globChars(c),l=Xl.extglobChars(d),{DOT_LITERAL:f,PLUS_LITERAL:u,SLASH_LITERAL:g,ONE_CHAR:y,DOTS_SLASH:b,NO_DOT:R,NO_DOT_SLASH:B,NO_DOTS_SLASH:te,QMARK:Q,QMARK_NO_DOT:Le,STAR:X,START_ANCHOR:we}=d,J=M=>`(${a}(?:(?!${we}${M.dot?b:f}).)*?)`,K=r.dot?"":R,me=r.dot?Q:Le,Ye=r.bash===!0?J(r):X;r.capture&&(Ye=`(${Ye})`),typeof r.noext=="boolean"&&(r.noextglob=r.noext);let T={input:t,index:-1,start:0,dot:r.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:i};t=Bt.removePrefix(t,T),s=t.length;let ke=[],Se=[],Cn=[],A=o,k,ut=()=>T.index===s-1,ae=T.peek=(M=1)=>t[T.index+M],cr=T.advance=()=>t[++T.index]||"",dr=()=>t.slice(T.index+1),Tt=(M="",be=0)=>{T.consumed+=M,T.index+=be},ec=M=>{T.output+=M.output!=null?M.output:M.value,Tt(M.value)},OO=()=>{let M=1;for(;ae()==="!"&&(ae(2)!=="("||ae(3)==="?");)cr(),T.start++,M++;return M%2===0?!1:(T.negated=!0,T.start++,!0)},tc=M=>{T[M]++,Cn.push(M)},ks=M=>{T[M]--,Cn.pop()},re=M=>{if(A.type==="globstar"){let be=T.braces>0&&(M.type==="comma"||M.type==="brace"),v=M.extglob===!0||ke.length&&(M.type==="pipe"||M.type==="paren");M.type!=="slash"&&M.type!=="paren"&&!be&&!v&&(T.output=T.output.slice(0,-A.output.length),A.type="star",A.value="*",A.output=Ye,T.output+=A.output)}if(ke.length&&M.type!=="paren"&&(ke[ke.length-1].inner+=M.value),(M.value||M.output)&&ec(M),A&&A.type==="text"&&M.type==="text"){A.value+=M.value,A.output=(A.output||"")+M.value;return}M.prev=A,i.push(M),A=M},rc=(M,be)=>{let v={...l[be],conditions:1,inner:""};v.prev=A,v.parens=T.parens,v.output=T.output;let ee=(r.capture?"(":"")+v.open;tc("parens"),re({type:M,value:be,output:T.output?"":y}),re({type:"paren",extglob:!0,value:cr(),output:ee}),ke.push(v)},PO=M=>{let be=M.close+(r.capture?")":""),v;if(M.type==="negate"){let ee=Ye;if(M.inner&&M.inner.length>1&&M.inner.includes("/")&&(ee=J(r)),(ee!==Ye||ut()||/^\)+$/.test(dr()))&&(be=M.close=`)$))${ee}`),M.inner.includes("*")&&(v=dr())&&/^\.[^\\/.]+$/.test(v)){let Oe=Xp(v,{...e,fastpaths:!1}).output;be=M.close=`)${Oe})${ee})`}M.prev.type==="bos"&&(T.negatedExtglob=!0)}re({type:"paren",extglob:!0,value:k,output:be}),ks("parens")};if(r.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(t)){let M=!1,be=t.replace(Hz,(v,ee,Oe,ft,$e,_u)=>ft==="\\"?(M=!0,v):ft==="?"?ee?ee+ft+($e?Q.repeat($e.length):""):_u===0?me+($e?Q.repeat($e.length):""):Q.repeat(Oe.length):ft==="."?f.repeat(Oe.length):ft==="*"?ee?ee+ft+($e?Ye:""):Ye:ee?v:`\\${v}`);return M===!0&&(r.unescape===!0?be=be.replace(/\\/g,""):be=be.replace(/\\+/g,v=>v.length%2===0?"\\\\":v?"\\":"")),be===t&&r.contains===!0?(T.output=t,T):(T.output=Bt.wrapOutput(be,T,e),T)}for(;!ut();){if(k=cr(),k==="\0")continue;if(k==="\\"){let v=ae();if(v==="/"&&r.bash!==!0||v==="."||v===";")continue;if(!v){k+="\\",re({type:"text",value:k});continue}let ee=/^\\+/.exec(dr()),Oe=0;if(ee&&ee[0].length>2&&(Oe=ee[0].length,T.index+=Oe,Oe%2!==0&&(k+="\\")),r.unescape===!0?k=cr():k+=cr(),T.brackets===0){re({type:"text",value:k});continue}}if(T.brackets>0&&(k!=="]"||A.value==="["||A.value==="[^")){if(r.posix!==!1&&k===":"){let v=A.value.slice(1);if(v.includes("[")&&(A.posix=!0,v.includes(":"))){let ee=A.value.lastIndexOf("["),Oe=A.value.slice(0,ee),ft=A.value.slice(ee+2),$e=$z[ft];if($e){A.value=Oe+$e,T.backtrack=!0,cr(),!o.output&&i.indexOf(A)===1&&(o.output=y);continue}}}(k==="["&&ae()!==":"||k==="-"&&ae()==="]")&&(k=`\\${k}`),k==="]"&&(A.value==="["||A.value==="[^")&&(k=`\\${k}`),r.posix===!0&&k==="!"&&A.value==="["&&(k="^"),A.value+=k,ec({value:k});continue}if(T.quotes===1&&k!=='"'){k=Bt.escapeRegex(k),A.value+=k,ec({value:k});continue}if(k==='"'){T.quotes=T.quotes===1?0:1,r.keepQuotes===!0&&re({type:"text",value:k});continue}if(k==="("){tc("parens"),re({type:"paren",value:k});continue}if(k===")"){if(T.parens===0&&r.strictBrackets===!0)throw new SyntaxError(Pi("opening","("));let v=ke[ke.length-1];if(v&&T.parens===v.parens+1){PO(ke.pop());continue}re({type:"paren",value:k,output:T.parens?")":"\\)"}),ks("parens");continue}if(k==="["){if(r.nobracket===!0||!dr().includes("]")){if(r.nobracket!==!0&&r.strictBrackets===!0)throw new SyntaxError(Pi("closing","]"));k=`\\${k}`}else tc("brackets");re({type:"bracket",value:k});continue}if(k==="]"){if(r.nobracket===!0||A&&A.type==="bracket"&&A.value.length===1){re({type:"text",value:k,output:`\\${k}`});continue}if(T.brackets===0){if(r.strictBrackets===!0)throw new SyntaxError(Pi("opening","["));re({type:"text",value:k,output:`\\${k}`});continue}ks("brackets");let v=A.value.slice(1);if(A.posix!==!0&&v[0]==="^"&&!v.includes("/")&&(k=`/${k}`),A.value+=k,ec({value:k}),r.literalBrackets===!1||Bt.hasRegexChars(v))continue;let ee=Bt.escapeRegex(A.value);if(T.output=T.output.slice(0,-A.value.length),r.literalBrackets===!0){T.output+=ee,A.value=ee;continue}A.value=`(${a}${ee}|${A.value})`,T.output+=A.value;continue}if(k==="{"&&r.nobrace!==!0){tc("braces");let v={type:"brace",value:k,output:"(",outputIndex:T.output.length,tokensIndex:T.tokens.length};Se.push(v),re(v);continue}if(k==="}"){let v=Se[Se.length-1];if(r.nobrace===!0||!v){re({type:"text",value:k,output:k});continue}let ee=")";if(v.dots===!0){let Oe=i.slice(),ft=[];for(let $e=Oe.length-1;$e>=0&&(i.pop(),Oe[$e].type!=="brace");$e--)Oe[$e].type!=="dots"&&ft.unshift(Oe[$e].value);ee=jz(ft,r),T.backtrack=!0}if(v.comma!==!0&&v.dots!==!0){let Oe=T.output.slice(0,v.outputIndex),ft=T.tokens.slice(v.tokensIndex);v.value=v.output="\\{",k=ee="\\}",T.output=Oe;for(let $e of ft)T.output+=$e.output||$e.value}re({type:"brace",value:k,output:ee}),ks("braces"),Se.pop();continue}if(k==="|"){ke.length>0&&ke[ke.length-1].conditions++,re({type:"text",value:k});continue}if(k===","){let v=k,ee=Se[Se.length-1];ee&&Cn[Cn.length-1]==="braces"&&(ee.comma=!0,v="|"),re({type:"comma",value:k,output:v});continue}if(k==="/"){if(A.type==="dot"&&T.index===T.start+1){T.start=T.index+1,T.consumed="",T.output="",i.pop(),A=o;continue}re({type:"slash",value:k,output:g});continue}if(k==="."){if(T.braces>0&&A.type==="dot"){A.value==="."&&(A.output=f);let v=Se[Se.length-1];A.type="dots",A.output+=k,A.value+=k,v.dots=!0;continue}if(T.braces+T.parens===0&&A.type!=="bos"&&A.type!=="slash"){re({type:"text",value:k,output:f});continue}re({type:"dot",value:k,output:f});continue}if(k==="?"){if(!(A&&A.value==="(")&&r.noextglob!==!0&&ae()==="("&&ae(2)!=="?"){rc("qmark",k);continue}if(A&&A.type==="paren"){let ee=ae(),Oe=k;if(ee==="<"&&!Bt.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(A.value==="("&&!/[!=<:]/.test(ee)||ee==="<"&&!/<([!=]|\w+>)/.test(dr()))&&(Oe=`\\${k}`),re({type:"text",value:k,output:Oe});continue}if(r.dot!==!0&&(A.type==="slash"||A.type==="bos")){re({type:"qmark",value:k,output:Le});continue}re({type:"qmark",value:k,output:Q});continue}if(k==="!"){if(r.noextglob!==!0&&ae()==="("&&(ae(2)!=="?"||!/[!=<:]/.test(ae(3)))){rc("negate",k);continue}if(r.nonegate!==!0&&T.index===0){OO();continue}}if(k==="+"){if(r.noextglob!==!0&&ae()==="("&&ae(2)!=="?"){rc("plus",k);continue}if(A&&A.value==="("||r.regex===!1){re({type:"plus",value:k,output:u});continue}if(A&&(A.type==="bracket"||A.type==="paren"||A.type==="brace")||T.parens>0){re({type:"plus",value:k});continue}re({type:"plus",value:u});continue}if(k==="@"){if(r.noextglob!==!0&&ae()==="("&&ae(2)!=="?"){re({type:"at",extglob:!0,value:k,output:""});continue}re({type:"text",value:k});continue}if(k!=="*"){(k==="$"||k==="^")&&(k=`\\${k}`);let v=qz.exec(dr());v&&(k+=v[0],T.index+=v[0].length),re({type:"text",value:k});continue}if(A&&(A.type==="globstar"||A.star===!0)){A.type="star",A.star=!0,A.value+=k,A.output=Ye,T.backtrack=!0,T.globstar=!0,Tt(k);continue}let M=dr();if(r.noextglob!==!0&&/^\([^?]/.test(M)){rc("star",k);continue}if(A.type==="star"){if(r.noglobstar===!0){Tt(k);continue}let v=A.prev,ee=v.prev,Oe=v.type==="slash"||v.type==="bos",ft=ee&&(ee.type==="star"||ee.type==="globstar");if(r.bash===!0&&(!Oe||M[0]&&M[0]!=="/")){re({type:"star",value:k,output:""});continue}let $e=T.braces>0&&(v.type==="comma"||v.type==="brace"),_u=ke.length&&(v.type==="pipe"||v.type==="paren");if(!Oe&&v.type!=="paren"&&!$e&&!_u){re({type:"star",value:k,output:""});continue}for(;M.slice(0,3)==="/**";){let nc=t[T.index+4];if(nc&&nc!=="/")break;M=M.slice(3),Tt("/**",3)}if(v.type==="bos"&&ut()){A.type="globstar",A.value+=k,A.output=J(r),T.output=A.output,T.globstar=!0,Tt(k);continue}if(v.type==="slash"&&v.prev.type!=="bos"&&!ft&&ut()){T.output=T.output.slice(0,-(v.output+A.output).length),v.output=`(?:${v.output}`,A.type="globstar",A.output=J(r)+(r.strictSlashes?")":"|$)"),A.value+=k,T.globstar=!0,T.output+=v.output+A.output,Tt(k);continue}if(v.type==="slash"&&v.prev.type!=="bos"&&M[0]==="/"){let nc=M[1]!==void 0?"|$":"";T.output=T.output.slice(0,-(v.output+A.output).length),v.output=`(?:${v.output}`,A.type="globstar",A.output=`${J(r)}${g}|${g}${nc})`,A.value+=k,T.output+=v.output+A.output,T.globstar=!0,Tt(k+cr()),re({type:"slash",value:"/",output:""});continue}if(v.type==="bos"&&M[0]==="/"){A.type="globstar",A.value+=k,A.output=`(?:^|${g}|${J(r)}${g})`,T.output=A.output,T.globstar=!0,Tt(k+cr()),re({type:"slash",value:"/",output:""});continue}T.output=T.output.slice(0,-A.output.length),A.type="globstar",A.output=J(r),A.value+=k,T.output+=A.output,T.globstar=!0,Tt(k);continue}let be={type:"star",value:k,output:Ye};if(r.bash===!0){be.output=".*?",(A.type==="bos"||A.type==="slash")&&(be.output=K+be.output),re(be);continue}if(A&&(A.type==="bracket"||A.type==="paren")&&r.regex===!0){be.output=k,re(be);continue}(T.index===T.start||A.type==="slash"||A.type==="dot")&&(A.type==="dot"?(T.output+=B,A.output+=B):r.dot===!0?(T.output+=te,A.output+=te):(T.output+=K,A.output+=K),ae()!=="*"&&(T.output+=y,A.output+=y)),re(be)}for(;T.brackets>0;){if(r.strictBrackets===!0)throw new SyntaxError(Pi("closing","]"));T.output=Bt.escapeLast(T.output,"["),ks("brackets")}for(;T.parens>0;){if(r.strictBrackets===!0)throw new SyntaxError(Pi("closing",")"));T.output=Bt.escapeLast(T.output,"("),ks("parens")}for(;T.braces>0;){if(r.strictBrackets===!0)throw new SyntaxError(Pi("closing","}"));T.output=Bt.escapeLast(T.output,"{"),ks("braces")}if(r.strictSlashes!==!0&&(A.type==="star"||A.type==="bracket")&&re({type:"maybe_slash",value:"",output:`${g}?`}),T.backtrack===!0){T.output="";for(let M of T.tokens)T.output+=M.output!=null?M.output:M.value,M.suffix&&(T.output+=M.suffix)}return T};Xp.fastpaths=(t,e)=>{let r={...e},n=typeof r.maxLength=="number"?Math.min(Ql,r.maxLength):Ql,s=t.length;if(s>n)throw new SyntaxError(`Input length: ${s}, exceeds maximum allowed length: ${n}`);t=gN[t]||t;let o=Bt.isWindows(e),{DOT_LITERAL:i,SLASH_LITERAL:a,ONE_CHAR:c,DOTS_SLASH:d,NO_DOT:l,NO_DOTS:f,NO_DOTS_SLASH:u,STAR:g,START_ANCHOR:y}=Xl.globChars(o),b=r.dot?f:l,R=r.dot?u:l,B=r.capture?"":"?:",te={negated:!1,prefix:""},Q=r.bash===!0?".*?":g;r.capture&&(Q=`(${Q})`);let Le=K=>K.noglobstar===!0?Q:`(${B}(?:(?!${y}${K.dot?d:i}).)*?)`,X=K=>{switch(K){case"*":return`${b}${c}${Q}`;case".*":return`${i}${c}${Q}`;case"*.*":return`${b}${Q}${i}${c}${Q}`;case"*/*":return`${b}${Q}${a}${c}${R}${Q}`;case"**":return b+Le(r);case"**/*":return`(?:${b}${Le(r)}${a})?${R}${c}${Q}`;case"**/*.*":return`(?:${b}${Le(r)}${a})?${R}${Q}${i}${c}${Q}`;case"**/.*":return`(?:${b}${Le(r)}${a})?${i}${c}${Q}`;default:{let me=/^(.*?)\.(\w+)$/.exec(K);if(!me)return;let Ye=X(me[1]);return Ye?Ye+i+me[2]:void 0}}},we=Bt.removePrefix(t,te),J=X(we);return J&&r.strictSlashes!==!0&&(J+=`${a}?`),J};EN.exports=Xp});var CN=C((Jae,wN)=>{"use strict";var Gz=require("path"),Kz=yN(),Qp=xN(),Zp=Xa(),Vz=Ya(),Wz=t=>t&&typeof t=="object"&&!Array.isArray(t),Me=(t,e,r=!1)=>{if(Array.isArray(t)){let l=t.map(u=>Me(u,e,r));return u=>{for(let g of l){let y=g(u);if(y)return y}return!1}}let n=Wz(t)&&t.tokens&&t.input;if(t===""||typeof t!="string"&&!n)throw new TypeError("Expected pattern to be a non-empty string");let s=e||{},o=Zp.isWindows(e),i=n?Me.compileRe(t,e):Me.makeRe(t,e,!1,!0),a=i.state;delete i.state;let c=()=>!1;if(s.ignore){let l={...e,ignore:null,onMatch:null,onResult:null};c=Me(s.ignore,l,r)}let d=(l,f=!1)=>{let{isMatch:u,match:g,output:y}=Me.test(l,i,e,{glob:t,posix:o}),b={glob:t,state:a,regex:i,posix:o,input:l,output:y,match:g,isMatch:u};return typeof s.onResult=="function"&&s.onResult(b),u===!1?(b.isMatch=!1,f?b:!1):c(l)?(typeof s.onIgnore=="function"&&s.onIgnore(b),b.isMatch=!1,f?b:!1):(typeof s.onMatch=="function"&&s.onMatch(b),f?b:!0)};return r&&(d.state=a),d};Me.test=(t,e,r,{glob:n,posix:s}={})=>{if(typeof t!="string")throw new TypeError("Expected input to be a string");if(t==="")return{isMatch:!1,output:""};let o=r||{},i=o.format||(s?Zp.toPosixSlashes:null),a=t===n,c=a&&i?i(t):t;return a===!1&&(c=i?i(t):t,a=c===n),(a===!1||o.capture===!0)&&(o.matchBase===!0||o.basename===!0?a=Me.matchBase(t,e,r,s):a=e.exec(c)),{isMatch:!!a,match:a,output:c}};Me.matchBase=(t,e,r,n=Zp.isWindows(r))=>(e instanceof RegExp?e:Me.makeRe(e,r)).test(Gz.basename(t));Me.isMatch=(t,e,r)=>Me(e,r)(t);Me.parse=(t,e)=>Array.isArray(t)?t.map(r=>Me.parse(r,e)):Qp(t,{...e,fastpaths:!1});Me.scan=(t,e)=>Kz(t,e);Me.compileRe=(t,e,r=!1,n=!1)=>{if(r===!0)return t.output;let s=e||{},o=s.contains?"":"^",i=s.contains?"":"$",a=`${o}(?:${t.output})${i}`;t&&t.negated===!0&&(a=`^(?!${a}).*$`);let c=Me.toRegex(a,e);return n===!0&&(c.state=t),c};Me.makeRe=(t,e={},r=!1,n=!1)=>{if(!t||typeof t!="string")throw new TypeError("Expected a non-empty string");let s={negated:!1,fastpaths:!0};return e.fastpaths!==!1&&(t[0]==="."||t[0]==="*")&&(s.output=Qp.fastpaths(t,e)),s.output||(s=Qp(t,e)),Me.compileRe(s,e,r,n)};Me.toRegex=(t,e)=>{try{let r=e||{};return new RegExp(t,r.flags||(r.nocase?"i":""))}catch(r){if(e&&e.debug===!0)throw r;return/$^/}};Me.constants=Vz;wN.exports=Me});var bN=C((ece,SN)=>{"use strict";SN.exports=CN()});var TN=C((tce,kN)=>{"use strict";var RN=require("util"),AN=nN(),Ur=bN(),Jp=Xa(),_N=t=>t===""||t==="./",ve=(t,e,r)=>{e=[].concat(e),t=[].concat(t);let n=new Set,s=new Set,o=new Set,i=0,a=l=>{o.add(l.output),r&&r.onResult&&r.onResult(l)};for(let l=0;l<e.length;l++){let f=Ur(String(e[l]),{...r,onResult:a},!0),u=f.state.negated||f.state.negatedExtglob;u&&i++;for(let g of t){let y=f(g,!0);(u?!y.isMatch:y.isMatch)&&(u?n.add(y.output):(n.delete(y.output),s.add(y.output)))}}let d=(i===e.length?[...o]:[...s]).filter(l=>!n.has(l));if(r&&d.length===0){if(r.failglob===!0)throw new Error(`No matches found for "${e.join(", ")}"`);if(r.nonull===!0||r.nullglob===!0)return r.unescape?e.map(l=>l.replace(/\\/g,"")):e}return d};ve.match=ve;ve.matcher=(t,e)=>Ur(t,e);ve.isMatch=(t,e,r)=>Ur(e,r)(t);ve.any=ve.isMatch;ve.not=(t,e,r={})=>{e=[].concat(e).map(String);let n=new Set,s=[],o=a=>{r.onResult&&r.onResult(a),s.push(a.output)},i=new Set(ve(t,e,{...r,onResult:o}));for(let a of s)i.has(a)||n.add(a);return[...n]};ve.contains=(t,e,r)=>{if(typeof t!="string")throw new TypeError(`Expected a string: "${RN.inspect(t)}"`);if(Array.isArray(e))return e.some(n=>ve.contains(t,n,r));if(typeof e=="string"){if(_N(t)||_N(e))return!1;if(t.includes(e)||t.startsWith("./")&&t.slice(2).includes(e))return!0}return ve.isMatch(t,e,{...r,contains:!0})};ve.matchKeys=(t,e,r)=>{if(!Jp.isObject(t))throw new TypeError("Expected the first argument to be an object");let n=ve(Object.keys(t),e,r),s={};for(let o of n)s[o]=t[o];return s};ve.some=(t,e,r)=>{let n=[].concat(t);for(let s of[].concat(e)){let o=Ur(String(s),r);if(n.some(i=>o(i)))return!0}return!1};ve.every=(t,e,r)=>{let n=[].concat(t);for(let s of[].concat(e)){let o=Ur(String(s),r);if(!n.every(i=>o(i)))return!1}return!0};ve.all=(t,e,r)=>{if(typeof t!="string")throw new TypeError(`Expected a string: "${RN.inspect(t)}"`);return[].concat(e).every(n=>Ur(n,r)(t))};ve.capture=(t,e,r)=>{let n=Jp.isWindows(r),o=Ur.makeRe(String(t),{...r,capture:!0}).exec(n?Jp.toPosixSlashes(e):e);if(o)return o.slice(1).map(i=>i===void 0?"":i)};ve.makeRe=(...t)=>Ur.makeRe(...t);ve.scan=(...t)=>Ur.scan(...t);ve.parse=(t,e)=>{let r=[];for(let n of[].concat(t||[]))for(let s of AN(String(n),e))r.push(Ur.parse(s,e));return r};ve.braces=(t,e)=>{if(typeof t!="string")throw new TypeError("Expected a string");return e&&e.nobrace===!0||!/\{.*\}/.test(t)?[t]:AN(t,e)};ve.braceExpand=(t,e)=>{if(typeof t!="string")throw new TypeError("Expected a string");return ve.braces(t,{...e,expand:!0})};kN.exports=ve});var MN=C(Y=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0});Y.matchAny=Y.convertPatternsToRe=Y.makeRe=Y.getPatternParts=Y.expandBraceExpansion=Y.expandPatternsWithBraceExpansion=Y.isAffectDepthOfReadingPattern=Y.endsWithSlashGlobStar=Y.hasGlobStar=Y.getBaseDirectory=Y.isPatternRelatedToParentDirectory=Y.getPatternsOutsideCurrentDirectory=Y.getPatternsInsideCurrentDirectory=Y.getPositivePatterns=Y.getNegativePatterns=Y.isPositivePattern=Y.isNegativePattern=Y.convertToNegativePattern=Y.convertToPositivePattern=Y.isDynamicPattern=Y.isStaticPattern=void 0;var Yz=require("path"),Xz=wT(),ey=TN(),NN="**",Qz="\\",Zz=/[*?]|^!/,Jz=/\[[^[]*]/,e$=/(?:^|[^!*+?@])\([^(]*\|[^|]*\)/,t$=/[!*+?@]\([^(]*\)/,r$=/,|\.\./;function vN(t,e={}){return!ON(t,e)}Y.isStaticPattern=vN;function ON(t,e={}){return t===""?!1:!!(e.caseSensitiveMatch===!1||t.includes(Qz)||Zz.test(t)||Jz.test(t)||e$.test(t)||e.extglob!==!1&&t$.test(t)||e.braceExpansion!==!1&&n$(t))}Y.isDynamicPattern=ON;function n$(t){let e=t.indexOf("{");if(e===-1)return!1;let r=t.indexOf("}",e+1);if(r===-1)return!1;let n=t.slice(e,r);return r$.test(n)}function s$(t){return Zl(t)?t.slice(1):t}Y.convertToPositivePattern=s$;function o$(t){return"!"+t}Y.convertToNegativePattern=o$;function Zl(t){return t.startsWith("!")&&t[1]!=="("}Y.isNegativePattern=Zl;function PN(t){return!Zl(t)}Y.isPositivePattern=PN;function i$(t){return t.filter(Zl)}Y.getNegativePatterns=i$;function a$(t){return t.filter(PN)}Y.getPositivePatterns=a$;function c$(t){return t.filter(e=>!ty(e))}Y.getPatternsInsideCurrentDirectory=c$;function d$(t){return t.filter(ty)}Y.getPatternsOutsideCurrentDirectory=d$;function ty(t){return t.startsWith("..")||t.startsWith("./..")}Y.isPatternRelatedToParentDirectory=ty;function l$(t){return Xz(t,{flipBackslashes:!1})}Y.getBaseDirectory=l$;function u$(t){return t.includes(NN)}Y.hasGlobStar=u$;function IN(t){return t.endsWith("/"+NN)}Y.endsWithSlashGlobStar=IN;function f$(t){let e=Yz.basename(t);return IN(t)||vN(e)}Y.isAffectDepthOfReadingPattern=f$;function h$(t){return t.reduce((e,r)=>e.concat(DN(r)),[])}Y.expandPatternsWithBraceExpansion=h$;function DN(t){return ey.braces(t,{expand:!0,nodupes:!0})}Y.expandBraceExpansion=DN;function m$(t,e){let{parts:r}=ey.scan(t,Object.assign(Object.assign({},e),{parts:!0}));return r.length===0&&(r=[t]),r[0].startsWith("/")&&(r[0]=r[0].slice(1),r.unshift("")),r}Y.getPatternParts=m$;function BN(t,e){return ey.makeRe(t,e)}Y.makeRe=BN;function p$(t,e){return t.map(r=>BN(r,e))}Y.convertPatternsToRe=p$;function y$(t,e){return e.some(r=>r.test(t))}Y.matchAny=y$});var FN=C(Jl=>{"use strict";Object.defineProperty(Jl,"__esModule",{value:!0});Jl.merge=void 0;var g$=Bp();function E$(t){let e=g$(t);return t.forEach(r=>{r.once("error",n=>e.emit("error",n))}),e.once("close",()=>LN(t)),e.once("end",()=>LN(t)),e}Jl.merge=E$;function LN(t){t.forEach(e=>e.emit("close"))}});var UN=C(Ii=>{"use strict";Object.defineProperty(Ii,"__esModule",{value:!0});Ii.isEmpty=Ii.isString=void 0;function x$(t){return typeof t=="string"}Ii.isString=x$;function w$(t){return t===""}Ii.isEmpty=w$});var yn=C(dt=>{"use strict";Object.defineProperty(dt,"__esModule",{value:!0});dt.string=dt.stream=dt.pattern=dt.path=dt.fs=dt.errno=dt.array=void 0;var C$=lT();dt.array=C$;var S$=uT();dt.errno=S$;var b$=fT();dt.fs=b$;var _$=hT();dt.path=_$;var R$=MN();dt.pattern=R$;var A$=FN();dt.stream=A$;var k$=UN();dt.string=k$});var qN=C(lt=>{"use strict";Object.defineProperty(lt,"__esModule",{value:!0});lt.convertPatternGroupToTask=lt.convertPatternGroupsToTasks=lt.groupPatternsByBaseDirectory=lt.getNegativePatternsAsPositive=lt.getPositivePatterns=lt.convertPatternsToTasks=lt.generate=void 0;var gn=yn();function T$(t,e){let r=zN(t),n=$N(t,e.ignore),s=r.filter(c=>gn.pattern.isStaticPattern(c,e)),o=r.filter(c=>gn.pattern.isDynamicPattern(c,e)),i=ry(s,n,!1),a=ry(o,n,!0);return i.concat(a)}lt.generate=T$;function ry(t,e,r){let n=[],s=gn.pattern.getPatternsOutsideCurrentDirectory(t),o=gn.pattern.getPatternsInsideCurrentDirectory(t),i=ny(s),a=ny(o);return n.push(...sy(i,e,r)),"."in a?n.push(oy(".",o,e,r)):n.push(...sy(a,e,r)),n}lt.convertPatternsToTasks=ry;function zN(t){return gn.pattern.getPositivePatterns(t)}lt.getPositivePatterns=zN;function $N(t,e){return gn.pattern.getNegativePatterns(t).concat(e).map(gn.pattern.convertToPositivePattern)}lt.getNegativePatternsAsPositive=$N;function ny(t){let e={};return t.reduce((r,n)=>{let s=gn.pattern.getBaseDirectory(n);return s in r?r[s].push(n):r[s]=[n],r},e)}lt.groupPatternsByBaseDirectory=ny;function sy(t,e,r){return Object.keys(t).map(n=>oy(n,t[n],e,r))}lt.convertPatternGroupsToTasks=sy;function oy(t,e,r,n){return{dynamic:n,positive:e,negative:r,base:t,patterns:[].concat(e,r.map(gn.pattern.convertToNegativePattern))}}lt.convertPatternGroupToTask=oy});var jN=C(Di=>{"use strict";Object.defineProperty(Di,"__esModule",{value:!0});Di.removeDuplicateSlashes=Di.transform=void 0;var N$=/(?!^)\/{2,}/g;function v$(t){return t.map(e=>HN(e))}Di.transform=v$;function HN(t){return t.replace(N$,"/")}Di.removeDuplicateSlashes=HN});var KN=C(eu=>{"use strict";Object.defineProperty(eu,"__esModule",{value:!0});eu.read=void 0;function O$(t,e,r){e.fs.lstat(t,(n,s)=>{if(n!==null){GN(r,n);return}if(!s.isSymbolicLink()||!e.followSymbolicLink){iy(r,s);return}e.fs.stat(t,(o,i)=>{if(o!==null){if(e.throwErrorOnBrokenSymbolicLink){GN(r,o);return}iy(r,s);return}e.markSymbolicLink&&(i.isSymbolicLink=()=>!0),iy(r,i)})})}eu.read=O$;function GN(t,e){t(e)}function iy(t,e){t(null,e)}});var VN=C(tu=>{"use strict";Object.defineProperty(tu,"__esModule",{value:!0});tu.read=void 0;function P$(t,e){let r=e.fs.lstatSync(t);if(!r.isSymbolicLink()||!e.followSymbolicLink)return r;try{let n=e.fs.statSync(t);return e.markSymbolicLink&&(n.isSymbolicLink=()=>!0),n}catch(n){if(!e.throwErrorOnBrokenSymbolicLink)return r;throw n}}tu.read=P$});var WN=C(Cs=>{"use strict";Object.defineProperty(Cs,"__esModule",{value:!0});Cs.createFileSystemAdapter=Cs.FILE_SYSTEM_ADAPTER=void 0;var ru=require("fs");Cs.FILE_SYSTEM_ADAPTER={lstat:ru.lstat,stat:ru.stat,lstatSync:ru.lstatSync,statSync:ru.statSync};function I$(t){return t===void 0?Cs.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},Cs.FILE_SYSTEM_ADAPTER),t)}Cs.createFileSystemAdapter=I$});var YN=C(cy=>{"use strict";Object.defineProperty(cy,"__esModule",{value:!0});var D$=WN(),ay=class{constructor(e={}){this._options=e,this.followSymbolicLink=this._getValue(this._options.followSymbolicLink,!0),this.fs=D$.createFileSystemAdapter(this._options.fs),this.markSymbolicLink=this._getValue(this._options.markSymbolicLink,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0)}_getValue(e,r){return e??r}};cy.default=ay});var oo=C(Ss=>{"use strict";Object.defineProperty(Ss,"__esModule",{value:!0});Ss.statSync=Ss.stat=Ss.Settings=void 0;var XN=KN(),B$=VN(),dy=YN();Ss.Settings=dy.default;function M$(t,e,r){if(typeof e=="function"){XN.read(t,ly(),e);return}XN.read(t,ly(e),r)}Ss.stat=M$;function L$(t,e){let r=ly(e);return B$.read(t,r)}Ss.statSync=L$;function ly(t={}){return t instanceof dy.default?t:new dy.default(t)}});var JN=C((hce,ZN)=>{var QN;ZN.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:global):t=>(QN||(QN=Promise.resolve())).then(t).catch(e=>setTimeout(()=>{throw e},0))});var tv=C((mce,ev)=>{ev.exports=U$;var F$=JN();function U$(t,e){let r,n,s,o=!0;Array.isArray(t)?(r=[],n=t.length):(s=Object.keys(t),r={},n=s.length);function i(c){function d(){e&&e(c,r),e=null}o?F$(d):d()}function a(c,d,l){r[c]=l,(--n===0||d)&&i(d)}n?s?s.forEach(function(c){t[c](function(d,l){a(c,d,l)})}):t.forEach(function(c,d){c(function(l,f){a(d,l,f)})}):i(null),o=!1}});var uy=C(su=>{"use strict";Object.defineProperty(su,"__esModule",{value:!0});su.IS_SUPPORT_READDIR_WITH_FILE_TYPES=void 0;var nu=process.versions.node.split(".");if(nu[0]===void 0||nu[1]===void 0)throw new Error(`Unexpected behavior. The 'process.versions.node' variable has invalid value: ${process.versions.node}`);var rv=Number.parseInt(nu[0],10),z$=Number.parseInt(nu[1],10),nv=10,$$=10,q$=rv>nv,H$=rv===nv&&z$>=$$;su.IS_SUPPORT_READDIR_WITH_FILE_TYPES=q$||H$});var sv=C(ou=>{"use strict";Object.defineProperty(ou,"__esModule",{value:!0});ou.createDirentFromStats=void 0;var fy=class{constructor(e,r){this.name=e,this.isBlockDevice=r.isBlockDevice.bind(r),this.isCharacterDevice=r.isCharacterDevice.bind(r),this.isDirectory=r.isDirectory.bind(r),this.isFIFO=r.isFIFO.bind(r),this.isFile=r.isFile.bind(r),this.isSocket=r.isSocket.bind(r),this.isSymbolicLink=r.isSymbolicLink.bind(r)}};function j$(t,e){return new fy(t,e)}ou.createDirentFromStats=j$});var hy=C(iu=>{"use strict";Object.defineProperty(iu,"__esModule",{value:!0});iu.fs=void 0;var G$=sv();iu.fs=G$});var my=C(au=>{"use strict";Object.defineProperty(au,"__esModule",{value:!0});au.joinPathSegments=void 0;function K$(t,e,r){return t.endsWith(r)?t+e:t+r+e}au.joinPathSegments=K$});var lv=C(bs=>{"use strict";Object.defineProperty(bs,"__esModule",{value:!0});bs.readdir=bs.readdirWithFileTypes=bs.read=void 0;var V$=oo(),ov=tv(),W$=uy(),iv=hy(),av=my();function Y$(t,e,r){if(!e.stats&&W$.IS_SUPPORT_READDIR_WITH_FILE_TYPES){cv(t,e,r);return}dv(t,e,r)}bs.read=Y$;function cv(t,e,r){e.fs.readdir(t,{withFileTypes:!0},(n,s)=>{if(n!==null){cu(r,n);return}let o=s.map(a=>({dirent:a,name:a.name,path:av.joinPathSegments(t,a.name,e.pathSegmentSeparator)}));if(!e.followSymbolicLinks){py(r,o);return}let i=o.map(a=>X$(a,e));ov(i,(a,c)=>{if(a!==null){cu(r,a);return}py(r,c)})})}bs.readdirWithFileTypes=cv;function X$(t,e){return r=>{if(!t.dirent.isSymbolicLink()){r(null,t);return}e.fs.stat(t.path,(n,s)=>{if(n!==null){if(e.throwErrorOnBrokenSymbolicLink){r(n);return}r(null,t);return}t.dirent=iv.fs.createDirentFromStats(t.name,s),r(null,t)})}}function dv(t,e,r){e.fs.readdir(t,(n,s)=>{if(n!==null){cu(r,n);return}let o=s.map(i=>{let a=av.joinPathSegments(t,i,e.pathSegmentSeparator);return c=>{V$.stat(a,e.fsStatSettings,(d,l)=>{if(d!==null){c(d);return}let f={name:i,path:a,dirent:iv.fs.createDirentFromStats(i,l)};e.stats&&(f.stats=l),c(null,f)})}});ov(o,(i,a)=>{if(i!==null){cu(r,i);return}py(r,a)})})}bs.readdir=dv;function cu(t,e){t(e)}function py(t,e){t(null,e)}});var pv=C(_s=>{"use strict";Object.defineProperty(_s,"__esModule",{value:!0});_s.readdir=_s.readdirWithFileTypes=_s.read=void 0;var Q$=oo(),Z$=uy(),uv=hy(),fv=my();function J$(t,e){return!e.stats&&Z$.IS_SUPPORT_READDIR_WITH_FILE_TYPES?hv(t,e):mv(t,e)}_s.read=J$;function hv(t,e){return e.fs.readdirSync(t,{withFileTypes:!0}).map(n=>{let s={dirent:n,name:n.name,path:fv.joinPathSegments(t,n.name,e.pathSegmentSeparator)};if(s.dirent.isSymbolicLink()&&e.followSymbolicLinks)try{let o=e.fs.statSync(s.path);s.dirent=uv.fs.createDirentFromStats(s.name,o)}catch(o){if(e.throwErrorOnBrokenSymbolicLink)throw o}return s})}_s.readdirWithFileTypes=hv;function mv(t,e){return e.fs.readdirSync(t).map(n=>{let s=fv.joinPathSegments(t,n,e.pathSegmentSeparator),o=Q$.statSync(s,e.fsStatSettings),i={name:n,path:s,dirent:uv.fs.createDirentFromStats(n,o)};return e.stats&&(i.stats=o),i})}_s.readdir=mv});var yv=C(Rs=>{"use strict";Object.defineProperty(Rs,"__esModule",{value:!0});Rs.createFileSystemAdapter=Rs.FILE_SYSTEM_ADAPTER=void 0;var Bi=require("fs");Rs.FILE_SYSTEM_ADAPTER={lstat:Bi.lstat,stat:Bi.stat,lstatSync:Bi.lstatSync,statSync:Bi.statSync,readdir:Bi.readdir,readdirSync:Bi.readdirSync};function eq(t){return t===void 0?Rs.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},Rs.FILE_SYSTEM_ADAPTER),t)}Rs.createFileSystemAdapter=eq});var gv=C(gy=>{"use strict";Object.defineProperty(gy,"__esModule",{value:!0});var tq=require("path"),rq=oo(),nq=yv(),yy=class{constructor(e={}){this._options=e,this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!1),this.fs=nq.createFileSystemAdapter(this._options.fs),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,tq.sep),this.stats=this._getValue(this._options.stats,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0),this.fsStatSettings=new rq.Settings({followSymbolicLink:this.followSymbolicLinks,fs:this.fs,throwErrorOnBrokenSymbolicLink:this.throwErrorOnBrokenSymbolicLink})}_getValue(e,r){return e??r}};gy.default=yy});var du=C(As=>{"use strict";Object.defineProperty(As,"__esModule",{value:!0});As.Settings=As.scandirSync=As.scandir=void 0;var Ev=lv(),sq=pv(),Ey=gv();As.Settings=Ey.default;function oq(t,e,r){if(typeof e=="function"){Ev.read(t,xy(),e);return}Ev.read(t,xy(e),r)}As.scandir=oq;function iq(t,e){let r=xy(e);return sq.read(t,r)}As.scandirSync=iq;function xy(t={}){return t instanceof Ey.default?t:new Ey.default(t)}});var wv=C((_ce,xv)=>{"use strict";function aq(t){var e=new t,r=e;function n(){var o=e;return o.next?e=o.next:(e=new t,r=e),o.next=null,o}function s(o){r.next=o,r=o}return{get:n,release:s}}xv.exports=aq});var Sv=C((Rce,wy)=>{"use strict";var cq=wv();function Cv(t,e,r){if(typeof t=="function"&&(r=e,e=t,t=null),r<1)throw new Error("fastqueue concurrency must be greater than 1");var n=cq(dq),s=null,o=null,i=0,a=null,c={push:b,drain:tr,saturated:tr,pause:l,paused:!1,concurrency:r,running:d,resume:g,idle:y,length:f,getQueue:u,unshift:R,empty:tr,kill:te,killAndDrain:Q,error:Le};return c;function d(){return i}function l(){c.paused=!0}function f(){for(var X=s,we=0;X;)X=X.next,we++;return we}function u(){for(var X=s,we=[];X;)we.push(X.value),X=X.next;return we}function g(){if(c.paused){c.paused=!1;for(var X=0;X<c.concurrency;X++)i++,B()}}function y(){return i===0&&c.length()===0}function b(X,we){var J=n.get();J.context=t,J.release=B,J.value=X,J.callback=we||tr,J.errorHandler=a,i===c.concurrency||c.paused?o?(o.next=J,o=J):(s=J,o=J,c.saturated()):(i++,e.call(t,J.value,J.worked))}function R(X,we){var J=n.get();J.context=t,J.release=B,J.value=X,J.callback=we||tr,i===c.concurrency||c.paused?s?(J.next=s,s=J):(s=J,o=J,c.saturated()):(i++,e.call(t,J.value,J.worked))}function B(X){X&&n.release(X);var we=s;we?c.paused?i--:(o===s&&(o=null),s=we.next,we.next=null,e.call(t,we.value,we.worked),o===null&&c.empty()):--i===0&&c.drain()}function te(){s=null,o=null,c.drain=tr}function Q(){s=null,o=null,c.drain(),c.drain=tr}function Le(X){a=X}}function tr(){}function dq(){this.value=null,this.callback=tr,this.next=null,this.release=tr,this.context=null,this.errorHandler=null;var t=this;this.worked=function(r,n){var s=t.callback,o=t.errorHandler,i=t.value;t.value=null,t.callback=tr,t.errorHandler&&o(r,i),s.call(t.context,r,n),t.release(t)}}function lq(t,e,r){typeof t=="function"&&(r=e,e=t,t=null);function n(l,f){e.call(this,l).then(function(u){f(null,u)},f)}var s=Cv(t,n,r),o=s.push,i=s.unshift;return s.push=a,s.unshift=c,s.drained=d,s;function a(l){var f=new Promise(function(u,g){o(l,function(y,b){if(y){g(y);return}u(b)})});return f.catch(tr),f}function c(l){var f=new Promise(function(u,g){i(l,function(y,b){if(y){g(y);return}u(b)})});return f.catch(tr),f}function d(){if(s.idle())return new Promise(function(u){u()});var l=s.drain,f=new Promise(function(u){s.drain=function(){l(),u()}});return f}}wy.exports=Cv;wy.exports.promise=lq});var lu=C(zr=>{"use strict";Object.defineProperty(zr,"__esModule",{value:!0});zr.joinPathSegments=zr.replacePathSegmentSeparator=zr.isAppliedFilter=zr.isFatalError=void 0;function uq(t,e){return t.errorFilter===null?!0:!t.errorFilter(e)}zr.isFatalError=uq;function fq(t,e){return t===null||t(e)}zr.isAppliedFilter=fq;function hq(t,e){return t.split(/[/\\]/).join(e)}zr.replacePathSegmentSeparator=hq;function mq(t,e,r){return t===""?e:t.endsWith(r)?t+e:t+r+e}zr.joinPathSegments=mq});var by=C(Sy=>{"use strict";Object.defineProperty(Sy,"__esModule",{value:!0});var pq=lu(),Cy=class{constructor(e,r){this._root=e,this._settings=r,this._root=pq.replacePathSegmentSeparator(e,r.pathSegmentSeparator)}};Sy.default=Cy});var Ay=C(Ry=>{"use strict";Object.defineProperty(Ry,"__esModule",{value:!0});var yq=require("events"),gq=du(),Eq=Sv(),uu=lu(),xq=by(),_y=class extends xq.default{constructor(e,r){super(e,r),this._settings=r,this._scandir=gq.scandir,this._emitter=new yq.EventEmitter,this._queue=Eq(this._worker.bind(this),this._settings.concurrency),this._isFatalError=!1,this._isDestroyed=!1,this._queue.drain=()=>{this._isFatalError||this._emitter.emit("end")}}read(){return this._isFatalError=!1,this._isDestroyed=!1,setImmediate(()=>{this._pushToQueue(this._root,this._settings.basePath)}),this._emitter}get isDestroyed(){return this._isDestroyed}destroy(){if(this._isDestroyed)throw new Error("The reader is already destroyed");this._isDestroyed=!0,this._queue.killAndDrain()}onEntry(e){this._emitter.on("entry",e)}onError(e){this._emitter.once("error",e)}onEnd(e){this._emitter.once("end",e)}_pushToQueue(e,r){let n={directory:e,base:r};this._queue.push(n,s=>{s!==null&&this._handleError(s)})}_worker(e,r){this._scandir(e.directory,this._settings.fsScandirSettings,(n,s)=>{if(n!==null){r(n,void 0);return}for(let o of s)this._handleEntry(o,e.base);r(null,void 0)})}_handleError(e){this._isDestroyed||!uu.isFatalError(this._settings,e)||(this._isFatalError=!0,this._isDestroyed=!0,this._emitter.emit("error",e))}_handleEntry(e,r){if(this._isDestroyed||this._isFatalError)return;let n=e.path;r!==void 0&&(e.path=uu.joinPathSegments(r,e.name,this._settings.pathSegmentSeparator)),uu.isAppliedFilter(this._settings.entryFilter,e)&&this._emitEntry(e),e.dirent.isDirectory()&&uu.isAppliedFilter(this._settings.deepFilter,e)&&this._pushToQueue(n,r===void 0?void 0:e.path)}_emitEntry(e){this._emitter.emit("entry",e)}};Ry.default=_y});var bv=C(Ty=>{"use strict";Object.defineProperty(Ty,"__esModule",{value:!0});var wq=Ay(),ky=class{constructor(e,r){this._root=e,this._settings=r,this._reader=new wq.default(this._root,this._settings),this._storage=[]}read(e){this._reader.onError(r=>{Cq(e,r)}),this._reader.onEntry(r=>{this._storage.push(r)}),this._reader.onEnd(()=>{Sq(e,this._storage)}),this._reader.read()}};Ty.default=ky;function Cq(t,e){t(e)}function Sq(t,e){t(null,e)}});var _v=C(vy=>{"use strict";Object.defineProperty(vy,"__esModule",{value:!0});var bq=require("stream"),_q=Ay(),Ny=class{constructor(e,r){this._root=e,this._settings=r,this._reader=new _q.default(this._root,this._settings),this._stream=new bq.Readable({objectMode:!0,read:()=>{},destroy:()=>{this._reader.isDestroyed||this._reader.destroy()}})}read(){return this._reader.onError(e=>{this._stream.emit("error",e)}),this._reader.onEntry(e=>{this._stream.push(e)}),this._reader.onEnd(()=>{this._stream.push(null)}),this._reader.read(),this._stream}};vy.default=Ny});var Rv=C(Py=>{"use strict";Object.defineProperty(Py,"__esModule",{value:!0});var Rq=du(),fu=lu(),Aq=by(),Oy=class extends Aq.default{constructor(){super(...arguments),this._scandir=Rq.scandirSync,this._storage=[],this._queue=new Set}read(){return this._pushToQueue(this._root,this._settings.basePath),this._handleQueue(),this._storage}_pushToQueue(e,r){this._queue.add({directory:e,base:r})}_handleQueue(){for(let e of this._queue.values())this._handleDirectory(e.directory,e.base)}_handleDirectory(e,r){try{let n=this._scandir(e,this._settings.fsScandirSettings);for(let s of n)this._handleEntry(s,r)}catch(n){this._handleError(n)}}_handleError(e){if(fu.isFatalError(this._settings,e))throw e}_handleEntry(e,r){let n=e.path;r!==void 0&&(e.path=fu.joinPathSegments(r,e.name,this._settings.pathSegmentSeparator)),fu.isAppliedFilter(this._settings.entryFilter,e)&&this._pushToStorage(e),e.dirent.isDirectory()&&fu.isAppliedFilter(this._settings.deepFilter,e)&&this._pushToQueue(n,r===void 0?void 0:e.path)}_pushToStorage(e){this._storage.push(e)}};Py.default=Oy});var Av=C(Dy=>{"use strict";Object.defineProperty(Dy,"__esModule",{value:!0});var kq=Rv(),Iy=class{constructor(e,r){this._root=e,this._settings=r,this._reader=new kq.default(this._root,this._settings)}read(){return this._reader.read()}};Dy.default=Iy});var kv=C(My=>{"use strict";Object.defineProperty(My,"__esModule",{value:!0});var Tq=require("path"),Nq=du(),By=class{constructor(e={}){this._options=e,this.basePath=this._getValue(this._options.basePath,void 0),this.concurrency=this._getValue(this._options.concurrency,Number.POSITIVE_INFINITY),this.deepFilter=this._getValue(this._options.deepFilter,null),this.entryFilter=this._getValue(this._options.entryFilter,null),this.errorFilter=this._getValue(this._options.errorFilter,null),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,Tq.sep),this.fsScandirSettings=new Nq.Settings({followSymbolicLinks:this._options.followSymbolicLinks,fs:this._options.fs,pathSegmentSeparator:this._options.pathSegmentSeparator,stats:this._options.stats,throwErrorOnBrokenSymbolicLink:this._options.throwErrorOnBrokenSymbolicLink})}_getValue(e,r){return e??r}};My.default=By});var mu=C($r=>{"use strict";Object.defineProperty($r,"__esModule",{value:!0});$r.Settings=$r.walkStream=$r.walkSync=$r.walk=void 0;var Tv=bv(),vq=_v(),Oq=Av(),Ly=kv();$r.Settings=Ly.default;function Pq(t,e,r){if(typeof e=="function"){new Tv.default(t,hu()).read(e);return}new Tv.default(t,hu(e)).read(r)}$r.walk=Pq;function Iq(t,e){let r=hu(e);return new Oq.default(t,r).read()}$r.walkSync=Iq;function Dq(t,e){let r=hu(e);return new vq.default(t,r).read()}$r.walkStream=Dq;function hu(t={}){return t instanceof Ly.default?t:new Ly.default(t)}});var pu=C(Uy=>{"use strict";Object.defineProperty(Uy,"__esModule",{value:!0});var Bq=require("path"),Mq=oo(),Nv=yn(),Fy=class{constructor(e){this._settings=e,this._fsStatSettings=new Mq.Settings({followSymbolicLink:this._settings.followSymbolicLinks,fs:this._settings.fs,throwErrorOnBrokenSymbolicLink:this._settings.followSymbolicLinks})}_getFullEntryPath(e){return Bq.resolve(this._settings.cwd,e)}_makeEntry(e,r){let n={name:r,path:r,dirent:Nv.fs.createDirentFromStats(r,e)};return this._settings.stats&&(n.stats=e),n}_isFatalError(e){return!Nv.errno.isEnoentCodeError(e)&&!this._settings.suppressErrors}};Uy.default=Fy});var qy=C($y=>{"use strict";Object.defineProperty($y,"__esModule",{value:!0});var Lq=require("stream"),Fq=oo(),Uq=mu(),zq=pu(),zy=class extends zq.default{constructor(){super(...arguments),this._walkStream=Uq.walkStream,this._stat=Fq.stat}dynamic(e,r){return this._walkStream(e,r)}static(e,r){let n=e.map(this._getFullEntryPath,this),s=new Lq.PassThrough({objectMode:!0});s._write=(o,i,a)=>this._getEntry(n[o],e[o],r).then(c=>{c!==null&&r.entryFilter(c)&&s.push(c),o===n.length-1&&s.end(),a()}).catch(a);for(let o=0;o<n.length;o++)s.write(o);return s}_getEntry(e,r,n){return this._getStat(e).then(s=>this._makeEntry(s,r)).catch(s=>{if(n.errorFilter(s))return null;throw s})}_getStat(e){return new Promise((r,n)=>{this._stat(e,this._fsStatSettings,(s,o)=>s===null?r(o):n(s))})}};$y.default=zy});var vv=C(jy=>{"use strict";Object.defineProperty(jy,"__esModule",{value:!0});var $q=mu(),qq=pu(),Hq=qy(),Hy=class extends qq.default{constructor(){super(...arguments),this._walkAsync=$q.walk,this._readerStream=new Hq.default(this._settings)}dynamic(e,r){return new Promise((n,s)=>{this._walkAsync(e,r,(o,i)=>{o===null?n(i):s(o)})})}async static(e,r){let n=[],s=this._readerStream.static(e,r);return new Promise((o,i)=>{s.once("error",i),s.on("data",a=>n.push(a)),s.once("end",()=>o(n))})}};jy.default=Hy});var Ov=C(Ky=>{"use strict";Object.defineProperty(Ky,"__esModule",{value:!0});var Mi=yn(),Gy=class{constructor(e,r,n){this._patterns=e,this._settings=r,this._micromatchOptions=n,this._storage=[],this._fillStorage()}_fillStorage(){let e=Mi.pattern.expandPatternsWithBraceExpansion(this._patterns);for(let r of e){let n=this._getPatternSegments(r),s=this._splitSegmentsIntoSections(n);this._storage.push({complete:s.length<=1,pattern:r,segments:n,sections:s})}}_getPatternSegments(e){return Mi.pattern.getPatternParts(e,this._micromatchOptions).map(n=>Mi.pattern.isDynamicPattern(n,this._settings)?{dynamic:!0,pattern:n,patternRe:Mi.pattern.makeRe(n,this._micromatchOptions)}:{dynamic:!1,pattern:n})}_splitSegmentsIntoSections(e){return Mi.array.splitWhen(e,r=>r.dynamic&&Mi.pattern.hasGlobStar(r.pattern))}};Ky.default=Gy});var Pv=C(Wy=>{"use strict";Object.defineProperty(Wy,"__esModule",{value:!0});var jq=Ov(),Vy=class extends jq.default{match(e){let r=e.split("/"),n=r.length,s=this._storage.filter(o=>!o.complete||o.segments.length>n);for(let o of s){let i=o.sections[0];if(!o.complete&&n>i.length||r.every((c,d)=>{let l=o.segments[d];return!!(l.dynamic&&l.patternRe.test(c)||!l.dynamic&&l.pattern===c)}))return!0}return!1}};Wy.default=Vy});var Iv=C(Xy=>{"use strict";Object.defineProperty(Xy,"__esModule",{value:!0});var yu=yn(),Gq=Pv(),Yy=class{constructor(e,r){this._settings=e,this._micromatchOptions=r}getFilter(e,r,n){let s=this._getMatcher(r),o=this._getNegativePatternsRe(n);return i=>this._filter(e,i,s,o)}_getMatcher(e){return new Gq.default(e,this._settings,this._micromatchOptions)}_getNegativePatternsRe(e){let r=e.filter(yu.pattern.isAffectDepthOfReadingPattern);return yu.pattern.convertPatternsToRe(r,this._micromatchOptions)}_filter(e,r,n,s){if(this._isSkippedByDeep(e,r.path)||this._isSkippedSymbolicLink(r))return!1;let o=yu.path.removeLeadingDotSegment(r.path);return this._isSkippedByPositivePatterns(o,n)?!1:this._isSkippedByNegativePatterns(o,s)}_isSkippedByDeep(e,r){return this._settings.deep===1/0?!1:this._getEntryLevel(e,r)>=this._settings.deep}_getEntryLevel(e,r){let n=r.split("/").length;if(e==="")return n;let s=e.split("/").length;return n-s}_isSkippedSymbolicLink(e){return!this._settings.followSymbolicLinks&&e.dirent.isSymbolicLink()}_isSkippedByPositivePatterns(e,r){return!this._settings.baseNameMatch&&!r.match(e)}_isSkippedByNegativePatterns(e,r){return!yu.pattern.matchAny(e,r)}};Xy.default=Yy});var Dv=C(Zy=>{"use strict";Object.defineProperty(Zy,"__esModule",{value:!0});var io=yn(),Qy=class{constructor(e,r){this._settings=e,this._micromatchOptions=r,this.index=new Map}getFilter(e,r){let n=io.pattern.convertPatternsToRe(e,this._micromatchOptions),s=io.pattern.convertPatternsToRe(r,this._micromatchOptions);return o=>this._filter(o,n,s)}_filter(e,r,n){if(this._settings.unique&&this._isDuplicateEntry(e)||this._onlyFileFilter(e)||this._onlyDirectoryFilter(e)||this._isSkippedByAbsoluteNegativePatterns(e.path,n))return!1;let s=this._settings.baseNameMatch?e.name:e.path,o=e.dirent.isDirectory(),i=this._isMatchToPatterns(s,r,o)&&!this._isMatchToPatterns(e.path,n,o);return this._settings.unique&&i&&this._createIndexRecord(e),i}_isDuplicateEntry(e){return this.index.has(e.path)}_createIndexRecord(e){this.index.set(e.path,void 0)}_onlyFileFilter(e){return this._settings.onlyFiles&&!e.dirent.isFile()}_onlyDirectoryFilter(e){return this._settings.onlyDirectories&&!e.dirent.isDirectory()}_isSkippedByAbsoluteNegativePatterns(e,r){if(!this._settings.absolute)return!1;let n=io.path.makeAbsolute(this._settings.cwd,e);return io.pattern.matchAny(n,r)}_isMatchToPatterns(e,r,n){let s=io.path.removeLeadingDotSegment(e),o=io.pattern.matchAny(s,r);return!o&&n?io.pattern.matchAny(s+"/",r):o}};Zy.default=Qy});var Bv=C(eg=>{"use strict";Object.defineProperty(eg,"__esModule",{value:!0});var Kq=yn(),Jy=class{constructor(e){this._settings=e}getFilter(){return e=>this._isNonFatalError(e)}_isNonFatalError(e){return Kq.errno.isEnoentCodeError(e)||this._settings.suppressErrors}};eg.default=Jy});var Lv=C(rg=>{"use strict";Object.defineProperty(rg,"__esModule",{value:!0});var Mv=yn(),tg=class{constructor(e){this._settings=e}getTransformer(){return e=>this._transform(e)}_transform(e){let r=e.path;return this._settings.absolute&&(r=Mv.path.makeAbsolute(this._settings.cwd,r),r=Mv.path.unixify(r)),this._settings.markDirectories&&e.dirent.isDirectory()&&(r+="/"),this._settings.objectMode?Object.assign(Object.assign({},e),{path:r}):r}};rg.default=tg});var gu=C(sg=>{"use strict";Object.defineProperty(sg,"__esModule",{value:!0});var Vq=require("path"),Wq=Iv(),Yq=Dv(),Xq=Bv(),Qq=Lv(),ng=class{constructor(e){this._settings=e,this.errorFilter=new Xq.default(this._settings),this.entryFilter=new Yq.default(this._settings,this._getMicromatchOptions()),this.deepFilter=new Wq.default(this._settings,this._getMicromatchOptions()),this.entryTransformer=new Qq.default(this._settings)}_getRootDirectory(e){return Vq.resolve(this._settings.cwd,e.base)}_getReaderOptions(e){let r=e.base==="."?"":e.base;return{basePath:r,pathSegmentSeparator:"/",concurrency:this._settings.concurrency,deepFilter:this.deepFilter.getFilter(r,e.positive,e.negative),entryFilter:this.entryFilter.getFilter(e.positive,e.negative),errorFilter:this.errorFilter.getFilter(),followSymbolicLinks:this._settings.followSymbolicLinks,fs:this._settings.fs,stats:this._settings.stats,throwErrorOnBrokenSymbolicLink:this._settings.throwErrorOnBrokenSymbolicLink,transform:this.entryTransformer.getTransformer()}}_getMicromatchOptions(){return{dot:this._settings.dot,matchBase:this._settings.baseNameMatch,nobrace:!this._settings.braceExpansion,nocase:!this._settings.caseSensitiveMatch,noext:!this._settings.extglob,noglobstar:!this._settings.globstar,posix:!0,strictSlashes:!1}}};sg.default=ng});var Fv=C(ig=>{"use strict";Object.defineProperty(ig,"__esModule",{value:!0});var Zq=vv(),Jq=gu(),og=class extends Jq.default{constructor(){super(...arguments),this._reader=new Zq.default(this._settings)}async read(e){let r=this._getRootDirectory(e),n=this._getReaderOptions(e);return(await this.api(r,e,n)).map(o=>n.transform(o))}api(e,r,n){return r.dynamic?this._reader.dynamic(e,n):this._reader.static(r.patterns,n)}};ig.default=og});var Uv=C(cg=>{"use strict";Object.defineProperty(cg,"__esModule",{value:!0});var eH=require("stream"),tH=qy(),rH=gu(),ag=class extends rH.default{constructor(){super(...arguments),this._reader=new tH.default(this._settings)}read(e){let r=this._getRootDirectory(e),n=this._getReaderOptions(e),s=this.api(r,e,n),o=new eH.Readable({objectMode:!0,read:()=>{}});return s.once("error",i=>o.emit("error",i)).on("data",i=>o.emit("data",n.transform(i))).once("end",()=>o.emit("end")),o.once("close",()=>s.destroy()),o}api(e,r,n){return r.dynamic?this._reader.dynamic(e,n):this._reader.static(r.patterns,n)}};cg.default=ag});var zv=C(lg=>{"use strict";Object.defineProperty(lg,"__esModule",{value:!0});var nH=oo(),sH=mu(),oH=pu(),dg=class extends oH.default{constructor(){super(...arguments),this._walkSync=sH.walkSync,this._statSync=nH.statSync}dynamic(e,r){return this._walkSync(e,r)}static(e,r){let n=[];for(let s of e){let o=this._getFullEntryPath(s),i=this._getEntry(o,s,r);i===null||!r.entryFilter(i)||n.push(i)}return n}_getEntry(e,r,n){try{let s=this._getStat(e);return this._makeEntry(s,r)}catch(s){if(n.errorFilter(s))return null;throw s}}_getStat(e){return this._statSync(e,this._fsStatSettings)}};lg.default=dg});var $v=C(fg=>{"use strict";Object.defineProperty(fg,"__esModule",{value:!0});var iH=zv(),aH=gu(),ug=class extends aH.default{constructor(){super(...arguments),this._reader=new iH.default(this._settings)}read(e){let r=this._getRootDirectory(e),n=this._getReaderOptions(e);return this.api(r,e,n).map(n.transform)}api(e,r,n){return r.dynamic?this._reader.dynamic(e,n):this._reader.static(r.patterns,n)}};fg.default=ug});var qv=C(Fi=>{"use strict";Object.defineProperty(Fi,"__esModule",{value:!0});Fi.DEFAULT_FILE_SYSTEM_ADAPTER=void 0;var Li=require("fs"),cH=require("os"),dH=Math.max(cH.cpus().length,1);Fi.DEFAULT_FILE_SYSTEM_ADAPTER={lstat:Li.lstat,lstatSync:Li.lstatSync,stat:Li.stat,statSync:Li.statSync,readdir:Li.readdir,readdirSync:Li.readdirSync};var hg=class{constructor(e={}){this._options=e,this.absolute=this._getValue(this._options.absolute,!1),this.baseNameMatch=this._getValue(this._options.baseNameMatch,!1),this.braceExpansion=this._getValue(this._options.braceExpansion,!0),this.caseSensitiveMatch=this._getValue(this._options.caseSensitiveMatch,!0),this.concurrency=this._getValue(this._options.concurrency,dH),this.cwd=this._getValue(this._options.cwd,process.cwd()),this.deep=this._getValue(this._options.deep,1/0),this.dot=this._getValue(this._options.dot,!1),this.extglob=this._getValue(this._options.extglob,!0),this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!0),this.fs=this._getFileSystemMethods(this._options.fs),this.globstar=this._getValue(this._options.globstar,!0),this.ignore=this._getValue(this._options.ignore,[]),this.markDirectories=this._getValue(this._options.markDirectories,!1),this.objectMode=this._getValue(this._options.objectMode,!1),this.onlyDirectories=this._getValue(this._options.onlyDirectories,!1),this.onlyFiles=this._getValue(this._options.onlyFiles,!0),this.stats=this._getValue(this._options.stats,!1),this.suppressErrors=this._getValue(this._options.suppressErrors,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!1),this.unique=this._getValue(this._options.unique,!0),this.onlyDirectories&&(this.onlyFiles=!1),this.stats&&(this.objectMode=!0)}_getValue(e,r){return e===void 0?r:e}_getFileSystemMethods(e={}){return Object.assign(Object.assign({},Fi.DEFAULT_FILE_SYSTEM_ADAPTER),e)}};Fi.default=hg});var gg=C((Xce,Gv)=>{"use strict";var Hv=qN(),jv=jN(),lH=Fv(),uH=Uv(),fH=$v(),mg=qv(),ao=yn();async function pg(t,e){Ui(t);let r=yg(t,lH.default,e),n=await Promise.all(r);return ao.array.flatten(n)}(function(t){function e(i,a){Ui(i);let c=yg(i,fH.default,a);return ao.array.flatten(c)}t.sync=e;function r(i,a){Ui(i);let c=yg(i,uH.default,a);return ao.stream.merge(c)}t.stream=r;function n(i,a){Ui(i);let c=jv.transform([].concat(i)),d=new mg.default(a);return Hv.generate(c,d)}t.generateTasks=n;function s(i,a){Ui(i);let c=new mg.default(a);return ao.pattern.isDynamicPattern(i,c)}t.isDynamicPattern=s;function o(i){return Ui(i),ao.path.escape(i)}t.escapePath=o})(pg||(pg={}));function yg(t,e,r){let n=jv.transform([].concat(t)),s=new mg.default(r),o=Hv.generate(n,s),i=new e(s);return o.map(i.read,i)}function Ui(t){if(![].concat(t).every(n=>ao.string.isString(n)&&!ao.string.isEmpty(n)))throw new TypeError("Patterns must be a string (non empty) or an array of strings")}Gv.exports=pg});var Vv=C(co=>{"use strict";var{promisify:hH}=require("util"),Kv=require("fs");async function Eg(t,e,r){if(typeof r!="string")throw new TypeError(`Expected a string, got ${typeof r}`);try{return(await hH(Kv[t])(r))[e]()}catch(n){if(n.code==="ENOENT")return!1;throw n}}function xg(t,e,r){if(typeof r!="string")throw new TypeError(`Expected a string, got ${typeof r}`);try{return Kv[t](r)[e]()}catch(n){if(n.code==="ENOENT")return!1;throw n}}co.isFile=Eg.bind(null,"stat","isFile");co.isDirectory=Eg.bind(null,"stat","isDirectory");co.isSymlink=Eg.bind(null,"lstat","isSymbolicLink");co.isFileSync=xg.bind(null,"statSync","isFile");co.isDirectorySync=xg.bind(null,"statSync","isDirectory");co.isSymlinkSync=xg.bind(null,"lstatSync","isSymbolicLink")});var Zv=C((Zce,wg)=>{"use strict";var lo=require("path"),Wv=Vv(),Yv=t=>t.length>1?`{${t.join(",")}}`:t[0],Xv=(t,e)=>{let r=t[0]==="!"?t.slice(1):t;return lo.isAbsolute(r)?r:lo.join(e,r)},mH=(t,e)=>lo.extname(t)?`**/${t}`:`**/${t}.${Yv(e)}`,Qv=(t,e)=>{if(e.files&&!Array.isArray(e.files))throw new TypeError(`Expected \`files\` to be of type \`Array\` but received type \`${typeof e.files}\``);if(e.extensions&&!Array.isArray(e.extensions))throw new TypeError(`Expected \`extensions\` to be of type \`Array\` but received type \`${typeof e.extensions}\``);return e.files&&e.extensions?e.files.map(r=>lo.posix.join(t,mH(r,e.extensions))):e.files?e.files.map(r=>lo.posix.join(t,`**/${r}`)):e.extensions?[lo.posix.join(t,`**/*.${Yv(e.extensions)}`)]:[lo.posix.join(t,"**")]};wg.exports=async(t,e)=>{if(e={cwd:process.cwd(),...e},typeof e.cwd!="string")throw new TypeError(`Expected \`cwd\` to be of type \`string\` but received type \`${typeof e.cwd}\``);let r=await Promise.all([].concat(t).map(async n=>await Wv.isDirectory(Xv(n,e.cwd))?Qv(n,e):n));return[].concat.apply([],r)};wg.exports.sync=(t,e)=>{if(e={cwd:process.cwd(),...e},typeof e.cwd!="string")throw new TypeError(`Expected \`cwd\` to be of type \`string\` but received type \`${typeof e.cwd}\``);let r=[].concat(t).map(n=>Wv.isDirectorySync(Xv(n,e.cwd))?Qv(n,e):n);return[].concat.apply([],r)}});var cO=C((Jce,aO)=>{function Jv(t){return Array.isArray(t)?t:[t]}var nO="",eO=" ",Cg="\\",pH=/^\s+$/,yH=/(?:[^\\]|^)\\$/,gH=/^\\!/,EH=/^\\#/,xH=/\r?\n/g,wH=/^\.*\/|^\.+$/,Sg="/",sO="node-ignore";typeof Symbol<"u"&&(sO=Symbol.for("node-ignore"));var tO=sO,CH=(t,e,r)=>Object.defineProperty(t,e,{value:r}),SH=/([0-z])-([0-z])/g,oO=()=>!1,bH=t=>t.replace(SH,(e,r,n)=>r.charCodeAt(0)<=n.charCodeAt(0)?e:nO),_H=t=>{let{length:e}=t;return t.slice(0,e-e%2)},RH=[[/\\?\s+$/,t=>t.indexOf("\\")===0?eO:nO],[/\\\s/g,()=>eO],[/[\\$.|*+(){^]/g,t=>`\\${t}`],[/(?!\\)\?/g,()=>"[^/]"],[/^\//,()=>"^"],[/\//g,()=>"\\/"],[/^\^*\\\*\\\*\\\//,()=>"^(?:.*\\/)?"],[/^(?=[^^])/,function(){return/\/(?!$)/.test(this)?"^":"(?:^|\\/)"}],[/\\\/\\\*\\\*(?=\\\/|$)/g,(t,e,r)=>e+6<r.length?"(?:\\/[^\\/]+)*":"\\/.+"],[/(^|[^\\]+)(\\\*)+(?=.+)/g,(t,e,r)=>{let n=r.replace(/\\\*/g,"[^\\/]*");return e+n}],[/\\\\\\(?=[$.|*+(){^])/g,()=>Cg],[/\\\\/g,()=>Cg],[/(\\)?\[([^\]/]*?)(\\*)($|\])/g,(t,e,r,n,s)=>e===Cg?`\\[${r}${_H(n)}${s}`:s==="]"&&n.length%2===0?`[${bH(r)}${n}]`:"[]"],[/(?:[^*])$/,t=>/\/$/.test(t)?`${t}$`:`${t}(?=$|\\/$)`],[/(\^|\\\/)?\\\*$/,(t,e)=>`${e?`${e}[^/]+`:"[^/]*"}(?=$|\\/$)`]],rO=Object.create(null),AH=(t,e)=>{let r=rO[t];return r||(r=RH.reduce((n,s)=>n.replace(s[0],s[1].bind(t)),t),rO[t]=r),e?new RegExp(r,"i"):new RegExp(r)},Rg=t=>typeof t=="string",kH=t=>t&&Rg(t)&&!pH.test(t)&&!yH.test(t)&&t.indexOf("#")!==0,TH=t=>t.split(xH),bg=class{constructor(e,r,n,s){this.origin=e,this.pattern=r,this.negative=n,this.regex=s}},NH=(t,e)=>{let r=t,n=!1;t.indexOf("!")===0&&(n=!0,t=t.substr(1)),t=t.replace(gH,"!").replace(EH,"#");let s=AH(t,e);return new bg(r,t,n,s)},vH=(t,e)=>{throw new e(t)},En=(t,e,r)=>Rg(t)?t?En.isNotRelative(t)?r(`path should be a \`path.relative()\`d string, but got "${e}"`,RangeError):!0:r("path must not be empty",TypeError):r(`path must be a string, but got \`${e}\``,TypeError),iO=t=>wH.test(t);En.isNotRelative=iO;En.convert=t=>t;var _g=class{constructor({ignorecase:e=!0,ignoreCase:r=e,allowRelativePaths:n=!1}={}){CH(this,tO,!0),this._rules=[],this._ignoreCase=r,this._allowRelativePaths=n,this._initCache()}_initCache(){this._ignoreCache=Object.create(null),this._testCache=Object.create(null)}_addPattern(e){if(e&&e[tO]){this._rules=this._rules.concat(e._rules),this._added=!0;return}if(kH(e)){let r=NH(e,this._ignoreCase);this._added=!0,this._rules.push(r)}}add(e){return this._added=!1,Jv(Rg(e)?TH(e):e).forEach(this._addPattern,this),this._added&&this._initCache(),this}addPattern(e){return this.add(e)}_testOne(e,r){let n=!1,s=!1;return this._rules.forEach(o=>{let{negative:i}=o;if(s===i&&n!==s||i&&!n&&!s&&!r)return;o.regex.test(e)&&(n=!i,s=i)}),{ignored:n,unignored:s}}_test(e,r,n,s){let o=e&&En.convert(e);return En(o,e,this._allowRelativePaths?oO:vH),this._t(o,r,n,s)}_t(e,r,n,s){if(e in r)return r[e];if(s||(s=e.split(Sg)),s.pop(),!s.length)return r[e]=this._testOne(e,n);let o=this._t(s.join(Sg)+Sg,r,n,s);return r[e]=o.ignored?o:this._testOne(e,n)}ignores(e){return this._test(e,this._ignoreCache,!1).ignored}createFilter(){return e=>!this.ignores(e)}filter(e){return Jv(e).filter(this.createFilter())}test(e){return this._test(e,this._testCache,!0)}},Eu=t=>new _g(t),OH=t=>En(t&&En.convert(t),t,oO);Eu.isPathValid=OH;Eu.default=Eu;aO.exports=Eu;if(typeof process<"u"&&(process.env&&process.env.IGNORE_TEST_WIN32||process.platform==="win32")){let t=r=>/^\\\\\?\\/.test(r)||/["<>|\u0000-\u001F]+/u.test(r)?r:r.replace(/\\/g,"/");En.convert=t;let e=/^[a-z]:\//i;En.isNotRelative=r=>e.test(r)||iO(r)}});var lO=C((ede,dO)=>{"use strict";dO.exports=t=>{let e=/^\\\\\?\\/.test(t),r=/[^\u0000-\u0080]+/.test(t);return e||r?t:t.replace(/\\/g,"/")}});var gO=C((tde,Ag)=>{"use strict";var{promisify:PH}=require("util"),uO=require("fs"),xn=require("path"),fO=gg(),IH=cO(),Za=lO(),hO=["**/node_modules/**","**/flow-typed/**","**/coverage/**","**/.git"],DH=PH(uO.readFile),BH=t=>e=>e.startsWith("!")?"!"+xn.posix.join(t,e.slice(1)):xn.posix.join(t,e),MH=(t,e)=>{let r=Za(xn.relative(e.cwd,xn.dirname(e.fileName)));return t.split(/\r?\n/).filter(Boolean).filter(n=>!n.startsWith("#")).map(BH(r))},mO=t=>{let e=IH();for(let r of t)e.add(MH(r.content,{cwd:r.cwd,fileName:r.filePath}));return e},LH=(t,e)=>{if(t=Za(t),xn.isAbsolute(e)){if(Za(e).startsWith(t))return e;throw new Error(`Path ${e} is not in cwd ${t}`)}return xn.join(t,e)},pO=(t,e)=>r=>t.ignores(Za(xn.relative(e,LH(e,r.path||r)))),FH=async(t,e)=>{let r=xn.join(e,t),n=await DH(r,"utf8");return{cwd:e,filePath:r,content:n}},UH=(t,e)=>{let r=xn.join(e,t),n=uO.readFileSync(r,"utf8");return{cwd:e,filePath:r,content:n}},yO=({ignore:t=[],cwd:e=Za(process.cwd())}={})=>({ignore:t,cwd:e});Ag.exports=async t=>{t=yO(t);let e=await fO("**/.gitignore",{ignore:hO.concat(t.ignore),cwd:t.cwd}),r=await Promise.all(e.map(s=>FH(s,t.cwd))),n=mO(r);return pO(n,t.cwd)};Ag.exports.sync=t=>{t=yO(t);let r=fO.sync("**/.gitignore",{ignore:hO.concat(t.ignore),cwd:t.cwd}).map(s=>UH(s,t.cwd)),n=mO(r);return pO(n,t.cwd)}});var xO=C((rde,EO)=>{"use strict";var{Transform:zH}=require("stream"),xu=class extends zH{constructor(){super({objectMode:!0})}},kg=class extends xu{constructor(e){super(),this._filter=e}_transform(e,r,n){this._filter(e)&&this.push(e),n()}},Tg=class extends xu{constructor(){super(),this._pushed=new Set}_transform(e,r,n){this._pushed.has(e)||(this.push(e),this._pushed.add(e)),n()}};EO.exports={FilterStream:kg,UniqueStream:Tg}});var _O=C((nde,uo)=>{"use strict";var CO=require("fs"),wu=iT(),$H=Bp(),Cu=gg(),Su=Zv(),Ng=gO(),{FilterStream:qH,UniqueStream:HH}=xO(),SO=()=>!1,wO=t=>t[0]==="!",jH=t=>{if(!t.every(e=>typeof e=="string"))throw new TypeError("Patterns must be a string or an array of strings")},GH=(t={})=>{if(!t.cwd)return;let e;try{e=CO.statSync(t.cwd)}catch{return}if(!e.isDirectory())throw new Error("The `cwd` option must be a path to a directory")},KH=t=>t.stats instanceof CO.Stats?t.path:t,bu=(t,e)=>{t=wu([].concat(t)),jH(t),GH(e);let r=[];e={ignore:[],expandDirectories:!0,...e};for(let[n,s]of t.entries()){if(wO(s))continue;let o=t.slice(n).filter(a=>wO(a)).map(a=>a.slice(1)),i={...e,ignore:e.ignore.concat(o)};r.push({pattern:s,options:i})}return r},VH=(t,e)=>{let r={};return t.options.cwd&&(r.cwd=t.options.cwd),Array.isArray(t.options.expandDirectories)?r={...r,files:t.options.expandDirectories}:typeof t.options.expandDirectories=="object"&&(r={...r,...t.options.expandDirectories}),e(t.pattern,r)},vg=(t,e)=>t.options.expandDirectories?VH(t,e):[t.pattern],bO=t=>t&&t.gitignore?Ng.sync({cwd:t.cwd,ignore:t.ignore}):SO,Og=t=>e=>{let{options:r}=t;return r.ignore&&Array.isArray(r.ignore)&&r.expandDirectories&&(r.ignore=Su.sync(r.ignore)),{pattern:e,options:r}};uo.exports=async(t,e)=>{let r=bu(t,e),n=async()=>e&&e.gitignore?Ng({cwd:e.cwd,ignore:e.ignore}):SO,s=async()=>{let c=await Promise.all(r.map(async d=>{let l=await vg(d,Su);return Promise.all(l.map(Og(d)))}));return wu(...c)},[o,i]=await Promise.all([n(),s()]),a=await Promise.all(i.map(c=>Cu(c.pattern,c.options)));return wu(...a).filter(c=>!o(KH(c)))};uo.exports.sync=(t,e)=>{let r=bu(t,e),n=[];for(let i of r){let a=vg(i,Su.sync).map(Og(i));n.push(...a)}let s=bO(e),o=[];for(let i of n)o=wu(o,Cu.sync(i.pattern,i.options));return o.filter(i=>!s(i))};uo.exports.stream=(t,e)=>{let r=bu(t,e),n=[];for(let a of r){let c=vg(a,Su.sync).map(Og(a));n.push(...c)}let s=bO(e),o=new qH(a=>!s(a)),i=new HH;return $H(n.map(a=>Cu.stream(a.pattern,a.options))).pipe(o).pipe(i)};uo.exports.generateGlobTasks=bu;uo.exports.hasMagic=(t,e)=>[].concat(t).some(r=>Cu.isDynamicPattern(r,e));uo.exports.gitignore=Ng});var Ja=require("path"),RO=require("fs"),AO=require("fs/promises"),kO=require("stream"),wn=Mt(qu());var PE=async t=>{let e=(t==null?void 0:t.Bucket)||"";if(typeof t.Bucket=="string"&&(t.Bucket=e.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),pI(e)){if(t.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!mI(e)||e.indexOf(".")!==-1&&!String(t.Endpoint).startsWith("http:")||e.toLowerCase()!==e||e.length<3)&&(t.ForcePathStyle=!0);return t.DisableMultiRegionAccessPoints&&(t.disableMultiRegionAccessPoints=!0,t.DisableMRAP=!0),t},uI=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,fI=/(\d+\.){3}\d+/,hI=/\.\./;var mI=t=>uI.test(t)&&!fI.test(t)&&!hI.test(t),pI=t=>{let[e,r,n,s,o,i]=t.split(":"),a=e==="arn"&&t.split(":").length>=6,c=[e,r,n,o,i].filter(Boolean).length===5;if(a&&!c)throw new Error(`Invalid ARN: ${t} was an invalid ARN.`);return e==="arn"&&!!r&&!!n&&!!o&&!!i};var IE=(t,e,r)=>{let n=async()=>{let s=r[t]??r[e];return typeof s=="function"?s():s};return t==="endpoint"||e==="endpoint"?async()=>{let s=await n();if(s&&typeof s=="object"){if("url"in s)return s.url.href;if("hostname"in s){let{protocol:o,hostname:i,port:a,path:c}=s;return`${o}//${i}${a?":"+a:""}${c}`}}return s}:n};var DE=async(t,e,r,n)=>{let s=await yI(t,e,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(s,n)},yI=async(t,e,r)=>{var o;let n={},s=((o=e==null?void 0:e.getEndpointParameterInstructions)==null?void 0:o.call(e))||{};for(let[i,a]of Object.entries(s))switch(a.type){case"staticContextParams":n[i]=a.value;break;case"contextParams":n[i]=t[a.name];break;case"clientContextParams":case"builtInParams":n[i]=await IE(a.name,i,r)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(a))}return Object.keys(s).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await PE(n),n};function BE(t){let e={};if(t=t.replace(/^\?/,""),t)for(let r of t.split("&")){let[n,s=null]=r.split("=");n=decodeURIComponent(n),s&&(s=decodeURIComponent(s)),n in e?Array.isArray(e[n])?e[n].push(s):e[n]=[e[n],s]:e[n]=s}return e}var gt=t=>{if(typeof t=="string")return gt(new URL(t));let{hostname:e,pathname:r,port:n,protocol:s,search:o}=t,i;return o&&(i=BE(o)),{hostname:e,port:n?parseInt(n):void 0,protocol:s,path:r,query:i}};var ME=t=>typeof t=="object"?"url"in t?gt(t.url):t:gt(t);var LE=({config:t,instructions:e})=>(r,n)=>async s=>{var a,c;let o=await DE(s.input,{getEndpointParameterInstructions(){return e}},{...t},n);n.endpointV2=o,n.authSchemes=(a=o.properties)==null?void 0:a.authSchemes;let i=(c=n.authSchemes)==null?void 0:c[0];return i&&(n.signing_region=i.signingRegion,n.signing_service=i.signingName),r({...s})};var FE=(t,e)=>(r,n)=>async s=>{let{response:o}=await r(s);try{let i=await e(o,t);return{response:o,output:i}}catch(i){if(Object.defineProperty(i,"$response",{value:o}),!("$metadata"in i)){let a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";i.message+=`
  `+a}throw i}};var UE=(t,e)=>(r,n)=>async s=>{var a;let o=(a=n.endpointV2)!=null&&a.url&&t.urlParser?async()=>t.urlParser(n.endpointV2.url):t.endpoint;if(!o)throw new Error("No valid endpoint provider available.");let i=await e(s.input,{...t,endpoint:o});return r({...s,request:i})};var gI={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},Yu={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function ur(t,e,r){return{applyToStack:n=>{n.add(FE(t,r),gI),n.add(UE(t,e),Yu)}}}var EI={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:Yu.name},fr=(t,e)=>({applyToStack:r=>{r.addRelativeTo(LE({config:t,instructions:e}),EI)}});var Qe=t=>{if(typeof t=="function")return t;let e=Promise.resolve(t);return()=>e};var kn=t=>{let e=t.tls??!0,{endpoint:r}=t,n=r!=null?async()=>ME(await Qe(r)()):void 0;return{...t,endpoint:n,tls:e,isCustomEndpoint:!!r,useDualstackEndpoint:Qe(t.useDualstackEndpoint??!1),useFipsEndpoint:Qe(t.useFipsEndpoint??!1)}};var hr=class{trace(){}debug(){}info(){}warn(){}error(){}};var wo=()=>{let t=[],e=[],r=new Set,n=l=>l.sort((f,u)=>zE[u.step]-zE[f.step]||$E[u.priority||"normal"]-$E[f.priority||"normal"]),s=l=>{let f=!1,u=g=>g.name&&g.name===l?(f=!0,r.delete(l),!1):!0;return t=t.filter(u),e=e.filter(u),f},o=l=>{let f=!1,u=g=>g.middleware===l?(f=!0,g.name&&r.delete(g.name),!1):!0;return t=t.filter(u),e=e.filter(u),f},i=l=>(t.forEach(f=>{l.add(f.middleware,{...f})}),e.forEach(f=>{l.addRelativeTo(f.middleware,{...f})}),l),a=l=>{let f=[];return l.before.forEach(u=>{u.before.length===0&&u.after.length===0?f.push(u):f.push(...a(u))}),f.push(l),l.after.reverse().forEach(u=>{u.before.length===0&&u.after.length===0?f.push(u):f.push(...a(u))}),f},c=(l=!1)=>{let f=[],u=[],g={};return t.forEach(b=>{let R={...b,before:[],after:[]};R.name&&(g[R.name]=R),f.push(R)}),e.forEach(b=>{let R={...b,before:[],after:[]};R.name&&(g[R.name]=R),u.push(R)}),u.forEach(b=>{if(b.toMiddleware){let R=g[b.toMiddleware];if(R===void 0){if(l)return;throw new Error(`${b.toMiddleware} is not found when adding ${b.name||"anonymous"} middleware ${b.relation} ${b.toMiddleware}`)}b.relation==="after"&&R.after.push(b),b.relation==="before"&&R.before.push(b)}}),n(f).map(a).reduce((b,R)=>(b.push(...R),b),[])},d={add:(l,f={})=>{let{name:u,override:g}=f,y={step:"initialize",priority:"normal",middleware:l,...f};if(u){if(r.has(u)){if(!g)throw new Error(`Duplicate middleware name '${u}'`);let b=t.findIndex(B=>B.name===u),R=t[b];if(R.step!==y.step||R.priority!==y.priority)throw new Error(`"${u}" middleware with ${R.priority} priority in ${R.step} step cannot be overridden by same-name middleware with ${y.priority} priority in ${y.step} step.`);t.splice(b,1)}r.add(u)}t.push(y)},addRelativeTo:(l,f)=>{let{name:u,override:g}=f,y={middleware:l,...f};if(u){if(r.has(u)){if(!g)throw new Error(`Duplicate middleware name '${u}'`);let b=e.findIndex(B=>B.name===u),R=e[b];if(R.toMiddleware!==y.toMiddleware||R.relation!==y.relation)throw new Error(`"${u}" middleware ${R.relation} "${R.toMiddleware}" middleware cannot be overridden by same-name middleware ${y.relation} "${y.toMiddleware}" middleware.`);e.splice(b,1)}r.add(u)}e.push(y)},clone:()=>i(wo()),use:l=>{l.applyToStack(d)},remove:l=>typeof l=="string"?s(l):o(l),removeByTag:l=>{let f=!1,u=g=>{let{tags:y,name:b}=g;return y&&y.includes(l)?(b&&r.delete(b),f=!0,!1):!0};return t=t.filter(u),e=e.filter(u),f},concat:l=>{let f=i(wo());return f.use(l),f},applyToStack:i,identify:()=>c(!0).map(l=>l.name+": "+(l.tags||[]).join(",")),resolve:(l,f)=>{for(let u of c().map(g=>g.middleware).reverse())l=u(l,f);return l}};return d},zE={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},$E={high:3,normal:2,low:1};var mr=class{constructor(e){this.middlewareStack=wo(),this.config=e}send(e,r,n){let s=typeof r!="function"?r:void 0,o=typeof r=="function"?r:n,i=e.resolveMiddleware(this.middlewareStack,this.config,s);if(o)i(e).then(a=>o(null,a.output),a=>o(a)).catch(()=>{});else return i(e).then(a=>a.output)}destroy(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}};var zt=class{constructor(){this.middlewareStack=wo()}};var pr="***SensitiveInformation***";var GE=t=>{switch(t){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${t}"`)}};var xI=t=>{if(t!=null){if(typeof t=="string"){let e=parseFloat(t);if(!Number.isNaN(e))return String(e)!==String(t)&&XE.warn(YE(`Expected number but observed string: ${t}`)),e}if(typeof t=="number")return t;throw new TypeError(`Expected number, got ${typeof t}: ${t}`)}},wI=Math.ceil(34028234663852886e22),qE=t=>{let e=xI(t);if(e!==void 0&&!Number.isNaN(e)&&e!==1/0&&e!==-1/0&&Math.abs(e)>wI)throw new TypeError(`Expected 32-bit float, got ${t}`);return e},gc=t=>{if(t!=null){if(Number.isInteger(t)&&!Number.isNaN(t))return t;throw new TypeError(`Expected integer, got ${typeof t}: ${t}`)}};var yc=t=>Xu(t,32),HE=t=>Xu(t,16),jE=t=>Xu(t,8),Xu=(t,e)=>{let r=gc(t);if(r!==void 0&&CI(r,e)!==r)throw new TypeError(`Expected ${e}-bit integer, got ${t}`);return r},CI=(t,e)=>{switch(e){case 32:return Int32Array.of(t)[0];case 16:return Int16Array.of(t)[0];case 8:return Int8Array.of(t)[0]}},Hr=(t,e)=>{if(t==null)throw e?new TypeError(`Expected a non-null value for ${e}`):new TypeError("Expected a non-null value");return t},Hi=t=>{if(t==null)return;if(typeof t=="object"&&!Array.isArray(t))return t;let e=Array.isArray(t)?"array":typeof t;throw new TypeError(`Expected object, got ${e}: ${t}`)},U=t=>{if(t!=null){if(typeof t=="string")return t;if(["boolean","number","bigint"].includes(typeof t))return XE.warn(YE(`Expected string, got ${typeof t}: ${t}`)),String(t);throw new TypeError(`Expected string, got ${typeof t}: ${t}`)}};var KE=t=>qE(typeof t=="string"?Ec(t):t),SI=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,Ec=t=>{let e=t.match(SI);if(e===null||e[0].length!==t.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(t)};var xc=t=>yc(typeof t=="string"?Ec(t):t),VE=t=>HE(typeof t=="string"?Ec(t):t),WE=t=>jE(typeof t=="string"?Ec(t):t),YE=t=>String(new TypeError(t).stack||t).split(`
`).slice(0,5).filter(e=>!e.includes("stackTraceWarning")).join(`
`),XE={warn:console.warn};var bI=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],QE=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function ZE(t){let e=t.getUTCFullYear(),r=t.getUTCMonth(),n=t.getUTCDay(),s=t.getUTCDate(),o=t.getUTCHours(),i=t.getUTCMinutes(),a=t.getUTCSeconds(),c=s<10?`0${s}`:`${s}`,d=o<10?`0${o}`:`${o}`,l=i<10?`0${i}`:`${i}`,f=a<10?`0${a}`:`${a}`;return`${bI[n]}, ${c} ${QE[r]} ${e} ${d}:${l}:${f} GMT`}var V6=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/);var _I=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),Qu=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let e=_I.exec(t);if(!e)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,s,o,i,a,c,d,l]=e,f=VE(JE(n)),u=ji(s,"month",1,12),g=ji(o,"day",1,31),y=RI(f,u,g,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:d});return l.toUpperCase()!="Z"&&y.setTime(y.getTime()-vI(l)),y},W6=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),Y6=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),X6=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/);var RI=(t,e,r,n)=>{let s=e-1;return kI(t,s,r),new Date(Date.UTC(t,s,r,ji(n.hours,"hour",0,23),ji(n.minutes,"minute",0,59),ji(n.seconds,"seconds",0,60),NI(n.fractionalMilliseconds)))};var Q6=50*365*24*60*60*1e3;var AI=[31,28,31,30,31,30,31,31,30,31,30,31],kI=(t,e,r)=>{let n=AI[e];if(e===1&&TI(t)&&(n=29),r>n)throw new TypeError(`Invalid day for ${QE[e]} in ${t}: ${r}`)},TI=t=>t%4===0&&(t%100!==0||t%400===0),ji=(t,e,r,n)=>{let s=WE(JE(t));if(s<r||s>n)throw new TypeError(`${e} must be between ${r} and ${n}, inclusive`);return s},NI=t=>t==null?0:KE("0."+t)*1e3,vI=t=>{let e=t[0],r=1;if(e=="+")r=1;else if(e=="-")r=-1;else throw new TypeError(`Offset direction, ${e}, must be "+" or "-"`);let n=Number(t.substring(1,3)),s=Number(t.substring(4,6));return r*(n*60+s)*60*1e3},JE=t=>{let e=0;for(;e<t.length-1&&t.charAt(e)==="0";)e++;return e===0?t:t.slice(e)};var $t=class extends Error{constructor(e){super(e.message),Object.setPrototypeOf(this,$t.prototype),this.name=e.name,this.$fault=e.$fault,this.$metadata=e.$metadata}},ge=(t,e={})=>{Object.entries(e).filter(([,n])=>n!==void 0).forEach(([n,s])=>{(t[n]==null||t[n]==="")&&(t[n]=s)});let r=t.message||t.Message||"UnknownError";return t.message=r,delete t.Message,t};var jr=({output:t,parsedBody:e,exceptionCtor:r,errorCode:n})=>{let s=OI(t),o=s.httpStatusCode?s.httpStatusCode+"":void 0,i=new r({name:(e==null?void 0:e.code)||(e==null?void 0:e.Code)||n||o||"UnknownError",$fault:"client",$metadata:s});throw ge(i,e)},OI=t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]});var Tn=t=>{switch(t){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}};var ex=!1,Nn=t=>{t&&!ex&&parseInt(t.substring(1,t.indexOf(".")))<14&&(ex=!0)};function Co(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}var Gi=t=>{let e="#text";for(let r in t)t.hasOwnProperty(r)&&t[r][e]!==void 0?t[r]=t[r][e]:typeof t[r]=="object"&&t[r]!==null&&(t[r]=Gi(t[r]));return t};var Zu=function(){let t=Object.getPrototypeOf(this).constructor,e=Function.bind.apply(String,[null,...arguments]),r=new e;return Object.setPrototypeOf(r,t.prototype),r};Zu.prototype=Object.create(String.prototype,{constructor:{value:Zu,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf(Zu,String);function Ns(t,e,r){let n,s,o;if(typeof e>"u"&&typeof r>"u")n={},o=t;else{if(n=t,typeof e=="function")return s=e,o=r,PI(n,s,o);o=e}for(let i of Object.keys(o)){if(!Array.isArray(o[i])){n[i]=o[i];continue}II(n,null,o,i)}return n}var PI=(t,e,r)=>Ns(t,Object.entries(r).reduce((n,[s,o])=>(Array.isArray(o)?n[s]=o:typeof o=="function"?n[s]=[e,o()]:n[s]=[e,o],n),{})),II=(t,e,r,n)=>{if(e!==null){let i=r[n];typeof i=="function"&&(i=[,i]);let[a=DI,c=BI,d=n]=i;(typeof a=="function"&&a(e[d])||typeof a!="function"&&a)&&(t[n]=c(e[d]));return}let[s,o]=r[n];if(typeof o=="function"){let i,a=s===void 0&&(i=o())!=null,c=typeof s=="function"&&!!s(void 0)||typeof s!="function"&&!!s;a?t[n]=i:c&&(t[n]=o())}else{let i=s===void 0&&o!=null,a=typeof s=="function"&&!!s(o)||typeof s!="function"&&!!s;(i||a)&&(t[n]=o)}},DI=t=>t!=null,BI=t=>t;var Ju=(t,e,r,n,s,o)=>{if(e!=null&&e[r]!==void 0){let i=n();if(i.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");t=t.replace(s,o?i.split("/").map(a=>Co(a)).join("/"):Co(i))}else throw new Error("No value provided for input HTTP label: "+r+".");return t};var ef;(function(t){t[t.HEADER=0]="HEADER",t[t.TRAILER=1]="TRAILER"})(ef||(ef={}));var se=class{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?e.protocol.slice(-1)!==":"?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?e.path.charAt(0)!=="/"?`/${e.path}`:e.path:"/"}static isInstance(e){if(!e)return!1;let r=e;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){let e=new se({...this,headers:{...this.headers}});return e.query&&(e.query=MI(e.query)),e}};function MI(t){return Object.keys(t).reduce((e,r)=>{let n=t[r];return{...e,[r]:Array.isArray(n)?[...n]:n}},{})}var nr=class{constructor(e){this.statusCode=e.statusCode,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;let r=e;return typeof r.statusCode=="number"&&typeof r.headers=="object"}};var Lx=Mt(ff());var So=class extends $t{constructor(e){super(e),Object.setPrototypeOf(this,So.prototype)}};var Ox;(function(t){t.visit=(e,r)=>e.Prefix!==void 0?r.Prefix(e.Prefix):e.Tag!==void 0?r.Tag(e.Tag):e.And!==void 0?r.And(e.And):r._(e.$unknown[0],e.$unknown[1])})(Ox||(Ox={}));var Px;(function(t){t.visit=(e,r)=>e.Prefix!==void 0?r.Prefix(e.Prefix):e.Tag!==void 0?r.Tag(e.Tag):e.ObjectSizeGreaterThan!==void 0?r.ObjectSizeGreaterThan(e.ObjectSizeGreaterThan):e.ObjectSizeLessThan!==void 0?r.ObjectSizeLessThan(e.ObjectSizeLessThan):e.And!==void 0?r.And(e.And):r._(e.$unknown[0],e.$unknown[1])})(Px||(Px={}));var Ix;(function(t){t.visit=(e,r)=>e.Prefix!==void 0?r.Prefix(e.Prefix):e.Tag!==void 0?r.Tag(e.Tag):e.AccessPointArn!==void 0?r.AccessPointArn(e.AccessPointArn):e.And!==void 0?r.And(e.And):r._(e.$unknown[0],e.$unknown[1])})(Ix||(Ix={}));var Dx;(function(t){t.visit=(e,r)=>e.Prefix!==void 0?r.Prefix(e.Prefix):e.Tag!==void 0?r.Tag(e.Tag):e.And!==void 0?r.And(e.And):r._(e.$unknown[0],e.$unknown[1])})(Dx||(Dx={}));var Bx=t=>({...t,...t.SSEKMSKeyId&&{SSEKMSKeyId:pr},...t.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:pr}}),Mx=t=>({...t,...t.SSECustomerKey&&{SSECustomerKey:pr},...t.SSEKMSKeyId&&{SSEKMSKeyId:pr},...t.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:pr}});var Fx=async(t,e)=>{let{hostname:r,protocol:n="https",port:s,path:o}=await e.endpoint(),i=hf({},Wi,{"content-type":t.ContentType||"application/octet-stream","x-amz-acl":t.ACL,"cache-control":t.CacheControl,"content-disposition":t.ContentDisposition,"content-encoding":t.ContentEncoding,"content-language":t.ContentLanguage,"content-length":[()=>Wi(t.ContentLength),()=>t.ContentLength.toString()],"content-md5":t.ContentMD5,"x-amz-sdk-checksum-algorithm":t.ChecksumAlgorithm,"x-amz-checksum-crc32":t.ChecksumCRC32,"x-amz-checksum-crc32c":t.ChecksumCRC32C,"x-amz-checksum-sha1":t.ChecksumSHA1,"x-amz-checksum-sha256":t.ChecksumSHA256,expires:[()=>Wi(t.Expires),()=>ZE(t.Expires).toString()],"x-amz-grant-full-control":t.GrantFullControl,"x-amz-grant-read":t.GrantRead,"x-amz-grant-read-acp":t.GrantReadACP,"x-amz-grant-write-acp":t.GrantWriteACP,"x-amz-server-side-encryption":t.ServerSideEncryption,"x-amz-storage-class":t.StorageClass,"x-amz-website-redirect-location":t.WebsiteRedirectLocation,"x-amz-server-side-encryption-customer-algorithm":t.SSECustomerAlgorithm,"x-amz-server-side-encryption-customer-key":t.SSECustomerKey,"x-amz-server-side-encryption-customer-key-md5":t.SSECustomerKeyMD5,"x-amz-server-side-encryption-aws-kms-key-id":t.SSEKMSKeyId,"x-amz-server-side-encryption-context":t.SSEKMSEncryptionContext,"x-amz-server-side-encryption-bucket-key-enabled":[()=>Wi(t.BucketKeyEnabled),()=>t.BucketKeyEnabled.toString()],"x-amz-request-payer":t.RequestPayer,"x-amz-tagging":t.Tagging,"x-amz-object-lock-mode":t.ObjectLockMode,"x-amz-object-lock-retain-until-date":[()=>Wi(t.ObjectLockRetainUntilDate),()=>(t.ObjectLockRetainUntilDate.toISOString().split(".")[0]+"Z").toString()],"x-amz-object-lock-legal-hold":t.ObjectLockLegalHoldStatus,"x-amz-expected-bucket-owner":t.ExpectedBucketOwner,...t.Metadata!==void 0&&Object.keys(t.Metadata).reduce((f,u)=>(f[`x-amz-meta-${u.toLowerCase()}`]=t.Metadata[u],f),{})}),a=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/{Key+}`;a=Ju(a,t,"Bucket",()=>t.Bucket,"{Bucket}",!1),a=Ju(a,t,"Key",()=>t.Key,"{Key+}",!0);let c=hf({"x-id":[,"PutObject"]}),d;t.Body!==void 0&&(d=t.Body);let l;return t.Body!==void 0&&(l=t.Body,d=l),new se({protocol:n,hostname:r,port:s,method:"PUT",headers:i,path:a,query:c,body:d})};var Ux=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return UD(t,e);let r=hf({$metadata:zD(t),Expiration:[,t.headers["x-amz-expiration"]],ETag:[,t.headers.etag],ChecksumCRC32:[,t.headers["x-amz-checksum-crc32"]],ChecksumCRC32C:[,t.headers["x-amz-checksum-crc32c"]],ChecksumSHA1:[,t.headers["x-amz-checksum-sha1"]],ChecksumSHA256:[,t.headers["x-amz-checksum-sha256"]],ServerSideEncryption:[,t.headers["x-amz-server-side-encryption"]],VersionId:[,t.headers["x-amz-version-id"]],SSECustomerAlgorithm:[,t.headers["x-amz-server-side-encryption-customer-algorithm"]],SSECustomerKeyMD5:[,t.headers["x-amz-server-side-encryption-customer-key-md5"]],SSEKMSKeyId:[,t.headers["x-amz-server-side-encryption-aws-kms-key-id"]],SSEKMSEncryptionContext:[,t.headers["x-amz-server-side-encryption-context"]],BucketKeyEnabled:[()=>t.headers["x-amz-server-side-encryption-bucket-key-enabled"]!==void 0,()=>GE(t.headers["x-amz-server-side-encryption-bucket-key-enabled"])],RequestCharged:[,t.headers["x-amz-request-charged"]]});return await zx(t.body,e),r},UD=async(t,e)=>{let r={...t,body:await HD(t.body,e)},n=jD(t,r.body),s=r.body;jr({output:t,parsedBody:s,exceptionCtor:So,errorCode:n})};var hf=Ns;var zD=t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}),zx=(t=new Uint8Array,e)=>t instanceof Uint8Array?Promise.resolve(t):e.streamCollector(t)||Promise.resolve(new Uint8Array),$D=(t,e)=>zx(t,e).then(r=>e.utf8Encoder(r)),Wi=t=>t!=null&&t!==""&&(!Object.getOwnPropertyNames(t).includes("length")||t.length!=0)&&(!Object.getOwnPropertyNames(t).includes("size")||t.size!=0),qD=(t,e)=>$D(t,e).then(r=>{if(r.length){let n=new Lx.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,d)=>d.trim()===""&&d.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let s=n.parse(r),o="#text",i=Object.keys(s)[0],a=s[i];return a[o]&&(a[i]=a[o],delete a[o]),Gi(a)}return{}}),HD=async(t,e)=>{let r=await qD(t,e);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},jD=(t,e)=>{if((e==null?void 0:e.Code)!==void 0)return e.Code;if(t.statusCode==404)return"NotFound"};var GD="content-length";function KD(){return(t,e)=>async r=>{var s;let{request:n}=r;if(se.isInstance(n)&&!n.headers[GD]){let o="Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.";typeof((s=e==null?void 0:e.logger)==null?void 0:s.warn)=="function"?e.logger.warn(o):console.warn(o)}return t({...r})}}var VD={step:"finalizeRequest",tags:["CHECK_CONTENT_LENGTH_HEADER"],name:"getCheckContentLengthHeaderPlugin",override:!0},$x=t=>({applyToStack:e=>{e.add(KD(),VD)}});var qx=t=>({...t,forcePathStyle:t.forcePathStyle??!1,useAccelerateEndpoint:t.useAccelerateEndpoint??!1,disableMultiregionAccessPoints:t.disableMultiregionAccessPoints??!1});var mf=t=>typeof t=="string"&&t.indexOf("arn:")===0&&t.split(":").length>=6;function WD(){return t=>async e=>{let{input:{Bucket:r}}=e;if(typeof r=="string"&&!mf(r)&&r.indexOf("/")>=0){let n=new Error(`Bucket name shouldn't contain '/', received '${r}'`);throw n.name="InvalidBucketName",n}return t({...e})}}var YD={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},Hx=t=>({applyToStack:e=>{e.add(WD(),YD)}});function XD(t){return e=>async r=>{let n={...r.input},s=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}];for(let o of s){let i=n[o.target];if(i){let a=ArrayBuffer.isView(i)?new Uint8Array(i.buffer,i.byteOffset,i.byteLength):typeof i=="string"?t.utf8Decoder(i):new Uint8Array(i),c=t.base64Encoder(a),d=new t.md5;d.update(a),n={...n,[o.target]:c,[o.hash]:t.base64Encoder(await d.digest())}}}return e({...r,input:n})}}var QD={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},jx=t=>({applyToStack:e=>{e.add(XD(t),QD)}});var Ie;(function(t){t.MD5="MD5",t.CRC32="CRC32",t.CRC32C="CRC32C",t.SHA1="SHA1",t.SHA256="SHA256"})(Ie||(Ie={}));var Gx;(function(t){t.HEADER="header",t.TRAILER="trailer"})(Gx||(Gx={}));var Yi=[Ie.CRC32,Ie.CRC32C,Ie.SHA1,Ie.SHA256],Kx=[Ie.CRC32,Ie.CRC32C,Ie.SHA1,Ie.SHA256];var Vx=(t,{requestChecksumRequired:e,requestAlgorithmMember:r})=>{if(!r||!t[r])return e?Ie.MD5:void 0;let n=t[r];if(!Yi.includes(n))throw new Error(`The checksum algorithm "${n}" is not supported by the client. Select one of ${Yi}.`);return n};var wc=t=>t===Ie.MD5?"content-md5":`x-amz-checksum-${t.toLowerCase()}`;var Wx=(t,e)=>{let r=t.toLowerCase();for(let n of Object.keys(e))if(r===n.toLowerCase())return!0;return!1};var bo=t=>typeof ArrayBuffer=="function"&&t instanceof ArrayBuffer||Object.prototype.toString.call(t)==="[object ArrayBuffer]";var Cc=t=>t!==void 0&&typeof t!="string"&&!ArrayBuffer.isView(t)&&!bo(t);var gw=Mt(Zi()),Ew=Mt(kf());var Tc=(t,e)=>({[Ie.MD5]:e.md5,[Ie.CRC32]:gw.AwsCrc32,[Ie.CRC32C]:Ew.AwsCrc32c,[Ie.SHA1]:e.sha1,[Ie.SHA256]:e.sha256})[t];var Nc=require("buffer"),Kr=(t,e=0,r=t.byteLength-e)=>{if(!bo(t))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof t} (${t})`);return Nc.Buffer.from(t,e,r)},_o=(t,e)=>{if(typeof t!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof t} (${t})`);return e?Nc.Buffer.from(t,e):Nc.Buffer.from(t)};var gr=t=>{let e=_o(t,"utf8");return new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT)};var xt=t=>typeof t=="string"?gr(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t);var In=t=>Kr(t.buffer,t.byteOffset,t.byteLength).toString("utf8");var vc=(t,e)=>{let r=new t;return r.update(xt(e||"")),r.digest()};var xw=async(t,{streamHasher:e,checksumAlgorithmFn:r,base64Encoder:n})=>{let s=Cc(t)?e(r,t):vc(r,t);return n(await s)};var ww=(t=[])=>{let e=[];for(let r of Kx)!t.includes(r)||!Yi.includes(r)||e.push(r);return e};var Cw=async(t,{config:e,responseAlgorithms:r})=>{let n=ww(r),{body:s,headers:o}=t;for(let i of n){let a=wc(i),c=o[a];if(c){let d=Tc(i,e),{streamHasher:l,base64Encoder:f}=e,u=await xw(s,{streamHasher:l,checksumAlgorithmFn:d,base64Encoder:f});if(u===c)break;throw new Error(`Checksum mismatch: expected "${u}" but received "${c}" in response header "${a}".`)}}};var Sw=(t,e)=>r=>async n=>{if(!se.isInstance(n.request))return r(n);let{request:s}=n,{body:o,headers:i}=s,{base64Encoder:a,streamHasher:c}=t,{input:d,requestChecksumRequired:l,requestAlgorithmMember:f}=e,u=Vx(d,{requestChecksumRequired:l,requestAlgorithmMember:f}),g=o,y=i;if(u){let te=wc(u),Q=Tc(u,t);if(Cc(o)){let{getAwsChunkedEncodingStream:Le,bodyLengthChecker:X}=t;g=Le(o,{base64Encoder:a,bodyLengthChecker:X,checksumLocationName:te,checksumAlgorithmFn:Q,streamHasher:c}),y={...i,"content-encoding":i["content-encoding"]?`${i["content-encoding"]},aws-chunked`:"aws-chunked","transfer-encoding":"chunked","x-amz-decoded-content-length":i["content-length"],"x-amz-content-sha256":"STREAMING-UNSIGNED-PAYLOAD-TRAILER","x-amz-trailer":te},delete y["content-length"]}else if(!Wx(te,i)){let Le=await vc(Q,o);y={...i,[te]:a(Le)}}}let b=await r({...n,request:{...s,headers:y,body:g}}),{requestValidationModeMember:R,responseAlgorithms:B}=e;return R&&d[R]==="ENABLED"&&Cw(b.response,{config:t,responseAlgorithms:B}),b};var c1={name:"flexibleChecksumsMiddleware",step:"build",tags:["BODY_CHECKSUM"],override:!0},bw=(t,e)=>({applyToStack:r=>{r.add(Sw(t,e),c1)}});var Os=class extends zt{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,r,n){this.middlewareStack.use(ur(r,this.serialize,this.deserialize)),this.middlewareStack.use(fr(r,Os.getEndpointParameterInstructions())),this.middlewareStack.use($x(r)),this.middlewareStack.use(jx(r)),this.middlewareStack.use(bw(r,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!1}));let s=e.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"S3Client",commandName:"PutObjectCommand",inputFilterSensitiveLog:Mx,outputFilterSensitiveLog:Bx},{requestHandler:d}=r;return s.resolve(l=>d.handle(l.request,n||{}),c)}serialize(e,r){return Fx(e,r)}deserialize(e,r){return Ux(e,r)}};var qt;(function(t){t.ENV="env",t.CONFIG="shared config entry"})(qt||(qt={}));var Er=(t,e,r)=>{if(e in t){if(t[e]==="true")return!0;if(t[e]==="false")return!1;throw new Error(`Cannot load ${r} "${e}". Expected "true" or "false", got ${t[e]}.`)}};var d1="AWS_USE_DUALSTACK_ENDPOINT",l1="use_dualstack_endpoint";var Dn={environmentVariableSelector:t=>Er(t,d1,qt.ENV),configFileSelector:t=>Er(t,l1,qt.CONFIG),default:!1};var u1="AWS_USE_FIPS_ENDPOINT",f1="use_fips_endpoint";var Bn={environmentVariableSelector:t=>Er(t,u1,qt.ENV),configFileSelector:t=>Er(t,f1,qt.CONFIG),default:!1};var h1="AWS_REGION",m1="region",xr={environmentVariableSelector:t=>t[h1],configFileSelector:t=>t[m1],default:()=>{throw new Error("Region is missing")}},Mn={preferredFile:"credentials"};var Oc=t=>typeof t=="string"&&(t.startsWith("fips-")||t.endsWith("-fips"));var Tf=t=>Oc(t)?["fips-aws-global","aws-fips"].includes(t)?"us-east-1":t.replace(/fips-(dkr-|prod-)?|-fips/,""):t;var Ln=t=>{let{region:e,useFipsEndpoint:r}=t;if(!e)throw new Error("Region is missing");return{...t,region:async()=>{if(typeof e=="string")return Tf(e);let n=await e();return Tf(n)},useFipsEndpoint:async()=>{let n=typeof e=="string"?e:await e();return Oc(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}}};var _w=t=>({...t,eventStreamMarshaller:t.eventStreamSerdeProvider(t)});var Rw="content-length";function p1(t){return e=>async r=>{let n=r.request;if(se.isInstance(n)){let{body:s,headers:o}=n;if(s&&Object.keys(o).map(i=>i.toLowerCase()).indexOf(Rw)===-1)try{let i=t(s);n.headers={...n.headers,[Rw]:String(i)}}catch{}}return e({...r,request:n})}}var y1={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},Fn=t=>({applyToStack:e=>{e.add(p1(t.bodyLengthChecker),y1)}});function g1(t){return e=>async r=>{let{request:n}=r;return se.isInstance(n)&&n.body&&t.runtime==="node"&&(n.headers={...n.headers,Expect:"100-continue"}),e({...r,request:n})}}var E1={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},Aw=t=>({applyToStack:e=>{e.add(g1(t),E1)}});var x1=t=>e=>async r=>{if(!se.isInstance(r.request))return e(r);let{request:n}=r,{handlerProtocol:s=""}=t.requestHandler.metadata||{};if(s.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]="";else if(!n.headers.host){let o=n.hostname;n.port!=null&&(o+=`:${n.port}`),n.headers.host=o}return e(r)},w1={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},Un=t=>({applyToStack:e=>{e.add(x1(t),w1)}});var C1=()=>(t,e)=>async r=>{var n,s;try{let o=await t(r),{clientName:i,commandName:a,logger:c,dynamoDbDocumentClientOptions:d={}}=e,{overrideInputFilterSensitiveLog:l,overrideOutputFilterSensitiveLog:f}=d,u=l??e.inputFilterSensitiveLog,g=f??e.outputFilterSensitiveLog,{$metadata:y,...b}=o.output;return(n=c==null?void 0:c.info)==null||n.call(c,{clientName:i,commandName:a,input:u(r.input),output:g(b),metadata:y}),o}catch(o){let{clientName:i,commandName:a,logger:c,dynamoDbDocumentClientOptions:d={}}=e,{overrideInputFilterSensitiveLog:l}=d,f=l??e.inputFilterSensitiveLog;throw(s=c==null?void 0:c.error)==null||s.call(c,{clientName:i,commandName:a,input:f(r.input),error:o,metadata:o.$metadata}),o}},S1={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},zn=t=>({applyToStack:e=>{e.add(C1(),S1)}});var kw="X-Amzn-Trace-Id",b1="AWS_LAMBDA_FUNCTION_NAME",_1="_X_AMZN_TRACE_ID",R1=t=>e=>async r=>{let{request:n}=r;if(!se.isInstance(n)||t.runtime!=="node"||n.headers.hasOwnProperty(kw))return e(r);let s=process.env[b1],o=process.env[_1],i=a=>typeof a=="string"&&a.length>0;return i(s)&&i(o)&&(n.headers[kw]=o),e({...r,request:n})},A1={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},$n=t=>({applyToStack:e=>{e.add(R1(t),A1)}});var wr;(function(t){t.STANDARD="standard",t.ADAPTIVE="adaptive"})(wr||(wr={}));var Ps=3,Cr="STANDARD";var Tw=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],Nw=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],vw=[500,502,503,504],Ow=["ECONNRESET","EPIPE","ETIMEDOUT"];var Ro=t=>{var e,r;return((e=t.$metadata)==null?void 0:e.httpStatusCode)===429||Tw.includes(t.name)||((r=t.$retryable)==null?void 0:r.throttling)==!0},Pc=t=>{var e;return Nw.includes(t.name)||Ow.includes((t==null?void 0:t.code)||"")||vw.includes(((e=t.$metadata)==null?void 0:e.httpStatusCode)||0)},Pw=t=>{var e;if(((e=t.$metadata)==null?void 0:e.httpStatusCode)!==void 0){let r=t.$metadata.httpStatusCode;return 500<=r&&r<=599&&!Pc(t)}return!1};var ea=class{constructor(e){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=(e==null?void 0:e.beta)??.7,this.minCapacity=(e==null?void 0:e.minCapacity)??1,this.minFillRate=(e==null?void 0:e.minFillRate)??.5,this.scaleConstant=(e==null?void 0:e.scaleConstant)??.4,this.smooth=(e==null?void 0:e.smooth)??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(e){if(this.enabled){if(this.refillTokenBucket(),e>this.currentCapacity){let r=(e-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>setTimeout(n,r))}this.currentCapacity=this.currentCapacity-e}}refillTokenBucket(){let e=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=e;return}let r=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=e}updateClientSendingRate(e){let r;if(this.updateMeasuredRate(),Ro(e)){let s=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=s,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(s),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(e){return this.getPrecise(e*this.beta)}cubicSuccess(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let e=this.getCurrentTimeInSeconds(),r=Math.floor(e*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(e){return parseFloat(e.toFixed(8))}};var Ic="amz-sdk-invocation-id",Dc="amz-sdk-request";var Iw=()=>{let t=100;return{computeNextBackoffDelay:n=>Math.floor(Math.min(2e4,Math.random()*2**n*t)),setDelayBase:n=>{t=n}}};var Fw=(t,e,r,n)=>{let s=t,o=(n==null?void 0:n.retryCost)??5,i=(n==null?void 0:n.timeoutRetryCost)??10,a=(n==null?void 0:n.retryBackoffStrategy)??Iw(),c=t,d=Math.min(2e4,e),l,f=r??0,u=Q=>Q==="TRANSIENT"?i:o,g=()=>f,y=()=>d,b=()=>l,R=Q=>u(Q)<=c;return{getRetryCount:g,getRetryDelay:y,getLastRetryCost:b,hasRetryTokens:R,getRetryTokenCount:Q=>{let Le=Q.errorType;if(!R(Le))throw new Error("No retry token available");let X=u(Le),we=Le==="THROTTLING"?500:100;a.setDelayBase(we);let J=a.computeNextBackoffDelay(f);if(Q.retryAfterHint){let K=Q.retryAfterHint.getTime()-Date.now();d=Math.max(K||0,J)}else d=J;return f++,l=X,c-=X,X},releaseRetryTokens:Q=>{c+=Q??1,c=Math.min(c,s)}}};var ko=class{constructor(e){this.maxAttemptsProvider=e,this.mode=wr.STANDARD,this.retryToken=Fw(500,100),this.maxAttemptsProvider=e}async acquireInitialRetryToken(e){return this.retryToken}async refreshRetryTokenForRetry(e,r){let n=await this.getMaxAttempts();if(this.shouldRetry(e,r,n))return e.getRetryTokenCount(r),e;throw new Error("No retry token available")}recordSuccess(e){this.retryToken.releaseRetryTokens(e.getLastRetryCost())}async getMaxAttempts(){let e;try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${Ps}`),Ps}}shouldRetry(e,r,n){return e.getRetryCount()<n&&e.hasRetryTokens(r.errorType)&&this.isRetryableError(r.errorType)}isRetryableError(e){return e==="THROTTLING"||e==="TRANSIENT"}};var Mc=class{constructor(e,r){this.maxAttemptsProvider=e,this.mode=wr.ADAPTIVE;let{rateLimiter:n}=r??{};this.rateLimiter=n??new ea,this.standardRetryStrategy=new ko(e)}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(e,r)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}};var Nf=t=>t instanceof Error?t:t instanceof Object?Object.assign(new Error,t):typeof t=="string"?new Error(t):new Error(`AWS SDK error wrapper for ${t}`);var zw="AWS_MAX_ATTEMPTS",$w="max_attempts",qn={environmentVariableSelector:t=>{let e=t[zw];if(!e)return;let r=parseInt(e);if(Number.isNaN(r))throw new Error(`Environment variable ${zw} mast be a number, got "${e}"`);return r},configFileSelector:t=>{let e=t[$w];if(!e)return;let r=parseInt(e);if(Number.isNaN(r))throw new Error(`Shared config file entry ${$w} mast be a number, got "${e}"`);return r},default:Ps},Hn=t=>{let{retryStrategy:e}=t,r=Qe(t.maxAttempts??Ps);return{...t,maxAttempts:r,retryStrategy:async()=>e||(await Qe(t.retryMode)()===wr.ADAPTIVE?new Mc(r):new ko(r))}},k1="AWS_RETRY_MODE",T1="retry_mode",jn={environmentVariableSelector:t=>t[k1],configFileSelector:t=>t[T1],default:Cr};Pu();var N1=t=>(e,r)=>async n=>{let s=await t.retryStrategy(),o=await t.maxAttempts();if(v1(s)){s=s;let i=await s.acquireInitialRetryToken(r.partition_id),a=new Error,c=0,d=0,{request:l}=n;for(se.isInstance(l)&&(l.headers[Ic]=lc());;)try{se.isInstance(l)&&(l.headers[Dc]=`attempt=${c+1}; max=${o}`);let{response:f,output:u}=await e(n);return s.recordSuccess(i),u.$metadata.attempts=c+1,u.$metadata.totalRetryDelay=d,{response:f,output:u}}catch(f){let u=O1(f);a=Nf(f);try{i=await s.refreshRetryTokenForRetry(i,u)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=c+1,a.$metadata.totalRetryDelay=d,a}c=i.getRetryCount();let g=i.getRetryDelay();d+=g,await new Promise(y=>setTimeout(y,g))}}else return s=s,s!=null&&s.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",s.mode]]),s.retry(e,n)},v1=t=>typeof t.acquireInitialRetryToken<"u"&&typeof t.refreshRetryTokenForRetry<"u"&&typeof t.recordSuccess<"u",O1=t=>{let e={errorType:P1(t)},r=D1(t.$response);return r&&(e.retryAfterHint=r),e},P1=t=>Ro(t)?"THROTTLING":Pc(t)?"TRANSIENT":Pw(t)?"SERVER_ERROR":"CLIENT_ERROR",I1={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},Gn=t=>({applyToStack:e=>{e.add(N1(t),I1)}}),D1=t=>{if(!nr.isInstance(t))return;let e=Object.keys(t.headers).find(o=>o.toLowerCase()==="retry-after");if(!e)return;let r=t.headers[e],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)};var wt=class extends Error{constructor(e,r=!0){super(e),this.tryNextLink=r,this.name="ProviderError",Object.setPrototypeOf(this,wt.prototype)}static from(e,r=!0){return Object.assign(new this(e.message,r),e)}};var $=class extends wt{constructor(e,r=!0){super(e,r),this.tryNextLink=r,this.name="CredentialsProviderError",Object.setPrototypeOf(this,$.prototype)}};var Ct=class extends wt{constructor(e,r=!0){super(e,r),this.tryNextLink=r,this.name="TokenProviderError",Object.setPrototypeOf(this,Ct.prototype)}};function Lc(...t){return()=>{let e=Promise.reject(new wt("No providers in chain"));for(let r of t)e=e.catch(n=>{if(n!=null&&n.tryNextLink)return r();throw n});return e}}var qw=t=>()=>Promise.resolve(t);var Kn=(t,e,r)=>{let n,s,o,i=!1,a=async()=>{s||(s=t());try{n=await s,o=!0,i=!1}finally{s=void 0}return n};return e===void 0?async c=>((!o||c!=null&&c.forceRefresh)&&(n=await a()),n):async c=>((!o||c!=null&&c.forceRefresh)&&(n=await a()),i?n:r&&!r(n)?(i=!0,n):(e(n)&&await a(),n))};var Hw={},vf={};for(let t=0;t<256;t++){let e=t.toString(16).toLowerCase();e.length===1&&(e=`0${e}`),Hw[t]=e,vf[e]=t}function jw(t){if(t.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let e=new Uint8Array(t.length/2);for(let r=0;r<t.length;r+=2){let n=t.slice(r,r+2).toLowerCase();if(n in vf)e[r/2]=vf[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return e}function Ze(t){let e="";for(let r=0;r<t.byteLength;r++)e+=Hw[t[r]];return e}var Gw="X-Amz-Algorithm",Kw="X-Amz-Credential",Of="X-Amz-Date",Vw="X-Amz-SignedHeaders",Ww="X-Amz-Expires",Pf="X-Amz-Signature",If="X-Amz-Security-Token";var Df="authorization",Bf=Of.toLowerCase(),B1="date",Yw=[Df,Bf,B1],Xw=Pf.toLowerCase(),ta="x-amz-content-sha256",Qw=If.toLowerCase();var Zw={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},Jw=/^proxy-/,eC=/^sec-/;var Fc="AWS4-HMAC-SHA256";var tC="AWS4-HMAC-SHA256-PAYLOAD",rC="UNSIGNED-PAYLOAD",nC=50,Mf="aws4_request",sC=60*60*24*7;var Uc={},Lf=[],zc=(t,e,r)=>`${t}/${e}/${r}/${Mf}`,iC=async(t,e,r,n,s)=>{let o=await oC(t,e.secretAccessKey,e.accessKeyId),i=`${r}:${n}:${s}:${Ze(o)}:${e.sessionToken}`;if(i in Uc)return Uc[i];for(Lf.push(i);Lf.length>nC;)delete Uc[Lf.shift()];let a=`AWS4${e.secretAccessKey}`;for(let c of[r,n,s,Mf])a=await oC(t,a,c);return Uc[i]=a};var oC=(t,e,r)=>{let n=new t(e);return n.update(xt(r)),n.digest()};var $c=({headers:t},e,r)=>{let n={};for(let s of Object.keys(t).sort()){if(t[s]==null)continue;let o=s.toLowerCase();(o in Zw||e!=null&&e.has(o)||Jw.test(o)||eC.test(o))&&(!r||r&&!r.has(o))||(n[o]=t[s].trim().replace(/\s+/g," "))}return n};var Sr=t=>encodeURIComponent(t).replace(/[!'()*]/g,M1),M1=t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`;var Ff=({query:t={}})=>{let e=[],r={};for(let n of Object.keys(t).sort()){if(n.toLowerCase()===Xw)continue;e.push(n);let s=t[n];typeof s=="string"?r[n]=`${Sr(n)}=${Sr(s)}`:Array.isArray(s)&&(r[n]=s.slice(0).sort().reduce((o,i)=>o.concat([`${Sr(n)}=${Sr(i)}`]),[]).join("&"))}return e.map(n=>r[n]).filter(n=>n).join("&")};var ra=async({headers:t,body:e},r)=>{for(let n of Object.keys(t))if(n.toLowerCase()===ta)return t[n];if(e==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof e=="string"||ArrayBuffer.isView(e)||bo(e)){let n=new r;return n.update(xt(e)),Ze(await n.digest())}return rC};var aC=(t,e)=>{t=t.toLowerCase();for(let r of Object.keys(e))if(t===r.toLowerCase())return!0;return!1};var qc=({headers:t,query:e,...r})=>({...r,headers:{...t},query:e?L1(e):void 0}),L1=t=>Object.keys(t).reduce((e,r)=>{let n=t[r];return{...e,[r]:Array.isArray(n)?[...n]:n}},{});var Uf=(t,e={})=>{var s;let{headers:r,query:n={}}=typeof t.clone=="function"?t.clone():qc(t);for(let o of Object.keys(r)){let i=o.toLowerCase();i.slice(0,6)==="x-amz-"&&!((s=e.unhoistableHeaders)!=null&&s.has(i))&&(n[o]=r[o],delete r[o])}return{...t,headers:r,query:n}};var Hc=t=>{t=typeof t.clone=="function"?t.clone():qc(t);for(let e of Object.keys(t.headers))Yw.indexOf(e.toLowerCase())>-1&&delete t.headers[e];return t};var cC=t=>F1(t).toISOString().replace(/\.\d{3}Z$/,"Z"),F1=t=>typeof t=="number"?new Date(t*1e3):typeof t=="string"?Number(t)?new Date(Number(t)*1e3):new Date(t):t;var Is=class{constructor({applyChecksum:e,credentials:r,region:n,service:s,sha256:o,uriEscapePath:i=!0}){this.service=s,this.sha256=o,this.uriEscapePath=i,this.applyChecksum=typeof e=="boolean"?e:!0,this.regionProvider=Qe(n),this.credentialProvider=Qe(r)}async presign(e,r={}){let{signingDate:n=new Date,expiresIn:s=3600,unsignableHeaders:o,unhoistableHeaders:i,signableHeaders:a,signingRegion:c,signingService:d}=r,l=await this.credentialProvider();this.validateResolvedCredentials(l);let f=c??await this.regionProvider(),{longDate:u,shortDate:g}=jc(n);if(s>sC)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let y=zc(g,f,d??this.service),b=Uf(Hc(e),{unhoistableHeaders:i});l.sessionToken&&(b.query[If]=l.sessionToken),b.query[Gw]=Fc,b.query[Kw]=`${l.accessKeyId}/${y}`,b.query[Of]=u,b.query[Ww]=s.toString(10);let R=$c(b,o,a);return b.query[Vw]=dC(R),b.query[Pf]=await this.getSignature(u,y,this.getSigningKey(l,f,g,d),this.createCanonicalRequest(b,R,await ra(e,this.sha256))),b}async sign(e,r){return typeof e=="string"?this.signString(e,r):e.headers&&e.payload?this.signEvent(e,r):this.signRequest(e,r)}async signEvent({headers:e,payload:r},{signingDate:n=new Date,priorSignature:s,signingRegion:o,signingService:i}){let a=o??await this.regionProvider(),{shortDate:c,longDate:d}=jc(n),l=zc(c,a,i??this.service),f=await ra({headers:{},body:r},this.sha256),u=new this.sha256;u.update(e);let g=Ze(await u.digest()),y=[tC,d,l,s,g,f].join(`
`);return this.signString(y,{signingDate:n,signingRegion:a,signingService:i})}async signString(e,{signingDate:r=new Date,signingRegion:n,signingService:s}={}){let o=await this.credentialProvider();this.validateResolvedCredentials(o);let i=n??await this.regionProvider(),{shortDate:a}=jc(r),c=new this.sha256(await this.getSigningKey(o,i,a,s));return c.update(xt(e)),Ze(await c.digest())}async signRequest(e,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:s,signingRegion:o,signingService:i}={}){let a=await this.credentialProvider();this.validateResolvedCredentials(a);let c=o??await this.regionProvider(),d=Hc(e),{longDate:l,shortDate:f}=jc(r),u=zc(f,c,i??this.service);d.headers[Bf]=l,a.sessionToken&&(d.headers[Qw]=a.sessionToken);let g=await ra(d,this.sha256);!aC(ta,d.headers)&&this.applyChecksum&&(d.headers[ta]=g);let y=$c(d,s,n),b=await this.getSignature(l,u,this.getSigningKey(a,c,f,i),this.createCanonicalRequest(d,y,g));return d.headers[Df]=`${Fc} Credential=${a.accessKeyId}/${u}, SignedHeaders=${dC(y)}, Signature=${b}`,d}createCanonicalRequest(e,r,n){let s=Object.keys(r).sort();return`${e.method}
${this.getCanonicalPath(e)}
${Ff(e)}
${s.map(o=>`${o}:${r[o]}`).join(`
`)}

${s.join(";")}
${n}`}async createStringToSign(e,r,n){let s=new this.sha256;s.update(xt(n));let o=await s.digest();return`${Fc}
${e}
${r}
${Ze(o)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){let r=[];for(let o of e.split("/"))(o==null?void 0:o.length)!==0&&o!=="."&&(o===".."?r.pop():r.push(o));let n=`${e!=null&&e.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&(e!=null&&e.endsWith("/"))?"/":""}`;return encodeURIComponent(n).replace(/%2F/g,"/")}return e}async getSignature(e,r,n,s){let o=await this.createStringToSign(e,r,s),i=new this.sha256(await n);return i.update(xt(o)),Ze(await i.digest())}getSigningKey(e,r,n,s){return iC(this.sha256,e,n,r,s||this.service)}validateResolvedCredentials(e){if(typeof e!="object"||typeof e.accessKeyId!="string"||typeof e.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}},jc=t=>{let e=cC(t).replace(/[\-:]/g,"");return{longDate:e,shortDate:e.slice(0,8)}},dC=t=>Object.keys(t).sort().join(";");var U1=3e5,Gc=t=>{let e=t.credentials?z1(t.credentials):t.credentialDefaultProvider(t),{signingEscapePath:r=!0,systemClockOffset:n=t.systemClockOffset||0,sha256:s}=t,o;return t.signer?o=Qe(t.signer):t.regionInfoProvider?o=()=>Qe(t.region)().then(async i=>[await t.regionInfoProvider(i,{useFipsEndpoint:await t.useFipsEndpoint(),useDualstackEndpoint:await t.useDualstackEndpoint()})||{},i]).then(([i,a])=>{let{signingRegion:c,signingService:d}=i;t.signingRegion=t.signingRegion||c||a,t.signingName=t.signingName||d||t.serviceId;let l={...t,credentials:e,region:t.signingRegion,service:t.signingName,sha256:s,uriEscapePath:r},f=t.signerConstructor||Is;return new f(l)}):o=async i=>{i=Object.assign({},{name:"sigv4",signingName:t.signingName||t.defaultSigningName,signingRegion:await Qe(t.region)(),properties:{}},i);let a=i.signingRegion,c=i.signingName;t.signingRegion=t.signingRegion||a,t.signingName=t.signingName||c||t.serviceId;let d={...t,credentials:e,region:t.signingRegion,service:t.signingName,sha256:s,uriEscapePath:r},l=t.signerConstructor||Is;return new l(d)},{...t,systemClockOffset:n,signingEscapePath:r,credentials:e,signer:o}};var z1=t=>typeof t=="function"?Kn(t,e=>e.expiration!==void 0&&e.expiration.getTime()-Date.now()<U1,e=>e.expiration!==void 0):Qe(t);var Kc=t=>new Date(Date.now()+t);var lC=(t,e)=>Math.abs(Kc(e).getTime()-t)>=3e5;var zf=(t,e)=>{let r=Date.parse(t);return lC(r,e)?r-Date.now():e};var $1=t=>(e,r)=>async function(n){var d,l,f,u;if(!se.isInstance(n.request))return e(n);let s=(f=(l=(d=r.endpointV2)==null?void 0:d.properties)==null?void 0:l.authSchemes)==null?void 0:f[0],o=(s==null?void 0:s.name)==="sigv4a"?(u=s==null?void 0:s.signingRegionSet)==null?void 0:u.join(","):void 0,i=await t.signer(s),a=await e({...n,request:await i.sign(n.request,{signingDate:Kc(t.systemClockOffset),signingRegion:o||r.signing_region,signingService:r.signing_service})}).catch(g=>{let y=g.ServerTime??uC(g.$response);throw y&&(t.systemClockOffset=zf(y,t.systemClockOffset)),g}),c=uC(a.response);return c&&(t.systemClockOffset=zf(c,t.systemClockOffset)),a},uC=t=>{var e,r;return nr.isInstance(t)?((e=t.headers)==null?void 0:e.date)??((r=t.headers)==null?void 0:r.Date):void 0},q1={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},Vc=t=>({applyToStack:e=>{e.addRelativeTo($1(t),q1)}});function Vn(t){return{...t,customUserAgent:typeof t.customUserAgent=="string"?[[t.customUserAgent]]:t.customUserAgent}}var $f={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}}],version:"1.1"};var fC=$f,hC="",j1=t=>{let{partitions:e}=fC;for(let n of e){let{regions:s,outputs:o}=n;for(let[i,a]of Object.entries(s))if(i===t)return{...o,...a}}for(let n of e){let{regionRegex:s,outputs:o}=n;if(new RegExp(s).test(t))return{...o}}let r=e.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},mC=(t,e="")=>{fC=t,hC=e},G1=()=>{mC($f,"")},qf=()=>hC;var Vr="endpoints";function Ht(t){return typeof t!="object"||t==null?t:"ref"in t?`$${Ht(t.ref)}`:"fn"in t?`${t.fn}(${(t.argv||[]).map(Ht).join(", ")})`:JSON.stringify(t,null,2)}var _e=class extends Error{constructor(e){super(e),this.name="EndpointError"}};var Kf={};fo(Kf,{aws:()=>Hf,booleanEquals:()=>Y1,getAttr:()=>jf,isSet:()=>X1,isValidHostLabel:()=>Yc,not:()=>Q1,parseURL:()=>Z1,stringEquals:()=>J1,substring:()=>eM,uriEncode:()=>tM});var Hf={};fo(Hf,{getUserAgentPrefix:()=>qf,isVirtualHostableS3Bucket:()=>pC,parseArn:()=>W1,partition:()=>j1,setPartitionInfo:()=>mC,useDefaultPartitionInfo:()=>G1});var K1=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),Wc=t=>K1.test(t)||t.startsWith("[")&&t.endsWith("]");var V1=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),Yc=(t,e=!1)=>{if(!e)return V1.test(t);let r=t.split(".");for(let n of r)if(!Yc(n))return!1;return!0};var pC=(t,e=!1)=>{if(e){for(let r of t.split("."))if(!pC(r))return!1;return!0}return!(!Yc(t)||t.length<3||t.length>63||t!==t.toLowerCase()||Wc(t))};var W1=t=>{let e=t.split(":");if(e.length<6)return null;let[r,n,s,o,i,...a]=e;return r!=="arn"||n===""||s===""||a[0]===""?null:{partition:n,service:s,region:o,accountId:i,resourceId:a[0].includes("/")?a[0].split("/"):a}};var Y1=(t,e)=>t===e;var yC=t=>{let e=t.split("."),r=[];for(let n of e){let s=n.indexOf("[");if(s!==-1){if(n.indexOf("]")!==n.length-1)throw new _e(`Path: '${t}' does not end with ']'`);let o=n.slice(s+1,-1);if(Number.isNaN(parseInt(o)))throw new _e(`Invalid array index: '${o}' in path: '${t}'`);s!==0&&r.push(n.slice(0,s)),r.push(o)}else r.push(n)}return r};var jf=(t,e)=>yC(e).reduce((r,n)=>{if(typeof r!="object")throw new _e(`Index '${n}' in '${e}' not found in '${JSON.stringify(t)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},t);var X1=t=>t!=null;var Q1=t=>!t;var gC;(function(t){t.HEADER="header",t.QUERY="query"})(gC||(gC={}));var EC;(function(t){t.AAAA="AAAA",t.A="A"})(EC||(EC={}));var To;(function(t){t.HTTP="http",t.HTTPS="https"})(To||(To={}));var xC;(function(t){t.HTTP_0_9="http/0.9",t.HTTP_1_0="http/1.0",t.TDS_8_0="tds/8.0"})(xC||(xC={}));var Gf={[To.HTTP]:80,[To.HTTPS]:443},Z1=t=>{let e=(()=>{try{if(t instanceof URL)return t;if(typeof t=="object"&&"hostname"in t){let{hostname:u,port:g,protocol:y="",path:b="",query:R={}}=t,B=new URL(`${y}//${u}${g?`:${g}`:""}${b}`);return B.search=Object.entries(R).map(([te,Q])=>`${te}=${Q}`).join("&"),B}return new URL(t)}catch{return null}})();if(!e)return console.error(`Unable to parse ${JSON.stringify(t)} as a whatwg URL.`),null;let r=e.href,{host:n,hostname:s,pathname:o,protocol:i,search:a}=e;if(a)return null;let c=i.slice(0,-1);if(!Object.values(To).includes(c))return null;let d=Wc(s),l=r.includes(`${n}:${Gf[c]}`)||typeof t=="string"&&t.includes(`${n}:${Gf[c]}`),f=`${n}${l?`:${Gf[c]}`:""}`;return{scheme:c,authority:f,path:o,normalizedPath:o.endsWith("/")?o:`${o}/`,isIp:d}};var J1=(t,e)=>t===e;var eM=(t,e,r,n)=>e>=r||t.length<r?null:n?t.substring(t.length-r,t.length-e):t.substring(e,r);var tM=t=>encodeURIComponent(t).replace(/[!*'()]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`);var Xc=(t,e)=>{let r=[],n={...e.endpointParams,...e.referenceRecord},s=0;for(;s<t.length;){let o=t.indexOf("{",s);if(o===-1){r.push(t.slice(s));break}r.push(t.slice(s,o));let i=t.indexOf("}",o);if(i===-1){r.push(t.slice(o));break}t[o+1]==="{"&&t[i+1]==="}"&&(r.push(t.slice(o+1,i)),s=i+2);let a=t.substring(o+1,i);if(a.includes("#")){let[c,d]=a.split("#");r.push(jf(n[c],d))}else r.push(n[a]);s=i+1}return r.join("")};var wC=({ref:t},e)=>({...e.endpointParams,...e.referenceRecord})[t];var Wn=(t,e,r)=>{if(typeof t=="string")return Xc(t,r);if(t.fn)return Qc(t,r);if(t.ref)return wC(t,r);throw new _e(`'${e}': ${String(t)} is not a string, function or reference.`)};var Qc=({fn:t,argv:e},r)=>{let n=e.map(s=>["boolean","number"].includes(typeof s)?s:Wn(s,"arg",r));return t.split(".").reduce((s,o)=>s[o],Kf)(...n)};var CC=({assign:t,...e},r)=>{var s,o;if(t&&t in r.referenceRecord)throw new _e(`'${t}' is already defined in Reference Record.`);let n=Qc(e,r);return(o=(s=r.logger)==null?void 0:s.debug)==null||o.call(s,Vr,`evaluateCondition: ${Ht(e)} = ${Ht(n)}`),{result:n===""?!0:!!n,...t!=null&&{toAssign:{name:t,value:n}}}};var No=(t=[],e)=>{var n,s;let r={};for(let o of t){let{result:i,toAssign:a}=CC(o,{...e,referenceRecord:{...e.referenceRecord,...r}});if(!i)return{result:i};a&&(r[a.name]=a.value,(s=(n=e.logger)==null?void 0:n.debug)==null||s.call(n,Vr,`assign: ${a.name} := ${Ht(a.value)}`))}return{result:!0,referenceRecord:r}};var SC=(t,e)=>Object.entries(t).reduce((r,[n,s])=>({...r,[n]:s.map(o=>{let i=Wn(o,"Header value entry",e);if(typeof i!="string")throw new _e(`Header '${n}' value '${i}' is not a string`);return i})}),{});var Vf=(t,e)=>{if(Array.isArray(t))return t.map(r=>Vf(r,e));switch(typeof t){case"string":return Xc(t,e);case"object":if(t===null)throw new _e(`Unexpected endpoint property: ${t}`);return Zc(t,e);case"boolean":return t;default:throw new _e(`Unexpected endpoint property type: ${typeof t}`)}};var Zc=(t,e)=>Object.entries(t).reduce((r,[n,s])=>({...r,[n]:Vf(s,e)}),{});var bC=(t,e)=>{let r=Wn(t,"Endpoint URL",e);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new _e(`Endpoint URL must be a string, got ${typeof r}`)};var _C=(t,e)=>{var l,f;let{conditions:r,endpoint:n}=t,{result:s,referenceRecord:o}=No(r,e);if(!s)return;let i={...e,referenceRecord:{...e.referenceRecord,...o}},{url:a,properties:c,headers:d}=n;return(f=(l=e.logger)==null?void 0:l.debug)==null||f.call(l,Vr,`Resolving endpoint from template: ${Ht(n)}`),{...d!=null&&{headers:SC(d,i)},...c!=null&&{properties:Zc(c,i)},url:bC(a,i)}};var RC=(t,e)=>{let{conditions:r,error:n}=t,{result:s,referenceRecord:o}=No(r,e);if(s)throw new _e(Wn(n,"Error",{...e,referenceRecord:{...e.referenceRecord,...o}}))};var AC=(t,e)=>{let{conditions:r,rules:n}=t,{result:s,referenceRecord:o}=No(r,e);if(s)return Jc(n,{...e,referenceRecord:{...e.referenceRecord,...o}})};var Jc=(t,e)=>{for(let r of t)if(r.type==="endpoint"){let n=_C(r,e);if(n)return n}else if(r.type==="error")RC(r,e);else if(r.type==="tree"){let n=AC(r,e);if(n)return n}else throw new _e(`Unknown endpoint rule: ${r}`);throw new _e("Rules evaluation failed")};var Yn=(t,e)=>{var d,l,f,u,g;let{endpointParams:r,logger:n}=e,{parameters:s,rules:o}=t;(l=(d=e.logger)==null?void 0:d.debug)==null||l.call(d,Vr,`Initial EndpointParams: ${Ht(r)}`);let i=Object.entries(s).filter(([,y])=>y.default!=null).map(([y,b])=>[y,b.default]);if(i.length>0)for(let[y,b]of i)r[y]=r[y]??b;let a=Object.entries(s).filter(([,y])=>y.required).map(([y])=>y);for(let y of a)if(r[y]==null)throw new _e(`Missing required parameter: '${y}'`);let c=Jc(o,{endpointParams:r,logger:n,referenceRecord:{}});if((f=e.endpointParams)!=null&&f.Endpoint)try{let y=new URL(e.endpointParams.Endpoint),{protocol:b,port:R}=y;c.url.protocol=b,c.url.port=R}catch{}return(g=(u=e.logger)==null?void 0:u.debug)==null||g.call(u,Vr,`Resolved endpoint: ${Ht(c)}`),c};var Wf="user-agent",ed="x-amz-user-agent",Yf=" ",kC=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g;var rM=t=>(e,r)=>async n=>{var u,g;let{request:s}=n;if(!se.isInstance(s))return e(n);let{headers:o}=s,i=((u=r==null?void 0:r.userAgent)==null?void 0:u.map(Xf))||[],a=(await t.defaultUserAgentProvider()).map(Xf),c=((g=t==null?void 0:t.customUserAgent)==null?void 0:g.map(Xf))||[],d=qf(),l=(d?[d]:[]).concat([...a,...i,...c]).join(Yf),f=[...a.filter(y=>y.startsWith("aws-sdk-")),...c].join(Yf);return t.runtime!=="browser"?(f&&(o[ed]=o[ed]?`${o[Wf]} ${f}`:f),o[Wf]=l):o[ed]=l,e({...n,request:s})},Xf=([t,e])=>{let r=t.indexOf("/"),n=t.substring(0,r),s=t.substring(r+1);return n==="api"&&(s=s.toLowerCase()),[n,s,e].filter(o=>o&&o.length>0).map(o=>o==null?void 0:o.replace(kC,"_")).join("/")},nM={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},Xn=t=>({applyToStack:e=>{e.add(rM(t),nM)}});var TC=t=>({...t,useFipsEndpoint:t.useFipsEndpoint??!1,useDualstackEndpoint:t.useDualstackEndpoint??!1,useAccelerateEndpoint:t.useAccelerateEndpoint??!1,useGlobalEndpoint:t.useGlobalEndpoint??!1,disableMultiregionAccessPoints:t.disableMultiregionAccessPoints??!1,defaultSigningName:"s3"});var NC={name:"@aws-sdk/client-s3",description:"AWS SDK for JavaScript S3 Client for Node.js, Browser and React Native",version:"3.309.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo s3",test:"yarn test:unit","test:e2e":"ts-mocha test/**/*.ispec.ts && karma start karma.conf.js","test:unit":"ts-mocha test/**/*.spec.ts"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha1-browser":"3.0.0","@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/client-sts":"3.309.0","@aws-sdk/config-resolver":"3.306.0","@aws-sdk/credential-provider-node":"3.309.0","@aws-sdk/eventstream-serde-browser":"3.306.0","@aws-sdk/eventstream-serde-config-resolver":"3.306.0","@aws-sdk/eventstream-serde-node":"3.306.0","@aws-sdk/fetch-http-handler":"3.306.0","@aws-sdk/hash-blob-browser":"3.306.0","@aws-sdk/hash-node":"3.306.0","@aws-sdk/hash-stream-node":"3.306.0","@aws-sdk/invalid-dependency":"3.306.0","@aws-sdk/md5-js":"3.306.0","@aws-sdk/middleware-bucket-endpoint":"3.306.0","@aws-sdk/middleware-content-length":"3.306.0","@aws-sdk/middleware-endpoint":"3.306.0","@aws-sdk/middleware-expect-continue":"3.306.0","@aws-sdk/middleware-flexible-checksums":"3.306.0","@aws-sdk/middleware-host-header":"3.306.0","@aws-sdk/middleware-location-constraint":"3.306.0","@aws-sdk/middleware-logger":"3.306.0","@aws-sdk/middleware-recursion-detection":"3.306.0","@aws-sdk/middleware-retry":"3.306.0","@aws-sdk/middleware-sdk-s3":"3.306.0","@aws-sdk/middleware-serde":"3.306.0","@aws-sdk/middleware-signing":"3.306.0","@aws-sdk/middleware-ssec":"3.306.0","@aws-sdk/middleware-stack":"3.306.0","@aws-sdk/middleware-user-agent":"3.306.0","@aws-sdk/node-config-provider":"3.306.0","@aws-sdk/node-http-handler":"3.306.0","@aws-sdk/protocol-http":"3.306.0","@aws-sdk/signature-v4-multi-region":"3.306.0","@aws-sdk/smithy-client":"3.309.0","@aws-sdk/types":"3.306.0","@aws-sdk/url-parser":"3.306.0","@aws-sdk/util-base64":"3.303.0","@aws-sdk/util-body-length-browser":"3.303.0","@aws-sdk/util-body-length-node":"3.303.0","@aws-sdk/util-defaults-mode-browser":"3.309.0","@aws-sdk/util-defaults-mode-node":"3.309.0","@aws-sdk/util-endpoints":"3.306.0","@aws-sdk/util-retry":"3.306.0","@aws-sdk/util-stream-browser":"3.306.0","@aws-sdk/util-stream-node":"3.306.0","@aws-sdk/util-user-agent-browser":"3.306.0","@aws-sdk/util-user-agent-node":"3.306.0","@aws-sdk/util-utf8":"3.303.0","@aws-sdk/util-waiter":"3.306.0","@aws-sdk/xml-builder":"3.303.0","fast-xml-parser":"4.1.2",tslib:"^2.5.0"},devDependencies:{"@aws-sdk/service-client-documentation-generator":"3.303.0","@tsconfig/node14":"1.0.3","@types/chai":"^4.2.11","@types/mocha":"^8.0.4","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-s3",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-s3"}};var vC=Mt(ff());var mt=class extends $t{constructor(e){super(e),Object.setPrototypeOf(this,mt.prototype)}};var vo=class extends mt{constructor(e){super({name:"ExpiredTokenException",$fault:"client",...e}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,vo.prototype)}},Oo=class extends mt{constructor(e){super({name:"MalformedPolicyDocumentException",$fault:"client",...e}),this.name="MalformedPolicyDocumentException",this.$fault="client",Object.setPrototypeOf(this,Oo.prototype)}},Po=class extends mt{constructor(e){super({name:"PackedPolicyTooLargeException",$fault:"client",...e}),this.name="PackedPolicyTooLargeException",this.$fault="client",Object.setPrototypeOf(this,Po.prototype)}},Io=class extends mt{constructor(e){super({name:"RegionDisabledException",$fault:"client",...e}),this.name="RegionDisabledException",this.$fault="client",Object.setPrototypeOf(this,Io.prototype)}},Do=class extends mt{constructor(e){super({name:"IDPRejectedClaimException",$fault:"client",...e}),this.name="IDPRejectedClaimException",this.$fault="client",Object.setPrototypeOf(this,Do.prototype)}},Bo=class extends mt{constructor(e){super({name:"InvalidIdentityTokenException",$fault:"client",...e}),this.name="InvalidIdentityTokenException",this.$fault="client",Object.setPrototypeOf(this,Bo.prototype)}},Mo=class extends mt{constructor(e){super({name:"IDPCommunicationErrorException",$fault:"client",...e}),this.name="IDPCommunicationErrorException",this.$fault="client",Object.setPrototypeOf(this,Mo.prototype)}};var OC=async(t,e)=>{let r={"content-type":"application/x-www-form-urlencoded"},n;return n=jC({...lM(t,e),Action:"AssumeRole",Version:"2011-06-15"}),qC(e,r,"/",void 0,n)};var PC=async(t,e)=>{let r={"content-type":"application/x-www-form-urlencoded"},n;return n=jC({...uM(t,e),Action:"AssumeRoleWithWebIdentity",Version:"2011-06-15"}),qC(e,r,"/",void 0,n)};var IC=async(t,e)=>{if(t.statusCode>=300)return oM(t,e);let r=await Qf(t.body,e),n={};n=yM(r.AssumeRoleResult,e);let s={$metadata:Wr(t),...n};return Promise.resolve(s)},oM=async(t,e)=>{let r={...t,body:await HC(t.body,e)},n=GC(t,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await BC(r,e);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await MC(r,e);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await LC(r,e);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await FC(r,e);default:let s=r.body;jr({output:t,parsedBody:s.Error,exceptionCtor:mt,errorCode:n})}};var DC=async(t,e)=>{if(t.statusCode>=300)return iM(t,e);let r=await Qf(t.body,e),n={};n=gM(r.AssumeRoleWithWebIdentityResult,e);let s={$metadata:Wr(t),...n};return Promise.resolve(s)},iM=async(t,e)=>{let r={...t,body:await HC(t.body,e)},n=GC(t,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await BC(r,e);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await aM(r,e);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await cM(r,e);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await dM(r,e);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await MC(r,e);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await LC(r,e);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await FC(r,e);default:let s=r.body;jr({output:t,parsedBody:s.Error,exceptionCtor:mt,errorCode:n})}};var BC=async(t,e)=>{let r=t.body,n=EM(r.Error,e),s=new vo({$metadata:Wr(t),...n});return ge(s,r)},aM=async(t,e)=>{let r=t.body,n=xM(r.Error,e),s=new Mo({$metadata:Wr(t),...n});return ge(s,r)},cM=async(t,e)=>{let r=t.body,n=wM(r.Error,e),s=new Do({$metadata:Wr(t),...n});return ge(s,r)};var dM=async(t,e)=>{let r=t.body,n=CM(r.Error,e),s=new Bo({$metadata:Wr(t),...n});return ge(s,r)},MC=async(t,e)=>{let r=t.body,n=SM(r.Error,e),s=new Oo({$metadata:Wr(t),...n});return ge(s,r)},LC=async(t,e)=>{let r=t.body,n=bM(r.Error,e),s=new Po({$metadata:Wr(t),...n});return ge(s,r)},FC=async(t,e)=>{let r=t.body,n=_M(r.Error,e),s=new Io({$metadata:Wr(t),...n});return ge(s,r)},lM=(t,e)=>{var n,s,o;let r={};if(t.RoleArn!=null&&(r.RoleArn=t.RoleArn),t.RoleSessionName!=null&&(r.RoleSessionName=t.RoleSessionName),t.PolicyArns!=null){let i=UC(t.PolicyArns,e);((n=t.PolicyArns)==null?void 0:n.length)===0&&(r.PolicyArns=[]),Object.entries(i).forEach(([a,c])=>{let d=`PolicyArns.${a}`;r[d]=c})}if(t.Policy!=null&&(r.Policy=t.Policy),t.DurationSeconds!=null&&(r.DurationSeconds=t.DurationSeconds),t.Tags!=null){let i=pM(t.Tags,e);((s=t.Tags)==null?void 0:s.length)===0&&(r.Tags=[]),Object.entries(i).forEach(([a,c])=>{let d=`Tags.${a}`;r[d]=c})}if(t.TransitiveTagKeys!=null){let i=mM(t.TransitiveTagKeys,e);((o=t.TransitiveTagKeys)==null?void 0:o.length)===0&&(r.TransitiveTagKeys=[]),Object.entries(i).forEach(([a,c])=>{let d=`TransitiveTagKeys.${a}`;r[d]=c})}return t.ExternalId!=null&&(r.ExternalId=t.ExternalId),t.SerialNumber!=null&&(r.SerialNumber=t.SerialNumber),t.TokenCode!=null&&(r.TokenCode=t.TokenCode),t.SourceIdentity!=null&&(r.SourceIdentity=t.SourceIdentity),r};var uM=(t,e)=>{var n;let r={};if(t.RoleArn!=null&&(r.RoleArn=t.RoleArn),t.RoleSessionName!=null&&(r.RoleSessionName=t.RoleSessionName),t.WebIdentityToken!=null&&(r.WebIdentityToken=t.WebIdentityToken),t.ProviderId!=null&&(r.ProviderId=t.ProviderId),t.PolicyArns!=null){let s=UC(t.PolicyArns,e);((n=t.PolicyArns)==null?void 0:n.length)===0&&(r.PolicyArns=[]),Object.entries(s).forEach(([o,i])=>{let a=`PolicyArns.${o}`;r[a]=i})}return t.Policy!=null&&(r.Policy=t.Policy),t.DurationSeconds!=null&&(r.DurationSeconds=t.DurationSeconds),r};var UC=(t,e)=>{let r={},n=1;for(let s of t){if(s===null)continue;let o=fM(s,e);Object.entries(o).forEach(([i,a])=>{r[`member.${n}.${i}`]=a}),n++}return r},fM=(t,e)=>{let r={};return t.arn!=null&&(r.arn=t.arn),r},hM=(t,e)=>{let r={};return t.Key!=null&&(r.Key=t.Key),t.Value!=null&&(r.Value=t.Value),r},mM=(t,e)=>{let r={},n=1;for(let s of t)s!==null&&(r[`member.${n}`]=s,n++);return r},pM=(t,e)=>{let r={},n=1;for(let s of t){if(s===null)continue;let o=hM(s,e);Object.entries(o).forEach(([i,a])=>{r[`member.${n}.${i}`]=a}),n++}return r},zC=(t,e)=>{let r={};return t.AssumedRoleId!==void 0&&(r.AssumedRoleId=U(t.AssumedRoleId)),t.Arn!==void 0&&(r.Arn=U(t.Arn)),r},yM=(t,e)=>{let r={};return t.Credentials!==void 0&&(r.Credentials=$C(t.Credentials,e)),t.AssumedRoleUser!==void 0&&(r.AssumedRoleUser=zC(t.AssumedRoleUser,e)),t.PackedPolicySize!==void 0&&(r.PackedPolicySize=xc(t.PackedPolicySize)),t.SourceIdentity!==void 0&&(r.SourceIdentity=U(t.SourceIdentity)),r};var gM=(t,e)=>{let r={};return t.Credentials!==void 0&&(r.Credentials=$C(t.Credentials,e)),t.SubjectFromWebIdentityToken!==void 0&&(r.SubjectFromWebIdentityToken=U(t.SubjectFromWebIdentityToken)),t.AssumedRoleUser!==void 0&&(r.AssumedRoleUser=zC(t.AssumedRoleUser,e)),t.PackedPolicySize!==void 0&&(r.PackedPolicySize=xc(t.PackedPolicySize)),t.Provider!==void 0&&(r.Provider=U(t.Provider)),t.Audience!==void 0&&(r.Audience=U(t.Audience)),t.SourceIdentity!==void 0&&(r.SourceIdentity=U(t.SourceIdentity)),r},$C=(t,e)=>{let r={};return t.AccessKeyId!==void 0&&(r.AccessKeyId=U(t.AccessKeyId)),t.SecretAccessKey!==void 0&&(r.SecretAccessKey=U(t.SecretAccessKey)),t.SessionToken!==void 0&&(r.SessionToken=U(t.SessionToken)),t.Expiration!==void 0&&(r.Expiration=Hr(Qu(t.Expiration))),r};var EM=(t,e)=>{let r={};return t.message!==void 0&&(r.message=U(t.message)),r};var xM=(t,e)=>{let r={};return t.message!==void 0&&(r.message=U(t.message)),r},wM=(t,e)=>{let r={};return t.message!==void 0&&(r.message=U(t.message)),r};var CM=(t,e)=>{let r={};return t.message!==void 0&&(r.message=U(t.message)),r},SM=(t,e)=>{let r={};return t.message!==void 0&&(r.message=U(t.message)),r},bM=(t,e)=>{let r={};return t.message!==void 0&&(r.message=U(t.message)),r},_M=(t,e)=>{let r={};return t.message!==void 0&&(r.message=U(t.message)),r},Wr=t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}),RM=(t=new Uint8Array,e)=>t instanceof Uint8Array?Promise.resolve(t):e.streamCollector(t)||Promise.resolve(new Uint8Array),AM=(t,e)=>RM(t,e).then(r=>e.utf8Encoder(r)),qC=async(t,e,r,n,s)=>{let{hostname:o,protocol:i="https",port:a,path:c}=await t.endpoint(),d={protocol:i,hostname:o,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:e};return n!==void 0&&(d.hostname=n),s!==void 0&&(d.body=s),new se(d)},Qf=(t,e)=>AM(t,e).then(r=>{if(r.length){let n=new vC.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,d)=>d.trim()===""&&d.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let s=n.parse(r),o="#text",i=Object.keys(s)[0],a=s[i];return a[o]&&(a[i]=a[o],delete a[o]),Gi(a)}return{}}),HC=async(t,e)=>{let r=await Qf(t,e);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},jC=t=>Object.entries(t).map(([e,r])=>Co(e)+"="+Co(r)).join("&"),GC=(t,e)=>{var r;if(((r=e.Error)==null?void 0:r.Code)!==void 0)return e.Error.Code;if(t.statusCode==404)return"NotFound"};var Lo=class extends zt{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,r,n){this.middlewareStack.use(ur(r,this.serialize,this.deserialize)),this.middlewareStack.use(fr(r,Lo.getEndpointParameterInstructions())),this.middlewareStack.use(Vc(r));let s=e.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"STSClient",commandName:"AssumeRoleCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l},{requestHandler:d}=r;return s.resolve(l=>d.handle(l.request,n||{}),c)}serialize(e,r){return OC(e,r)}deserialize(e,r){return IC(e,r)}};var Fo=class extends zt{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,r,n){this.middlewareStack.use(ur(r,this.serialize,this.deserialize)),this.middlewareStack.use(fr(r,Fo.getEndpointParameterInstructions()));let s=e.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"STSClient",commandName:"AssumeRoleWithWebIdentityCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l},{requestHandler:d}=r;return s.resolve(l=>d.handle(l.request,n||{}),c)}serialize(e,r){return PC(e,r)}deserialize(e,r){return DC(e,r)}};var KC=(t,{stsClientCtor:e})=>Gc({...t,stsClientCtor:e});var VC=t=>({...t,useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,useGlobalEndpoint:t.useGlobalEndpoint??!1,defaultSigningName:"sts"});var WC={name:"@aws-sdk/client-sts",description:"AWS SDK for JavaScript Sts Client for Node.js, Browser and React Native",version:"3.309.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sts",test:"yarn test:unit","test:unit":"jest"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/config-resolver":"3.306.0","@aws-sdk/credential-provider-node":"3.309.0","@aws-sdk/fetch-http-handler":"3.306.0","@aws-sdk/hash-node":"3.306.0","@aws-sdk/invalid-dependency":"3.306.0","@aws-sdk/middleware-content-length":"3.306.0","@aws-sdk/middleware-endpoint":"3.306.0","@aws-sdk/middleware-host-header":"3.306.0","@aws-sdk/middleware-logger":"3.306.0","@aws-sdk/middleware-recursion-detection":"3.306.0","@aws-sdk/middleware-retry":"3.306.0","@aws-sdk/middleware-sdk-sts":"3.306.0","@aws-sdk/middleware-serde":"3.306.0","@aws-sdk/middleware-signing":"3.306.0","@aws-sdk/middleware-stack":"3.306.0","@aws-sdk/middleware-user-agent":"3.306.0","@aws-sdk/node-config-provider":"3.306.0","@aws-sdk/node-http-handler":"3.306.0","@aws-sdk/protocol-http":"3.306.0","@aws-sdk/smithy-client":"3.309.0","@aws-sdk/types":"3.306.0","@aws-sdk/url-parser":"3.306.0","@aws-sdk/util-base64":"3.303.0","@aws-sdk/util-body-length-browser":"3.303.0","@aws-sdk/util-body-length-node":"3.303.0","@aws-sdk/util-defaults-mode-browser":"3.309.0","@aws-sdk/util-defaults-mode-node":"3.309.0","@aws-sdk/util-endpoints":"3.306.0","@aws-sdk/util-retry":"3.306.0","@aws-sdk/util-user-agent-browser":"3.306.0","@aws-sdk/util-user-agent-node":"3.306.0","@aws-sdk/util-utf8":"3.303.0","fast-xml-parser":"4.1.2",tslib:"^2.5.0"},devDependencies:{"@aws-sdk/service-client-documentation-generator":"3.303.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sts",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sts"}};var YC="us-east-1",XC=t=>typeof t!="function"?t===void 0?YC:t:async()=>{try{return await t()}catch{return YC}},Zf=(t,e)=>{let r,n;return async(s,o)=>{if(n=s,!r){let{logger:a,region:c,requestHandler:d}=t;r=new e({logger:a,credentialDefaultProvider:()=>async()=>n,region:XC(c||t.region),...d?{requestHandler:d}:{}})}let{Credentials:i}=await r.send(new Lo(o));if(!i||!i.AccessKeyId||!i.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${o.RoleArn}`);return{accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.SessionToken,expiration:i.Expiration}}},Jf=(t,e)=>{let r;return async n=>{if(!r){let{logger:o,region:i,requestHandler:a}=t;r=new e({logger:o,region:XC(i||t.region),...a?{requestHandler:a}:{}})}let{Credentials:s}=await r.send(new Fo(n));if(!s||!s.AccessKeyId||!s.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);return{accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.SessionToken,expiration:s.Expiration}}},QC=t=>e=>t({roleAssumer:Zf(e,e.stsClientCtor),roleAssumerWithWebIdentity:Jf(e,e.stsClientCtor),...e});var TM="AWS_ACCESS_KEY_ID",NM="AWS_SECRET_ACCESS_KEY",vM="AWS_SESSION_TOKEN",OM="AWS_CREDENTIAL_EXPIRATION",td=()=>async()=>{let t=process.env[TM],e=process.env[NM],r=process.env[vM],n=process.env[OM];if(t&&e)return{accessKeyId:t,secretAccessKey:e,...r&&{sessionToken:r},...n&&{expiration:new Date(n)}};throw new $("Unable to find environment variable credentials.")};var ZC=require("os"),JC=require("path"),Uo=()=>{let{HOME:t,USERPROFILE:e,HOMEPATH:r,HOMEDRIVE:n=`C:${JC.sep}`}=process.env;return t||e||(r?`${n}${r}`:(0,ZC.homedir)())};var eh="AWS_PROFILE",PM="default",jt=t=>t.profile||process.env[eh]||PM;var eS=require("crypto"),tS=require("path");var rd=t=>{let r=(0,eS.createHash)("sha1").update(t).digest("hex");return(0,tS.join)(Uo(),".aws","sso","cache",`${r}.json`)};var rS=require("fs");var{readFile:IM}=rS.promises,nd=async t=>{let e=rd(t),r=await IM(e,"utf8");return JSON.parse(r)};var nS=require("path");var DM="AWS_CONFIG_FILE",sd=()=>process.env[DM]||(0,nS.join)(Uo(),".aws","config");var sS=require("path");var BM="AWS_SHARED_CREDENTIALS_FILE",oS=()=>process.env[BM]||(0,sS.join)(Uo(),".aws","credentials");var iS=/^profile\s(["'])?([^\1]+)\1$/,aS=t=>Object.entries(t).filter(([e])=>iS.test(e)).reduce((e,[r,n])=>({...e,[iS.exec(r)[2]]:n}),{...t.default&&{default:t.default}});var MM=["__proto__","profile __proto__"],na=t=>{let e={},r;for(let n of t.split(/\r?\n/))if(n=n.split(/(^|\s)[;#]/)[0].trim(),n[0]==="["&&n[n.length-1]==="]"){if(r=n.substring(1,n.length-1),MM.includes(r))throw new Error(`Found invalid profile name "${r}"`)}else if(r){let o=n.indexOf("="),i=0,a=n.length-1;if(o!==-1&&o!==i&&o!==a){let[d,l]=[n.substring(0,o).trim(),n.substring(o+1).trim()];e[r]=e[r]||{},e[r][d]=l}}return e};var cS=require("fs"),{readFile:LM}=cS.promises,th={},sa=(t,e)=>((!th[t]||e!=null&&e.ignoreCache)&&(th[t]=LM(t,"utf8")),th[t]);var dS=()=>({}),od=async(t={})=>{let{filepath:e=oS(),configFilepath:r=sd()}=t,n=await Promise.all([sa(r,{ignoreCache:t.ignoreCache}).then(na).then(aS).catch(dS),sa(e,{ignoreCache:t.ignoreCache}).then(na).catch(dS)]);return{configFile:n[0],credentialsFile:n[1]}};var lS=/^sso-session\s(["'])?([^\1]+)\1$/,uS=t=>Object.entries(t).filter(([e])=>lS.test(e)).reduce((e,[r,n])=>({...e,[lS.exec(r)[2]]:n}),{});var FM=()=>({}),id=async(t={})=>sa(t.configFilepath??sd()).then(na).then(uS).catch(FM);var fS=(...t)=>{let e={};for(let r of t)for(let[n,s]of Object.entries(r))e[n]!==void 0?Object.assign(e[n],s):e[n]=s;return e};var Qn=async t=>{let e=await od(t);return fS(e.configFile,e.credentialsFile)};var yS=require("url");var hS=require("buffer"),mS=require("http");function Yr(t){return new Promise((e,r)=>{var s;let n=(0,mS.request)({method:"GET",...t,hostname:(s=t.hostname)==null?void 0:s.replace(/^\[(.+)\]$/,"$1")});n.on("error",o=>{r(Object.assign(new wt("Unable to connect to instance metadata service"),o)),n.destroy()}),n.on("timeout",()=>{r(new wt("TimeoutError from instance metadata service")),n.destroy()}),n.on("response",o=>{let{statusCode:i=400}=o;(i<200||300<=i)&&(r(Object.assign(new wt("Error response received from instance metadata service"),{statusCode:i})),n.destroy());let a=[];o.on("data",c=>{a.push(c)}),o.on("end",()=>{e(hS.Buffer.concat(a)),n.destroy()})}),n.end()})}var ad=t=>!!t&&typeof t=="object"&&typeof t.AccessKeyId=="string"&&typeof t.SecretAccessKey=="string"&&typeof t.Token=="string"&&typeof t.Expiration=="string",cd=t=>({accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,sessionToken:t.Token,expiration:new Date(t.Expiration)});var dd=({maxRetries:t=0,timeout:e=1e3})=>({maxRetries:t,timeout:e});var oa=(t,e)=>{let r=t();for(let n=0;n<e;n++)r=r.catch(t);return r};var ia="AWS_CONTAINER_CREDENTIALS_FULL_URI",aa="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",pS="AWS_CONTAINER_AUTHORIZATION_TOKEN",ld=(t={})=>{let{timeout:e,maxRetries:r}=dd(t);return()=>oa(async()=>{let n=await HM(),s=JSON.parse(await UM(e,n));if(!ad(s))throw new $("Invalid response received from instance metadata service.");return cd(s)},r)},UM=async(t,e)=>(process.env[pS]&&(e.headers={...e.headers,Authorization:process.env[pS]}),(await Yr({...e,timeout:t})).toString()),zM="169.254.170.2",$M={localhost:!0,"127.0.0.1":!0},qM={"http:":!0,"https:":!0},HM=async()=>{if(process.env[aa])return{hostname:zM,path:process.env[aa]};if(process.env[ia]){let t=(0,yS.parse)(process.env[ia]);if(!t.hostname||!(t.hostname in $M))throw new $(`${t.hostname} is not a valid container metadata service hostname`,!1);if(!t.protocol||!(t.protocol in qM))throw new $(`${t.protocol} is not a valid container metadata service protocol`,!1);return{...t,port:t.port?parseInt(t.port,10):void 0}}throw new $(`The container metadata credential provider cannot be used unless the ${aa} or ${ia} environment variable is set`,!1)};var gS=t=>async()=>{try{let e=t(process.env);if(e===void 0)throw new Error;return e}catch(e){throw new $(e.message||`Cannot load config from environment variables with getter: ${t}`)}};var ES=(t,{preferredFile:e="config",...r}={})=>async()=>{let n=jt(r),{configFile:s,credentialsFile:o}=await od(r),i=o[n]||{},a=s[n]||{},c=e==="config"?{...i,...a}:{...a,...i};try{let d=t(c);if(d===void 0)throw new Error;return d}catch(d){throw new $(d.message||`Cannot load config for profile ${n} in SDK configuration files with getter: ${t}`)}};var jM=t=>typeof t=="function",xS=t=>jM(t)?async()=>await t():qw(t);var ie=({environmentVariableSelector:t,configFileSelector:e,default:r},n={})=>Kn(Lc(gS(t),ES(e,n),xS(r)));var ca;(function(t){t.IPv4="http://169.254.169.254",t.IPv6="http://[fd00:ec2::254]"})(ca||(ca={}));var GM="AWS_EC2_METADATA_SERVICE_ENDPOINT",KM="ec2_metadata_service_endpoint",wS={environmentVariableSelector:t=>t[GM],configFileSelector:t=>t[KM],default:void 0};var Zn;(function(t){t.IPv4="IPv4",t.IPv6="IPv6"})(Zn||(Zn={}));var VM="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",WM="ec2_metadata_service_endpoint_mode",CS={environmentVariableSelector:t=>t[VM],configFileSelector:t=>t[WM],default:Zn.IPv4};var da=async()=>gt(await YM()||await XM()),YM=async()=>ie(wS)(),XM=async()=>{let t=await ie(CS)();switch(t){case Zn.IPv4:return ca.IPv4;case Zn.IPv6:return ca.IPv6;default:throw new Error(`Unsupported endpoint mode: ${t}. Select from ${Object.values(Zn)}`)}};var QM="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",rh=(t,e)=>{let r=300+Math.floor(Math.random()*300),n=new Date(Date.now()+r*1e3);e.warn("Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(newExpiration)}.\nFor more information, please visit: "+QM);let s=t.originalExpiration??t.expiration;return{...t,...s?{originalExpiration:s}:{},expiration:n}};var SS=(t,e={})=>{let r=(e==null?void 0:e.logger)||console,n;return async()=>{let s;try{s=await t(),s.expiration&&s.expiration.getTime()<Date.now()&&(s=rh(s,r))}catch(o){if(n)r.warn("Credential renew failed: ",o),s=rh(n,r);else throw o}return n=s,s}};var bS="/latest/meta-data/iam/security-credentials/",ZM="/latest/api/token",ud=(t={})=>SS(JM(t),{logger:t.logger}),JM=t=>{let e=!1,{timeout:r,maxRetries:n}=dd(t),s=async(o,i)=>{let a=(await oa(async()=>{let c;try{c=await tL(i)}catch(d){throw d.statusCode===401&&(e=!1),d}return c},o)).trim();return oa(async()=>{let c;try{c=await rL(a,i)}catch(d){throw d.statusCode===401&&(e=!1),d}return c},o)};return async()=>{let o=await da();if(e)return s(n,{...o,timeout:r});{let i;try{i=(await eL({...o,timeout:r})).toString()}catch(a){if((a==null?void 0:a.statusCode)===400)throw Object.assign(a,{message:"EC2 Metadata token request returned error"});return(a.message==="TimeoutError"||[403,404,405].includes(a.statusCode))&&(e=!0),s(n,{...o,timeout:r})}return s(n,{...o,headers:{"x-aws-ec2-metadata-token":i},timeout:r})}}},eL=async t=>Yr({...t,path:ZM,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),tL=async t=>(await Yr({...t,path:bS})).toString(),rL=async(t,e)=>{let r=JSON.parse((await Yr({...e,path:bS+t})).toString());if(!ad(r))throw new $("Invalid response received from instance metadata service.");return cd(r)};var _S=(t,e)=>{let r={EcsContainer:ld,Ec2InstanceMetadata:ud,Environment:td};if(t in r)return r[t]();throw new $(`Unsupported credential source in profile ${e}. Got ${t}, expected EcsContainer or Ec2InstanceMetadata or Environment.`)};var RS=t=>!!t&&typeof t=="object"&&typeof t.role_arn=="string"&&["undefined","string"].indexOf(typeof t.role_session_name)>-1&&["undefined","string"].indexOf(typeof t.external_id)>-1&&["undefined","string"].indexOf(typeof t.mfa_serial)>-1&&(nL(t)||sL(t)),nL=t=>typeof t.source_profile=="string"&&typeof t.credential_source>"u",sL=t=>typeof t.credential_source=="string"&&typeof t.source_profile>"u",AS=async(t,e,r,n={})=>{let s=e[t];if(!r.roleAssumer)throw new $(`Profile ${t} requires a role to be assumed, but no role assumption callback was provided.`,!1);let{source_profile:o}=s;if(o&&o in n)throw new $(`Detected a cycle attempting to resolve credentials for profile ${jt(r)}. Profiles visited: `+Object.keys(n).join(", "),!1);let i=o?fd(o,e,r,{...n,[o]:!0}):_S(s.credential_source,t)(),a={RoleArn:s.role_arn,RoleSessionName:s.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:s.external_id},{mfa_serial:c}=s;if(c){if(!r.mfaCodeProvider)throw new $(`Profile ${t} requires multi-factor authentication, but no MFA code callback was provided.`,!1);a.SerialNumber=c,a.TokenCode=await r.mfaCodeProvider(c)}let d=await i;return r.roleAssumer(d,a)};var TS=require("child_process"),NS=require("util");var kS=(t,e)=>{if(e.Version!==1)throw Error(`Profile ${t} credential_process did not return Version 1.`);if(e.AccessKeyId===void 0||e.SecretAccessKey===void 0)throw Error(`Profile ${t} credential_process returned invalid credentials.`);if(e.Expiration){let r=new Date;if(new Date(e.Expiration)<r)throw Error(`Profile ${t} credential_process returned expired credentials.`)}return{accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,...e.SessionToken&&{sessionToken:e.SessionToken},...e.Expiration&&{expiration:new Date(e.Expiration)}}};var vS=async(t,e)=>{let r=e[t];if(e[t]){let n=r.credential_process;if(n!==void 0){let s=(0,NS.promisify)(TS.exec);try{let{stdout:o}=await s(n),i;try{i=JSON.parse(o.trim())}catch{throw Error(`Profile ${t} credential_process returned invalid JSON.`)}return kS(t,i)}catch(o){throw new $(o.message)}}else throw new $(`Profile ${t} did not contain credential_process.`)}else throw new $(`Profile ${t} could not be found in shared credentials file.`)};var hd=(t={})=>async()=>{let e=await Qn(t);return vS(jt(t),e)};var OS=t=>!!t&&typeof t=="object"&&typeof t.credential_process=="string",PS=async(t,e)=>hd({...t,profile:e})();var la=t=>t&&(typeof t.sso_start_url=="string"||typeof t.sso_account_id=="string"||typeof t.sso_session=="string"||typeof t.sso_region=="string"||typeof t.sso_role_name=="string");var sr=class extends $t{constructor(e){super(e),Object.setPrototypeOf(this,sr.prototype)}};var zo=class extends sr{constructor(e){super({name:"InvalidRequestException",$fault:"client",...e}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,zo.prototype)}},$o=class extends sr{constructor(e){super({name:"ResourceNotFoundException",$fault:"client",...e}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,$o.prototype)}},qo=class extends sr{constructor(e){super({name:"TooManyRequestsException",$fault:"client",...e}),this.name="TooManyRequestsException",this.$fault="client",Object.setPrototypeOf(this,qo.prototype)}},Ho=class extends sr{constructor(e){super({name:"UnauthorizedException",$fault:"client",...e}),this.name="UnauthorizedException",this.$fault="client",Object.setPrototypeOf(this,Ho.prototype)}},IS=t=>({...t,...t.accessToken&&{accessToken:pr}}),oL=t=>({...t,...t.secretAccessKey&&{secretAccessKey:pr},...t.sessionToken&&{sessionToken:pr}}),DS=t=>({...t,...t.roleCredentials&&{roleCredentials:oL(t.roleCredentials)}});var BS=async(t,e)=>{let{hostname:r,protocol:n="https",port:s,path:o}=await e.endpoint(),i=Ds({},mL,{"x-amz-sso_bearer_token":t.accessToken}),a=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/federation/credentials`,c=Ds({role_name:[,Hr(t.roleName,"roleName")],account_id:[,Hr(t.accountId,"accountId")]}),d;return new se({protocol:n,hostname:r,port:s,method:"GET",headers:i,path:a,query:c,body:d})};var MS=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return iL(t,e);let r=Ds({$metadata:ua(t)}),n=Hr(Hi(await LS(t.body,e)),"body");return n.roleCredentials!=null&&(r.roleCredentials=uL(n.roleCredentials,e)),r},iL=async(t,e)=>{let r={...t,body:await pL(t.body,e)},n=yL(t,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await aL(r,e);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await cL(r,e);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await dL(r,e);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await lL(r,e);default:let s=r.body;jr({output:t,parsedBody:s,exceptionCtor:sr,errorCode:n})}};var Ds=Ns,aL=async(t,e)=>{let r=Ds({}),n=t.body;n.message!=null&&(r.message=U(n.message));let s=new zo({$metadata:ua(t),...r});return ge(s,t.body)},cL=async(t,e)=>{let r=Ds({}),n=t.body;n.message!=null&&(r.message=U(n.message));let s=new $o({$metadata:ua(t),...r});return ge(s,t.body)},dL=async(t,e)=>{let r=Ds({}),n=t.body;n.message!=null&&(r.message=U(n.message));let s=new qo({$metadata:ua(t),...r});return ge(s,t.body)},lL=async(t,e)=>{let r=Ds({}),n=t.body;n.message!=null&&(r.message=U(n.message));let s=new Ho({$metadata:ua(t),...r});return ge(s,t.body)};var uL=(t,e)=>({accessKeyId:U(t.accessKeyId),expiration:gc(t.expiration),secretAccessKey:U(t.secretAccessKey),sessionToken:U(t.sessionToken)});var ua=t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}),fL=(t=new Uint8Array,e)=>t instanceof Uint8Array?Promise.resolve(t):e.streamCollector(t)||Promise.resolve(new Uint8Array),hL=(t,e)=>fL(t,e).then(r=>e.utf8Encoder(r)),mL=t=>t!=null&&t!==""&&(!Object.getOwnPropertyNames(t).includes("length")||t.length!=0)&&(!Object.getOwnPropertyNames(t).includes("size")||t.size!=0),LS=(t,e)=>hL(t,e).then(r=>r.length?JSON.parse(r):{}),pL=async(t,e)=>{let r=await LS(t,e);return r.message=r.message??r.Message,r},yL=(t,e)=>{let r=(o,i)=>Object.keys(o).find(a=>a.toLowerCase()===i.toLowerCase()),n=o=>{let i=o;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},s=r(t.headers,"x-amzn-errortype");if(s!==void 0)return n(t.headers[s]);if(e.code!==void 0)return n(e.code);if(e.__type!==void 0)return n(e.__type)};var jo=class extends zt{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,r,n){this.middlewareStack.use(ur(r,this.serialize,this.deserialize)),this.middlewareStack.use(fr(r,jo.getEndpointParameterInstructions()));let s=e.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"SSOClient",commandName:"GetRoleCredentialsCommand",inputFilterSensitiveLog:IS,outputFilterSensitiveLog:DS},{requestHandler:d}=r;return s.resolve(l=>d.handle(l.request,n||{}),c)}serialize(e,r){return BS(e,r)}deserialize(e,r){return MS(e,r)}};var FS=t=>({...t,useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"});var US={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.309.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/config-resolver":"3.306.0","@aws-sdk/fetch-http-handler":"3.306.0","@aws-sdk/hash-node":"3.306.0","@aws-sdk/invalid-dependency":"3.306.0","@aws-sdk/middleware-content-length":"3.306.0","@aws-sdk/middleware-endpoint":"3.306.0","@aws-sdk/middleware-host-header":"3.306.0","@aws-sdk/middleware-logger":"3.306.0","@aws-sdk/middleware-recursion-detection":"3.306.0","@aws-sdk/middleware-retry":"3.306.0","@aws-sdk/middleware-serde":"3.306.0","@aws-sdk/middleware-stack":"3.306.0","@aws-sdk/middleware-user-agent":"3.306.0","@aws-sdk/node-config-provider":"3.306.0","@aws-sdk/node-http-handler":"3.306.0","@aws-sdk/protocol-http":"3.306.0","@aws-sdk/smithy-client":"3.309.0","@aws-sdk/types":"3.306.0","@aws-sdk/url-parser":"3.306.0","@aws-sdk/util-base64":"3.303.0","@aws-sdk/util-body-length-browser":"3.303.0","@aws-sdk/util-body-length-node":"3.303.0","@aws-sdk/util-defaults-mode-browser":"3.309.0","@aws-sdk/util-defaults-mode-node":"3.309.0","@aws-sdk/util-endpoints":"3.306.0","@aws-sdk/util-retry":"3.306.0","@aws-sdk/util-user-agent-browser":"3.306.0","@aws-sdk/util-user-agent-node":"3.306.0","@aws-sdk/util-utf8":"3.303.0",tslib:"^2.5.0"},devDependencies:{"@aws-sdk/service-client-documentation-generator":"3.303.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}};var $S=require("buffer"),md=require("crypto"),Gt=class{constructor(e,r){this.algorithmIdentifier=e,this.secret=r,this.reset()}update(e,r){this.hash.update(xt(zS(e,r)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?(0,md.createHmac)(this.algorithmIdentifier,zS(this.secret)):(0,md.createHash)(this.algorithmIdentifier)}};function zS(t,e){return $S.Buffer.isBuffer(t)?t:typeof t=="string"?_o(t,e):ArrayBuffer.isView(t)?Kr(t.buffer,t.byteOffset,t.byteLength):Kr(t)}function nh(t){let e=[];for(let r of Object.keys(t).sort()){let n=t[r];if(r=Sr(r),Array.isArray(n))for(let s=0,o=n.length;s<o;s++)e.push(`${r}=${Sr(n[s])}`);else{let s=r;(n||typeof n=="string")&&(s+=`=${Sr(n)}`),e.push(s)}}return e.join("&")}var pd=require("http"),yd=require("https");var qS=["ECONNRESET","EPIPE","ETIMEDOUT"];var sh=t=>{let e={};for(let r of Object.keys(t)){let n=t[r];e[r]=Array.isArray(n)?n.join(","):n}return e};var jS=require("stream");function oh(t,e){(e.headers.Expect||e.headers.expect)==="100-continue"?t.on("continue",()=>{HS(t,e.body)}):HS(t,e.body)}function HS(t,e){e instanceof jS.Readable?e.pipe(t):e?t.end(Buffer.from(e)):t.end()}var GS=0,br=class{constructor(e){this.metadata={handlerProtocol:"http/1.1"},this.configProvider=new Promise((r,n)=>{typeof e=="function"?e().then(s=>{r(this.resolveDefaultConfig(s))}).catch(n):r(this.resolveDefaultConfig(e))})}resolveDefaultConfig(e){let{requestTimeout:r,connectionTimeout:n,socketTimeout:s,httpAgent:o,httpsAgent:i}=e||{},a=!0,c=50;return{connectionTimeout:n,socketTimeout:s,requestTimeout:r??n??s??GS,httpAgent:o||new pd.Agent({keepAlive:a,maxSockets:c}),httpsAgent:i||new yd.Agent({keepAlive:a,maxSockets:c})}}destroy(){var e,r,n,s;(r=(e=this.config)==null?void 0:e.httpAgent)==null||r.destroy(),(s=(n=this.config)==null?void 0:n.httpsAgent)==null||s.destroy()}async handle(e,{abortSignal:r}={}){return this.config||(this.config=await this.configProvider),new Promise((n,s)=>{var f;if(!this.config)throw new Error("Node HTTP request handler config is not resolved");if(r!=null&&r.aborted){let u=new Error("Request aborted");u.name="AbortError",s(u);return}let o=e.protocol==="https:",i=nh(e.query||{}),a={headers:e.headers,host:e.hostname,method:e.method,path:i?`${e.path}?${i}`:e.path,port:e.port,agent:o?this.config.httpsAgent:this.config.httpAgent},d=(o?yd.request:pd.request)(a,u=>{let g=new nr({statusCode:u.statusCode||-1,headers:sh(u.headers),body:u});n({response:g})});d.on("error",u=>{qS.includes(u.code)?s(Object.assign(u,{name:"TimeoutError"})):s(u)});let l=((f=this.config)==null?void 0:f.requestTimeout)??GS;d.setTimeout(l,()=>{d.destroy(),s(Object.assign(new Error(`Connection timed out after ${l} ms`),{name:"TimeoutError"}))}),r&&(r.onabort=()=>{d.abort();let u=new Error("Request aborted");u.name="AbortError",s(u)}),oh(d,e)})}};var ih=class{constructor(e){this.sessions=[],this.sessions=e??[]}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(e){this.sessions.push(e)}contains(e){return this.sessions.includes(e)}remove(e){this.sessions=this.sessions.filter(r=>r!==e)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(e){for(let r of this.sessions)r===e&&(r.destroyed||r.destroy())}};var KS=require("stream"),gd=class extends KS.Writable{constructor(){super(...arguments),this.bufferedBytes=[]}_write(e,r,n){this.bufferedBytes.push(e),n()}};var _r=t=>new Promise((e,r)=>{let n=new gd;t.pipe(n),t.on("error",s=>{n.end(),r(s)}),n.on("error",r),n.on("finish",function(){let s=new Uint8Array(Buffer.concat(this.bufferedBytes));e(s)})});var Ed=require("fs"),Jn=t=>{if(!t)return 0;if(typeof t=="string")return Buffer.from(t).length;if(typeof t.byteLength=="number")return t.byteLength;if(typeof t.size=="number")return t.size;if(typeof t.path=="string"||Buffer.isBuffer(t.path))return(0,Ed.lstatSync)(t.path).size;if(typeof t.fd=="number")return(0,Ed.fstatSync)(t.fd).size;throw new Error(`Body Length computation failed for ${t}`)};var xd=require("os"),fa=require("process");var VS=()=>{try{return typeof require=="function"&&typeof module<"u"&&require("aws-crt")?["md/crt-avail"]:null}catch{return null}};var EL="AWS_SDK_UA_APP_ID",xL="sdk-ua-app-id",es=({serviceId:t,clientVersion:e})=>{let r=[["aws-sdk-js",e],[`os/${(0,xd.platform)()}`,(0,xd.release)()],["lang/js"],["md/nodejs",`${fa.versions.node}`]],n=VS();n&&r.push(n),t&&r.push([`api/${t}`,e]),fa.env.AWS_EXECUTION_ENV&&r.push([`exec-env/${fa.env.AWS_EXECUTION_ENV}`]);let s=ie({environmentVariableSelector:i=>i[EL],configFileSelector:i=>i[xL],default:void 0})(),o;return async()=>{if(!o){let i=await s;o=i?[...r,[`app/${i}`]]:[...r]}return o}};var wL=/^[A-Za-z0-9+/]*={0,2}$/,ts=t=>{if(t.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!wL.exec(t))throw new TypeError("Invalid base64 string.");let e=_o(t,"base64");return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)};var rs=t=>Kr(t.buffer,t.byteOffset,t.byteLength).toString("base64");var tb="required",Xr="fn",Qr="argv",Go="ref",ah="PartitionResult",Rr="tree",ha="error",ma="endpoint",WS={[tb]:!1,type:"String"},YS={[tb]:!0,default:!1,type:"Boolean"},rb={[Go]:"Endpoint"},nb={[Xr]:"booleanEquals",[Qr]:[{[Go]:"UseFIPS"},!0]},sb={[Xr]:"booleanEquals",[Qr]:[{[Go]:"UseDualStack"},!0]},Ar={},XS={[Xr]:"booleanEquals",[Qr]:[!0,{[Xr]:"getAttr",[Qr]:[{[Go]:ah},"supportsFIPS"]}]},QS={[Xr]:"booleanEquals",[Qr]:[!0,{[Xr]:"getAttr",[Qr]:[{[Go]:ah},"supportsDualStack"]}]},ZS=[rb],JS=[nb],eb=[sb],CL={version:"1.0",parameters:{Region:WS,UseDualStack:YS,UseFIPS:YS,Endpoint:WS},rules:[{conditions:[{[Xr]:"aws.partition",[Qr]:[{[Go]:"Region"}],assign:ah}],type:Rr,rules:[{conditions:[{[Xr]:"isSet",[Qr]:ZS},{[Xr]:"parseURL",[Qr]:ZS,assign:"url"}],type:Rr,rules:[{conditions:JS,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:ha},{type:Rr,rules:[{conditions:eb,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:ha},{endpoint:{url:rb,properties:Ar,headers:Ar},type:ma}]}]},{conditions:[nb,sb],type:Rr,rules:[{conditions:[XS,QS],type:Rr,rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ar,headers:Ar},type:ma}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:ha}]},{conditions:JS,type:Rr,rules:[{conditions:[XS],type:Rr,rules:[{type:Rr,rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Ar,headers:Ar},type:ma}]}]},{error:"FIPS is enabled but this partition does not support FIPS",type:ha}]},{conditions:eb,type:Rr,rules:[{conditions:[QS],type:Rr,rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ar,headers:Ar},type:ma}]},{error:"DualStack is enabled but this partition does not support DualStack",type:ha}]},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:Ar,headers:Ar},type:ma}]}]},ob=CL;var ib=(t,e={})=>Yn(ob,{endpointParams:t,logger:e.logger});var ab=t=>({apiVersion:"2019-06-10",base64Decoder:(t==null?void 0:t.base64Decoder)??ts,base64Encoder:(t==null?void 0:t.base64Encoder)??rs,disableHostPrefix:(t==null?void 0:t.disableHostPrefix)??!1,endpointProvider:(t==null?void 0:t.endpointProvider)??ib,logger:(t==null?void 0:t.logger)??new hr,serviceId:(t==null?void 0:t.serviceId)??"SSO",urlParser:(t==null?void 0:t.urlParser)??gt,utf8Decoder:(t==null?void 0:t.utf8Decoder)??gr,utf8Encoder:(t==null?void 0:t.utf8Encoder)??In});var cb="AWS_EXECUTION_ENV",ch="AWS_REGION",dh="AWS_DEFAULT_REGION",db="AWS_EC2_METADATA_DISABLED",lb=["in-region","cross-region","mobile","standard","legacy"],ub="/latest/meta-data/placement/region";var SL="AWS_DEFAULTS_MODE",bL="defaults_mode",fb={environmentVariableSelector:t=>t[SL],configFileSelector:t=>t[bL],default:"legacy"};var ns=({region:t=ie(xr),defaultsMode:e=ie(fb)}={})=>Kn(async()=>{let r=typeof e=="function"?await e():e;switch(r==null?void 0:r.toLowerCase()){case"auto":return _L(t);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r==null?void 0:r.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${lb.join(", ")}, got ${r}`)}}),_L=async t=>{if(t){let e=typeof t=="function"?await t():t,r=await RL();return r?e===r?"in-region":"cross-region":"standard"}return"standard"},RL=async()=>{if(process.env[cb]&&(process.env[ch]||process.env[dh]))return process.env[ch]??process.env[dh];if(!process.env[db])try{let t=await da();return(await Yr({...t,path:ub})).toString()}catch{}};var hb=t=>{Nn(process.version);let e=ns(t),r=()=>e().then(Tn),n=ab(t);return{...n,...t,runtime:"node",defaultsMode:e,bodyLengthChecker:(t==null?void 0:t.bodyLengthChecker)??Jn,defaultUserAgentProvider:(t==null?void 0:t.defaultUserAgentProvider)??es({serviceId:n.serviceId,clientVersion:US.version}),maxAttempts:(t==null?void 0:t.maxAttempts)??ie(qn),region:(t==null?void 0:t.region)??ie(xr,Mn),requestHandler:(t==null?void 0:t.requestHandler)??new br(r),retryMode:(t==null?void 0:t.retryMode)??ie({...jn,default:async()=>(await r()).retryMode||Cr}),sha256:(t==null?void 0:t.sha256)??Gt.bind(null,"sha256"),streamCollector:(t==null?void 0:t.streamCollector)??_r,useDualstackEndpoint:(t==null?void 0:t.useDualstackEndpoint)??ie(Dn),useFipsEndpoint:(t==null?void 0:t.useFipsEndpoint)??ie(Bn)}};var wd=class extends mr{constructor(e){let r=hb(e),n=FS(r),s=Ln(n),o=kn(s),i=Hn(o),a=i,c=Vn(a);super(c),this.config=c,this.middlewareStack.use(Gn(this.config)),this.middlewareStack.use(Fn(this.config)),this.middlewareStack.use(Un(this.config)),this.middlewareStack.use(zn(this.config)),this.middlewareStack.use($n(this.config)),this.middlewareStack.use(Xn(this.config))}destroy(){super.destroy()}};var Ko="To refresh this SSO session run 'aws sso login' with the corresponding profile.";var Ge=class extends $t{constructor(e){super(e),Object.setPrototypeOf(this,Ge.prototype)}};var Vo=class extends Ge{constructor(e){super({name:"AccessDeniedException",$fault:"client",...e}),this.name="AccessDeniedException",this.$fault="client",Object.setPrototypeOf(this,Vo.prototype),this.error=e.error,this.error_description=e.error_description}},Wo=class extends Ge{constructor(e){super({name:"AuthorizationPendingException",$fault:"client",...e}),this.name="AuthorizationPendingException",this.$fault="client",Object.setPrototypeOf(this,Wo.prototype),this.error=e.error,this.error_description=e.error_description}},Yo=class extends Ge{constructor(e){super({name:"ExpiredTokenException",$fault:"client",...e}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,Yo.prototype),this.error=e.error,this.error_description=e.error_description}},Xo=class extends Ge{constructor(e){super({name:"InternalServerException",$fault:"server",...e}),this.name="InternalServerException",this.$fault="server",Object.setPrototypeOf(this,Xo.prototype),this.error=e.error,this.error_description=e.error_description}},Qo=class extends Ge{constructor(e){super({name:"InvalidClientException",$fault:"client",...e}),this.name="InvalidClientException",this.$fault="client",Object.setPrototypeOf(this,Qo.prototype),this.error=e.error,this.error_description=e.error_description}},Zo=class extends Ge{constructor(e){super({name:"InvalidGrantException",$fault:"client",...e}),this.name="InvalidGrantException",this.$fault="client",Object.setPrototypeOf(this,Zo.prototype),this.error=e.error,this.error_description=e.error_description}},Jo=class extends Ge{constructor(e){super({name:"InvalidRequestException",$fault:"client",...e}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,Jo.prototype),this.error=e.error,this.error_description=e.error_description}},ei=class extends Ge{constructor(e){super({name:"InvalidScopeException",$fault:"client",...e}),this.name="InvalidScopeException",this.$fault="client",Object.setPrototypeOf(this,ei.prototype),this.error=e.error,this.error_description=e.error_description}},ti=class extends Ge{constructor(e){super({name:"SlowDownException",$fault:"client",...e}),this.name="SlowDownException",this.$fault="client",Object.setPrototypeOf(this,ti.prototype),this.error=e.error,this.error_description=e.error_description}},ri=class extends Ge{constructor(e){super({name:"UnauthorizedClientException",$fault:"client",...e}),this.name="UnauthorizedClientException",this.$fault="client",Object.setPrototypeOf(this,ri.prototype),this.error=e.error,this.error_description=e.error_description}},ni=class extends Ge{constructor(e){super({name:"UnsupportedGrantTypeException",$fault:"client",...e}),this.name="UnsupportedGrantTypeException",this.$fault="client",Object.setPrototypeOf(this,ni.prototype),this.error=e.error,this.error_description=e.error_description}};var mb=async(t,e)=>{let{hostname:r,protocol:n="https",port:s,path:o}=await e.endpoint(),i={"content-type":"application/json"},a=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/token`,c;return c=JSON.stringify({...t.clientId!=null&&{clientId:t.clientId},...t.clientSecret!=null&&{clientSecret:t.clientSecret},...t.code!=null&&{code:t.code},...t.deviceCode!=null&&{deviceCode:t.deviceCode},...t.grantType!=null&&{grantType:t.grantType},...t.redirectUri!=null&&{redirectUri:t.redirectUri},...t.refreshToken!=null&&{refreshToken:t.refreshToken},...t.scope!=null&&{scope:FL(t.scope,e)}}),new se({protocol:n,hostname:r,port:s,method:"POST",headers:i,path:a,body:c})};var pb=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return AL(t,e);let r=Kt({$metadata:Vt(t)}),n=Hr(Hi(await yb(t.body,e)),"body");return n.accessToken!=null&&(r.accessToken=U(n.accessToken)),n.expiresIn!=null&&(r.expiresIn=yc(n.expiresIn)),n.idToken!=null&&(r.idToken=U(n.idToken)),n.refreshToken!=null&&(r.refreshToken=U(n.refreshToken)),n.tokenType!=null&&(r.tokenType=U(n.tokenType)),r},AL=async(t,e)=>{let r={...t,body:await $L(t.body,e)},n=qL(t,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await kL(r,e);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await TL(r,e);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await NL(r,e);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await vL(r,e);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await OL(r,e);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await PL(r,e);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await IL(r,e);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await DL(r,e);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await BL(r,e);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await ML(r,e);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await LL(r,e);default:let s=r.body;jr({output:t,parsedBody:s,exceptionCtor:Ge,errorCode:n})}};var Kt=Ns,kL=async(t,e)=>{let r=Kt({}),n=t.body;n.error!=null&&(r.error=U(n.error)),n.error_description!=null&&(r.error_description=U(n.error_description));let s=new Vo({$metadata:Vt(t),...r});return ge(s,t.body)},TL=async(t,e)=>{let r=Kt({}),n=t.body;n.error!=null&&(r.error=U(n.error)),n.error_description!=null&&(r.error_description=U(n.error_description));let s=new Wo({$metadata:Vt(t),...r});return ge(s,t.body)},NL=async(t,e)=>{let r=Kt({}),n=t.body;n.error!=null&&(r.error=U(n.error)),n.error_description!=null&&(r.error_description=U(n.error_description));let s=new Yo({$metadata:Vt(t),...r});return ge(s,t.body)},vL=async(t,e)=>{let r=Kt({}),n=t.body;n.error!=null&&(r.error=U(n.error)),n.error_description!=null&&(r.error_description=U(n.error_description));let s=new Xo({$metadata:Vt(t),...r});return ge(s,t.body)},OL=async(t,e)=>{let r=Kt({}),n=t.body;n.error!=null&&(r.error=U(n.error)),n.error_description!=null&&(r.error_description=U(n.error_description));let s=new Qo({$metadata:Vt(t),...r});return ge(s,t.body)};var PL=async(t,e)=>{let r=Kt({}),n=t.body;n.error!=null&&(r.error=U(n.error)),n.error_description!=null&&(r.error_description=U(n.error_description));let s=new Zo({$metadata:Vt(t),...r});return ge(s,t.body)},IL=async(t,e)=>{let r=Kt({}),n=t.body;n.error!=null&&(r.error=U(n.error)),n.error_description!=null&&(r.error_description=U(n.error_description));let s=new Jo({$metadata:Vt(t),...r});return ge(s,t.body)},DL=async(t,e)=>{let r=Kt({}),n=t.body;n.error!=null&&(r.error=U(n.error)),n.error_description!=null&&(r.error_description=U(n.error_description));let s=new ei({$metadata:Vt(t),...r});return ge(s,t.body)},BL=async(t,e)=>{let r=Kt({}),n=t.body;n.error!=null&&(r.error=U(n.error)),n.error_description!=null&&(r.error_description=U(n.error_description));let s=new ti({$metadata:Vt(t),...r});return ge(s,t.body)},ML=async(t,e)=>{let r=Kt({}),n=t.body;n.error!=null&&(r.error=U(n.error)),n.error_description!=null&&(r.error_description=U(n.error_description));let s=new ri({$metadata:Vt(t),...r});return ge(s,t.body)},LL=async(t,e)=>{let r=Kt({}),n=t.body;n.error!=null&&(r.error=U(n.error)),n.error_description!=null&&(r.error_description=U(n.error_description));let s=new ni({$metadata:Vt(t),...r});return ge(s,t.body)},FL=(t,e)=>t.filter(r=>r!=null).map(r=>r),Vt=t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}),UL=(t=new Uint8Array,e)=>t instanceof Uint8Array?Promise.resolve(t):e.streamCollector(t)||Promise.resolve(new Uint8Array),zL=(t,e)=>UL(t,e).then(r=>e.utf8Encoder(r));var yb=(t,e)=>zL(t,e).then(r=>r.length?JSON.parse(r):{}),$L=async(t,e)=>{let r=await yb(t,e);return r.message=r.message??r.Message,r},qL=(t,e)=>{let r=(o,i)=>Object.keys(o).find(a=>a.toLowerCase()===i.toLowerCase()),n=o=>{let i=o;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},s=r(t.headers,"x-amzn-errortype");if(s!==void 0)return n(t.headers[s]);if(e.code!==void 0)return n(e.code);if(e.__type!==void 0)return n(e.__type)};var si=class extends zt{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,r,n){this.middlewareStack.use(ur(r,this.serialize,this.deserialize)),this.middlewareStack.use(fr(r,si.getEndpointParameterInstructions()));let s=e.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"SSOOIDCClient",commandName:"CreateTokenCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l},{requestHandler:d}=r;return s.resolve(l=>d.handle(l.request,n||{}),c)}serialize(e,r){return mb(e,r)}deserialize(e,r){return pb(e,r)}};var gb=t=>({...t,useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,defaultSigningName:"awsssooidc"});var Eb={name:"@aws-sdk/client-sso-oidc",description:"AWS SDK for JavaScript Sso Oidc Client for Node.js, Browser and React Native",version:"3.309.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso-oidc"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/config-resolver":"3.306.0","@aws-sdk/fetch-http-handler":"3.306.0","@aws-sdk/hash-node":"3.306.0","@aws-sdk/invalid-dependency":"3.306.0","@aws-sdk/middleware-content-length":"3.306.0","@aws-sdk/middleware-endpoint":"3.306.0","@aws-sdk/middleware-host-header":"3.306.0","@aws-sdk/middleware-logger":"3.306.0","@aws-sdk/middleware-recursion-detection":"3.306.0","@aws-sdk/middleware-retry":"3.306.0","@aws-sdk/middleware-serde":"3.306.0","@aws-sdk/middleware-stack":"3.306.0","@aws-sdk/middleware-user-agent":"3.306.0","@aws-sdk/node-config-provider":"3.306.0","@aws-sdk/node-http-handler":"3.306.0","@aws-sdk/protocol-http":"3.306.0","@aws-sdk/smithy-client":"3.309.0","@aws-sdk/types":"3.306.0","@aws-sdk/url-parser":"3.306.0","@aws-sdk/util-base64":"3.303.0","@aws-sdk/util-body-length-browser":"3.303.0","@aws-sdk/util-body-length-node":"3.303.0","@aws-sdk/util-defaults-mode-browser":"3.309.0","@aws-sdk/util-defaults-mode-node":"3.309.0","@aws-sdk/util-endpoints":"3.306.0","@aws-sdk/util-retry":"3.306.0","@aws-sdk/util-user-agent-browser":"3.306.0","@aws-sdk/util-user-agent-node":"3.306.0","@aws-sdk/util-utf8":"3.303.0",tslib:"^2.5.0"},devDependencies:{"@aws-sdk/service-client-documentation-generator":"3.303.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso-oidc",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso-oidc"}};var Ab="required",Zr="fn",Jr="argv",oi="ref",uh="PartitionResult",kr="tree",pa="error",ya="endpoint",xb={[Ab]:!1,type:"String"},wb={[Ab]:!0,default:!1,type:"Boolean"},kb={[oi]:"Endpoint"},Tb={[Zr]:"booleanEquals",[Jr]:[{[oi]:"UseFIPS"},!0]},Nb={[Zr]:"booleanEquals",[Jr]:[{[oi]:"UseDualStack"},!0]},Tr={},Cb={[Zr]:"booleanEquals",[Jr]:[!0,{[Zr]:"getAttr",[Jr]:[{[oi]:uh},"supportsFIPS"]}]},Sb={[Zr]:"booleanEquals",[Jr]:[!0,{[Zr]:"getAttr",[Jr]:[{[oi]:uh},"supportsDualStack"]}]},bb=[kb],_b=[Tb],Rb=[Nb],jL={version:"1.0",parameters:{Region:xb,UseDualStack:wb,UseFIPS:wb,Endpoint:xb},rules:[{conditions:[{[Zr]:"aws.partition",[Jr]:[{[oi]:"Region"}],assign:uh}],type:kr,rules:[{conditions:[{[Zr]:"isSet",[Jr]:bb},{[Zr]:"parseURL",[Jr]:bb,assign:"url"}],type:kr,rules:[{conditions:_b,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:pa},{type:kr,rules:[{conditions:Rb,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:pa},{endpoint:{url:kb,properties:Tr,headers:Tr},type:ya}]}]},{conditions:[Tb,Nb],type:kr,rules:[{conditions:[Cb,Sb],type:kr,rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Tr,headers:Tr},type:ya}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:pa}]},{conditions:_b,type:kr,rules:[{conditions:[Cb],type:kr,rules:[{type:kr,rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Tr,headers:Tr},type:ya}]}]},{error:"FIPS is enabled but this partition does not support FIPS",type:pa}]},{conditions:Rb,type:kr,rules:[{conditions:[Sb],type:kr,rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Tr,headers:Tr},type:ya}]},{error:"DualStack is enabled but this partition does not support DualStack",type:pa}]},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:Tr,headers:Tr},type:ya}]}]},vb=jL;var Ob=(t,e={})=>Yn(vb,{endpointParams:t,logger:e.logger});var Pb=t=>({apiVersion:"2019-06-10",base64Decoder:(t==null?void 0:t.base64Decoder)??ts,base64Encoder:(t==null?void 0:t.base64Encoder)??rs,disableHostPrefix:(t==null?void 0:t.disableHostPrefix)??!1,endpointProvider:(t==null?void 0:t.endpointProvider)??Ob,logger:(t==null?void 0:t.logger)??new hr,serviceId:(t==null?void 0:t.serviceId)??"SSO OIDC",urlParser:(t==null?void 0:t.urlParser)??gt,utf8Decoder:(t==null?void 0:t.utf8Decoder)??gr,utf8Encoder:(t==null?void 0:t.utf8Encoder)??In});var Ib=t=>{Nn(process.version);let e=ns(t),r=()=>e().then(Tn),n=Pb(t);return{...n,...t,runtime:"node",defaultsMode:e,bodyLengthChecker:(t==null?void 0:t.bodyLengthChecker)??Jn,defaultUserAgentProvider:(t==null?void 0:t.defaultUserAgentProvider)??es({serviceId:n.serviceId,clientVersion:Eb.version}),maxAttempts:(t==null?void 0:t.maxAttempts)??ie(qn),region:(t==null?void 0:t.region)??ie(xr,Mn),requestHandler:(t==null?void 0:t.requestHandler)??new br(r),retryMode:(t==null?void 0:t.retryMode)??ie({...jn,default:async()=>(await r()).retryMode||Cr}),sha256:(t==null?void 0:t.sha256)??Gt.bind(null,"sha256"),streamCollector:(t==null?void 0:t.streamCollector)??_r,useDualstackEndpoint:(t==null?void 0:t.useDualstackEndpoint)??ie(Dn),useFipsEndpoint:(t==null?void 0:t.useFipsEndpoint)??ie(Bn)}};var Cd=class extends mr{constructor(e){let r=Ib(e),n=gb(r),s=Ln(n),o=kn(s),i=Hn(o),a=i,c=Vn(a);super(c),this.config=c,this.middlewareStack.use(Gn(this.config)),this.middlewareStack.use(Fn(this.config)),this.middlewareStack.use(Un(this.config)),this.middlewareStack.use(zn(this.config)),this.middlewareStack.use($n(this.config)),this.middlewareStack.use(Xn(this.config))}destroy(){super.destroy()}};var fh={},Db=t=>{if(fh[t])return fh[t];let e=new Cd({region:t});return fh[t]=e,e};var Bb=(t,e)=>Db(e).send(new si({clientId:t.clientId,clientSecret:t.clientSecret,refreshToken:t.refreshToken,grantType:"refresh_token"}));var hh=t=>{if(t.expiration&&t.expiration.getTime()<Date.now())throw new Ct(`Token is expired. ${Ko}`,!1)};var ss=(t,e,r=!1)=>{if(typeof e>"u")throw new Ct(`Value not present for '${t}' in SSO Token${r?". Cannot refresh":""}. ${Ko}`,!1)};var Mb=require("fs"),{writeFile:GL}=Mb.promises,Lb=(t,e)=>{let r=rd(t),n=JSON.stringify(e,null,2);return GL(r,n)};var Fb=new Date(0),Ub=(t={})=>async()=>{let e=await Qn(t),r=jt(t),n=e[r];if(n){if(!n.sso_session)throw new Ct(`Profile '${r}' is missing required property 'sso_session'.`)}else throw new Ct(`Profile '${r}' could not be found in shared credentials file.`,!1);let s=n.sso_session,i=(await id(t))[s];if(!i)throw new Ct(`Sso session '${s}' could not be found in shared credentials file.`,!1);for(let g of["sso_start_url","sso_region"])if(!i[g])throw new Ct(`Sso session '${s}' is missing required property '${g}'.`,!1);let a=i.sso_start_url,c=i.sso_region,d;try{d=await nd(s)}catch{throw new Ct(`The SSO session token associated with profile=${r} was not found or is invalid. ${Ko}`,!1)}ss("accessToken",d.accessToken),ss("expiresAt",d.expiresAt);let{accessToken:l,expiresAt:f}=d,u={token:l,expiration:new Date(f)};if(u.expiration.getTime()-Date.now()>3e5)return u;if(Date.now()-Fb.getTime()<30*1e3)return hh(u),u;ss("clientId",d.clientId,!0),ss("clientSecret",d.clientSecret,!0),ss("refreshToken",d.refreshToken,!0);try{Fb.setTime(Date.now());let g=await Bb(d,c);ss("accessToken",g.accessToken),ss("expiresIn",g.expiresIn);let y=new Date(Date.now()+g.expiresIn*1e3);try{await Lb(s,{...d,accessToken:g.accessToken,expiresAt:y.toISOString(),refreshToken:g.refreshToken})}catch{}return{token:g.accessToken,expiration:y}}catch{return hh(u),u}};var VL=15*60*1e3,ga=!1,mh=async({ssoStartUrl:t,ssoSession:e,ssoAccountId:r,ssoRegion:n,ssoRoleName:s,ssoClient:o,profile:i})=>{let a,c="To refresh this SSO session run aws sso login with the corresponding profile.";if(e)try{let R=await Ub({profile:i})();a={accessToken:R.token,expiresAt:new Date(R.expiration).toISOString()}}catch(R){throw new $(R.message,ga)}else try{a=await nd(t)}catch{throw new $(`The SSO session associated with this profile is invalid. ${c}`,ga)}if(new Date(a.expiresAt).getTime()-Date.now()<=VL)throw new $(`The SSO session associated with this profile has expired. ${c}`,ga);let{accessToken:d}=a,l=o||new wd({region:n}),f;try{f=await l.send(new jo({accountId:r,roleName:s,accessToken:d}))}catch(R){throw $.from(R,ga)}let{roleCredentials:{accessKeyId:u,secretAccessKey:g,sessionToken:y,expiration:b}={}}=f;if(!u||!g||!y||!b)throw new $("SSO returns an invalid temporary credential.",ga);return{accessKeyId:u,secretAccessKey:g,sessionToken:y,expiration:new Date(b)}};var Sd=t=>{let{sso_start_url:e,sso_account_id:r,sso_region:n,sso_role_name:s}=t;if(!e||!r||!n||!s)throw new $(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(t).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,!1);return t};var bd=(t={})=>async()=>{let{ssoStartUrl:e,ssoAccountId:r,ssoRegion:n,ssoRoleName:s,ssoClient:o,ssoSession:i}=t,a=jt(t);if(!e&&!r&&!n&&!s&&!i){let d=(await Qn(t))[a];if(!d)throw new $(`Profile ${a} was not found.`);if(!la(d))throw new $(`Profile ${a} is not configured with SSO credentials.`);if(d!=null&&d.sso_session){let R=(await id(t))[d.sso_session],B=` configurations in profile ${a} and sso-session ${d.sso_session}`;if(n&&n!==R.sso_region)throw new $("Conflicting SSO region"+B,!1);if(e&&e!==R.sso_start_url)throw new $("Conflicting SSO start_url"+B,!1);d.sso_region=R.sso_region,d.sso_start_url=R.sso_start_url}let{sso_start_url:l,sso_account_id:f,sso_region:u,sso_role_name:g,sso_session:y}=Sd(d);return mh({ssoStartUrl:l,ssoSession:y,ssoAccountId:f,ssoRegion:u,ssoRoleName:g,ssoClient:o,profile:a})}else{if(!e||!r||!n||!s)throw new $('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"');return mh({ssoStartUrl:e,ssoSession:i,ssoAccountId:r,ssoRegion:n,ssoRoleName:s,ssoClient:o,profile:a})}};var zb=t=>{let{sso_start_url:e,sso_account_id:r,sso_session:n,sso_region:s,sso_role_name:o}=Sd(t);return bd({ssoStartUrl:e,ssoAccountId:r,ssoSession:n,ssoRegion:s,ssoRoleName:o})()};var ph=t=>!!t&&typeof t=="object"&&typeof t.aws_access_key_id=="string"&&typeof t.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof t.aws_session_token)>-1,yh=t=>Promise.resolve({accessKeyId:t.aws_access_key_id,secretAccessKey:t.aws_secret_access_key,sessionToken:t.aws_session_token});var qb=require("fs");var $b=t=>()=>{let{roleArn:e,roleSessionName:r,webIdentityToken:n,providerId:s,policyArns:o,policy:i,durationSeconds:a,roleAssumerWithWebIdentity:c}=t;if(!c)throw new $(`Role Arn '${e}' needs to be assumed with web identity, but no role assumption callback was provided.`,!1);return c({RoleArn:e,RoleSessionName:r??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:n,ProviderId:s,PolicyArns:o,Policy:i,DurationSeconds:a})};var WL="AWS_WEB_IDENTITY_TOKEN_FILE",YL="AWS_ROLE_ARN",XL="AWS_ROLE_SESSION_NAME",_d=(t={})=>async()=>QL(t),QL=t=>{let e=(t==null?void 0:t.webIdentityTokenFile)??process.env[WL],r=(t==null?void 0:t.roleArn)??process.env[YL],n=(t==null?void 0:t.roleSessionName)??process.env[XL];if(!e||!r)throw new $("Web identity configuration not specified");return $b({...t,webIdentityToken:(0,qb.readFileSync)(e,{encoding:"ascii"}),roleArn:r,roleSessionName:n})()};var Hb=t=>!!t&&typeof t=="object"&&typeof t.web_identity_token_file=="string"&&typeof t.role_arn=="string"&&["undefined","string"].indexOf(typeof t.role_session_name)>-1,jb=async(t,e)=>_d({webIdentityTokenFile:t.web_identity_token_file,roleArn:t.role_arn,roleSessionName:t.role_session_name,roleAssumerWithWebIdentity:e.roleAssumerWithWebIdentity})();var fd=async(t,e,r,n={})=>{let s=e[t];if(Object.keys(n).length>0&&ph(s))return yh(s);if(RS(s))return AS(t,e,r,n);if(ph(s))return yh(s);if(Hb(s))return jb(s,r);if(OS(s))return PS(r,t);if(la(s))return zb(s);throw new $(`Profile ${t} could not be found or parsed in shared credentials file.`)};var Gb=(t={})=>async()=>{let e=await Qn(t);return fd(jt(t),e,t)};var ZL="AWS_EC2_METADATA_DISABLED",Kb=t=>process.env[aa]||process.env[ia]?ld(t):process.env[ZL]?async()=>{throw new $("EC2 Instance Metadata Service access disabled")}:ud(t);var Rd=(t={})=>Kn(Lc(...t.profile||process.env[eh]?[]:[td()],bd(t),Gb(t),hd(t),_d(t),Kb(t),async()=>{throw new $("Could not load credentials from any providers",!1)}),e=>e.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5,e=>e.expiration!==void 0);var t_="required",Z="type",ue="fn",fe="argv",os="ref",Bs="properties",Ms="headers";var Eh="PartitionResult",Wt="tree",Ls="booleanEquals",Je="stringEquals",r_="sigv4",n_="us-east-1",s_="sts",Te="endpoint",o_="https://sts.{Region}.{PartitionResult#dnsSuffix}",Ea="error",xh="getAttr",Vb={[t_]:!1,[Z]:"String"},gh={[t_]:!0,default:!1,[Z]:"Boolean"},et={[os]:"Region"},i_={[os]:"UseFIPS"},a_={[os]:"UseDualStack"},Wb={[ue]:"isSet",[fe]:[{[os]:"Endpoint"}]},c_={[os]:"Endpoint"},rt={url:"https://sts.amazonaws.com",[Bs]:{authSchemes:[{name:r_,signingRegion:n_,signingName:s_}]},[Ms]:{}},en={},Yb={conditions:[{[ue]:Je,[fe]:[et,"aws-global"]}],[Te]:rt,[Z]:Te},d_={[ue]:Ls,[fe]:[i_,!0]},l_={[ue]:Ls,[fe]:[a_,!0]},Xb={[ue]:Ls,[fe]:[!0,{[ue]:xh,[fe]:[{[os]:Eh},"supportsFIPS"]}]},u_={[os]:Eh},Qb={[ue]:Ls,[fe]:[!0,{[ue]:xh,[fe]:[u_,"supportsDualStack"]}]},Zb={url:o_,[Bs]:{},[Ms]:{}},JL=[c_],Jb=[d_],e_=[l_],eF={version:"1.0",parameters:{Region:Vb,UseDualStack:gh,UseFIPS:gh,Endpoint:Vb,UseGlobalEndpoint:gh},rules:[{conditions:[{[ue]:"aws.partition",[fe]:[et],assign:Eh}],[Z]:Wt,rules:[{conditions:[{[ue]:Ls,[fe]:[{[os]:"UseGlobalEndpoint"},!0]},{[ue]:Ls,[fe]:[i_,!1]},{[ue]:Ls,[fe]:[a_,!1]},{[ue]:"not",[fe]:[Wb]}],[Z]:Wt,rules:[{conditions:[{[ue]:Je,[fe]:[et,"ap-northeast-1"]}],endpoint:rt,[Z]:Te},{conditions:[{[ue]:Je,[fe]:[et,"ap-south-1"]}],endpoint:rt,[Z]:Te},{conditions:[{[ue]:Je,[fe]:[et,"ap-southeast-1"]}],endpoint:rt,[Z]:Te},{conditions:[{[ue]:Je,[fe]:[et,"ap-southeast-2"]}],endpoint:rt,[Z]:Te},Yb,{conditions:[{[ue]:Je,[fe]:[et,"ca-central-1"]}],endpoint:rt,[Z]:Te},{conditions:[{[ue]:Je,[fe]:[et,"eu-central-1"]}],endpoint:rt,[Z]:Te},{conditions:[{[ue]:Je,[fe]:[et,"eu-north-1"]}],endpoint:rt,[Z]:Te},{conditions:[{[ue]:Je,[fe]:[et,"eu-west-1"]}],endpoint:rt,[Z]:Te},{conditions:[{[ue]:Je,[fe]:[et,"eu-west-2"]}],endpoint:rt,[Z]:Te},{conditions:[{[ue]:Je,[fe]:[et,"eu-west-3"]}],endpoint:rt,[Z]:Te},{conditions:[{[ue]:Je,[fe]:[et,"sa-east-1"]}],endpoint:rt,[Z]:Te},{conditions:[{[ue]:Je,[fe]:[et,n_]}],endpoint:rt,[Z]:Te},{conditions:[{[ue]:Je,[fe]:[et,"us-east-2"]}],endpoint:rt,[Z]:Te},{conditions:[{[ue]:Je,[fe]:[et,"us-west-1"]}],endpoint:rt,[Z]:Te},{conditions:[{[ue]:Je,[fe]:[et,"us-west-2"]}],endpoint:rt,[Z]:Te},{endpoint:{url:o_,[Bs]:{authSchemes:[{name:r_,signingRegion:"{Region}",signingName:s_}]},[Ms]:en},[Z]:Te}]},{conditions:[Wb,{[ue]:"parseURL",[fe]:JL,assign:"url"}],[Z]:Wt,rules:[{conditions:Jb,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[Z]:Ea},{[Z]:Wt,rules:[{conditions:e_,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[Z]:Ea},{endpoint:{url:c_,[Bs]:en,[Ms]:en},[Z]:Te}]}]},{conditions:[d_,l_],[Z]:Wt,rules:[{conditions:[Xb,Qb],[Z]:Wt,rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",[Bs]:en,[Ms]:en},[Z]:Te}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[Z]:Ea}]},{conditions:Jb,[Z]:Wt,rules:[{conditions:[Xb],[Z]:Wt,rules:[{[Z]:Wt,rules:[{conditions:[{[ue]:Je,[fe]:["aws-us-gov",{[ue]:xh,[fe]:[u_,"name"]}]}],endpoint:Zb,[Z]:Te},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",[Bs]:en,[Ms]:en},[Z]:Te}]}]},{error:"FIPS is enabled but this partition does not support FIPS",[Z]:Ea}]},{conditions:e_,[Z]:Wt,rules:[{conditions:[Qb],[Z]:Wt,rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",[Bs]:en,[Ms]:en},[Z]:Te}]},{error:"DualStack is enabled but this partition does not support DualStack",[Z]:Ea}]},{[Z]:Wt,rules:[Yb,{endpoint:Zb,[Z]:Te}]}]}]},f_=eF;var h_=(t,e={})=>Yn(f_,{endpointParams:t,logger:e.logger});var m_=t=>({apiVersion:"2011-06-15",base64Decoder:(t==null?void 0:t.base64Decoder)??ts,base64Encoder:(t==null?void 0:t.base64Encoder)??rs,disableHostPrefix:(t==null?void 0:t.disableHostPrefix)??!1,endpointProvider:(t==null?void 0:t.endpointProvider)??h_,logger:(t==null?void 0:t.logger)??new hr,serviceId:(t==null?void 0:t.serviceId)??"STS",urlParser:(t==null?void 0:t.urlParser)??gt,utf8Decoder:(t==null?void 0:t.utf8Decoder)??gr,utf8Encoder:(t==null?void 0:t.utf8Encoder)??In});var p_=t=>{Nn(process.version);let e=ns(t),r=()=>e().then(Tn),n=m_(t);return{...n,...t,runtime:"node",defaultsMode:e,bodyLengthChecker:(t==null?void 0:t.bodyLengthChecker)??Jn,credentialDefaultProvider:(t==null?void 0:t.credentialDefaultProvider)??QC(Rd),defaultUserAgentProvider:(t==null?void 0:t.defaultUserAgentProvider)??es({serviceId:n.serviceId,clientVersion:WC.version}),maxAttempts:(t==null?void 0:t.maxAttempts)??ie(qn),region:(t==null?void 0:t.region)??ie(xr,Mn),requestHandler:(t==null?void 0:t.requestHandler)??new br(r),retryMode:(t==null?void 0:t.retryMode)??ie({...jn,default:async()=>(await r()).retryMode||Cr}),sha256:(t==null?void 0:t.sha256)??Gt.bind(null,"sha256"),streamCollector:(t==null?void 0:t.streamCollector)??_r,useDualstackEndpoint:(t==null?void 0:t.useDualstackEndpoint)??ie(Dn),useFipsEndpoint:(t==null?void 0:t.useFipsEndpoint)??ie(Bn)}};var Fs=class extends mr{constructor(e){let r=p_(e),n=VC(r),s=Ln(n),o=kn(s),i=Hn(o),a=i,c=KC(a,{stsClientCtor:Fs}),d=Vn(c);super(d),this.config=d,this.middlewareStack.use(Gn(this.config)),this.middlewareStack.use(Fn(this.config)),this.middlewareStack.use(Un(this.config)),this.middlewareStack.use(zn(this.config)),this.middlewareStack.use($n(this.config)),this.middlewareStack.use(Xn(this.config))}destroy(){super.destroy()}};var y_=(t,e)=>e?class extends t{constructor(n){super(n);for(let s of e)this.middlewareStack.use(s)}}:t,tF=(t={},e)=>Zf(t,y_(Fs,e)),rF=(t={},e)=>Jf(t,y_(Fs,e)),g_=t=>e=>t({roleAssumer:tF(e),roleAssumerWithWebIdentity:rF(e),...e});var __=Mt(Zi());var is=class{constructor(e){if(this.bytes=e,e.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>9223372036854776e3||e<-9223372036854776e3)throw new Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,s=Math.abs(Math.round(e));n>-1&&s>0;n--,s/=256)r[n]=s;return e<0&&E_(r),new is(r)}valueOf(){let e=this.bytes.slice(0),r=e[0]&128;return r&&E_(e),parseInt(Ze(e),16)*(r?-1:1)}toString(){return String(this.valueOf())}};function E_(t){for(let e=0;e<8;e++)t[e]^=255;for(let e=7;e>-1&&(t[e]++,t[e]===0);e--);}var Ad=class{constructor(e,r){this.toUtf8=e,this.fromUtf8=r}format(e){let r=[];for(let o of Object.keys(e)){let i=this.fromUtf8(o);r.push(Uint8Array.from([i.byteLength]),i,this.formatHeaderValue(e[o]))}let n=new Uint8Array(r.reduce((o,i)=>o+i.byteLength,0)),s=0;for(let o of r)n.set(o,s),s+=o.byteLength;return n}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":let r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,e.value,!1),new Uint8Array(r.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,e.value,!1),new Uint8Array(n.buffer);case"long":let s=new Uint8Array(9);return s[0]=5,s.set(e.value.bytes,1),s;case"binary":let o=new DataView(new ArrayBuffer(3+e.value.byteLength));o.setUint8(0,6),o.setUint16(1,e.value.byteLength,!1);let i=new Uint8Array(o.buffer);return i.set(e.value,3),i;case"string":let a=this.fromUtf8(e.value),c=new DataView(new ArrayBuffer(3+a.byteLength));c.setUint8(0,7),c.setUint16(1,a.byteLength,!1);let d=new Uint8Array(c.buffer);return d.set(a,3),d;case"timestamp":let l=new Uint8Array(9);return l[0]=8,l.set(is.fromNumber(e.value.valueOf()).bytes,1),l;case"uuid":if(!uF.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);let f=new Uint8Array(17);return f[0]=9,f.set(jw(e.value.replace(/\-/g,"")),1),f}}parse(e){let r={},n=0;for(;n<e.byteLength;){let s=e.getUint8(n++),o=this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+n,s));switch(n+=s,e.getUint8(n++)){case 0:r[o]={type:w_,value:!0};break;case 1:r[o]={type:w_,value:!1};break;case 2:r[o]={type:nF,value:e.getInt8(n++)};break;case 3:r[o]={type:sF,value:e.getInt16(n,!1)},n+=2;break;case 4:r[o]={type:oF,value:e.getInt32(n,!1)},n+=4;break;case 5:r[o]={type:iF,value:new is(new Uint8Array(e.buffer,e.byteOffset+n,8))},n+=8;break;case 6:let i=e.getUint16(n,!1);n+=2,r[o]={type:aF,value:new Uint8Array(e.buffer,e.byteOffset+n,i)},n+=i;break;case 7:let a=e.getUint16(n,!1);n+=2,r[o]={type:cF,value:this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+n,a))},n+=a;break;case 8:r[o]={type:dF,value:new Date(new is(new Uint8Array(e.buffer,e.byteOffset+n,8)).valueOf())},n+=8;break;case 9:let c=new Uint8Array(e.buffer,e.byteOffset+n,16);n+=16,r[o]={type:lF,value:`${Ze(c.subarray(0,4))}-${Ze(c.subarray(4,6))}-${Ze(c.subarray(6,8))}-${Ze(c.subarray(8,10))}-${Ze(c.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return r}},x_;(function(t){t[t.boolTrue=0]="boolTrue",t[t.boolFalse=1]="boolFalse",t[t.byte=2]="byte",t[t.short=3]="short",t[t.integer=4]="integer",t[t.long=5]="long",t[t.byteArray=6]="byteArray",t[t.string=7]="string",t[t.timestamp=8]="timestamp",t[t.uuid=9]="uuid"})(x_||(x_={}));var w_="boolean",nF="byte",sF="short",oF="integer",iF="long",aF="binary",cF="string",dF="timestamp",lF="uuid",uF=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;var C_=Mt(Zi()),S_=4,as=S_*2,Us=4,fF=as+Us*2;function b_({byteLength:t,byteOffset:e,buffer:r}){if(t<fF)throw new Error("Provided message too short to accommodate event stream message overhead");let n=new DataView(r,e,t),s=n.getUint32(0,!1);if(t!==s)throw new Error("Reported message length does not match received message length");let o=n.getUint32(S_,!1),i=n.getUint32(as,!1),a=n.getUint32(t-Us,!1),c=new C_.Crc32().update(new Uint8Array(r,e,as));if(i!==c.digest())throw new Error(`The prelude checksum specified in the message (${i}) does not match the calculated CRC32 checksum (${c.digest()})`);if(c.update(new Uint8Array(r,e+as,t-(as+Us))),a!==c.digest())throw new Error(`The message checksum (${c.digest()}) did not match the expected value of ${a}`);return{headers:new DataView(r,e+as+Us,o),body:new Uint8Array(r,e+as+Us+o,s-o-(as+Us+Us))}}var kd=class{constructor(e,r){this.headerMarshaller=new Ad(e,r)}encode({headers:e,body:r}){let n=this.headerMarshaller.format(e),s=n.byteLength+r.byteLength+16,o=new Uint8Array(s),i=new DataView(o.buffer,o.byteOffset,o.byteLength),a=new __.Crc32;return i.setUint32(0,s,!1),i.setUint32(4,n.byteLength,!1),i.setUint32(8,a.update(o.subarray(0,8)).digest(),!1),o.set(n,12),o.set(r,n.byteLength+12),i.setUint32(s-4,a.update(o.subarray(8,s-4)).digest(),!1),o}decode(e){let{headers:r,body:n}=b_(e);return{headers:this.headerMarshaller.parse(r),body:n}}formatHeaders(e){return this.headerMarshaller.format(e)}};function R_(t){let e=0,r=0,n=null,s=null,o=a=>{if(typeof a!="number")throw new Error("Attempted to allocate an event message where size was not a number: "+a);e=a,r=4,n=new Uint8Array(a),new DataView(n.buffer).setUint32(0,a,!1)},i=async function*(){let a=t[Symbol.asyncIterator]();for(;;){let{value:c,done:d}=await a.next();if(d){if(e)if(e===r)yield n;else throw new Error("Truncated event message received.");else return;return}let l=c.length,f=0;for(;f<l;){if(!n){let g=l-f;s||(s=new Uint8Array(4));let y=Math.min(4-r,g);if(s.set(c.slice(f,f+y),r),r+=y,f+=y,r<4)break;o(new DataView(s.buffer).getUint32(0,!1)),s=null}let u=Math.min(e-r,l-f);n.set(c.slice(f,f+u),r),r+=u,f+=u,e&&e===r&&(yield n,n=null,e=0,r=0)}}};return{[Symbol.asyncIterator]:i}}function A_(t,e){return{[Symbol.asyncIterator]:async function*(){for await(let r of t){let n=e.eventStreamCodec.decode(r),{value:s}=n.headers[":message-type"];if(s==="error"){let o=new Error(n.headers[":error-message"].value||"UnknownError");throw o.name=n.headers[":error-code"].value,o}else if(s==="exception"){let o=n.headers[":exception-type"].value,i={[o]:n},a=await e.deserializer(i);if(a.$unknown){let c=new Error(e.toUtf8(n.body));throw c.name=o,c}throw a[o]}else if(s==="event"){let o={[n.headers[":event-type"].value]:n},i=await e.deserializer(o);if(i.$unknown)continue;yield i}else throw Error(`Unrecognizable event type: ${n.headers[":event-type"].value}`)}}}}var xa=class{constructor({utf8Encoder:e,utf8Decoder:r}){this.eventStreamCodec=new kd(e,r),this.utfEncoder=e}deserialize(e,r){let n=R_(e);return A_(n,{eventStreamCodec:this.eventStreamCodec,deserializer:r,toUtf8:this.utfEncoder})}serialize(e,r){let n=this,s=async function*(){for await(let o of e)yield n.eventStreamCodec.encode(r(o));yield new Uint8Array(0)};return{[Symbol.asyncIterator]:s}}};var T_=require("stream");async function*k_(t){let e=!1,r=!1,n=new Array;for(t.on("error",s=>{if(e||(e=!0),s)throw s}),t.on("data",s=>{n.push(s)}),t.on("end",()=>{e=!0});!r;){let s=await new Promise(o=>setTimeout(()=>o(n.shift()),0));s&&(yield s),r=e&&n.length===0}}var Td=class{constructor({utf8Encoder:e,utf8Decoder:r}){this.universalMarshaller=new xa({utf8Decoder:r,utf8Encoder:e})}deserialize(e,r){let n=typeof e[Symbol.asyncIterator]=="function"?e:k_(e);return this.universalMarshaller.deserialize(n,r)}serialize(e,r){return T_.Readable.from(this.universalMarshaller.serialize(e,r))}};var N_=t=>new Td(t);var v_=require("stream"),wa=class extends v_.Writable{constructor(e,r){super(r),this.hash=e}_write(e,r,n){try{this.hash.update(xt(e))}catch(s){return n(s)}n()}};var O_=(t,e)=>{if(e.readableFlowing!==null)throw new Error("Unable to calculate hash for flowing readable stream");let r=new t,n=new wa(r);return e.pipe(n),new Promise((s,o)=>{e.on("error",i=>{n.end(),o(i)}),n.on("error",o),n.on("finish",()=>{r.digest().then(s).catch(o)})})};var hF="AWS_S3_USE_ARN_REGION",mF="s3_use_arn_region",P_={environmentVariableSelector:t=>Er(t,hF,qt.ENV),configFileSelector:t=>Er(t,mF,qt.CONFIG),default:!1};var I_=require("stream"),D_=(t,e)=>{let{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:s,checksumLocationName:o,streamHasher:i}=e,a=r!==void 0&&s!==void 0&&o!==void 0&&i!==void 0,c=a?i(s,t):void 0,d=new I_.Readable({read:()=>{}});return t.on("data",l=>{d.push(`${(n(l)||0).toString(16)}\r
${l.toString()}\r
`)}),t.on("end",async()=>{if(d.push(`0\r
`),a){let l=r(await c);d.push(`${o}:${l}\r
`),d.push(`\r
`)}d.push(null)}),d};var Nd=require("stream"),M_=require("util"),B_="The stream has already been transformed.",L_=t=>{var n,s;if(!(t instanceof Nd.Readable)){let o=((s=(n=t==null?void 0:t.__proto__)==null?void 0:n.constructor)==null?void 0:s.name)||t;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${o}`)}let e=!1,r=async()=>{if(e)throw new Error(B_);return e=!0,await _r(t)};return Object.assign(t,{transformToByteArray:r,transformToString:async o=>{let i=await r();return o===void 0||Buffer.isEncoding(o)?Kr(i.buffer,i.byteOffset,i.byteLength).toString(o):new M_.TextDecoder(o).decode(i)},transformToWebStream:()=>{if(e)throw new Error(B_);if(t.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof Nd.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please make sure you are using Node.js >= 17.0.0, or polyfill is available.");return e=!0,Nd.Readable.toWeb(t)}})};var vd=class{constructor(e){this.sigv4Signer=new Is(e),this.signerOptions=e}async sign(e,r={}){if(r.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().sign(e,r)}return this.sigv4Signer.sign(e,r)}async presign(e,r={}){if(r.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().presign(e,r)}return this.sigv4Signer.presign(e,r)}getSigv4aSigner(){if(!this.sigv4aSigner){let e;try{if(e=typeof require=="function"&&require("@aws-sdk/signature-v4-crt").CrtSignerV4,typeof e!="function")throw new Error}catch(r){throw r.message=`${r.message}
Please check if you have installed "@aws-sdk/signature-v4-crt" package explicitly. 
For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`,r}this.sigv4aSigner=new e({...this.signerOptions,signingAlgorithm:1})}return this.sigv4aSigner}};var $h="required",h="type",x="rules",E="conditions",m="fn",p="argv",S="ref",Ke="assign",O="url",P="properties",q="authSchemes",H="disableDoubleEncoding",j="signingName",G="signingRegion",I="headers";var w="tree",Nt="isSet",Ca="substring",j0="hardwareType",G0="regionPrefix",F_="abbaSuffix",Uh="outpostId",Aa="aws.partition",L="stringEquals",qs="isValidHostLabel",Pe="not",D="error",K0="parseURL",qh="s3-outposts",_="endpoint",N="booleanEquals",V0="aws.parseArn",V="s3",U_="aws.isVirtualHostableS3Bucket",Ne="getAttr",z="name",wh="Host override cannot be combined with Dualstack, FIPS, or S3 Accelerate",W0="https://{Bucket}.s3.{partitionResult#dnsSuffix}",Y0="bucketArn",X0="arnType",Md="",Hh="s3-object-lambda",Q0="accesspoint",jh="accessPointName",z_="{url#scheme}://{accessPointName}-{bucketArn#accountId}.{url#authority}{url#path}",$_="mrapPartition",q_="outpostType",H_="arnPrefix",Hs="{url#scheme}://{url#authority}{url#path}",Z0="https://s3.{partitionResult#dnsSuffix}",Ch={[$h]:!1,[h]:"String"},Sa={[$h]:!0,default:!1,[h]:"Boolean"},Od={[$h]:!1,[h]:"Boolean"},J0={[m]:Nt,[p]:[{[S]:"Bucket"}]},Nr={[S]:"Bucket"},j_={[S]:j0},G_={[E]:[{[m]:Pe,[p]:[{[m]:Nt,[p]:[{[S]:"Endpoint"}]}]}],[D]:"Expected a endpoint to be specified but no endpoint was found",[h]:D},W={[m]:Pe,[p]:[{[m]:Nt,[p]:[{[S]:"Endpoint"}]}]},ne={[m]:Nt,[p]:[{[S]:"Endpoint"}]},ye={[m]:K0,[p]:[{[S]:"Endpoint"}],[Ke]:"url"},Pd={[q]:[{[H]:!0,[z]:"sigv4",[j]:qh,[G]:"{Region}"}]},ze={},K_={[S]:"ForcePathStyle"},V_={[E]:[{[m]:"uriEncode",[p]:[Nr],[Ke]:"uri_encoded_bucket"}],[h]:w,[x]:[{[E]:[{[m]:N,[p]:[{[S]:"UseDualStack"},!0]},ne],[D]:"Cannot set dual-stack in combination with a custom endpoint.",[h]:D},{[h]:w,[x]:[{[E]:[{[m]:Aa,[p]:[{[S]:"Region"}],[Ke]:"partitionResult"}],[h]:w,[x]:[{[h]:w,[x]:[{[E]:[{[m]:N,[p]:[{[S]:"Accelerate"},!1]}],[h]:w,[x]:[{[h]:w,[x]:[{[E]:[{[m]:N,[p]:[{[S]:"UseDualStack"},!0]},W,{[m]:N,[p]:[{[S]:"UseFIPS"},!0]},{[m]:L,[p]:[{[S]:"Region"},"aws-global"]}],[_]:{[O]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[P]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[I]:{}},[h]:_},{[E]:[{[m]:N,[p]:[{[S]:"UseDualStack"},!0]},W,{[m]:N,[p]:[{[S]:"UseFIPS"},!0]},{[m]:L,[p]:[{[S]:"Region"},"aws-global"]}],[_]:{[O]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[P]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[I]:{}},[h]:_},{[E]:[{[m]:N,[p]:[{[S]:"UseDualStack"},!0]},W,{[m]:N,[p]:[{[S]:"UseFIPS"},!0]},{[m]:Pe,[p]:[{[m]:L,[p]:[{[S]:"Region"},"aws-global"]}]},{[m]:N,[p]:[{[S]:"UseGlobalEndpoint"},!0]}],[h]:w,[x]:[{[_]:{[O]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[P]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"{Region}"}]},[I]:{}},[h]:_}]},{[E]:[{[m]:N,[p]:[{[S]:"UseDualStack"},!0]},W,{[m]:N,[p]:[{[S]:"UseFIPS"},!0]},{[m]:Pe,[p]:[{[m]:L,[p]:[{[S]:"Region"},"aws-global"]}]},{[m]:N,[p]:[{[S]:"UseGlobalEndpoint"},!1]}],[_]:{[O]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[P]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"{Region}"}]},[I]:{}},[h]:_},{[E]:[{[m]:N,[p]:[{[S]:"UseDualStack"},!1]},ne,ye,{[m]:N,[p]:[{[S]:"UseFIPS"},!0]},{[m]:L,[p]:[{[S]:"Region"},"aws-global"]}],[_]:{[O]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[P]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[I]:{}},[h]:_},{[E]:[{[m]:N,[p]:[{[S]:"UseDualStack"},!1]},ne,ye,{[m]:N,[p]:[{[S]:"UseFIPS"},!0]},{[m]:L,[p]:[{[S]:"Region"},"aws-global"]}],[_]:{[O]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[P]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[I]:{}},[h]:_},{[E]:[{[m]:N,[p]:[{[S]:"UseDualStack"},!1]},ne,ye,{[m]:N,[p]:[{[S]:"UseFIPS"},!0]},{[m]:Pe,[p]:[{[m]:L,[p]:[{[S]:"Region"},"aws-global"]}]},{[m]:N,[p]:[{[S]:"UseGlobalEndpoint"},!0]}],[h]:w,[x]:[{[_]:{[O]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[P]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"{Region}"}]},[I]:{}},[h]:_}]},{[E]:[{[m]:N,[p]:[{[S]:"UseDualStack"},!1]},ne,ye,{[m]:N,[p]:[{[S]:"UseFIPS"},!0]},{[m]:Pe,[p]:[{[m]:L,[p]:[{[S]:"Region"},"aws-global"]}]},{[m]:N,[p]:[{[S]:"UseGlobalEndpoint"},!1]}],[_]:{[O]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[P]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"{Region}"}]},[I]:{}},[h]:_},{[E]:[{[m]:N,[p]:[{[S]:"UseDualStack"},!1]},W,{[m]:N,[p]:[{[S]:"UseFIPS"},!0]},{[m]:L,[p]:[{[S]:"Region"},"aws-global"]}],[_]:{[O]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[P]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[I]:{}},[h]:_},{[E]:[{[m]:N,[p]:[{[S]:"UseDualStack"},!1]},W,{[m]:N,[p]:[{[S]:"UseFIPS"},!0]},{[m]:L,[p]:[{[S]:"Region"},"aws-global"]}],[_]:{[O]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[P]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[I]:{}},[h]:_},{[E]:[{[m]:N,[p]:[{[S]:"UseDualStack"},!1]},W,{[m]:N,[p]:[{[S]:"UseFIPS"},!0]},{[m]:Pe,[p]:[{[m]:L,[p]:[{[S]:"Region"},"aws-global"]}]},{[m]:N,[p]:[{[S]:"UseGlobalEndpoint"},!0]}],[h]:w,[x]:[{[_]:{[O]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[P]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"{Region}"}]},[I]:{}},[h]:_}]},{[E]:[{[m]:N,[p]:[{[S]:"UseDualStack"},!1]},W,{[m]:N,[p]:[{[S]:"UseFIPS"},!0]},{[m]:Pe,[p]:[{[m]:L,[p]:[{[S]:"Region"},"aws-global"]}]},{[m]:N,[p]:[{[S]:"UseGlobalEndpoint"},!1]}],[_]:{[O]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[P]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"{Region}"}]},[I]:{}},[h]:_},{[E]:[{[m]:N,[p]:[{[S]:"UseDualStack"},!0]},W,{[m]:N,[p]:[{[S]:"UseFIPS"},!1]},{[m]:L,[p]:[{[S]:"Region"},"aws-global"]}],[_]:{[O]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[P]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[I]:{}},[h]:_},{[E]:[{[m]:N,[p]:[{[S]:"UseDualStack"},!0]},W,{[m]:N,[p]:[{[S]:"UseFIPS"},!1]},{[m]:L,[p]:[{[S]:"Region"},"aws-global"]}],[_]:{[O]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[P]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[I]:{}},[h]:_},{[E]:[{[m]:N,[p]:[{[S]:"UseDualStack"},!0]},W,{[m]:N,[p]:[{[S]:"UseFIPS"},!1]},{[m]:Pe,[p]:[{[m]:L,[p]:[{[S]:"Region"},"aws-global"]}]},{[m]:N,[p]:[{[S]:"UseGlobalEndpoint"},!0]}],[h]:w,[x]:[{[_]:{[O]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[P]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"{Region}"}]},[I]:{}},[h]:_}]},{[E]:[{[m]:N,[p]:[{[S]:"UseDualStack"},!0]},W,{[m]:N,[p]:[{[S]:"UseFIPS"},!1]},{[m]:Pe,[p]:[{[m]:L,[p]:[{[S]:"Region"},"aws-global"]}]},{[m]:N,[p]:[{[S]:"UseGlobalEndpoint"},!1]}],[_]:{[O]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[P]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"{Region}"}]},[I]:{}},[h]:_},{[E]:[{[m]:N,[p]:[{[S]:"UseDualStack"},!1]},ne,ye,{[m]:N,[p]:[{[S]:"UseFIPS"},!1]},{[m]:L,[p]:[{[S]:"Region"},"aws-global"]}],[_]:{[O]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[P]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[I]:{}},[h]:_},{[E]:[{[m]:N,[p]:[{[S]:"UseDualStack"},!1]},ne,ye,{[m]:N,[p]:[{[S]:"UseFIPS"},!1]},{[m]:L,[p]:[{[S]:"Region"},"aws-global"]}],[_]:{[O]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[P]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[I]:{}},[h]:_},{[E]:[{[m]:N,[p]:[{[S]:"UseDualStack"},!1]},ne,ye,{[m]:N,[p]:[{[S]:"UseFIPS"},!1]},{[m]:Pe,[p]:[{[m]:L,[p]:[{[S]:"Region"},"aws-global"]}]},{[m]:N,[p]:[{[S]:"UseGlobalEndpoint"},!0]}],[h]:w,[x]:[{[E]:[{[m]:L,[p]:[{[S]:"Region"},"us-east-1"]}],[_]:{[O]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[P]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"{Region}"}]},[I]:{}},[h]:_},{[_]:{[O]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[P]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"{Region}"}]},[I]:{}},[h]:_}]},{[E]:[{[m]:N,[p]:[{[S]:"UseDualStack"},!1]},ne,ye,{[m]:N,[p]:[{[S]:"UseFIPS"},!1]},{[m]:Pe,[p]:[{[m]:L,[p]:[{[S]:"Region"},"aws-global"]}]},{[m]:N,[p]:[{[S]:"UseGlobalEndpoint"},!1]}],[_]:{[O]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[P]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"{Region}"}]},[I]:{}},[h]:_},{[E]:[{[m]:N,[p]:[{[S]:"UseDualStack"},!1]},W,{[m]:N,[p]:[{[S]:"UseFIPS"},!1]},{[m]:L,[p]:[{[S]:"Region"},"aws-global"]}],[_]:{[O]:"https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[P]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[I]:{}},[h]:_},{[E]:[{[m]:N,[p]:[{[S]:"UseDualStack"},!1]},W,{[m]:N,[p]:[{[S]:"UseFIPS"},!1]},{[m]:L,[p]:[{[S]:"Region"},"aws-global"]}],[_]:{[O]:"https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[P]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[I]:{}},[h]:_},{[E]:[{[m]:N,[p]:[{[S]:"UseDualStack"},!1]},W,{[m]:N,[p]:[{[S]:"UseFIPS"},!1]},{[m]:Pe,[p]:[{[m]:L,[p]:[{[S]:"Region"},"aws-global"]}]},{[m]:N,[p]:[{[S]:"UseGlobalEndpoint"},!0]}],[h]:w,[x]:[{[E]:[{[m]:L,[p]:[{[S]:"Region"},"us-east-1"]}],[_]:{[O]:"https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[P]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"{Region}"}]},[I]:{}},[h]:_},{[_]:{[O]:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[P]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"{Region}"}]},[I]:{}},[h]:_}]},{[E]:[{[m]:N,[p]:[{[S]:"UseDualStack"},!1]},W,{[m]:N,[p]:[{[S]:"UseFIPS"},!1]},{[m]:Pe,[p]:[{[m]:L,[p]:[{[S]:"Region"},"aws-global"]}]},{[m]:N,[p]:[{[S]:"UseGlobalEndpoint"},!1]}],[_]:{[O]:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[P]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"{Region}"}]},[I]:{}},[h]:_}]}]},{[D]:"Path-style addressing cannot be used with S3 Accelerate",[h]:D}]}]},{[D]:"A valid partition could not be determined",[h]:D}]}]},xe={[m]:N,[p]:[{[S]:"UseDualStack"},!0]},He={[m]:N,[p]:[{[S]:"Accelerate"},!1]},Re={[m]:N,[p]:[{[S]:"UseFIPS"},!0]},ce={[m]:Pe,[p]:[{[m]:L,[p]:[{[S]:"Region"},"aws-global"]}]},nt={[m]:N,[p]:[{[S]:"UseGlobalEndpoint"},!0]},ot={[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"{Region}"}]},st={[m]:N,[p]:[{[S]:"UseGlobalEndpoint"},!1]},he={[m]:N,[p]:[{[S]:"UseDualStack"},!1]},oe={[m]:N,[p]:[{[S]:"UseFIPS"},!1]},zs={[D]:"A valid partition could not be determined",[h]:D},Sh={[E]:[Re,{[m]:L,[p]:[{[m]:Ne,[p]:[{[S]:"partitionResult"},z]},"aws-cn"]}],[D]:"Partition does not support FIPS",[h]:D},_F={[m]:L,[p]:[{[m]:Ne,[p]:[{[S]:"partitionResult"},z]},"aws-cn"]},or={[m]:N,[p]:[{[S]:"Accelerate"},!0]},W_={[E]:[xe,Re,He,W,{[m]:L,[p]:[{[S]:"Region"},"aws-global"]}],[_]:{[O]:"https://{Bucket}.s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[P]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[I]:{}},[h]:_},Y_={[O]:"https://{Bucket}.s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[P]:ot,[I]:{}},X_={[E]:[he,Re,He,W,{[m]:L,[p]:[{[S]:"Region"},"aws-global"]}],[_]:{[O]:"https://{Bucket}.s3-fips.us-east-1.{partitionResult#dnsSuffix}",[P]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[I]:{}},[h]:_},Q_={[O]:"https://{Bucket}.s3-fips.{Region}.{partitionResult#dnsSuffix}",[P]:ot,[I]:{}},Z_={[E]:[xe,oe,or,W,{[m]:L,[p]:[{[S]:"Region"},"aws-global"]}],[_]:{[O]:"https://{Bucket}.s3-accelerate.dualstack.us-east-1.{partitionResult#dnsSuffix}",[P]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[I]:{}},[h]:_},J_={[O]:"https://{Bucket}.s3-accelerate.dualstack.{partitionResult#dnsSuffix}",[P]:ot,[I]:{}},e0={[E]:[xe,oe,He,W,{[m]:L,[p]:[{[S]:"Region"},"aws-global"]}],[_]:{[O]:"https://{Bucket}.s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[P]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[I]:{}},[h]:_},t0={[O]:"https://{Bucket}.s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[P]:ot,[I]:{}},r0={[E]:[he,oe,He,ne,ye,{[m]:N,[p]:[{[m]:Ne,[p]:[{[S]:"url"},"isIp"]},!0]},{[m]:L,[p]:[{[S]:"Region"},"aws-global"]}],[_]:{[O]:"{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",[P]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[I]:{}},[h]:_},n0={[m]:N,[p]:[{[m]:Ne,[p]:[{[S]:"url"},"isIp"]},!0]},Gh={[S]:"url"},s0={[E]:[he,oe,He,ne,ye,{[m]:N,[p]:[{[m]:Ne,[p]:[Gh,"isIp"]},!1]},{[m]:L,[p]:[{[S]:"Region"},"aws-global"]}],[_]:{[O]:"{url#scheme}://{Bucket}.{url#authority}{url#path}",[P]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[I]:{}},[h]:_},o0={[m]:N,[p]:[{[m]:Ne,[p]:[Gh,"isIp"]},!1]},bh={[O]:"{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",[P]:ot,[I]:{}},zh={[O]:"{url#scheme}://{Bucket}.{url#authority}{url#path}",[P]:ot,[I]:{}},i0={[_]:zh,[h]:_},a0={[E]:[he,oe,or,W,{[m]:L,[p]:[{[S]:"Region"},"aws-global"]}],[_]:{[O]:"https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",[P]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[I]:{}},[h]:_},_h={[O]:"https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",[P]:ot,[I]:{}},c0={[E]:[he,oe,He,W,{[m]:L,[p]:[{[S]:"Region"},"aws-global"]}],[_]:{[O]:W0,[P]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[I]:{}},[h]:_},d0={[O]:"https://{Bucket}.s3.{Region}.{partitionResult#dnsSuffix}",[P]:ot,[I]:{}},Id={[D]:"Invalid region: region was not a valid DNS name.",[h]:D},St={[S]:Y0},eR={[S]:X0},Rh={[m]:Ne,[p]:[St,"service"]},Kh={[S]:jh},l0={[E]:[xe],[D]:"S3 Object Lambda does not support Dual-stack",[h]:D},u0={[E]:[or],[D]:"S3 Object Lambda does not support S3 Accelerate",[h]:D},f0={[E]:[{[m]:Nt,[p]:[{[S]:"DisableAccessPoints"}]},{[m]:N,[p]:[{[S]:"DisableAccessPoints"},!0]}],[D]:"Access points are not supported for this operation",[h]:D},Ah={[E]:[{[m]:Nt,[p]:[{[S]:"UseArnRegion"}]},{[m]:N,[p]:[{[S]:"UseArnRegion"},!1]},{[m]:Pe,[p]:[{[m]:L,[p]:[{[m]:Ne,[p]:[St,"region"]},"{Region}"]}]}],[D]:"Invalid configuration: region from ARN `{bucketArn#region}` does not match client region `{Region}` and UseArnRegion is `false`",[h]:D},Vh={[m]:Ne,[p]:[{[S]:"bucketPartition"},z]},tR={[m]:Ne,[p]:[St,"accountId"]},h0={[E]:[Re,{[m]:L,[p]:[Vh,"aws-cn"]}],[D]:"Partition does not support FIPS",[h]:D},kh={[q]:[{[H]:!0,[z]:"sigv4",[j]:Hh,[G]:"{bucketArn#region}"}]},m0={[D]:"Invalid ARN: The access point name may only contain a-z, A-Z, 0-9 and `-`. Found: `{accessPointName}`",[h]:D},Th={[D]:"Invalid ARN: The account id may only contain a-z, A-Z, 0-9 and `-`. Found: `{bucketArn#accountId}`",[h]:D},Nh={[D]:"Invalid region in ARN: `{bucketArn#region}` (invalid DNS name)",[h]:D},vh={[D]:"Client was configured for partition `{partitionResult#name}` but ARN (`{Bucket}`) has `{bucketPartition#name}`",[h]:D},p0={[D]:"Could not load partition for ARN region `{bucketArn#region}`",[h]:D},y0={[D]:"Invalid ARN: The ARN may only contain a single resource component after `accesspoint`.",[h]:D},g0={[D]:"Invalid ARN: bucket ARN is missing a region",[h]:D},E0={[D]:"Invalid ARN: Expected a resource of the format `accesspoint:<accesspoint name>` but no name was provided",[h]:D},ba={[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"{bucketArn#region}"}]},x0={[q]:[{[H]:!0,[z]:"sigv4",[j]:qh,[G]:"{bucketArn#region}"}]},w0={[S]:"UseObjectLambdaEndpoint"},Oh={[q]:[{[H]:!0,[z]:"sigv4",[j]:Hh,[G]:"{Region}"}]},C0={[E]:[Re,xe,ne,ye,{[m]:L,[p]:[{[S]:"Region"},"aws-global"]}],[_]:{[O]:Hs,[P]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[I]:{}},[h]:_},rR={[_]:{[O]:Hs,[P]:ot,[I]:{}},[h]:_},_a={[O]:Hs,[P]:ot,[I]:{}},S0={[E]:[Re,xe,W,{[m]:L,[p]:[{[S]:"Region"},"aws-global"]}],[_]:{[O]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[P]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[I]:{}},[h]:_},b0={[O]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[P]:ot,[I]:{}},_0={[E]:[Re,he,ne,ye,{[m]:L,[p]:[{[S]:"Region"},"aws-global"]}],[_]:{[O]:Hs,[P]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[I]:{}},[h]:_},R0={[E]:[Re,he,W,{[m]:L,[p]:[{[S]:"Region"},"aws-global"]}],[_]:{[O]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}",[P]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[I]:{}},[h]:_},A0={[O]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}",[P]:ot,[I]:{}},k0={[E]:[oe,xe,ne,ye,{[m]:L,[p]:[{[S]:"Region"},"aws-global"]}],[_]:{[O]:Hs,[P]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[I]:{}},[h]:_},T0={[E]:[oe,xe,W,{[m]:L,[p]:[{[S]:"Region"},"aws-global"]}],[_]:{[O]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[P]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[I]:{}},[h]:_},N0={[O]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[P]:ot,[I]:{}},v0={[E]:[oe,he,ne,ye,{[m]:L,[p]:[{[S]:"Region"},"aws-global"]}],[_]:{[O]:Hs,[P]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[I]:{}},[h]:_},O0={[E]:[oe,he,W,{[m]:L,[p]:[{[S]:"Region"},"aws-global"]}],[_]:{[O]:Z0,[P]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[I]:{}},[h]:_},P0={[O]:"https://s3.{Region}.{partitionResult#dnsSuffix}",[P]:ot,[I]:{}},Bd=[{[S]:"Region"}],RF=[Nr],I0=[{[m]:qs,[p]:[{[S]:Uh},!1]}],D0=[{[m]:L,[p]:[{[S]:G0},"beta"]}],AF=[{[S]:"Endpoint"}],Ra=[ne,ye],B0=[J0],M0=[{[m]:V0,[p]:[Nr]}],kF=[xe,ne],$s=[{[m]:Aa,[p]:Bd,[Ke]:"partitionResult"}],ii=[{[m]:L,[p]:[{[S]:"Region"},"us-east-1"]}],L0=[{[m]:qs,[p]:[{[S]:"Region"},!1]}],Ph=[{[m]:L,[p]:[eR,Q0]}],F0=[{[m]:Ne,[p]:[St,"resourceId[1]"],[Ke]:jh},{[m]:Pe,[p]:[{[m]:L,[p]:[Kh,Md]}]}],TF=[St,"resourceId[1]"],U0=[xe],Ih=[or],Dh=[{[m]:Pe,[p]:[{[m]:L,[p]:[{[m]:Ne,[p]:[St,"region"]},Md]}]}],z0=[{[m]:Pe,[p]:[{[m]:Nt,[p]:[{[m]:Ne,[p]:[St,"resourceId[2]"]}]}]}],NF=[St,"resourceId[2]"],Bh=[{[m]:Aa,[p]:[{[m]:Ne,[p]:[St,"region"]}],[Ke]:"bucketPartition"}],$0=[{[m]:L,[p]:[Vh,{[m]:Ne,[p]:[{[S]:"partitionResult"},z]}]}],Mh=[{[m]:qs,[p]:[{[m]:Ne,[p]:[St,"region"]},!0]}],Lh=[{[m]:qs,[p]:[tR,!1]}],q0=[{[m]:qs,[p]:[Kh,!1]}],Dd=[Re],H0=[{[m]:qs,[p]:[{[S]:"Region"},!0]}],Fh=[rR],vF={version:"1.0",parameters:{Bucket:Ch,Region:Ch,UseFIPS:Sa,UseDualStack:Sa,Endpoint:Ch,ForcePathStyle:Od,Accelerate:Sa,UseGlobalEndpoint:Sa,UseObjectLambdaEndpoint:Od,DisableAccessPoints:Od,DisableMultiRegionAccessPoints:Sa,UseArnRegion:Od},[x]:[{[h]:w,[x]:[{[E]:[{[m]:Nt,[p]:Bd}],[h]:w,[x]:[{[h]:w,[x]:[{[E]:[J0,{[m]:Ca,[p]:[Nr,49,50,!0],[Ke]:j0},{[m]:Ca,[p]:[Nr,8,12,!0],[Ke]:G0},{[m]:Ca,[p]:[Nr,0,7,!0],[Ke]:F_},{[m]:Ca,[p]:[Nr,32,49,!0],[Ke]:Uh},{[m]:Aa,[p]:Bd,[Ke]:"regionPartition"},{[m]:L,[p]:[{[S]:F_},"--op-s3"]}],[h]:w,[x]:[{[E]:I0,[h]:w,[x]:[{[h]:w,[x]:[{[E]:[{[m]:L,[p]:[j_,"e"]}],[h]:w,[x]:[{[E]:D0,[h]:w,[x]:[G_,{[E]:Ra,endpoint:{[O]:"https://{Bucket}.ec2.{url#authority}",[P]:Pd,[I]:ze},[h]:_}]},{endpoint:{[O]:"https://{Bucket}.ec2.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[P]:Pd,[I]:ze},[h]:_}]},{[E]:[{[m]:L,[p]:[j_,"o"]}],[h]:w,[x]:[{[E]:D0,[h]:w,[x]:[G_,{[E]:Ra,endpoint:{[O]:"https://{Bucket}.op-{outpostId}.{url#authority}",[P]:Pd,[I]:ze},[h]:_}]},{endpoint:{[O]:"https://{Bucket}.op-{outpostId}.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[P]:Pd,[I]:ze},[h]:_}]},{error:'Unrecognized hardware type: "Expected hardware type o or e but got {hardwareType}"',[h]:D}]}]},{error:"Invalid ARN: The outpost Id must only contain a-z, A-Z, 0-9 and `-`.",[h]:D}]},{[E]:B0,[h]:w,[x]:[{[E]:[ne,{[m]:Pe,[p]:[{[m]:Nt,[p]:[{[m]:K0,[p]:AF}]}]}],error:"Custom endpoint `{Endpoint}` was not a valid URI",[h]:D},{[h]:w,[x]:[{[E]:[{[m]:Nt,[p]:[K_]},{[m]:N,[p]:[K_,!0]}],[h]:w,[x]:[{[h]:w,[x]:[{[E]:M0,error:"Path-style addressing cannot be used with ARN buckets",[h]:D},V_]}]},{[E]:[{[m]:U_,[p]:[Nr,!1]}],[h]:w,[x]:[{[E]:$s,[h]:w,[x]:[{[h]:w,[x]:[{[E]:L0,[h]:w,[x]:[{[h]:w,[x]:[Sh,{[h]:w,[x]:[{[E]:[or,Re],error:"Accelerate cannot be used with FIPS",[h]:D},{[h]:w,[x]:[{[E]:[or,_F],error:"S3 Accelerate cannot be used in this region",[h]:D},{[h]:w,[x]:[{[E]:[ne,xe],error:wh,[h]:D},{[h]:w,[x]:[{[E]:[ne,Re],error:wh,[h]:D},{[h]:w,[x]:[{[E]:[ne,or],error:wh,[h]:D},{[h]:w,[x]:[W_,W_,{[E]:[xe,Re,He,W,ce,nt],[h]:w,[x]:[{endpoint:Y_,[h]:_}]},{[E]:[xe,Re,He,W,ce,st],endpoint:Y_,[h]:_},X_,X_,{[E]:[he,Re,He,W,ce,nt],[h]:w,[x]:[{endpoint:Q_,[h]:_}]},{[E]:[he,Re,He,W,ce,st],endpoint:Q_,[h]:_},Z_,Z_,{[E]:[xe,oe,or,W,ce,nt],[h]:w,[x]:[{endpoint:J_,[h]:_}]},{[E]:[xe,oe,or,W,ce,st],endpoint:J_,[h]:_},e0,e0,{[E]:[xe,oe,He,W,ce,nt],[h]:w,[x]:[{endpoint:t0,[h]:_}]},{[E]:[xe,oe,He,W,ce,st],endpoint:t0,[h]:_},r0,s0,r0,s0,{[E]:[he,oe,He,ne,ye,n0,ce,nt],[h]:w,[x]:[{[E]:ii,endpoint:bh,[h]:_},{endpoint:bh,[h]:_}]},{[E]:[he,oe,He,ne,ye,o0,ce,nt],[h]:w,[x]:[{[E]:ii,endpoint:zh,[h]:_},i0]},{[E]:[he,oe,He,ne,ye,n0,ce,st],endpoint:bh,[h]:_},{[E]:[he,oe,He,ne,ye,o0,ce,st],endpoint:zh,[h]:_},a0,a0,{[E]:[he,oe,or,W,ce,nt],[h]:w,[x]:[{[E]:ii,endpoint:_h,[h]:_},{endpoint:_h,[h]:_}]},{[E]:[he,oe,or,W,ce,st],endpoint:_h,[h]:_},c0,c0,{[E]:[he,oe,He,W,ce,nt],[h]:w,[x]:[{[E]:ii,endpoint:{[O]:W0,[P]:ot,[I]:ze},[h]:_},{endpoint:d0,[h]:_}]},{[E]:[he,oe,He,W,ce,st],endpoint:d0,[h]:_}]}]}]}]}]}]}]}]},Id]}]},zs]},{[E]:[ne,ye,{[m]:L,[p]:[{[m]:Ne,[p]:[Gh,"scheme"]},"http"]},{[m]:U_,[p]:[Nr,!0]},oe,he,He],[h]:w,[x]:[{[E]:$s,[h]:w,[x]:[{[h]:w,[x]:[{[E]:L0,[h]:w,[x]:[i0]},Id]}]},zs]},{[E]:[{[m]:V0,[p]:RF,[Ke]:Y0}],[h]:w,[x]:[{[E]:[{[m]:Ne,[p]:[St,"resourceId[0]"],[Ke]:X0},{[m]:Pe,[p]:[{[m]:L,[p]:[eR,Md]}]}],[h]:w,[x]:[{[h]:w,[x]:[{[E]:[{[m]:L,[p]:[Rh,Hh]}],[h]:w,[x]:[{[E]:Ph,[h]:w,[x]:[{[h]:w,[x]:[{[E]:F0,[h]:w,[x]:[{[h]:w,[x]:[l0,{[h]:w,[x]:[u0,{[h]:w,[x]:[{[E]:Dh,[h]:w,[x]:[{[h]:w,[x]:[f0,{[h]:w,[x]:[{[E]:z0,[h]:w,[x]:[{[h]:w,[x]:[Ah,{[h]:w,[x]:[{[E]:Bh,[h]:w,[x]:[{[h]:w,[x]:[{[E]:$s,[h]:w,[x]:[{[h]:w,[x]:[{[E]:$0,[h]:w,[x]:[{[h]:w,[x]:[{[E]:Mh,[h]:w,[x]:[{[h]:w,[x]:[{[E]:[{[m]:L,[p]:[tR,Md]}],error:"Invalid ARN: Missing account id",[h]:D},{[h]:w,[x]:[{[E]:Lh,[h]:w,[x]:[{[h]:w,[x]:[{[E]:q0,[h]:w,[x]:[{[h]:w,[x]:[h0,{[h]:w,[x]:[{[E]:Ra,endpoint:{[O]:z_,[P]:kh,[I]:ze},[h]:_},{[E]:Dd,endpoint:{[O]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[P]:kh,[I]:ze},[h]:_},{endpoint:{[O]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda.{bucketArn#region}.{bucketPartition#dnsSuffix}",[P]:kh,[I]:ze},[h]:_}]}]}]},m0]}]},Th]}]}]},Nh]}]},vh]}]},zs]}]},p0]}]}]},y0]}]}]},g0]}]}]}]},E0]}]},{error:"Invalid ARN: Object Lambda ARNs only support `accesspoint` arn types, but found: `{arnType}`",[h]:D}]},{[E]:Ph,[h]:w,[x]:[{[E]:F0,[h]:w,[x]:[{[h]:w,[x]:[{[E]:Dh,[h]:w,[x]:[{[E]:Ph,[h]:w,[x]:[{[E]:Dh,[h]:w,[x]:[{[h]:w,[x]:[f0,{[h]:w,[x]:[{[E]:z0,[h]:w,[x]:[{[h]:w,[x]:[Ah,{[h]:w,[x]:[{[E]:Bh,[h]:w,[x]:[{[h]:w,[x]:[{[E]:$s,[h]:w,[x]:[{[h]:w,[x]:[{[E]:[{[m]:L,[p]:[Vh,"{partitionResult#name}"]}],[h]:w,[x]:[{[h]:w,[x]:[{[E]:Mh,[h]:w,[x]:[{[h]:w,[x]:[{[E]:[{[m]:L,[p]:[Rh,V]}],[h]:w,[x]:[{[h]:w,[x]:[{[E]:Lh,[h]:w,[x]:[{[h]:w,[x]:[{[E]:q0,[h]:w,[x]:[{[h]:w,[x]:[{[E]:Ih,error:"Access Points do not support S3 Accelerate",[h]:D},{[h]:w,[x]:[h0,{[h]:w,[x]:[{[E]:kF,error:"DualStack cannot be combined with a Host override (PrivateLink)",[h]:D},{[h]:w,[x]:[{[E]:[Re,xe],endpoint:{[O]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[P]:ba,[I]:ze},[h]:_},{[E]:[Re,he],endpoint:{[O]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[P]:ba,[I]:ze},[h]:_},{[E]:[oe,xe],endpoint:{[O]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[P]:ba,[I]:ze},[h]:_},{[E]:[oe,he,ne,ye],endpoint:{[O]:z_,[P]:ba,[I]:ze},[h]:_},{[E]:[oe,he],endpoint:{[O]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.{bucketArn#region}.{bucketPartition#dnsSuffix}",[P]:ba,[I]:ze},[h]:_}]}]}]}]}]},m0]}]},Th]}]},{error:"Invalid ARN: The ARN was not for the S3 service, found: {bucketArn#service}",[h]:D}]}]},Nh]}]},vh]}]},zs]}]},p0]}]}]},y0]}]}]},g0]}]},{[h]:w,[x]:[{[E]:[{[m]:qs,[p]:[Kh,!0]}],[h]:w,[x]:[{[h]:w,[x]:[{[E]:U0,error:"S3 MRAP does not support dual-stack",[h]:D},{[h]:w,[x]:[{[E]:Dd,error:"S3 MRAP does not support FIPS",[h]:D},{[h]:w,[x]:[{[E]:Ih,error:"S3 MRAP does not support S3 Accelerate",[h]:D},{[h]:w,[x]:[{[E]:[{[m]:N,[p]:[{[S]:"DisableMultiRegionAccessPoints"},!0]}],error:"Invalid configuration: Multi-Region Access Point ARNs are disabled.",[h]:D},{[h]:w,[x]:[{[E]:[{[m]:Aa,[p]:Bd,[Ke]:$_}],[h]:w,[x]:[{[h]:w,[x]:[{[E]:[{[m]:L,[p]:[{[m]:Ne,[p]:[{[S]:$_},z]},{[m]:Ne,[p]:[St,"partition"]}]}],[h]:w,[x]:[{endpoint:{[O]:"https://{accessPointName}.accesspoint.s3-global.{mrapPartition#dnsSuffix}",[P]:{[q]:[{[H]:!0,name:"sigv4a",[j]:V,signingRegionSet:["*"]}]},[I]:ze},[h]:_}]},{error:"Client was configured for partition `{mrapPartition#name}` but bucket referred to partition `{bucketArn#partition}`",[h]:D}]}]},{error:"{Region} was not a valid region",[h]:D}]}]}]}]}]}]},{error:"Invalid Access Point Name",[h]:D}]}]}]},E0]},{[E]:[{[m]:L,[p]:[Rh,qh]}],[h]:w,[x]:[{[E]:U0,error:"S3 Outposts does not support Dual-stack",[h]:D},{[h]:w,[x]:[{[E]:Dd,error:"S3 Outposts does not support FIPS",[h]:D},{[h]:w,[x]:[{[E]:Ih,error:"S3 Outposts does not support S3 Accelerate",[h]:D},{[h]:w,[x]:[{[E]:[{[m]:Nt,[p]:[{[m]:Ne,[p]:[St,"resourceId[4]"]}]}],error:"Invalid Arn: Outpost Access Point ARN contains sub resources",[h]:D},{[h]:w,[x]:[{[E]:[{[m]:Ne,[p]:TF,[Ke]:Uh}],[h]:w,[x]:[{[h]:w,[x]:[{[E]:I0,[h]:w,[x]:[{[h]:w,[x]:[Ah,{[h]:w,[x]:[{[E]:Bh,[h]:w,[x]:[{[h]:w,[x]:[{[E]:$s,[h]:w,[x]:[{[h]:w,[x]:[{[E]:$0,[h]:w,[x]:[{[h]:w,[x]:[{[E]:Mh,[h]:w,[x]:[{[h]:w,[x]:[{[E]:Lh,[h]:w,[x]:[{[h]:w,[x]:[{[E]:[{[m]:Ne,[p]:NF,[Ke]:q_}],[h]:w,[x]:[{[h]:w,[x]:[{[E]:[{[m]:Ne,[p]:[St,"resourceId[3]"],[Ke]:jh}],[h]:w,[x]:[{[h]:w,[x]:[{[E]:[{[m]:L,[p]:[{[S]:q_},Q0]}],[h]:w,[x]:[{[h]:w,[x]:[{[E]:Ra,endpoint:{[O]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.{url#authority}",[P]:x0,[I]:ze},[h]:_},{endpoint:{[O]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.s3-outposts.{bucketArn#region}.{bucketPartition#dnsSuffix}",[P]:x0,[I]:ze},[h]:_}]}]},{error:"Expected an outpost type `accesspoint`, found {outpostType}",[h]:D}]}]},{error:"Invalid ARN: expected an access point name",[h]:D}]}]},{error:"Invalid ARN: Expected a 4-component resource",[h]:D}]}]},Th]}]},Nh]}]},vh]}]},zs]}]},{error:"Could not load partition for ARN region {bucketArn#region}",[h]:D}]}]}]},{error:"Invalid ARN: The outpost Id may only contain a-z, A-Z, 0-9 and `-`. Found: `{outpostId}`",[h]:D}]}]},{error:"Invalid ARN: The Outpost Id was not set",[h]:D}]}]}]}]}]},{error:"Invalid ARN: Unrecognized format: {Bucket} (type: {arnType})",[h]:D}]}]},{error:"Invalid ARN: No ARN type specified",[h]:D}]},{[E]:[{[m]:Ca,[p]:[Nr,0,4,!1],[Ke]:H_},{[m]:L,[p]:[{[S]:H_},"arn:"]},{[m]:Pe,[p]:[{[m]:Nt,[p]:M0}]}],error:"Invalid ARN: `{Bucket}` was not a valid ARN",[h]:D},V_]}]},{[E]:[{[m]:Nt,[p]:[w0]},{[m]:N,[p]:[w0,!0]}],[h]:w,[x]:[{[E]:$s,[h]:w,[x]:[{[h]:w,[x]:[{[E]:H0,[h]:w,[x]:[{[h]:w,[x]:[l0,{[h]:w,[x]:[u0,{[h]:w,[x]:[Sh,{[h]:w,[x]:[{[E]:Ra,endpoint:{[O]:Hs,[P]:Oh,[I]:ze},[h]:_},{[E]:Dd,endpoint:{[O]:"https://s3-object-lambda-fips.{Region}.{partitionResult#dnsSuffix}",[P]:Oh,[I]:ze},[h]:_},{endpoint:{[O]:"https://s3-object-lambda.{Region}.{partitionResult#dnsSuffix}",[P]:Oh,[I]:ze},[h]:_}]}]}]}]}]},Id]}]},zs]},{[E]:[{[m]:Pe,[p]:B0}],[h]:w,[x]:[{[E]:$s,[h]:w,[x]:[{[h]:w,[x]:[{[E]:H0,[h]:w,[x]:[{[h]:w,[x]:[Sh,{[h]:w,[x]:[C0,C0,{[E]:[Re,xe,ne,ye,ce,nt],[h]:w,[x]:Fh},{[E]:[Re,xe,ne,ye,ce,st],endpoint:_a,[h]:_},S0,S0,{[E]:[Re,xe,W,ce,nt],[h]:w,[x]:[{endpoint:b0,[h]:_}]},{[E]:[Re,xe,W,ce,st],endpoint:b0,[h]:_},_0,_0,{[E]:[Re,he,ne,ye,ce,nt],[h]:w,[x]:Fh},{[E]:[Re,he,ne,ye,ce,st],endpoint:_a,[h]:_},R0,R0,{[E]:[Re,he,W,ce,nt],[h]:w,[x]:[{endpoint:A0,[h]:_}]},{[E]:[Re,he,W,ce,st],endpoint:A0,[h]:_},k0,k0,{[E]:[oe,xe,ne,ye,ce,nt],[h]:w,[x]:Fh},{[E]:[oe,xe,ne,ye,ce,st],endpoint:_a,[h]:_},T0,T0,{[E]:[oe,xe,W,ce,nt],[h]:w,[x]:[{endpoint:N0,[h]:_}]},{[E]:[oe,xe,W,ce,st],endpoint:N0,[h]:_},v0,v0,{[E]:[oe,he,ne,ye,ce,nt],[h]:w,[x]:[{[E]:ii,endpoint:_a,[h]:_},rR]},{[E]:[oe,he,ne,ye,ce,st],endpoint:_a,[h]:_},O0,O0,{[E]:[oe,he,W,ce,nt],[h]:w,[x]:[{[E]:ii,endpoint:{[O]:Z0,[P]:ot,[I]:ze},[h]:_},{endpoint:P0,[h]:_}]},{[E]:[oe,he,W,ce,st],endpoint:P0,[h]:_}]}]}]},Id]}]},zs]}]}]},{error:"A region must be set when sending requests to S3.",[h]:D}]}]},nR=vF;var sR=(t,e={})=>Yn(nR,{endpointParams:t,logger:e.logger});var oR=t=>({apiVersion:"2006-03-01",base64Decoder:(t==null?void 0:t.base64Decoder)??ts,base64Encoder:(t==null?void 0:t.base64Encoder)??rs,disableHostPrefix:(t==null?void 0:t.disableHostPrefix)??!1,endpointProvider:(t==null?void 0:t.endpointProvider)??sR,logger:(t==null?void 0:t.logger)??new hr,serviceId:(t==null?void 0:t.serviceId)??"S3",signerConstructor:(t==null?void 0:t.signerConstructor)??vd,signingEscapePath:(t==null?void 0:t.signingEscapePath)??!1,urlParser:(t==null?void 0:t.urlParser)??gt,useArnRegion:(t==null?void 0:t.useArnRegion)??!1,utf8Decoder:(t==null?void 0:t.utf8Decoder)??gr,utf8Encoder:(t==null?void 0:t.utf8Encoder)??In});var iR=t=>{Nn(process.version);let e=ns(t),r=()=>e().then(Tn),n=oR(t);return{...n,...t,runtime:"node",defaultsMode:e,bodyLengthChecker:(t==null?void 0:t.bodyLengthChecker)??Jn,credentialDefaultProvider:(t==null?void 0:t.credentialDefaultProvider)??g_(Rd),defaultUserAgentProvider:(t==null?void 0:t.defaultUserAgentProvider)??es({serviceId:n.serviceId,clientVersion:NC.version}),eventStreamSerdeProvider:(t==null?void 0:t.eventStreamSerdeProvider)??N_,getAwsChunkedEncodingStream:(t==null?void 0:t.getAwsChunkedEncodingStream)??D_,maxAttempts:(t==null?void 0:t.maxAttempts)??ie(qn),md5:(t==null?void 0:t.md5)??Gt.bind(null,"md5"),region:(t==null?void 0:t.region)??ie(xr,Mn),requestHandler:(t==null?void 0:t.requestHandler)??new br(r),retryMode:(t==null?void 0:t.retryMode)??ie({...jn,default:async()=>(await r()).retryMode||Cr}),sdkStreamMixin:(t==null?void 0:t.sdkStreamMixin)??L_,sha1:(t==null?void 0:t.sha1)??Gt.bind(null,"sha1"),sha256:(t==null?void 0:t.sha256)??Gt.bind(null,"sha256"),streamCollector:(t==null?void 0:t.streamCollector)??_r,streamHasher:(t==null?void 0:t.streamHasher)??O_,useArnRegion:(t==null?void 0:t.useArnRegion)??ie(P_),useDualstackEndpoint:(t==null?void 0:t.useDualstackEndpoint)??ie(Dn),useFipsEndpoint:(t==null?void 0:t.useFipsEndpoint)??ie(Bn)}};var Ld=class extends mr{constructor(e){let r=iR(e),n=TC(r),s=Ln(n),o=kn(s),i=Hn(o),a=i,c=Gc(a),d=qx(c),l=Vn(d),f=_w(l);super(f),this.config=f,this.middlewareStack.use(Gn(this.config)),this.middlewareStack.use(Fn(this.config)),this.middlewareStack.use(Un(this.config)),this.middlewareStack.use(zn(this.config)),this.middlewareStack.use($n(this.config)),this.middlewareStack.use(Vc(this.config)),this.middlewareStack.use(Hx(this.config)),this.middlewareStack.use(Aw(this.config)),this.middlewareStack.use(Xn(this.config))}destroy(){super.destroy()}};var TO=Mt(sT()),NO=Mt(_O()),vO=new Ld({});async function WH(){try{let t=(0,wn.getInput)("bucket",{required:!0}),e=(0,wn.getMultilineInput)("path",{required:!0}),r=(0,wn.getInput)("prefix"),n=(0,wn.getBooleanInput)("archive"),s=(await Promise.all(e.map(i=>(0,NO.default)(i,{onlyFiles:!1,markDirectories:!0})))).flat(),o=Array.from(new Set(s)).filter((i,a,c)=>i.at(-1)!=="/"||!c.some((d,l)=>a!==l&&d.startsWith(i)&&d.length>i.length));if(n){let i=Ja.posix.join(r,"archive"),a=(0,TO.create)({gzip:!0},o).pipe(new kO.PassThrough),c=new Os({Bucket:t,Key:i,Body:a});(await vO.send(c)).$metadata.httpStatusCode===200&&console.info("Uploaded archive:","archive.tgz")}else await YH(t,r,o)}catch(t){t instanceof Error&&(0,wn.setFailed)(t)}}async function YH(t,e,r){let n=0;await Promise.all(r.map(async s=>{let o=s.at(-1)==="/",i=Ja.posix.join(e,s),a=(0,Ja.join)(process.cwd(),s),c=o?void 0:(0,RO.createReadStream)(a),d=o?void 0:(await(0,AO.stat)(a)).size,l=new Os({Bucket:t,Key:i,Body:c,ContentLength:d});(await vO.send(l)).$metadata.httpStatusCode===200&&(n++,console.info("Uploaded:",a))})),console.log("### Total files uploaded:",n,"###")}WH();
/*! Bundled license information:

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

is-extglob/index.js:
  (*!
   * is-extglob <https://github.com/jonschlinkert/is-extglob>
   *
   * Copyright (c) 2014-2016, Jon Schlinkert.
   * Licensed under the MIT License.
   *)

is-glob/index.js:
  (*!
   * is-glob <https://github.com/jonschlinkert/is-glob>
   *
   * Copyright (c) 2014-2017, Jon Schlinkert.
   * Released under the MIT License.
   *)

is-number/index.js:
  (*!
   * is-number <https://github.com/jonschlinkert/is-number>
   *
   * Copyright (c) 2014-present, Jon Schlinkert.
   * Released under the MIT License.
   *)

to-regex-range/index.js:
  (*!
   * to-regex-range <https://github.com/micromatch/to-regex-range>
   *
   * Copyright (c) 2015-present, Jon Schlinkert.
   * Released under the MIT License.
   *)

fill-range/index.js:
  (*!
   * fill-range <https://github.com/jonschlinkert/fill-range>
   *
   * Copyright (c) 2014-present, Jon Schlinkert.
   * Licensed under the MIT License.
   *)

queue-microtask/index.js:
  (*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

run-parallel/index.js:
  (*! run-parallel. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/
